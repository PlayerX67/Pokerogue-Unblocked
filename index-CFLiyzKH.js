const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./battle-scene-DUnmb_l8.js","./loading-scene-PK3x7eAp.js"])))=>i.map(i=>d[i]);
var UI=Object.defineProperty;var r=(e,t)=>UI(e,"name",{value:t,configurable:!0});r(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))a(x);new MutationObserver(x=>{for(const P of x)if(P.type==="childList")for(const n of P.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function s(x){const P={};return x.integrity&&(P.integrity=x.integrity),x.referrerPolicy&&(P.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?P.credentials="include":x.crossOrigin==="anonymous"?P.credentials="omit":P.credentials="same-origin",P}r(s,"getFetchOpts");function a(x){if(x.ep)return;x.ep=!0;const P=s(x);fetch(x.href,P)}r(a,"processPreload")},"polyfill")();const XI="modulepreload",YI=r(function(e,t){return new URL(e,t).href},"assetsURL"),sP={},hm=r(function(t,s,a){let x=Promise.resolve();if(s&&s.length>0){let h=function(m){return Promise.all(m.map(c=>Promise.resolve(c).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};r(h,"allSettled");const n=document.getElementsByTagName("link"),T=document.querySelector("meta[property=csp-nonce]"),i=T?.nonce||T?.getAttribute("nonce");x=h(s.map(m=>{if(m=YI(m,a),m in sP)return;sP[m]=!0;const c=m.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(a)for(let o=n.length-1;o>=0;o--){const d=n[o];if(d.href===m&&(!c||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${u}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":XI,c||(l.as="script"),l.crossOrigin="",l.href=m,i&&l.setAttribute("nonce",i),document.head.appendChild(l),c)return new Promise((o,d)=>{l.addEventListener("load",o),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${m}`)))})}))}function P(n){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=n,window.dispatchEvent(T),!T.defaultPrevented)throw n}return r(P,"handlePreloadError"),x.then(n=>{for(const T of n||[])T.status==="rejected"&&P(T.reason);return t().catch(P)})},"preload");var rP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}r(Bx,"getDefaultExportFromCjs");function Znt(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=r(function a(){var x=!1;try{x=this instanceof a}catch{}return x?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)},"a");s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var x=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,x.get?x:{enumerable:!0,get:r(function(){return e[a]},"get")})}),s}r(Znt,"getAugmentedNamespace");var Dc,nP;function oe(){return nP||(nP=1,Dc=r(function(e){try{return!!e()}catch{return!0}},"fails")),Dc}r(oe,"requireFails");var Bc,aP;function qf(){if(aP)return Bc;aP=1;var e=oe();return Bc=!e(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Bc}r(qf,"requireFunctionBindNative");var Gc,oP;function he(){if(oP)return Gc;oP=1;var e=qf(),t=Function.prototype,s=t.call,a=e&&t.bind.bind(s,s);return Gc=e?a:function(x){return function(){return s.apply(x,arguments)}},Gc}r(he,"requireFunctionUncurryThis");var Nc,hP;function Bl(){if(hP)return Nc;hP=1;var e=he(),t=e({}.toString),s=e("".slice);return Nc=r(function(a){return s(t(a),8,-1)},"classofRaw"),Nc}r(Bl,"requireClassofRaw");var kc,lP;function WI(){if(lP)return kc;lP=1;var e=he(),t=oe(),s=Bl(),a=Object,x=e("".split);return kc=t(function(){return!a("z").propertyIsEnumerable(0)})?function(P){return s(P)==="String"?x(P,""):a(P)}:a,kc}r(WI,"requireIndexedObject");var Vc,uP;function Gl(){return uP||(uP=1,Vc=r(function(e){return e==null},"isNullOrUndefined")),Vc}r(Gl,"requireIsNullOrUndefined");var zc,dP;function Io(){if(dP)return zc;dP=1;var e=Gl(),t=TypeError;return zc=r(function(s){if(e(s))throw new t("Can't call method on "+s);return s},"requireObjectCoercible"),zc}r(Io,"requireRequireObjectCoercible");var Uc,fP;function Do(){if(fP)return Uc;fP=1;var e=WI(),t=Io();return Uc=r(function(s){return e(t(s))},"toIndexedObject"),Uc}r(Do,"requireToIndexedObject");var Ho,cP;function Fe(){if(cP)return Ho;cP=1;var e=r(function(t){return t&&t.Math===Math&&t},"check");return Ho=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof rP=="object"&&rP)||e(typeof Ho=="object"&&Ho)||(function(){return this})()||Function("return this")(),Ho}r(Fe,"requireGlobalThis");var Xc={exports:{}},Yc,vP;function Pi(){return vP||(vP=1,Yc=!1),Yc}r(Pi,"requireIsPure");var Wc,pP;function Gx(){if(pP)return Wc;pP=1;var e=Fe(),t=Object.defineProperty;return Wc=r(function(s,a){try{t(e,s,{value:a,configurable:!0,writable:!0})}catch{e[s]=a}return a},"defineGlobalProperty"),Wc}r(Gx,"requireDefineGlobalProperty");var gP;function Nx(){if(gP)return Xc.exports;gP=1;var e=Pi(),t=Fe(),s=Gx(),a="__core-js_shared__",x=Xc.exports=t[a]||s(a,{});return(x.versions||(x.versions=[])).push({version:"3.46.0",mode:e?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Xc.exports}r(Nx,"requireSharedStore");var Hc,mP;function NA(){if(mP)return Hc;mP=1;var e=Nx();return Hc=r(function(t,s){return e[t]||(e[t]=s||{})},"shared"),Hc}r(NA,"requireShared");var $c,xP;function kx(){if(xP)return $c;xP=1;var e=Io(),t=Object;return $c=r(function(s){return t(e(s))},"toObject"),$c}r(kx,"requireToObject");var Kc,yP;function Ei(){if(yP)return Kc;yP=1;var e=he(),t=kx(),s=e({}.hasOwnProperty);return Kc=Object.hasOwn||r(function(x,P){return s(t(x),P)},"hasOwn"),Kc}r(Ei,"requireHasOwnProperty");var Zc,CP;function Vx(){if(CP)return Zc;CP=1;var e=he(),t=0,s=Math.random(),a=e(1.1.toString);return Zc=r(function(x){return"Symbol("+(x===void 0?"":x)+")_"+a(++t+s,36)},"uid"),Zc}r(Vx,"requireUid");var Jc,TP;function HI(){if(TP)return Jc;TP=1;var e=Fe(),t=e.navigator,s=t&&t.userAgent;return Jc=s?String(s):"",Jc}r(HI,"requireEnvironmentUserAgent");var jc,SP;function $I(){if(SP)return jc;SP=1;var e=Fe(),t=HI(),s=e.process,a=e.Deno,x=s&&s.versions||a&&a.version,P=x&&x.v8,n,T;return P&&(n=P.split("."),T=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!T&&t&&(n=t.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=t.match(/Chrome\/(\d+)/),n&&(T=+n[1]))),jc=T,jc}r($I,"requireEnvironmentV8Version");var Qc,PP;function kA(){if(PP)return Qc;PP=1;var e=$I(),t=oe(),s=Fe(),a=s.String;return Qc=!!Object.getOwnPropertySymbols&&!t(function(){var x=Symbol("symbol detection");return!a(x)||!(Object(x)instanceof Symbol)||!Symbol.sham&&e&&e<41}),Qc}r(kA,"requireSymbolConstructorDetection");var qc,EP;function VA(){if(EP)return qc;EP=1;var e=kA();return qc=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",qc}r(VA,"requireUseSymbolAsUid");var _c,MP;function ze(){if(MP)return _c;MP=1;var e=Fe(),t=NA(),s=Ei(),a=Vx(),x=kA(),P=VA(),n=e.Symbol,T=t("wks"),i=P?n.for||n:n&&n.withoutSetter||a;return _c=r(function(h){return s(T,h)||(T[h]=x&&s(n,h)?n[h]:i("Symbol."+h)),T[h]},"wellKnownSymbol"),_c}r(ze,"requireWellKnownSymbol");var tv,wP;function Ee(){if(wP)return tv;wP=1;var e=typeof document=="object"&&document.all;return tv=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},tv}r(Ee,"requireIsCallable");var ev,RP;function Mi(){if(RP)return ev;RP=1;var e=Ee();return ev=r(function(t){return typeof t=="object"?t!==null:e(t)},"isObject"),ev}r(Mi,"requireIsObject");var iv,OP;function te(){if(OP)return iv;OP=1;var e=Mi(),t=String,s=TypeError;return iv=r(function(a){if(e(a))return a;throw new s(t(a)+" is not an object")},"anObject"),iv}r(te,"requireAnObject");var sv={},rv,bP;function je(){if(bP)return rv;bP=1;var e=oe();return rv=!e(function(){return Object.defineProperty({},1,{get:r(function(){return 7},"get")})[1]!==7}),rv}r(je,"requireDescriptors");var nv,AP;function zA(){if(AP)return nv;AP=1;var e=je(),t=oe();return nv=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),nv}r(zA,"requireV8PrototypeDefineBug");var av={},ov,LP;function zx(){if(LP)return ov;LP=1;var e=Fe(),t=Mi(),s=e.document,a=t(s)&&t(s.createElement);return ov=r(function(x){return a?s.createElement(x):{}},"documentCreateElement"),ov}r(zx,"requireDocumentCreateElement");var hv,FP;function UA(){if(FP)return hv;FP=1;var e=je(),t=oe(),s=zx();return hv=!e&&!t(function(){return Object.defineProperty(s("div"),"a",{get:r(function(){return 7},"get")}).a!==7}),hv}r(UA,"requireIe8DomDefine");var lv,IP;function ee(){if(IP)return lv;IP=1;var e=qf(),t=Function.prototype.call;return lv=e?t.bind(t):function(){return t.apply(t,arguments)},lv}r(ee,"requireFunctionCall");var uv,DP;function Bo(){if(DP)return uv;DP=1;var e=Fe(),t=Ee(),s=r(function(a){return t(a)?a:void 0},"aFunction");return uv=r(function(a,x){return arguments.length<2?s(e[a]):e[a]&&e[a][x]},"getBuiltIn"),uv}r(Bo,"requireGetBuiltIn");var dv,BP;function _f(){if(BP)return dv;BP=1;var e=he();return dv=e({}.isPrototypeOf),dv}r(_f,"requireObjectIsPrototypeOf");var fv,GP;function XA(){if(GP)return fv;GP=1;var e=Bo(),t=Ee(),s=_f(),a=VA(),x=Object;return fv=a?function(P){return typeof P=="symbol"}:function(P){var n=e("Symbol");return t(n)&&s(n.prototype,x(P))},fv}r(XA,"requireIsSymbol");var cv,NP;function Ux(){if(NP)return cv;NP=1;var e=String;return cv=r(function(t){try{return e(t)}catch{return"Object"}},"tryToString"),cv}r(Ux,"requireTryToString");var vv,kP;function Ue(){if(kP)return vv;kP=1;var e=Ee(),t=Ux(),s=TypeError;return vv=r(function(a){if(e(a))return a;throw new s(t(a)+" is not a function")},"aCallable"),vv}r(Ue,"requireACallable");var pv,VP;function Nl(){if(VP)return pv;VP=1;var e=Ue(),t=Gl();return pv=r(function(s,a){var x=s[a];return t(x)?void 0:e(x)},"getMethod"),pv}r(Nl,"requireGetMethod");var gv,zP;function KI(){if(zP)return gv;zP=1;var e=ee(),t=Ee(),s=Mi(),a=TypeError;return gv=r(function(x,P){var n,T;if(P==="string"&&t(n=x.toString)&&!s(T=e(n,x))||t(n=x.valueOf)&&!s(T=e(n,x))||P!=="string"&&t(n=x.toString)&&!s(T=e(n,x)))return T;throw new a("Can't convert object to primitive value")},"ordinaryToPrimitive"),gv}r(KI,"requireOrdinaryToPrimitive");var mv,UP;function ZI(){if(UP)return mv;UP=1;var e=ee(),t=Mi(),s=XA(),a=Nl(),x=KI(),P=ze(),n=TypeError,T=P("toPrimitive");return mv=r(function(i,h){if(!t(i)||s(i))return i;var m=a(i,T),c;if(m){if(h===void 0&&(h="default"),c=e(m,i,h),!t(c)||s(c))return c;throw new n("Can't convert object to primitive value")}return h===void 0&&(h="number"),x(i,h)},"toPrimitive"),mv}r(ZI,"requireToPrimitive");var xv,XP;function Xx(){if(XP)return xv;XP=1;var e=ZI(),t=XA();return xv=r(function(s){var a=e(s,"string");return t(a)?a:a+""},"toPropertyKey"),xv}r(Xx,"requireToPropertyKey");var YP;function ls(){if(YP)return av;YP=1;var e=je(),t=UA(),s=zA(),a=te(),x=Xx(),P=TypeError,n=Object.defineProperty,T=Object.getOwnPropertyDescriptor,i="enumerable",h="configurable",m="writable";return av.f=e?s?r(function(u,l,o){if(a(u),l=x(l),a(o),typeof u=="function"&&l==="prototype"&&"value"in o&&m in o&&!o[m]){var d=T(u,l);d&&d[m]&&(u[l]=o.value,o={configurable:h in o?o[h]:d[h],enumerable:i in o?o[i]:d[i],writable:!1})}return n(u,l,o)},"defineProperty"):n:r(function(u,l,o){if(a(u),l=x(l),a(o),t)try{return n(u,l,o)}catch{}if("get"in o||"set"in o)throw new P("Accessors not supported");return"value"in o&&(u[l]=o.value),u},"defineProperty"),av}r(ls,"requireObjectDefineProperty");var yv,WP;function JI(){if(WP)return yv;WP=1;var e=Math.ceil,t=Math.floor;return yv=Math.trunc||r(function(a){var x=+a;return(x>0?t:e)(x)},"trunc"),yv}r(JI,"requireMathTrunc");var Cv,HP;function kl(){if(HP)return Cv;HP=1;var e=JI();return Cv=r(function(t){var s=+t;return s!==s||s===0?0:e(s)},"toIntegerOrInfinity"),Cv}r(kl,"requireToIntegerOrInfinity");var Tv,$P;function jI(){if($P)return Tv;$P=1;var e=kl(),t=Math.max,s=Math.min;return Tv=r(function(a,x){var P=e(a);return P<0?t(P+x,0):s(P,x)},"toAbsoluteIndex"),Tv}r(jI,"requireToAbsoluteIndex");var Sv,KP;function QI(){if(KP)return Sv;KP=1;var e=kl(),t=Math.min;return Sv=r(function(s){var a=e(s);return a>0?t(a,9007199254740991):0},"toLength"),Sv}r(QI,"requireToLength");var Pv,ZP;function YA(){if(ZP)return Pv;ZP=1;var e=QI();return Pv=r(function(t){return e(t.length)},"lengthOfArrayLike"),Pv}r(YA,"requireLengthOfArrayLike");var Ev,JP;function qI(){if(JP)return Ev;JP=1;var e=Do(),t=jI(),s=YA(),a=r(function(x){return function(P,n,T){var i=e(P),h=s(i);if(h===0)return!x&&-1;var m=t(T,h),c;if(x&&n!==n){for(;h>m;)if(c=i[m++],c!==c)return!0}else for(;h>m;m++)if((x||m in i)&&i[m]===n)return x||m||0;return!x&&-1}},"createMethod");return Ev={includes:a(!0),indexOf:a(!1)},Ev}r(qI,"requireArrayIncludes");var Mv,jP;function tc(){return jP||(jP=1,Mv={}),Mv}r(tc,"requireHiddenKeys");var wv,QP;function WA(){if(QP)return wv;QP=1;var e=he(),t=Ei(),s=Do(),a=qI().indexOf,x=tc(),P=e([].push);return wv=r(function(n,T){var i=s(n),h=0,m=[],c;for(c in i)!t(x,c)&&t(i,c)&&P(m,c);for(;T.length>h;)t(i,c=T[h++])&&(~a(m,c)||P(m,c));return m},"objectKeysInternal"),wv}r(WA,"requireObjectKeysInternal");var Rv,qP;function Yx(){return qP||(qP=1,Rv=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Rv}r(Yx,"requireEnumBugKeys");var Ov,_P;function _I(){if(_P)return Ov;_P=1;var e=WA(),t=Yx();return Ov=Object.keys||r(function(a){return e(a,t)},"keys"),Ov}r(_I,"requireObjectKeys");var tE;function tD(){if(tE)return sv;tE=1;var e=je(),t=zA(),s=ls(),a=te(),x=Do(),P=_I();return sv.f=e&&!t?Object.defineProperties:r(function(T,i){a(T);for(var h=x(i),m=P(i),c=m.length,u=0,l;c>u;)s.f(T,l=m[u++],h[l]);return T},"defineProperties"),sv}r(tD,"requireObjectDefineProperties");var bv,eE;function eD(){if(eE)return bv;eE=1;var e=Bo();return bv=e("document","documentElement"),bv}r(eD,"requireHtml");var Av,iE;function Wx(){if(iE)return Av;iE=1;var e=NA(),t=Vx(),s=e("keys");return Av=r(function(a){return s[a]||(s[a]=t(a))},"sharedKey"),Av}r(Wx,"requireSharedKey");var Lv,sE;function Go(){if(sE)return Lv;sE=1;var e=te(),t=tD(),s=Yx(),a=tc(),x=eD(),P=zx(),n=Wx(),T=">",i="<",h="prototype",m="script",c=n("IE_PROTO"),u=r(function(){},"EmptyConstructor"),l=r(function(p){return i+m+T+p+i+"/"+m+T},"scriptTag"),o=r(function(p){p.write(l("")),p.close();var g=p.parentWindow.Object;return p=null,g},"NullProtoObjectViaActiveX"),d=r(function(){var p=P("iframe"),g="java"+m+":",y;return p.style.display="none",x.appendChild(p),p.src=String(g),y=p.contentWindow.document,y.open(),y.write(l("document.F=Object")),y.close(),y.F},"NullProtoObjectViaIFrame"),v,f=r(function(){try{v=new ActiveXObject("htmlfile")}catch{}f=typeof document<"u"?document.domain&&v?o(v):d():o(v);for(var p=s.length;p--;)delete f[h][s[p]];return f()},"NullProtoObject");return a[c]=!0,Lv=Object.create||r(function(g,y){var C;return g!==null?(u[h]=e(g),C=new u,u[h]=null,C[c]=g):C=f(),y===void 0?C:t.f(C,y)},"create"),Lv}r(Go,"requireObjectCreate");var Fv,rE;function iD(){if(rE)return Fv;rE=1;var e=ze(),t=Go(),s=ls().f,a=e("unscopables"),x=Array.prototype;return x[a]===void 0&&s(x,a,{configurable:!0,value:t(null)}),Fv=r(function(P){x[a][P]=!0},"addToUnscopables"),Fv}r(iD,"requireAddToUnscopables");var Iv,nE;function Vl(){return nE||(nE=1,Iv={}),Iv}r(Vl,"requireIterators");var Dv,aE;function sD(){if(aE)return Dv;aE=1;var e=Fe(),t=Ee(),s=e.WeakMap;return Dv=t(s)&&/native code/.test(String(s)),Dv}r(sD,"requireWeakMapBasicDetection");var Bv,oE;function ec(){return oE||(oE=1,Bv=r(function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},"createPropertyDescriptor")),Bv}r(ec,"requireCreatePropertyDescriptor");var Gv,hE;function zl(){if(hE)return Gv;hE=1;var e=je(),t=ls(),s=ec();return Gv=e?function(a,x,P){return t.f(a,x,s(1,P))}:function(a,x,P){return a[x]=P,a},Gv}r(zl,"requireCreateNonEnumerableProperty");var Nv,lE;function Ul(){if(lE)return Nv;lE=1;var e=sD(),t=Fe(),s=Mi(),a=zl(),x=Ei(),P=Nx(),n=Wx(),T=tc(),i="Object already initialized",h=t.TypeError,m=t.WeakMap,c,u,l,o=r(function(p){return l(p)?u(p):c(p,{})},"enforce"),d=r(function(p){return function(g){var y;if(!s(g)||(y=u(g)).type!==p)throw new h("Incompatible receiver, "+p+" required");return y}},"getterFor");if(e||P.state){var v=P.state||(P.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,c=r(function(p,g){if(v.has(p))throw new h(i);return g.facade=p,v.set(p,g),g},"set"),u=r(function(p){return v.get(p)||{}},"get"),l=r(function(p){return v.has(p)},"has")}else{var f=n("state");T[f]=!0,c=r(function(p,g){if(x(p,f))throw new h(i);return g.facade=p,a(p,f,g),g},"set"),u=r(function(p){return x(p,f)?p[f]:{}},"get"),l=r(function(p){return x(p,f)},"has")}return Nv={set:c,get:u,has:l,enforce:o,getterFor:d},Nv}r(Ul,"requireInternalState");var kv={},Vv={},uE;function rD(){if(uE)return Vv;uE=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,s=t&&!e.call({1:2},1);return Vv.f=s?r(function(x){var P=t(this,x);return!!P&&P.enumerable},"propertyIsEnumerable"):e,Vv}r(rD,"requireObjectPropertyIsEnumerable");var dE;function HA(){if(dE)return kv;dE=1;var e=je(),t=ee(),s=rD(),a=ec(),x=Do(),P=Xx(),n=Ei(),T=UA(),i=Object.getOwnPropertyDescriptor;return kv.f=e?i:r(function(m,c){if(m=x(m),c=P(c),T)try{return i(m,c)}catch{}if(n(m,c))return a(!t(s.f,m,c),m[c])},"getOwnPropertyDescriptor"),kv}r(HA,"requireObjectGetOwnPropertyDescriptor");var zv={exports:{}},Uv,fE;function $A(){if(fE)return Uv;fE=1;var e=je(),t=Ei(),s=Function.prototype,a=e&&Object.getOwnPropertyDescriptor,x=t(s,"name"),P=x&&r((function(){}),"something").name==="something",n=x&&(!e||e&&a(s,"name").configurable);return Uv={EXISTS:x,PROPER:P,CONFIGURABLE:n},Uv}r($A,"requireFunctionName");var Xv,cE;function nD(){if(cE)return Xv;cE=1;var e=he(),t=Ee(),s=Nx(),a=e(Function.toString);return t(s.inspectSource)||(s.inspectSource=function(x){return a(x)}),Xv=s.inspectSource,Xv}r(nD,"requireInspectSource");var vE;function KA(){if(vE)return zv.exports;vE=1;var e=he(),t=oe(),s=Ee(),a=Ei(),x=je(),P=$A().CONFIGURABLE,n=nD(),T=Ul(),i=T.enforce,h=T.get,m=String,c=Object.defineProperty,u=e("".slice),l=e("".replace),o=e([].join),d=x&&!t(function(){return c(function(){},"length",{value:8}).length!==8}),v=String(String).split("String"),f=zv.exports=function(p,g,y){u(m(g),0,7)==="Symbol("&&(g="["+l(m(g),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),y&&y.getter&&(g="get "+g),y&&y.setter&&(g="set "+g),(!a(p,"name")||P&&p.name!==g)&&(x?c(p,"name",{value:g,configurable:!0}):p.name=g),d&&y&&a(y,"arity")&&p.length!==y.arity&&c(p,"length",{value:y.arity});try{y&&a(y,"constructor")&&y.constructor?x&&c(p,"prototype",{writable:!1}):p.prototype&&(p.prototype=void 0)}catch{}var C=i(p);return a(C,"source")||(C.source=o(v,typeof g=="string"?g:"")),p};return Function.prototype.toString=f(r(function(){return s(this)&&h(this).source||n(this)},"toString"),"toString"),zv.exports}r(KA,"requireMakeBuiltIn");var Yv,pE;function fn(){if(pE)return Yv;pE=1;var e=Ee(),t=ls(),s=KA(),a=Gx();return Yv=r(function(x,P,n,T){T||(T={});var i=T.enumerable,h=T.name!==void 0?T.name:P;if(e(n)&&s(n,h,T),T.global)i?x[P]=n:a(P,n);else{try{T.unsafe?x[P]&&(i=!0):delete x[P]}catch{}i?x[P]=n:t.f(x,P,{value:n,enumerable:!1,configurable:!T.nonConfigurable,writable:!T.nonWritable})}return x},"defineBuiltIn"),Yv}r(fn,"requireDefineBuiltIn");var Wv={},gE;function Hx(){if(gE)return Wv;gE=1;var e=WA(),t=Yx(),s=t.concat("length","prototype");return Wv.f=Object.getOwnPropertyNames||r(function(x){return e(x,s)},"getOwnPropertyNames"),Wv}r(Hx,"requireObjectGetOwnPropertyNames");var Hv={},mE;function aD(){return mE||(mE=1,Hv.f=Object.getOwnPropertySymbols),Hv}r(aD,"requireObjectGetOwnPropertySymbols");var $v,xE;function oD(){if(xE)return $v;xE=1;var e=Bo(),t=he(),s=Hx(),a=aD(),x=te(),P=t([].concat);return $v=e("Reflect","ownKeys")||r(function(T){var i=s.f(x(T)),h=a.f;return h?P(i,h(T)):i},"ownKeys"),$v}r(oD,"requireOwnKeys");var Kv,yE;function hD(){if(yE)return Kv;yE=1;var e=Ei(),t=oD(),s=HA(),a=ls();return Kv=r(function(x,P,n){for(var T=t(P),i=a.f,h=s.f,m=0;m<T.length;m++){var c=T[m];!e(x,c)&&!(n&&e(n,c))&&i(x,c,h(P,c))}},"copyConstructorProperties"),Kv}r(hD,"requireCopyConstructorProperties");var Zv,CE;function ZA(){if(CE)return Zv;CE=1;var e=oe(),t=Ee(),s=/#|\.prototype\./,a=r(function(i,h){var m=P[x(i)];return m===T?!0:m===n?!1:t(h)?e(h):!!h},"isForced"),x=a.normalize=function(i){return String(i).replace(s,".").toLowerCase()},P=a.data={},n=a.NATIVE="N",T=a.POLYFILL="P";return Zv=a,Zv}r(ZA,"requireIsForced");var Jv,TE;function kt(){if(TE)return Jv;TE=1;var e=Fe(),t=HA().f,s=zl(),a=fn(),x=Gx(),P=hD(),n=ZA();return Jv=r(function(T,i){var h=T.target,m=T.global,c=T.stat,u,l,o,d,v,f;if(m?l=e:c?l=e[h]||x(h,{}):l=e[h]&&e[h].prototype,l)for(o in i){if(v=i[o],T.dontCallGetSet?(f=t(l,o),d=f&&f.value):d=l[o],u=n(m?o:h+(c?".":"#")+o,T.forced),!u&&d!==void 0){if(typeof v==typeof d)continue;P(v,d)}(T.sham||d&&d.sham)&&s(v,"sham",!0),a(l,o,v,T)}},"_export"),Jv}r(kt,"require_export");var jv,SE;function lD(){if(SE)return jv;SE=1;var e=oe();return jv=!e(function(){function t(){}return r(t,"F"),t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),jv}r(lD,"requireCorrectPrototypeGetter");var Qv,PE;function $x(){if(PE)return Qv;PE=1;var e=Ei(),t=Ee(),s=kx(),a=Wx(),x=lD(),P=a("IE_PROTO"),n=Object,T=n.prototype;return Qv=x?n.getPrototypeOf:function(i){var h=s(i);if(e(h,P))return h[P];var m=h.constructor;return t(m)&&h instanceof m?m.prototype:h instanceof n?T:null},Qv}r($x,"requireObjectGetPrototypeOf");var qv,EE;function No(){if(EE)return qv;EE=1;var e=oe(),t=Ee(),s=Mi(),a=Go(),x=$x(),P=fn(),n=ze(),T=Pi(),i=n("iterator"),h=!1,m,c,u;[].keys&&(u=[].keys(),"next"in u?(c=x(x(u)),c!==Object.prototype&&(m=c)):h=!0);var l=!s(m)||e(function(){var o={};return m[i].call(o)!==o});return l?m={}:T&&(m=a(m)),t(m[i])||P(m,i,function(){return this}),qv={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:h},qv}r(No,"requireIteratorsCore");var _v,ME;function ic(){if(ME)return _v;ME=1;var e=ls().f,t=Ei(),s=ze(),a=s("toStringTag");return _v=r(function(x,P,n){x&&!n&&(x=x.prototype),x&&!t(x,a)&&e(x,a,{configurable:!0,value:P})},"setToStringTag"),_v}r(ic,"requireSetToStringTag");var tp,wE;function uD(){if(wE)return tp;wE=1;var e=No().IteratorPrototype,t=Go(),s=ec(),a=ic(),x=Vl(),P=r(function(){return this},"returnThis");return tp=r(function(n,T,i,h){var m=T+" Iterator";return n.prototype=t(e,{next:s(+!h,i)}),a(n,m,!1,!0),x[m]=P,n},"iteratorCreateConstructor"),tp}r(uD,"requireIteratorCreateConstructor");var ep,RE;function JA(){if(RE)return ep;RE=1;var e=he(),t=Ue();return ep=r(function(s,a,x){try{return e(t(Object.getOwnPropertyDescriptor(s,a)[x]))}catch{}},"functionUncurryThisAccessor"),ep}r(JA,"requireFunctionUncurryThisAccessor");var ip,OE;function dD(){if(OE)return ip;OE=1;var e=Mi();return ip=r(function(t){return e(t)||t===null},"isPossiblePrototype"),ip}r(dD,"requireIsPossiblePrototype");var sp,bE;function fD(){if(bE)return sp;bE=1;var e=dD(),t=String,s=TypeError;return sp=r(function(a){if(e(a))return a;throw new s("Can't set "+t(a)+" as a prototype")},"aPossiblePrototype"),sp}r(fD,"requireAPossiblePrototype");var rp,AE;function jA(){if(AE)return rp;AE=1;var e=JA(),t=Mi(),s=Io(),a=fD();return rp=Object.setPrototypeOf||("__proto__"in{}?(function(){var x=!1,P={},n;try{n=e(Object.prototype,"__proto__","set"),n(P,[]),x=P instanceof Array}catch{}return r(function(i,h){return s(i),a(h),t(i)&&(x?n(i,h):i.__proto__=h),i},"setPrototypeOf")})():void 0),rp}r(jA,"requireObjectSetPrototypeOf");var np,LE;function Kx(){if(LE)return np;LE=1;var e=kt(),t=ee(),s=Pi(),a=$A(),x=Ee(),P=uD(),n=$x(),T=jA(),i=ic(),h=zl(),m=fn(),c=ze(),u=Vl(),l=No(),o=a.PROPER,d=a.CONFIGURABLE,v=l.IteratorPrototype,f=l.BUGGY_SAFARI_ITERATORS,p=c("iterator"),g="keys",y="values",C="entries",S=r(function(){return this},"returnThis");return np=r(function(E,w,M,R,O,b,A){P(M,w,R);var I=r(function(z){if(z===O&&V)return V;if(!f&&z&&z in D)return D[z];switch(z){case g:return r(function(){return new M(this,z)},"keys");case y:return r(function(){return new M(this,z)},"values");case C:return r(function(){return new M(this,z)},"entries")}return function(){return new M(this)}},"getIterationMethod"),L=w+" Iterator",F=!1,D=E.prototype,B=D[p]||D["@@iterator"]||O&&D[O],V=!f&&B||I(O),U=w==="Array"&&D.entries||B,W,Y,N;if(U&&(W=n(U.call(new E)),W!==Object.prototype&&W.next&&(!s&&n(W)!==v&&(T?T(W,v):x(W[p])||m(W,p,S)),i(W,L,!0,!0),s&&(u[L]=S))),o&&O===y&&B&&B.name!==y&&(!s&&d?h(D,"name",y):(F=!0,V=r(function(){return t(B,this)},"values"))),O)if(Y={values:I(y),keys:b?V:I(g),entries:I(C)},A)for(N in Y)(f||F||!(N in D))&&m(D,N,Y[N]);else e({target:w,proto:!0,forced:f||F},Y);return(!s||A)&&D[p]!==V&&m(D,p,V,{name:O}),u[w]=V,Y},"iteratorDefine"),np}r(Kx,"requireIteratorDefine");var ap,FE;function sc(){return FE||(FE=1,ap=r(function(e,t){return{value:e,done:t}},"createIterResultObject")),ap}r(sc,"requireCreateIterResultObject");var op,IE;function Zx(){if(IE)return op;IE=1;var e=Do(),t=iD(),s=Vl(),a=Ul(),x=ls().f,P=Kx(),n=sc(),T=Pi(),i=je(),h="Array Iterator",m=a.set,c=a.getterFor(h);op=P(Array,"Array",function(l,o){m(this,{type:h,target:e(l),index:0,kind:o})},function(){var l=c(this),o=l.target,d=l.index++;if(!o||d>=o.length)return l.target=null,n(void 0,!0);switch(l.kind){case"keys":return n(d,!1);case"values":return n(o[d],!1)}return n([d,o[d]],!1)},"values");var u=s.Arguments=s.Array;if(t("keys"),t("values"),t("entries"),!T&&i&&u.name!=="values")try{x(u,"name",{value:"values"})}catch{}return op}r(Zx,"requireEs_array_iterator");var DE={},hp,BE;function Jx(){if(BE)return hp;BE=1;var e=ze(),t=e("toStringTag"),s={};return s[t]="z",hp=String(s)==="[object z]",hp}r(Jx,"requireToStringTagSupport");var lp,GE;function jx(){if(GE)return lp;GE=1;var e=Jx(),t=Ee(),s=Bl(),a=ze(),x=a("toStringTag"),P=Object,n=s((function(){return arguments})())==="Arguments",T=r(function(i,h){try{return i[h]}catch{}},"tryGet");return lp=e?s:function(i){var h,m,c;return i===void 0?"Undefined":i===null?"Null":typeof(m=T(h=P(i),x))=="string"?m:n?s(h):(c=s(h))==="Object"&&t(h.callee)?"Arguments":c},lp}r(jx,"requireClassof");var up,NE;function cD(){if(NE)return up;NE=1;var e=Jx(),t=jx();return up=e?{}.toString:r(function(){return"[object "+t(this)+"]"},"toString"),up}r(cD,"requireObjectToString");var kE;function Qx(){if(kE)return DE;kE=1;var e=Jx(),t=fn(),s=cD();return e||t(Object.prototype,"toString",s,{unsafe:!0}),DE}r(Qx,"requireEs_object_toString");var VE={},zE={},dp={exports:{}},fp={},cp,UE;function vD(){if(UE)return cp;UE=1;var e=he();return cp=e([].slice),cp}r(vD,"requireArraySlice");var XE;function pD(){if(XE)return fp;XE=1;var e=Bl(),t=Do(),s=Hx().f,a=vD(),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],P=r(function(n){try{return s(n)}catch{return a(x)}},"getWindowNames");return fp.f=r(function(T){return x&&e(T)==="Window"?P(T):s(t(T))},"getOwnPropertyNames"),fp}r(pD,"requireObjectGetOwnPropertyNamesExternal");var vp,YE;function gD(){if(YE)return vp;YE=1;var e=oe();return vp=e(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),vp}r(gD,"requireArrayBufferNonExtensible");var pp,WE;function mD(){if(WE)return pp;WE=1;var e=oe(),t=Mi(),s=Bl(),a=gD(),x=Object.isExtensible,P=e(function(){});return pp=P||a?r(function(T){return!t(T)||a&&s(T)==="ArrayBuffer"?!1:x?x(T):!0},"isExtensible"):x,pp}r(mD,"requireObjectIsExtensible");var gp,HE;function xD(){if(HE)return gp;HE=1;var e=oe();return gp=!e(function(){return Object.isExtensible(Object.preventExtensions({}))}),gp}r(xD,"requireFreezing");var $E;function QA(){if($E)return dp.exports;$E=1;var e=kt(),t=he(),s=tc(),a=Mi(),x=Ei(),P=ls().f,n=Hx(),T=pD(),i=mD(),h=Vx(),m=xD(),c=!1,u=h("meta"),l=0,o=r(function(y){P(y,u,{value:{objectID:"O"+l++,weakData:{}}})},"setMetadata"),d=r(function(y,C){if(!a(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!x(y,u)){if(!i(y))return"F";if(!C)return"E";o(y)}return y[u].objectID},"fastKey"),v=r(function(y,C){if(!x(y,u)){if(!i(y))return!0;if(!C)return!1;o(y)}return y[u].weakData},"getWeakData"),f=r(function(y){return m&&c&&i(y)&&!x(y,u)&&o(y),y},"onFreeze"),p=r(function(){g.enable=function(){},c=!0;var y=n.f,C=t([].splice),S={};S[u]=1,y(S).length&&(n.f=function(E){for(var w=y(E),M=0,R=w.length;M<R;M++)if(w[M]===u){C(w,M,1);break}return w},e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},"enable"),g=dp.exports={enable:p,fastKey:d,getWeakData:v,onFreeze:f};return s[u]=!0,dp.exports}r(QA,"requireInternalMetadata");var mp,KE;function yD(){if(KE)return mp;KE=1;var e=Bl(),t=he();return mp=r(function(s){if(e(s)==="Function")return t(s)},"functionUncurryThisClause"),mp}r(yD,"requireFunctionUncurryThisClause");var xp,ZE;function qA(){if(ZE)return xp;ZE=1;var e=yD(),t=Ue(),s=qf(),a=e(e.bind);return xp=r(function(x,P){return t(x),P===void 0?x:s?a(x,P):function(){return x.apply(P,arguments)}},"functionBindContext"),xp}r(qA,"requireFunctionBindContext");var yp,JE;function CD(){if(JE)return yp;JE=1;var e=ze(),t=Vl(),s=e("iterator"),a=Array.prototype;return yp=r(function(x){return x!==void 0&&(t.Array===x||a[s]===x)},"isArrayIteratorMethod"),yp}r(CD,"requireIsArrayIteratorMethod");var Cp,jE;function qx(){if(jE)return Cp;jE=1;var e=jx(),t=Nl(),s=Gl(),a=Vl(),x=ze(),P=x("iterator");return Cp=r(function(n){if(!s(n))return t(n,P)||t(n,"@@iterator")||a[e(n)]},"getIteratorMethod"),Cp}r(qx,"requireGetIteratorMethod");var Tp,QE;function TD(){if(QE)return Tp;QE=1;var e=ee(),t=Ue(),s=te(),a=Ux(),x=qx(),P=TypeError;return Tp=r(function(n,T){var i=arguments.length<2?x(n):T;if(t(i))return s(e(i,n));throw new P(a(n)+" is not iterable")},"getIterator"),Tp}r(TD,"requireGetIterator");var Sp,qE;function Ie(){if(qE)return Sp;qE=1;var e=ee(),t=te(),s=Nl();return Sp=r(function(a,x,P){var n,T;t(a);try{if(n=s(a,"return"),!n){if(x==="throw")throw P;return P}n=e(n,a)}catch(i){T=!0,n=i}if(x==="throw")throw P;if(T)throw n;return t(n),P},"iteratorClose"),Sp}r(Ie,"requireIteratorClose");var Pp,_E;function us(){if(_E)return Pp;_E=1;var e=qA(),t=ee(),s=te(),a=Ux(),x=CD(),P=YA(),n=_f(),T=TD(),i=qx(),h=Ie(),m=TypeError,c=r(function(l,o){this.stopped=l,this.result=o},"Result"),u=c.prototype;return Pp=r(function(l,o,d){var v=d&&d.that,f=!!(d&&d.AS_ENTRIES),p=!!(d&&d.IS_RECORD),g=!!(d&&d.IS_ITERATOR),y=!!(d&&d.INTERRUPTED),C=e(o,v),S,E,w,M,R,O,b,A=r(function(L){return S&&h(S,"normal"),new c(!0,L)},"stop"),I=r(function(L){return f?(s(L),y?C(L[0],L[1],A):C(L[0],L[1])):y?C(L,A):C(L)},"callFn");if(p)S=l.iterator;else if(g)S=l;else{if(E=i(l),!E)throw new m(a(l)+" is not iterable");if(x(E)){for(w=0,M=P(l);M>w;w++)if(R=I(l[w]),R&&n(u,R))return R;return new c(!1)}S=T(l,E)}for(O=p?l.next:S.next;!(b=t(O,S)).done;){try{R=I(b.value)}catch(L){h(S,"throw",L)}if(typeof R=="object"&&R&&n(u,R))return R}return new c(!1)},"iterate"),Pp}r(us,"requireIterate");var Ep,tM;function _x(){if(tM)return Ep;tM=1;var e=_f(),t=TypeError;return Ep=r(function(s,a){if(e(a,s))return s;throw new t("Incorrect invocation")},"anInstance"),Ep}r(_x,"requireAnInstance");var Mp,eM;function SD(){if(eM)return Mp;eM=1;var e=ze(),t=e("iterator"),s=!1;try{var a=0,x={next:r(function(){return{done:!!a++}},"next"),return:r(function(){s=!0},"return")};x[t]=function(){return this},Array.from(x,function(){throw 2})}catch{}return Mp=r(function(P,n){try{if(!n&&!s)return!1}catch{return!1}var T=!1;try{var i={};i[t]=function(){return{next:r(function(){return{done:T=!0}},"next")}},P(i)}catch{}return T},"checkCorrectnessOfIteration"),Mp}r(SD,"requireCheckCorrectnessOfIteration");var wp,iM;function PD(){if(iM)return wp;iM=1;var e=Ee(),t=Mi(),s=jA();return wp=r(function(a,x,P){var n,T;return s&&e(n=x.constructor)&&n!==P&&t(T=n.prototype)&&T!==P.prototype&&s(a,T),a},"inheritIfRequired"),wp}r(PD,"requireInheritIfRequired");var Rp,sM;function _A(){if(sM)return Rp;sM=1;var e=kt(),t=Fe(),s=he(),a=ZA(),x=fn(),P=QA(),n=us(),T=_x(),i=Ee(),h=Gl(),m=Mi(),c=oe(),u=SD(),l=ic(),o=PD();return Rp=r(function(d,v,f){var p=d.indexOf("Map")!==-1,g=d.indexOf("Weak")!==-1,y=p?"set":"add",C=t[d],S=C&&C.prototype,E=C,w={},M=r(function(F){var D=s(S[F]);x(S,F,F==="add"?r(function(V){return D(this,V===0?0:V),this},"add"):F==="delete"?function(B){return g&&!m(B)?!1:D(this,B===0?0:B)}:F==="get"?r(function(V){return g&&!m(V)?void 0:D(this,V===0?0:V)},"get"):F==="has"?r(function(V){return g&&!m(V)?!1:D(this,V===0?0:V)},"has"):r(function(V,U){return D(this,V===0?0:V,U),this},"set"))},"fixMethod"),R=a(d,!i(C)||!(g||S.forEach&&!c(function(){new C().entries().next()})));if(R)E=f.getConstructor(v,d,p,y),P.enable();else if(a(d,!0)){var O=new E,b=O[y](g?{}:-0,1)!==O,A=c(function(){O.has(1)}),I=u(function(F){new C(F)}),L=!g&&c(function(){for(var F=new C,D=5;D--;)F[y](D,D);return!F.has(-0)});I||(E=v(function(F,D){T(F,S);var B=o(new C,F,E);return h(D)||n(D,B[y],{that:B,AS_ENTRIES:p}),B}),E.prototype=S,S.constructor=E),(A||L)&&(M("delete"),M("has"),p&&M("get")),(L||b)&&M(y),g&&S.clear&&delete S.clear}return w[d]=E,e({global:!0,constructor:!0,forced:E!==C},w),l(E,d),g||f.setStrong(E,d,p),E},"collection"),Rp}r(_A,"requireCollection");var Op,rM;function ty(){if(rM)return Op;rM=1;var e=KA(),t=ls();return Op=r(function(s,a,x){return x.get&&e(x.get,a,{getter:!0}),x.set&&e(x.set,a,{setter:!0}),t.f(s,a,x)},"defineBuiltInAccessor"),Op}r(ty,"requireDefineBuiltInAccessor");var bp,nM;function tL(){if(nM)return bp;nM=1;var e=fn();return bp=r(function(t,s,a){for(var x in s)e(t,x,s[x],a);return t},"defineBuiltIns"),bp}r(tL,"requireDefineBuiltIns");var Ap,aM;function ED(){if(aM)return Ap;aM=1;var e=Bo(),t=ty(),s=ze(),a=je(),x=s("species");return Ap=r(function(P){var n=e(P);a&&n&&!n[x]&&t(n,x,{configurable:!0,get:r(function(){return this},"get")})},"setSpecies"),Ap}r(ED,"requireSetSpecies");var Lp,oM;function eL(){if(oM)return Lp;oM=1;var e=Go(),t=ty(),s=tL(),a=qA(),x=_x(),P=Gl(),n=us(),T=Kx(),i=sc(),h=ED(),m=je(),c=QA().fastKey,u=Ul(),l=u.set,o=u.getterFor;return Lp={getConstructor:r(function(d,v,f,p){var g=d(function(w,M){x(w,y),l(w,{type:v,index:e(null),first:null,last:null,size:0}),m||(w.size=0),P(M)||n(M,w[p],{that:w,AS_ENTRIES:f})}),y=g.prototype,C=o(v),S=r(function(w,M,R){var O=C(w),b=E(w,M),A,I;return b?b.value=R:(O.last=b={index:I=c(M,!0),key:M,value:R,previous:A=O.last,next:null,removed:!1},O.first||(O.first=b),A&&(A.next=b),m?O.size++:w.size++,I!=="F"&&(O.index[I]=b)),w},"define"),E=r(function(w,M){var R=C(w),O=c(M),b;if(O!=="F")return R.index[O];for(b=R.first;b;b=b.next)if(b.key===M)return b},"getEntry");return s(y,{clear:r(function(){for(var M=this,R=C(M),O=R.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=null),O=O.next;R.first=R.last=null,R.index=e(null),m?R.size=0:M.size=0},"clear"),delete:r(function(w){var M=this,R=C(M),O=E(M,w);if(O){var b=O.next,A=O.previous;delete R.index[O.index],O.removed=!0,A&&(A.next=b),b&&(b.previous=A),R.first===O&&(R.first=b),R.last===O&&(R.last=A),m?R.size--:M.size--}return!!O},"delete"),forEach:r(function(M){for(var R=C(this),O=a(M,arguments.length>1?arguments[1]:void 0),b;b=b?b.next:R.first;)for(O(b.value,b.key,this);b&&b.removed;)b=b.previous},"forEach"),has:r(function(M){return!!E(this,M)},"has")}),s(y,f?{get:r(function(M){var R=E(this,M);return R&&R.value},"get"),set:r(function(M,R){return S(this,M===0?0:M,R)},"set")}:{add:r(function(M){return S(this,M=M===0?0:M,M)},"add")}),m&&t(y,"size",{configurable:!0,get:r(function(){return C(this).size},"get")}),g},"getConstructor"),setStrong:r(function(d,v,f){var p=v+" Iterator",g=o(v),y=o(p);T(d,v,function(C,S){l(this,{type:p,target:C,state:g(C),kind:S,last:null})},function(){for(var C=y(this),S=C.kind,E=C.last;E&&E.removed;)E=E.previous;return!C.target||!(C.last=E=E?E.next:C.state.first)?(C.target=null,i(void 0,!0)):i(S==="keys"?E.key:S==="values"?E.value:[E.key,E.value],!1)},f?"entries":"values",!f,!0),h(v)},"setStrong")},Lp}r(eL,"requireCollectionStrong");var hM;function MD(){if(hM)return zE;hM=1;var e=_A(),t=eL();return e("Set",function(s){return r(function(){return s(this,arguments.length?arguments[0]:void 0)},"Set")},t),zE}r(MD,"requireEs_set_constructor");var lM;function wD(){return lM||(lM=1,MD()),VE}r(wD,"requireEs_set");var uM={},Fp,dM;function ds(){if(dM)return Fp;dM=1;var e=he(),t=Set.prototype;return Fp={Set,add:e(t.add),has:e(t.has),remove:e(t.delete),proto:t},Fp}r(ds,"requireSetHelpers");var Ip,fM;function cn(){if(fM)return Ip;fM=1;var e=ds().has;return Ip=r(function(t){return e(t),t},"aSet"),Ip}r(cn,"requireASet");var Dp,cM;function vn(){if(cM)return Dp;cM=1;var e=ee();return Dp=r(function(t,s,a){for(var x=a?t:t.iterator,P=t.next,n,T;!(n=e(P,x)).done;)if(T=s(n.value),T!==void 0)return T},"iterateSimple"),Dp}r(vn,"requireIterateSimple");var Bp,vM;function Xl(){if(vM)return Bp;vM=1;var e=he(),t=vn(),s=ds(),a=s.Set,x=s.proto,P=e(x.forEach),n=e(x.keys),T=n(new a).next;return Bp=r(function(i,h,m){return m?t({iterator:n(i),next:T},h):P(i,h)},"setIterate"),Bp}r(Xl,"requireSetIterate");var Gp,pM;function ey(){if(pM)return Gp;pM=1;var e=ds(),t=Xl(),s=e.Set,a=e.add;return Gp=r(function(x){var P=new s;return t(x,function(n){a(P,n)}),P},"setClone"),Gp}r(ey,"requireSetClone");var Np,gM;function Yl(){if(gM)return Np;gM=1;var e=JA(),t=ds();return Np=e(t.proto,"size","get")||function(s){return s.size},Np}r(Yl,"requireSetSize");var kp,mM;function hi(){return mM||(mM=1,kp=r(function(e){return{iterator:e,next:e.next,done:!1}},"getIteratorDirect")),kp}r(hi,"requireGetIteratorDirect");var Vp,xM;function pn(){if(xM)return Vp;xM=1;var e=Ue(),t=te(),s=ee(),a=kl(),x=hi(),P="Invalid size",n=RangeError,T=TypeError,i=Math.max,h=r(function(m,c){this.set=m,this.size=i(c,0),this.has=e(m.has),this.keys=e(m.keys)},"SetRecord");return h.prototype={getIterator:r(function(){return x(t(s(this.keys,this.set)))},"getIterator"),includes:r(function(m){return s(this.has,this.set,m)},"includes")},Vp=r(function(m){t(m);var c=+m.size;if(c!==c)throw new T(P);var u=a(c);if(u<0)throw new n(P);return new h(m,u)},"getSetRecord"),Vp}r(pn,"requireGetSetRecord");var zp,yM;function RD(){if(yM)return zp;yM=1;var e=cn(),t=ds(),s=ey(),a=Yl(),x=pn(),P=Xl(),n=vn(),T=t.has,i=t.remove;return zp=r(function(m){var c=e(this),u=x(m),l=s(c);return a(c)<=u.size?P(c,function(o){u.includes(o)&&i(l,o)}):n(u.getIterator(),function(o){T(l,o)&&i(l,o)}),l},"difference"),zp}r(RD,"requireSetDifference");var Up,CM;function gn(){if(CM)return Up;CM=1;var e=Bo(),t=r(function(a){return{size:a,has:r(function(){return!1},"has"),keys:r(function(){return{next:r(function(){return{done:!0}},"next")}},"keys")}},"createSetLike"),s=r(function(a){return{size:a,has:r(function(){return!0},"has"),keys:r(function(){throw new Error("e")},"keys")}},"createSetLikeWithInfinitySize");return Up=r(function(a,x){var P=e("Set");try{new P()[a](t(0));try{return new P()[a](t(-1)),!1}catch{if(!x)return!0;try{return new P()[a](s(-1/0)),!1}catch{var n=new P;return n.add(1),n.add(2),x(n[a](s(1/0)))}}}catch{return!1}},"setMethodAcceptSetLike"),Up}r(gn,"requireSetMethodAcceptSetLike");var TM;function OD(){if(TM)return uM;TM=1;var e=kt(),t=RD(),s=oe(),a=gn(),x=!a("difference",function(n){return n.size===0}),P=x||s(function(){var n={size:1,has:r(function(){return!0},"has"),keys:r(function(){var i=0;return{next:r(function(){var h=i++>1;return T.has(1)&&T.clear(),{done:h,value:2}},"next")}},"keys")},T=new Set([1,2,3,4]);return T.difference(n).size!==3});return e({target:"Set",proto:!0,real:!0,forced:P},{difference:t}),uM}r(OD,"requireEs_set_difference_v2");var SM={},Xp,PM;function bD(){if(PM)return Xp;PM=1;var e=cn(),t=ds(),s=Yl(),a=pn(),x=Xl(),P=vn(),n=t.Set,T=t.add,i=t.has;return Xp=r(function(m){var c=e(this),u=a(m),l=new n;return s(c)>u.size?P(u.getIterator(),function(o){i(c,o)&&T(l,o)}):x(c,function(o){u.includes(o)&&T(l,o)}),l},"intersection"),Xp}r(bD,"requireSetIntersection");var EM;function AD(){if(EM)return SM;EM=1;var e=kt(),t=oe(),s=bD(),a=gn(),x=!a("intersection",function(P){return P.size===2&&P.has(1)&&P.has(2)})||t(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return e({target:"Set",proto:!0,real:!0,forced:x},{intersection:s}),SM}r(AD,"requireEs_set_intersection_v2");var MM={},Yp,wM;function LD(){if(wM)return Yp;wM=1;var e=cn(),t=ds().has,s=Yl(),a=pn(),x=Xl(),P=vn(),n=Ie();return Yp=r(function(i){var h=e(this),m=a(i);if(s(h)<=m.size)return x(h,function(u){if(m.includes(u))return!1},!0)!==!1;var c=m.getIterator();return P(c,function(u){if(t(h,u))return n(c,"normal",!1)})!==!1},"isDisjointFrom"),Yp}r(LD,"requireSetIsDisjointFrom");var RM;function FD(){if(RM)return MM;RM=1;var e=kt(),t=LD(),s=gn(),a=!s("isDisjointFrom",function(x){return!x});return e({target:"Set",proto:!0,real:!0,forced:a},{isDisjointFrom:t}),MM}r(FD,"requireEs_set_isDisjointFrom_v2");var OM={},Wp,bM;function ID(){if(bM)return Wp;bM=1;var e=cn(),t=Yl(),s=Xl(),a=pn();return Wp=r(function(P){var n=e(this),T=a(P);return t(n)>T.size?!1:s(n,function(i){if(!T.includes(i))return!1},!0)!==!1},"isSubsetOf"),Wp}r(ID,"requireSetIsSubsetOf");var AM;function DD(){if(AM)return OM;AM=1;var e=kt(),t=ID(),s=gn(),a=!s("isSubsetOf",function(x){return x});return e({target:"Set",proto:!0,real:!0,forced:a},{isSubsetOf:t}),OM}r(DD,"requireEs_set_isSubsetOf_v2");var LM={},Hp,FM;function BD(){if(FM)return Hp;FM=1;var e=cn(),t=ds().has,s=Yl(),a=pn(),x=vn(),P=Ie();return Hp=r(function(T){var i=e(this),h=a(T);if(s(i)<h.size)return!1;var m=h.getIterator();return x(m,function(c){if(!t(i,c))return P(m,"normal",!1)})!==!1},"isSupersetOf"),Hp}r(BD,"requireSetIsSupersetOf");var IM;function GD(){if(IM)return LM;IM=1;var e=kt(),t=BD(),s=gn(),a=!s("isSupersetOf",function(x){return!x});return e({target:"Set",proto:!0,real:!0,forced:a},{isSupersetOf:t}),LM}r(GD,"requireEs_set_isSupersetOf_v2");var DM={},$p,BM;function ND(){if(BM)return $p;BM=1;var e=cn(),t=ds(),s=ey(),a=pn(),x=vn(),P=t.add,n=t.has,T=t.remove;return $p=r(function(h){var m=e(this),c=a(h).getIterator(),u=s(m);return x(c,function(l){n(m,l)?T(u,l):P(u,l)}),u},"symmetricDifference"),$p}r(ND,"requireSetSymmetricDifference");var Kp,GM;function iL(){return GM||(GM=1,Kp=r(function(e){try{var t=new Set,s={size:0,has:r(function(){return!0},"has"),keys:r(function(){return Object.defineProperty({},"next",{get:r(function(){return t.clear(),t.add(4),function(){return{done:!0}}},"get")})},"keys")},a=t[e](s);return a.size===1&&a.values().next().value===4}catch{return!1}},"setMethodGetKeysBeforeCloningDetection")),Kp}r(iL,"requireSetMethodGetKeysBeforeCloningDetection");var NM;function kD(){if(NM)return DM;NM=1;var e=kt(),t=ND(),s=iL(),a=gn(),x=!a("symmetricDifference")||!s("symmetricDifference");return e({target:"Set",proto:!0,real:!0,forced:x},{symmetricDifference:t}),DM}r(kD,"requireEs_set_symmetricDifference_v2");var kM={},Zp,VM;function VD(){if(VM)return Zp;VM=1;var e=cn(),t=ds().add,s=ey(),a=pn(),x=vn();return Zp=r(function(n){var T=e(this),i=a(n).getIterator(),h=s(T);return x(i,function(m){t(h,m)}),h},"union"),Zp}r(VD,"requireSetUnion");var zM;function zD(){if(zM)return kM;zM=1;var e=kt(),t=VD(),s=iL(),a=gn(),x=!a("union")||!s("union");return e({target:"Set",proto:!0,real:!0,forced:x},{union:t}),kM}r(zD,"requireEs_set_union_v2");var UM={},Jp,XM;function sL(){if(XM)return Jp;XM=1;var e=jx(),t=String;return Jp=r(function(s){if(e(s)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return t(s)},"toString$1"),Jp}r(sL,"requireToString");var jp,YM;function UD(){if(YM)return jp;YM=1;var e=he(),t=kl(),s=sL(),a=Io(),x=e("".charAt),P=e("".charCodeAt),n=e("".slice),T=r(function(i){return function(h,m){var c=s(a(h)),u=t(m),l=c.length,o,d;return u<0||u>=l?i?"":void 0:(o=P(c,u),o<55296||o>56319||u+1===l||(d=P(c,u+1))<56320||d>57343?i?x(c,u):o:i?n(c,u,u+2):(o-55296<<10)+(d-56320)+65536)}},"createMethod");return jp={codeAt:T(!1),charAt:T(!0)},jp}r(UD,"requireStringMultibyte");var WM;function rL(){if(WM)return UM;WM=1;var e=UD().charAt,t=sL(),s=Ul(),a=Kx(),x=sc(),P="String Iterator",n=s.set,T=s.getterFor(P);return a(String,"String",function(i){n(this,{type:P,string:t(i),index:0})},r(function(){var h=T(this),m=h.string,c=h.index,u;return c>=m.length?x(void 0,!0):(u=e(m,c),h.index+=u.length,x(u,!1))},"next")),UM}r(rL,"requireEs_string_iterator");var Qp,HM;function rc(){if(HM)return Qp;HM=1;var e=Fe();return Qp=e,Qp}r(rc,"requirePath");var qp,$M;function XD(){if($M)return qp;$M=1,Zx(),Qx(),wD(),OD(),AD(),FD(),DD(),GD(),kD(),zD(),rL();var e=rc();return qp=e.Set,qp}r(XD,"requireSet$1");var KM={},_p,ZM;function YD(){return ZM||(ZM=1,_p={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),_p}r(YD,"requireDomIterables");var tg,JM;function WD(){if(JM)return tg;JM=1;var e=zx(),t=e("span").classList,s=t&&t.constructor&&t.constructor.prototype;return tg=s===Object.prototype?void 0:s,tg}r(WD,"requireDomTokenListPrototype");var jM;function nL(){if(jM)return KM;jM=1;var e=Fe(),t=YD(),s=WD(),a=Zx(),x=zl(),P=ic(),n=ze(),T=n("iterator"),i=a.values,h=r(function(c,u){if(c){if(c[T]!==i)try{x(c,T,i)}catch{c[T]=i}if(P(c,u,!0),t[u]){for(var l in a)if(c[l]!==a[l])try{x(c,l,a[l])}catch{c[l]=a[l]}}}},"handlePrototype");for(var m in t)h(e[m]&&e[m].prototype,m);return h(s,"DOMTokenList"),KM}r(nL,"requireWeb_domCollections_iterator");var eg,QM;function HD(){if(QM)return eg;QM=1;var e=XD();return nL(),eg=e,eg}r(HD,"requireSet");HD();var qM={},ig,_M;function aL(){if(_M)return ig;_M=1;var e=je(),t=ls(),s=ec();return ig=r(function(a,x,P){e?t.f(a,x,s(0,P)):a[x]=P},"createProperty"),ig}r(aL,"requireCreateProperty");var t2;function $D(){if(t2)return qM;t2=1;var e=kt(),t=Fe(),s=_x(),a=te(),x=Ee(),P=$x(),n=ty(),T=aL(),i=oe(),h=Ei(),m=ze(),c=No().IteratorPrototype,u=je(),l=Pi(),o="constructor",d="Iterator",v=m("toStringTag"),f=TypeError,p=t[d],g=l||!x(p)||p.prototype!==c||!i(function(){p({})}),y=r(function(){if(s(this,c),P(this)===c)throw new f("Abstract class Iterator not directly constructable")},"Iterator"),C=r(function(S,E){u?n(c,S,{configurable:!0,get:r(function(){return E},"get"),set:r(function(w){if(a(this),this===c)throw new f("You can't redefine this property");h(this,S)?this[S]=w:T(this,S,w)},"set")}):c[S]=E},"defineIteratorPrototypeAccessor");return h(c,v)||C(v,d),(g||!h(c,o)||c[o]===Object)&&C(o,y),y.prototype=c,e({global:!0,constructor:!0,forced:g},{Iterator:y}),qM}r($D,"requireEs_iterator_constructor");var e2={},i2;function KD(){if(i2)return e2;i2=1;var e=ee(),t=fn(),s=Nl(),a=Ei(),x=ze(),P=No().IteratorPrototype,n=x("dispose");return a(P,n)||t(P,n,function(){var T=s(this,"return");T&&e(T,this)}),e2}r(KD,"requireEs_iterator_dispose");var s2={},sg,r2;function oL(){if(r2)return sg;r2=1;var e=RangeError;return sg=r(function(t){if(t===t)return t;throw new e("NaN is not allowed")},"notANan"),sg}r(oL,"requireNotANan");var rg,n2;function hL(){if(n2)return rg;n2=1;var e=kl(),t=RangeError;return rg=r(function(s){var a=e(s);if(a<0)throw new t("The argument can't be less than 0");return a},"toPositiveInteger"),rg}r(hL,"requireToPositiveInteger");var ng,a2;function ZD(){if(a2)return ng;a2=1;var e=Ie();return ng=r(function(t,s,a){for(var x=t.length-1;x>=0;x--)if(t[x]!==void 0)try{a=e(t[x].iterator,s,a)}catch(P){s="throw",a=P}if(s==="throw")throw a;return a},"iteratorCloseAll"),ng}r(ZD,"requireIteratorCloseAll");var ag,o2;function ko(){if(o2)return ag;o2=1;var e=ee(),t=Go(),s=zl(),a=tL(),x=ze(),P=Ul(),n=Nl(),T=No().IteratorPrototype,i=sc(),h=Ie(),m=ZD(),c=x("toStringTag"),u="IteratorHelper",l="WrapForValidIterator",o="normal",d="throw",v=P.set,f=r(function(y){var C=P.getterFor(y?l:u);return a(t(T),{next:r(function(){var E=C(this);if(y)return E.nextHandler();if(E.done)return i(void 0,!0);try{var w=E.nextHandler();return E.returnHandlerResult?w:i(w,E.done)}catch(M){throw E.done=!0,M}},"next"),return:r(function(){var S=C(this),E=S.iterator;if(S.done=!0,y){var w=n(E,"return");return w?e(w,E):i(void 0,!0)}if(S.inner)try{h(S.inner.iterator,o)}catch(M){return h(E,d,M)}if(S.openIters)try{m(S.openIters,o)}catch(M){return h(E,d,M)}return E&&h(E,o),i(void 0,!0)},"return")})},"createIteratorProxyPrototype"),p=f(!0),g=f(!1);return s(g,c,"Iterator Helper"),ag=r(function(y,C,S){var E=r(function(M,R){R?(R.iterator=M.iterator,R.next=M.next):R=M,R.type=C?l:u,R.returnHandlerResult=!!S,R.nextHandler=y,R.counter=0,R.done=!1,v(this,R)},"Iterator");return E.prototype=C?p:g,E},"iteratorCreateProxy"),ag}r(ko,"requireIteratorCreateProxy");var og,h2;function nc(){return h2||(h2=1,og=r(function(e,t){var s=typeof Iterator=="function"&&Iterator.prototype[e];if(s)try{s.call({next:null},t).next()}catch{return!0}},"iteratorHelperThrowsOnInvalidIterator")),og}r(nc,"requireIteratorHelperThrowsOnInvalidIterator");var hg,l2;function fs(){if(l2)return hg;l2=1;var e=Fe();return hg=r(function(t,s){var a=e.Iterator,x=a&&a.prototype,P=x&&x[t],n=!1;if(P)try{P.call({next:r(function(){return{done:!0}},"next"),return:r(function(){n=!0},"return")},-1)}catch(T){T instanceof s||(n=!1)}if(!n)return P},"iteratorHelperWithoutClosingOnEarlyError"),hg}r(fs,"requireIteratorHelperWithoutClosingOnEarlyError");var u2;function JD(){if(u2)return s2;u2=1;var e=kt(),t=ee(),s=te(),a=hi(),x=oL(),P=hL(),n=Ie(),T=ko(),i=nc(),h=fs(),m=Pi(),c=!m&&!i("drop",0),u=!m&&!c&&h("drop",RangeError),l=m||c||u,o=T(function(){for(var d=this.iterator,v=this.next,f,p;this.remaining;)if(this.remaining--,f=s(t(v,d)),p=this.done=!!f.done,p)return;if(f=s(t(v,d)),p=this.done=!!f.done,!p)return f.value});return e({target:"Iterator",proto:!0,real:!0,forced:l},{drop:r(function(v){s(this);var f;try{f=P(x(+v))}catch(p){n(this,"throw",p)}return u?t(u,this,f):new o(a(this),{remaining:f})},"drop")}),s2}r(JD,"requireEs_iterator_drop");var d2={},f2;function jD(){if(f2)return d2;f2=1;var e=kt(),t=ee(),s=us(),a=Ue(),x=te(),P=hi(),n=Ie(),T=fs(),i=T("every",TypeError);return e({target:"Iterator",proto:!0,real:!0,forced:i},{every:r(function(m){x(this);try{a(m)}catch(l){n(this,"throw",l)}if(i)return t(i,this,m);var c=P(this),u=0;return!s(c,function(l,o){if(!m(l,u++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"every")}),d2}r(jD,"requireEs_iterator_every");var c2={},lg,v2;function lL(){if(v2)return lg;v2=1;var e=te(),t=Ie();return lg=r(function(s,a,x,P){try{return P?a(e(x)[0],x[1]):a(x)}catch(n){t(s,"throw",n)}},"callWithSafeIterationClosing"),lg}r(lL,"requireCallWithSafeIterationClosing");var p2;function QD(){if(p2)return c2;p2=1;var e=kt(),t=ee(),s=Ue(),a=te(),x=hi(),P=ko(),n=lL(),T=Pi(),i=Ie(),h=nc(),m=fs(),c=!T&&!h("filter",function(){}),u=!T&&!c&&m("filter",TypeError),l=T||c||u,o=P(function(){for(var d=this.iterator,v=this.predicate,f=this.next,p,g,y;;){if(p=a(t(f,d)),g=this.done=!!p.done,g)return;if(y=p.value,n(d,v,[y,this.counter++],!0))return y}});return e({target:"Iterator",proto:!0,real:!0,forced:l},{filter:r(function(v){a(this);try{s(v)}catch(f){i(this,"throw",f)}return u?t(u,this,v):new o(x(this),{predicate:v})},"filter")}),c2}r(QD,"requireEs_iterator_filter");var g2={},m2;function qD(){if(m2)return g2;m2=1;var e=kt(),t=ee(),s=us(),a=Ue(),x=te(),P=hi(),n=Ie(),T=fs(),i=T("find",TypeError);return e({target:"Iterator",proto:!0,real:!0,forced:i},{find:r(function(m){x(this);try{a(m)}catch(l){n(this,"throw",l)}if(i)return t(i,this,m);var c=P(this),u=0;return s(c,function(l,o){if(m(l,u++))return o(l)},{IS_RECORD:!0,INTERRUPTED:!0}).result},"find")}),g2}r(qD,"requireEs_iterator_find");var x2={},ug,y2;function uL(){if(y2)return ug;y2=1;var e=ee(),t=te(),s=hi(),a=qx();return ug=r(function(x,P){(!P||typeof x!="string")&&t(x);var n=a(x);return s(t(n!==void 0?e(n,x):x))},"getIteratorFlattenable"),ug}r(uL,"requireGetIteratorFlattenable");var C2;function _D(){if(C2)return x2;C2=1;var e=kt(),t=ee(),s=Ue(),a=te(),x=hi(),P=uL(),n=ko(),T=Ie(),i=Pi(),h=nc(),m=fs(),c=!i&&!h("flatMap",function(){}),u=!i&&!c&&m("flatMap",TypeError),l=i||c||u,o=n(function(){for(var d=this.iterator,v=this.mapper,f,p;;){if(p=this.inner)try{if(f=a(t(p.next,p.iterator)),!f.done)return f.value;this.inner=null}catch(g){T(d,"throw",g)}if(f=a(t(this.next,d)),this.done=!!f.done)return;try{this.inner=P(v(f.value,this.counter++),!1)}catch(g){T(d,"throw",g)}}});return e({target:"Iterator",proto:!0,real:!0,forced:l},{flatMap:r(function(v){a(this);try{s(v)}catch(f){T(this,"throw",f)}return u?t(u,this,v):new o(x(this),{mapper:v,inner:null})},"flatMap")}),x2}r(_D,"requireEs_iterator_flatMap");var T2={},S2;function t4(){if(S2)return T2;S2=1;var e=kt(),t=ee(),s=us(),a=Ue(),x=te(),P=hi(),n=Ie(),T=fs(),i=T("forEach",TypeError);return e({target:"Iterator",proto:!0,real:!0,forced:i},{forEach:r(function(m){x(this);try{a(m)}catch(l){n(this,"throw",l)}if(i)return t(i,this,m);var c=P(this),u=0;s(c,function(l){m(l,u++)},{IS_RECORD:!0})},"forEach")}),T2}r(t4,"requireEs_iterator_forEach");var P2={},E2;function e4(){if(E2)return P2;E2=1;var e=kt(),t=ee(),s=kx(),a=_f(),x=No().IteratorPrototype,P=ko(),n=uL(),T=Pi(),i=T||(function(){try{Iterator.from({return:null}).return()}catch{return!0}})(),h=P(function(){return t(this.next,this.iterator)},!0);return e({target:"Iterator",stat:!0,forced:i},{from:r(function(c){var u=n(typeof c=="string"?s(c):c,!0);return a(x,u.iterator)?u.iterator:new h(u)},"from")}),P2}r(e4,"requireEs_iterator_from");var M2={},w2;function i4(){if(w2)return M2;w2=1;var e=kt(),t=ee(),s=Ue(),a=te(),x=hi(),P=ko(),n=lL(),T=Ie(),i=nc(),h=fs(),m=Pi(),c=!m&&!i("map",function(){}),u=!m&&!c&&h("map",TypeError),l=m||c||u,o=P(function(){var d=this.iterator,v=a(t(this.next,d)),f=this.done=!!v.done;if(!f)return n(d,this.mapper,[v.value,this.counter++],!0)});return e({target:"Iterator",proto:!0,real:!0,forced:l},{map:r(function(v){a(this);try{s(v)}catch(f){T(this,"throw",f)}return u?t(u,this,v):new o(x(this),{mapper:v})},"map")}),M2}r(i4,"requireEs_iterator_map");var R2={},dg,O2;function s4(){if(O2)return dg;O2=1;var e=qf(),t=Function.prototype,s=t.apply,a=t.call;return dg=typeof Reflect=="object"&&Reflect.apply||(e?a.bind(s):function(){return a.apply(s,arguments)}),dg}r(s4,"requireFunctionApply");var b2;function r4(){if(b2)return R2;b2=1;var e=kt(),t=us(),s=Ue(),a=te(),x=hi(),P=Ie(),n=fs(),T=s4(),i=oe(),h=TypeError,m=i(function(){[].keys().reduce(function(){},void 0)}),c=!m&&n("reduce",h);return e({target:"Iterator",proto:!0,real:!0,forced:m||c},{reduce:r(function(l){a(this);try{s(l)}catch(p){P(this,"throw",p)}var o=arguments.length<2,d=o?void 0:arguments[1];if(c)return T(c,this,o?[l]:[l,d]);var v=x(this),f=0;if(t(v,function(p){o?(o=!1,d=p):d=l(d,p,f),f++},{IS_RECORD:!0}),o)throw new h("Reduce of empty iterator with no initial value");return d},"reduce")}),R2}r(r4,"requireEs_iterator_reduce");var A2={},L2;function n4(){if(L2)return A2;L2=1;var e=kt(),t=ee(),s=us(),a=Ue(),x=te(),P=hi(),n=Ie(),T=fs(),i=T("some",TypeError);return e({target:"Iterator",proto:!0,real:!0,forced:i},{some:r(function(m){x(this);try{a(m)}catch(l){n(this,"throw",l)}if(i)return t(i,this,m);var c=P(this),u=0;return s(c,function(l,o){if(m(l,u++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"some")}),A2}r(n4,"requireEs_iterator_some");var F2={},I2;function a4(){if(I2)return F2;I2=1;var e=kt(),t=ee(),s=te(),a=hi(),x=oL(),P=hL(),n=ko(),T=Ie(),i=fs(),h=Pi(),m=!h&&i("take",RangeError),c=n(function(){var u=this.iterator;if(!this.remaining--)return this.done=!0,T(u,"normal",void 0);var l=s(t(this.next,u)),o=this.done=!!l.done;if(!o)return l.value});return e({target:"Iterator",proto:!0,real:!0,forced:h||m},{take:r(function(l){s(this);var o;try{o=P(x(+l))}catch(d){T(this,"throw",d)}return m?t(m,this,o):new c(a(this),{remaining:o})},"take")}),F2}r(a4,"requireEs_iterator_take");var D2={},B2;function o4(){if(B2)return D2;B2=1;var e=kt(),t=te(),s=us(),a=hi(),x=[].push;return e({target:"Iterator",proto:!0,real:!0},{toArray:r(function(){var n=[];return s(a(t(this)),x,{that:n,IS_RECORD:!0}),n},"toArray")}),D2}r(o4,"requireEs_iterator_toArray");var fg,G2;function h4(){if(G2)return fg;G2=1,Zx(),Qx(),rL(),$D(),KD(),JD(),jD(),QD(),qD(),_D(),t4(),e4(),i4(),r4(),n4(),a4(),o4();var e=rc();return fg=e.Iterator,fg}r(h4,"requireIterator$1");var cg,N2;function l4(){if(N2)return cg;N2=1;var e=h4();return nL(),cg=e,cg}r(l4,"requireIterator");l4();var k2={},V2={},z2;function u4(){if(z2)return V2;z2=1;var e=_A(),t=eL();return e("Map",function(s){return r(function(){return s(this,arguments.length?arguments[0]:void 0)},"Map")},t),V2}r(u4,"requireEs_map_constructor");var U2;function d4(){return U2||(U2=1,u4()),k2}r(d4,"requireEs_map");var X2={},vg,Y2;function f4(){if(Y2)return vg;Y2=1;var e=he(),t=Map.prototype;return vg={Map,set:e(t.set),get:e(t.get),has:e(t.has),remove:e(t.delete),proto:t},vg}r(f4,"requireMapHelpers");var W2;function c4(){if(W2)return X2;W2=1;var e=kt(),t=he(),s=Ue(),a=Io(),x=us(),P=f4(),n=Pi(),T=oe(),i=P.Map,h=P.has,m=P.get,c=P.set,u=t([].push),l=n||T(function(){return i.groupBy("ab",function(o){return o}).get("a").length!==1});return e({target:"Map",stat:!0,forced:n||l},{groupBy:r(function(d,v){a(d),s(v);var f=new i,p=0;return x(d,function(g){var y=v(g,p++);h(f,y)?u(m(f,y),g):c(f,y,[g])}),f},"groupBy")}),X2}r(c4,"requireEs_map_groupBy");var pg,H2;function v4(){if(H2)return pg;H2=1,Qx(),d4(),c4();var e=rc();return pg=e.Map.groupBy,pg}r(v4,"requireGroupBy$3");var gg,$2;function p4(){if($2)return gg;$2=1;var e=v4();return gg=e,gg}r(p4,"requireGroupBy$2");p4();var K2={},Z2;function g4(){if(Z2)return K2;Z2=1;var e=kt(),t=je(),s=Go();return e({target:"Object",stat:!0,sham:!t},{create:s}),K2}r(g4,"requireEs_object_create");var J2={},j2;function m4(){if(j2)return J2;j2=1;var e=kt(),t=aL(),s=Bo(),a=he(),x=Ue(),P=Io(),n=Xx(),T=us(),i=oe(),h=Object.groupBy,m=s("Object","create"),c=a([].push),u=!h||i(function(){return h("ab",function(l){return l}).a.length!==1});return e({target:"Object",stat:!0,forced:u},{groupBy:r(function(o,d){P(o),x(d);var v=m(null),f=0;return T(o,function(p){var g=n(d(p,f++));g in v?c(v[g],p):t(v,g,[p])}),v},"groupBy")}),J2}r(m4,"requireEs_object_groupBy");var mg,Q2;function x4(){if(Q2)return mg;Q2=1,g4(),m4();var e=rc();return mg=e.Object.groupBy,mg}r(x4,"requireGroupBy$1");var xg,q2;function y4(){if(q2)return xg;q2=1;var e=x4();return xg=e,xg}r(y4,"requireGroupBy");y4();typeof Promise.withResolvers>"u"&&(Promise.withResolvers=()=>{let e,t;return{promise:new Promise((a,x)=>{e=a,t=x}),resolve:e,reject:t}});var wd={exports:{}},C4=wd.exports,_2;function T4(){return _2||(_2=1,(function(e,t){r((function(a,x){e.exports=x()}),"webpackUniversalModuleDefinition")(C4,()=>(()=>{var s={50792:(n=>{var T=Object.prototype.hasOwnProperty,i="~";function h(){}r(h,"Events"),Object.create&&(h.prototype=Object.create(null),new h().__proto__||(i=!1));function m(o,d,v){this.fn=o,this.context=d,this.once=v||!1}r(m,"EE");function c(o,d,v,f,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var g=new m(v,f||o,p),y=i?i+d:d;return o._events[y]?o._events[y].fn?o._events[y]=[o._events[y],g]:o._events[y].push(g):(o._events[y]=g,o._eventsCount++),o}r(c,"addListener");function u(o,d){--o._eventsCount===0?o._events=new h:delete o._events[d]}r(u,"clearEvent");function l(){this._events=new h,this._eventsCount=0}r(l,"EventEmitter"),l.prototype.eventNames=r(function(){var d=[],v,f;if(this._eventsCount===0)return d;for(f in v=this._events)T.call(v,f)&&d.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(v)):d},"eventNames"),l.prototype.listeners=r(function(d){var v=i?i+d:d,f=this._events[v];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,y=new Array(g);p<g;p++)y[p]=f[p].fn;return y},"listeners"),l.prototype.listenerCount=r(function(d){var v=i?i+d:d,f=this._events[v];return f?f.fn?1:f.length:0},"listenerCount"),l.prototype.emit=r(function(d,v,f,p,g,y){var C=i?i+d:d;if(!this._events[C])return!1;var S=this._events[C],E=arguments.length,w,M;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),E){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,v),!0;case 3:return S.fn.call(S.context,v,f),!0;case 4:return S.fn.call(S.context,v,f,p),!0;case 5:return S.fn.call(S.context,v,f,p,g),!0;case 6:return S.fn.call(S.context,v,f,p,g,y),!0}for(M=1,w=new Array(E-1);M<E;M++)w[M-1]=arguments[M];S.fn.apply(S.context,w)}else{var R=S.length,O;for(M=0;M<R;M++)switch(S[M].once&&this.removeListener(d,S[M].fn,void 0,!0),E){case 1:S[M].fn.call(S[M].context);break;case 2:S[M].fn.call(S[M].context,v);break;case 3:S[M].fn.call(S[M].context,v,f);break;case 4:S[M].fn.call(S[M].context,v,f,p);break;default:if(!w)for(O=1,w=new Array(E-1);O<E;O++)w[O-1]=arguments[O];S[M].fn.apply(S[M].context,w)}}return!0},"emit"),l.prototype.on=r(function(d,v,f){return c(this,d,v,f,!1)},"on"),l.prototype.once=r(function(d,v,f){return c(this,d,v,f,!0)},"once"),l.prototype.removeListener=r(function(d,v,f,p){var g=i?i+d:d;if(!this._events[g])return this;if(!v)return u(this,g),this;var y=this._events[g];if(y.fn)y.fn===v&&(!p||y.once)&&(!f||y.context===f)&&u(this,g);else{for(var C=0,S=[],E=y.length;C<E;C++)(y[C].fn!==v||p&&!y[C].once||f&&y[C].context!==f)&&S.push(y[C]);S.length?this._events[g]=S.length===1?S[0]:S:u(this,g)}return this},"removeListener"),l.prototype.removeAllListeners=r(function(d){var v;return d?(v=i?i+d:d,this._events[v]&&u(this,v)):(this._events=new h,this._eventsCount=0),this},"removeAllListeners"),l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,n.exports=l}),11517:((n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(38829),m=r(function(c,u,l,o){for(var d=c[0],v=1;v<c.length;v++){var f=c[v];h(f,d,u,l,o),d=f}return c},"AlignTo");n.exports=m}),80318:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),m=r(function(c,u,l,o,d){return h(c,"angle",u,l,o,d)},"Angle");n.exports=m}),60757:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){for(var c=0;c<i.length;c++){var u=i[c];h.call(m,u)}return i},"Call");n.exports=T}),69927:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){m===void 0&&(m=0);for(var c=m;c<i.length;c++){var u=i[c],l=!0;for(var o in h)u[o]!==h[o]&&(l=!1);if(l)return u}return null},"GetFirst");n.exports=T}),32265:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){m===void 0&&(m=0);for(var c=i.length-1;c>=m;c--){var u=i[c],l=!0;for(var o in h)u[o]!==h[o]&&(l=!1);if(l)return u}return null},"GetLast");n.exports=T}),94420:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(11879),m=i(60461),c=i(95540),u=i(29747),l=i(41481),o=new l({sys:{queueDepthSort:u,events:{once:u}}},0,0,1,1).setOrigin(0,0),d=r(function(v,f){f===void 0&&(f={});var p=f.hasOwnProperty("width"),g=f.hasOwnProperty("height"),y=c(f,"width",-1),C=c(f,"height",-1),S=c(f,"cellWidth",1),E=c(f,"cellHeight",S),w=c(f,"position",m.TOP_LEFT),M=c(f,"x",0),R=c(f,"y",0),O=0,b=0,A=y*S,I=C*E;o.setPosition(M,R),o.setSize(S,E);for(var L=0;L<v.length;L++)if(h(v[L],o,w),p&&y===-1)o.x+=S;else if(g&&C===-1)o.y+=E;else if(g&&!p){if(b+=E,o.y+=E,b===I&&(b=0,O+=S,o.y=R,o.x+=S,O===A))break}else if(O+=S,o.x+=S,O===A&&(O=0,b+=E,o.x=M,o.y+=E,b===I))break;return v},"GridAlign");n.exports=d}),41721:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),m=r(function(c,u,l,o,d){return h(c,"alpha",u,l,o,d)},"IncAlpha");n.exports=m}),67285:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),m=r(function(c,u,l,o,d){return h(c,"x",u,l,o,d)},"IncX");n.exports=m}),9074:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),m=r(function(c,u,l,o,d,v,f){return l==null&&(l=u),h(c,"x",u,o,v,f),h(c,"y",l,d,v,f)},"IncXY");n.exports=m}),75222:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),m=r(function(c,u,l,o,d){return h(c,"y",u,l,o,d)},"IncY");n.exports=m}),22983:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m===void 0&&(m=0),c===void 0&&(c=6.28);for(var u=m,l=(c-m)/i.length,o=h.x,d=h.y,v=h.radius,f=0;f<i.length;f++)i[f].x=o+v*Math.cos(u),i[f].y=d+v*Math.sin(u),u+=l;return i},"PlaceOnCircle");n.exports=T}),95253:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m===void 0&&(m=0),c===void 0&&(c=6.28);for(var u=m,l=(c-m)/i.length,o=h.width/2,d=h.height/2,v=0;v<i.length;v++)i[v].x=h.x+o*Math.cos(u),i[v].y=h.y+d*Math.sin(u),u+=l;return i},"PlaceOnEllipse");n.exports=T}),88505:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15258),m=i(26708),c=r(function(u,l,o){var d;o?d=m(l,o,u.length):d=h(l,u.length);for(var v=0;v<u.length;v++){var f=u[v],p=d[v];f.x=p.x,f.y=p.y}return u},"PlaceOnLine");n.exports=c}),41346:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(14649),m=i(86003),c=i(49498),u=r(function(l,o,d){d===void 0&&(d=0);var v=h(o,!1,l.length);d>0?m(v,d):d<0&&c(v,Math.abs(d));for(var f=0;f<l.length;f++)l[f].x=v[f].x,l[f].y=v[f].y;return l},"PlaceOnRectangle");n.exports=u}),11575:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(84993),m=r(function(c,u,l){var o=h({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},l),d=h({x1:u.x2,y1:u.y2,x2:u.x3,y2:u.y3},l),v=h({x1:u.x3,y1:u.y3,x2:u.x1,y2:u.y1},l);o.pop(),d.pop(),v.pop(),o=o.concat(d,v);for(var f=o.length/c.length,p=0,g=0;g<c.length;g++){var y=c[g],C=o[Math.floor(p)];y.x=C.x,y.y=C.y,p+=f}return c},"PlaceOnTriangle");n.exports=m}),29953:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){for(var c=0;c<i.length;c++){var u=i[c];u.anims&&u.anims.play(h,m)}return i},"PlayAnimation");n.exports=T}),66979:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u,l){c===void 0&&(c=0),u===void 0&&(u=0),l===void 0&&(l=1);var o,d=0,v=i.length;if(l===1)for(o=u;o<v;o++)i[o][h]+=m+d*c,d++;else for(o=u;o>=0;o--)i[o][h]+=m+d*c,d++;return i},"PropertyValueInc");n.exports=T}),43967:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u,l){c===void 0&&(c=0),u===void 0&&(u=0),l===void 0&&(l=1);var o,d=0,v=i.length;if(l===1)for(o=u;o<v;o++)i[o][h]=m+d*c,d++;else for(o=u;o>=0;o--)i[o][h]=m+d*c,d++;return i},"PropertyValueSet");n.exports=T}),88926:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28176),m=r(function(c,u){for(var l=0;l<c.length;l++)h(u,c[l]);return c},"RandomCircle");n.exports=m}),33286:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(24820),m=r(function(c,u){for(var l=0;l<c.length;l++)h(u,c[l]);return c},"RandomEllipse");n.exports=m}),96e3:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65822),m=r(function(c,u){for(var l=0;l<c.length;l++)h(u,c[l]);return c},"RandomLine");n.exports=m}),28789:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26597),m=r(function(c,u){for(var l=0;l<c.length;l++)h(u,c[l]);return c},"RandomRectangle");n.exports=m}),97154:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(90260),m=r(function(c,u){for(var l=0;l<c.length;l++)h(u,c[l]);return c},"RandomTriangle");n.exports=m}),20510:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),m=r(function(c,u,l,o,d){return h(c,"rotation",u,l,o,d)},"Rotate");n.exports=m}),91051:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(1163),m=i(20339),c=r(function(u,l,o){for(var d=l.x,v=l.y,f=0;f<u.length;f++){var p=u[f];h(p,d,v,o,Math.max(1,m(p.x,p.y,d,v)))}return u},"RotateAround");n.exports=c}),76332:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(1163),m=r(function(c,u,l,o){var d=u.x,v=u.y;if(o===0)return c;for(var f=0;f<c.length;f++)h(c[f],d,v,l,o);return c},"RotateAroundDistance");n.exports=m}),61619:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),m=r(function(c,u,l,o,d){return h(c,"scaleX",u,l,o,d)},"ScaleX");n.exports=m}),94868:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),m=r(function(c,u,l,o,d,v,f){return l==null&&(l=u),h(c,"scaleX",u,o,v,f),h(c,"scaleY",l,d,v,f)},"ScaleXY");n.exports=m}),95532:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),m=r(function(c,u,l,o,d){return h(c,"scaleY",u,l,o,d)},"ScaleY");n.exports=m}),8689:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d){return h(c,"alpha",u,l,o,d)},"SetAlpha");n.exports=m}),2645:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o){return h(c,"blendMode",u,0,l,o)},"SetBlendMode");n.exports=m}),32372:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d){return h(c,"depth",u,l,o,d)},"SetDepth");n.exports=m}),85373:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){for(var c=0;c<i.length;c++)i[c].setInteractive(h,m);return i},"SetHitArea");n.exports=T}),81583:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d,v,f){return l==null&&(l=u),h(c,"originX",u,o,v,f),h(c,"originY",l,d,v,f),c.forEach(function(p){p.updateDisplayOrigin()}),c},"SetOrigin");n.exports=m}),79939:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d){return h(c,"rotation",u,l,o,d)},"SetRotation");n.exports=m}),2699:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d,v,f){return l==null&&(l=u),h(c,"scaleX",u,o,v,f),h(c,"scaleY",l,d,v,f)},"SetScale");n.exports=m}),98739:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d){return h(c,"scaleX",u,l,o,d)},"SetScaleX");n.exports=m}),98476:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d){return h(c,"scaleY",u,l,o,d)},"SetScaleY");n.exports=m}),6207:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d,v,f){return l==null&&(l=u),h(c,"scrollFactorX",u,o,v,f),h(c,"scrollFactorY",l,d,v,f)},"SetScrollFactor");n.exports=m}),6607:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d){return h(c,"scrollFactorX",u,l,o,d)},"SetScrollFactorX");n.exports=m}),72248:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d){return h(c,"scrollFactorY",u,l,o,d)},"SetScrollFactorY");n.exports=m}),14036:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u){for(var l=0;l<i.length;l++)i[l].setTint(h,m,c,u);return i},"SetTint");n.exports=T}),50159:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o){return h(c,"visible",u,0,l,o)},"SetVisible");n.exports=m}),77597:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d){return h(c,"x",u,l,o,d)},"SetX");n.exports=m}),83194:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d,v,f){return l==null&&(l=u),h(c,"x",u,o,v,f),h(c,"y",l,d,v,f)},"SetXY");n.exports=m}),67678:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),m=r(function(c,u,l,o,d){return h(c,"y",u,l,o,d)},"SetY");n.exports=m}),35850:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o,d){o===void 0&&(o=0),d===void 0&&(d=new h);var v,f,p=c.length;if(p===1)v=c[0].x,f=c[0].y,c[0].x=u,c[0].y=l;else{var g=1,y=0;o===0&&(y=p-1,g=p-2),v=c[y].x,f=c[y].y,c[y].x=u,c[y].y=l;for(var C=0;C<p;C++)if(!(g>=p||g===-1)){var S=c[g],E=S.x,w=S.y;S.x=v,S.y=f,v=E,f=w,o===0?g--:g++}}return d.x=v,d.y=f,d},"ShiftPosition");n.exports=m}),8628:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33680),m=r(function(c){return h(c)},"Shuffle");n.exports=m}),21837:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7602),m=r(function(c,u,l,o,d){d===void 0&&(d=!1);var v=Math.abs(o-l)/c.length,f;if(d)for(f=0;f<c.length;f++)c[f][u]+=h(f*v,l,o);else for(f=0;f<c.length;f++)c[f][u]=h(f*v,l,o);return c},"SmoothStep");n.exports=m}),21910:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54261),m=r(function(c,u,l,o,d){d===void 0&&(d=!1);var v=Math.abs(o-l)/c.length,f;if(d)for(f=0;f<c.length;f++)c[f][u]+=h(f*v,l,o);else for(f=0;f<c.length;f++)c[f][u]=h(f*v,l,o);return c},"SmootherStep");n.exports=m}),62054:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u){if(u===void 0&&(u=!1),i.length===0)return i;if(i.length===1)return u?i[0][h]+=(c+m)/2:i[0][h]=(c+m)/2,i;var l=Math.abs(c-m)/(i.length-1),o;if(u)for(o=0;o<i.length;o++)i[o][h]+=o*l+m;else for(o=0;o<i.length;o++)i[o][h]=o*l+m;return i},"Spread");n.exports=T}),79815:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var h=0;h<i.length;h++)i[h].visible=!i[h].visible;return i},"ToggleVisible");n.exports=T}),39665:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15994),m=r(function(c,u,l){l===void 0&&(l=0);for(var o=0;o<c.length;o++){var d=c[o];d.x=h(d.x,u.left-l,u.right+l),d.y=h(d.y,u.top-l,u.bottom+l)}return c},"WrapInRectangle");n.exports=m}),61061:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}}),42099:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(74943),u=i(81957),l=i(41138),o=i(35154),d=i(90126),v=new m({initialize:r(function(p,g,y){this.manager=p,this.key=g,this.type="frame",this.frames=this.getFrames(p.textureManager,o(y,"frames",[]),o(y,"defaultTextureKey",null),o(y,"sortFrames",!0)),this.frameRate=o(y,"frameRate",null),this.duration=o(y,"duration",null),this.msPerFrame,this.skipMissedFrames=o(y,"skipMissedFrames",!0),this.delay=o(y,"delay",0),this.repeat=o(y,"repeat",0),this.repeatDelay=o(y,"repeatDelay",0),this.yoyo=o(y,"yoyo",!1),this.showBeforeDelay=o(y,"showBeforeDelay",!1),this.showOnStart=o(y,"showOnStart",!1),this.hideOnComplete=o(y,"hideOnComplete",!1),this.randomFrame=o(y,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(c.PAUSE_ALL,this.pause,this),this.manager.on(c.RESUME_ALL,this.resume,this))},"Animation"),getTotalFrames:r(function(){return this.frames.length},"getTotalFrames"),calculateDuration:r(function(f,p,g,y){g===null&&y===null?(f.frameRate=24,f.duration=24/p*1e3):g&&y===null?(f.duration=g,f.frameRate=p/(g/1e3)):(f.frameRate=y,f.duration=p/y*1e3),f.msPerFrame=1e3/f.frameRate},"calculateDuration"),addFrame:r(function(f){return this.addFrameAt(this.frames.length,f)},"addFrame"),addFrameAt:r(function(f,p){var g=this.getFrames(this.manager.textureManager,p);if(g.length>0){if(f===0)this.frames=g.concat(this.frames);else if(f===this.frames.length)this.frames=this.frames.concat(g);else{var y=this.frames.slice(0,f),C=this.frames.slice(f);this.frames=y.concat(g,C)}this.updateFrameSequence()}return this},"addFrameAt"),checkFrame:r(function(f){return f>=0&&f<this.frames.length},"checkFrame"),getFirstTick:r(function(f){f.accumulator=0,f.nextTick=f.frameRate===f.currentAnim.frameRate&&f.currentFrame.duration||f.msPerFrame},"getFirstTick"),getFrameAt:r(function(f){return this.frames[f]},"getFrameAt"),getFrames:r(function(f,p,g,y){y===void 0&&(y=!0);var C=[],S,E,w=1,M,R;if(typeof p=="string"){if(R=p,!f.exists(R))return console.warn('Texture "%s" not found',R),C;var O=f.get(R),b=O.getFrameNames();y&&d(b),p=[],b.forEach(function(B){p.push({key:R,frame:B})})}if(!Array.isArray(p)||p.length===0)return C;for(M=0;M<p.length;M++){var A=p[M],I=o(A,"key",g);if(I){var L=o(A,"frame",0),F=f.getFrame(I,L);if(!F){console.warn('Texture "%s" not found',I);continue}E=new l(I,L,w,F),E.duration=o(A,"duration",0),E.isFirst=!S,S&&(S.nextFrame=E,E.prevFrame=S),C.push(E),S=E,w++}}if(C.length>0){E.isLast=!0,E.nextFrame=C[0],C[0].prevFrame=E;var D=1/(C.length-1);for(M=0;M<C.length;M++)C[M].progress=M*D}return C},"getFrames"),getNextTick:r(function(f){f.accumulator-=f.nextTick,f.nextTick=f.frameRate===f.currentAnim.frameRate&&f.currentFrame.duration||f.msPerFrame},"getNextTick"),getFrameByProgress:r(function(f){return f=h(f,0,1),u(f,this.frames,"progress")},"getFrameByProgress"),nextFrame:r(function(f){var p=f.currentFrame;p.isLast?f.yoyo?this.handleYoyoFrame(f,!1):f.repeatCounter>0?f.inReverse&&f.forward?f.forward=!1:this.repeatAnimation(f):f.complete():this.updateAndGetNextTick(f,p.nextFrame)},"nextFrame"),handleYoyoFrame:r(function(f,p){if(p||(p=!1),f.inReverse===!p&&f.repeatCounter>0){(f.repeatDelay===0||f.pendingRepeat)&&(f.forward=p),this.repeatAnimation(f);return}if(f.inReverse!==p&&f.repeatCounter===0){f.complete();return}f.forward=p;var g=p?f.currentFrame.nextFrame:f.currentFrame.prevFrame;this.updateAndGetNextTick(f,g)},"handleYoyoFrame"),getLastFrame:r(function(){return this.frames[this.frames.length-1]},"getLastFrame"),previousFrame:r(function(f){var p=f.currentFrame;p.isFirst?f.yoyo?this.handleYoyoFrame(f,!0):f.repeatCounter>0?f.inReverse&&!f.forward?this.repeatAnimation(f):(f.forward=!0,this.repeatAnimation(f)):f.complete():this.updateAndGetNextTick(f,p.prevFrame)},"previousFrame"),updateAndGetNextTick:r(function(f,p){f.setCurrentFrame(p),this.getNextTick(f)},"updateAndGetNextTick"),removeFrame:r(function(f){var p=this.frames.indexOf(f);return p!==-1&&this.removeFrameAt(p),this},"removeFrame"),removeFrameAt:r(function(f){return this.frames.splice(f,1),this.updateFrameSequence(),this},"removeFrameAt"),repeatAnimation:r(function(f){if(f._pendingStop===2){if(f._pendingStopValue===0)return f.stop();f._pendingStopValue--}f.repeatDelay>0&&!f.pendingRepeat?(f.pendingRepeat=!0,f.accumulator-=f.nextTick,f.nextTick+=f.repeatDelay):(f.repeatCounter--,f.forward?f.setCurrentFrame(f.currentFrame.nextFrame):f.setCurrentFrame(f.currentFrame.prevFrame),f.isPlaying&&(this.getNextTick(f),f.handleRepeat()))},"repeatAnimation"),toJSON:r(function(){var f={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(p){f.frames.push(p.toJSON())}),f},"toJSON"),updateFrameSequence:r(function(){for(var f=this.frames.length,p=1/(f-1),g,y=0;y<f;y++)g=this.frames[y],g.index=y+1,g.isFirst=!1,g.isLast=!1,g.progress=y*p,y===0?(g.isFirst=!0,f===1?(g.isLast=!0,g.nextFrame=g,g.prevFrame=g):(g.isLast=!1,g.prevFrame=this.frames[f-1],g.nextFrame=this.frames[y+1])):y===f-1&&f>1?(g.isLast=!0,g.prevFrame=this.frames[f-2],g.nextFrame=this.frames[0]):f>1&&(g.prevFrame=this.frames[y-1],g.nextFrame=this.frames[y+1]);return this},"updateFrameSequence"),pause:r(function(){return this.paused=!0,this},"pause"),resume:r(function(){return this.paused=!1,this},"resume"),destroy:r(function(){this.manager.off&&(this.manager.off(c.PAUSE_ALL,this.pause,this),this.manager.off(c.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var f=0;f<this.frames.length;f++)this.frames[f].destroy();this.frames=[],this.manager=null},"destroy")});n.exports=v}),41138:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o,d,v){v===void 0&&(v=!1),this.textureKey=u,this.textureFrame=l,this.index=o,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},"AnimationFrame"),toJSON:r(function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},"toJSON"),destroy:r(function(){this.frame=void 0},"destroy")});n.exports=m}),60848:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42099),m=i(83419),c=i(90330),u=i(50792),l=i(74943),o=i(8443),d=i(95540),v=i(35154),f=i(36383),p=i(20283),g=i(41836),y=new m({Extends:u,initialize:r(function(S){u.call(this),this.game=S,this.textureManager=null,this.globalTimeScale=1,this.anims=new c,this.mixes=new c,this.paused=!1,this.name="AnimationManager",S.events.once(o.BOOT,this.boot,this)},"AnimationManager"),boot:r(function(){this.textureManager=this.game.textures,this.game.events.once(o.DESTROY,this.destroy,this)},"boot"),addMix:r(function(C,S,E){var w=this.anims,M=this.mixes,R=typeof C=="string"?C:C.key,O=typeof S=="string"?S:S.key;if(w.has(R)&&w.has(O)){var b=M.get(R);b||(b={}),b[O]=E,M.set(R,b)}return this},"addMix"),removeMix:r(function(C,S){var E=this.mixes,w=typeof C=="string"?C:C.key,M=E.get(w);if(M)if(S){var R=typeof S=="string"?S:S.key;M.hasOwnProperty(R)&&delete M[R]}else S||E.delete(w);return this},"removeMix"),getMix:r(function(C,S){var E=this.mixes,w=typeof C=="string"?C:C.key,M=typeof S=="string"?S:S.key,R=E.get(w);return R&&R.hasOwnProperty(M)?R[M]:0},"getMix"),add:r(function(C,S){return this.anims.has(C)?(console.warn("Animation key exists: "+C),this):(S.key=C,this.anims.set(C,S),this.emit(l.ADD_ANIMATION,C,S),this)},"add"),exists:r(function(C){return this.anims.has(C)},"exists"),createFromAseprite:r(function(C,S,E){var w=[],M=this.game.cache.json.get(C);if(!M)return console.warn("No Aseprite data found for: "+C),w;var R=this,O=v(M,"meta",null),b=v(M,"frames",null);if(O&&b){var A=v(O,"frameTags",[]);A.forEach(function(I){var L=[],F=d(I,"name",null),D=d(I,"from",0),B=d(I,"to",0),V=d(I,"direction","forward");if(F&&(!S||S&&S.indexOf(F)>-1)){for(var U=0,W=D;W<=B;W++){var Y=W.toString(),N=b[Y];if(N){var z=d(N,"duration",f.MAX_SAFE_INTEGER);L.push({key:C,frame:Y,duration:z}),U+=z}}V==="reverse"&&(L=L.reverse());var G={key:F,frames:L,duration:U,yoyo:V==="pingpong"},X;E?E.anims&&(X=E.anims.create(G)):X=R.create(G),X&&w.push(X)}})}return w},"createFromAseprite"),create:r(function(C){var S=C.key,E=!1;return S&&(E=this.get(S),E?console.warn("AnimationManager key already exists: "+S):(E=new h(this,S,C),this.anims.set(S,E),this.emit(l.ADD_ANIMATION,S,E))),E},"create"),fromJSON:r(function(C,S){S===void 0&&(S=!1),S&&this.anims.clear(),typeof C=="string"&&(C=JSON.parse(C));var E=[];if(C.hasOwnProperty("anims")&&Array.isArray(C.anims)){for(var w=0;w<C.anims.length;w++)E.push(this.create(C.anims[w]));C.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=C.globalTimeScale)}else C.hasOwnProperty("key")&&C.type==="frame"&&E.push(this.create(C));return E},"fromJSON"),generateFrameNames:r(function(C,S){var E=v(S,"prefix",""),w=v(S,"start",0),M=v(S,"end",0),R=v(S,"suffix",""),O=v(S,"zeroPad",0),b=v(S,"outputArray",[]),A=v(S,"frames",!1);if(!this.textureManager.exists(C))return console.warn('Texture "%s" not found',C),b;var I=this.textureManager.get(C);if(!I)return b;var L;if(S)for(A||(A=p(w,M)),L=0;L<A.length;L++){var F=E+g(A[L],O,"0",1)+R;I.has(F)?b.push({key:C,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,C)}else for(A=I.getFrameNames(),L=0;L<A.length;L++)b.push({key:C,frame:A[L]});return b},"generateFrameNames"),generateFrameNumbers:r(function(C,S){var E=v(S,"start",0),w=v(S,"end",-1),M=v(S,"first",!1),R=v(S,"outputArray",[]),O=v(S,"frames",!1);if(!this.textureManager.exists(C))return console.warn('Texture "%s" not found',C),R;var b=this.textureManager.get(C);if(!b)return R;M&&b.has(M)&&R.push({key:C,frame:M}),O||(w===-1&&(w=b.frameTotal-2),O=p(E,w));for(var A=0;A<O.length;A++){var I=O[A];b.has(I)?R.push({key:C,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,C)}return R},"generateFrameNumbers"),get:r(function(C){return this.anims.get(C)},"get"),getAnimsFromTexture:r(function(C){for(var S=this.textureManager.get(C),E=S.key,w=this.anims.getArray(),M=[],R=0;R<w.length;R++)for(var O=w[R],b=O.frames,A=0;A<b.length;A++)if(b[A].textureKey===E){M.push(O.key);break}return M},"getAnimsFromTexture"),pauseAll:r(function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},"pauseAll"),play:r(function(C,S){Array.isArray(S)||(S=[S]);for(var E=0;E<S.length;E++)S[E].anims.play(C);return this},"play"),staggerPlay:r(function(C,S,E,w){E===void 0&&(E=0),w===void 0&&(w=!0),Array.isArray(S)||(S=[S]);var M=S.length;w||M--;for(var R=0;R<S.length;R++){var O=E<0?Math.abs(E)*(M-R):E*R;S[R].anims.playAfterDelay(C,O)}return this},"staggerPlay"),remove:r(function(C){var S=this.get(C);return S&&(this.emit(l.REMOVE_ANIMATION,C,S),this.anims.delete(C),this.removeMix(C)),S},"remove"),resumeAll:r(function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},"resumeAll"),toJSON:r(function(C){var S={anims:[],globalTimeScale:this.globalTimeScale};return C!==void 0&&C!==""?S.anims.push(this.anims.get(C).toJSON()):this.anims.each(function(E,w){S.anims.push(w.toJSON())}),S},"toJSON"),destroy:r(function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null},"destroy")});n.exports=y}),9674:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42099),m=i(30976),c=i(83419),u=i(90330),l=i(74943),o=i(95540),d=new c({initialize:r(function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},"AnimationState"),chain:r(function(v){var f=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var g=v[p];this.nextAnim?this.nextAnimsQueue.push(g):this.nextAnim=g}return this.parent},"chain"),getName:r(function(){return this.currentAnim?this.currentAnim.key:""},"getName"),getFrameName:r(function(){return this.currentFrame?this.currentFrame.textureFrame:""},"getFrameName"),load:r(function(v){this.isPlaying&&this.stop();var f=this.animationManager,p=typeof v=="string"?v:o(v,"key",null),g=this.exists(p)?this.get(p):f.get(p);if(!g)console.warn("Missing animation: "+p);else{this.currentAnim=g;var y=g.getTotalFrames(),C=o(v,"frameRate",g.frameRate),S=o(v,"duration",g.duration);g.calculateDuration(this,y,S,C),this.delay=o(v,"delay",g.delay),this.repeat=o(v,"repeat",g.repeat),this.repeatDelay=o(v,"repeatDelay",g.repeatDelay),this.yoyo=o(v,"yoyo",g.yoyo),this.showBeforeDelay=o(v,"showBeforeDelay",g.showBeforeDelay),this.showOnStart=o(v,"showOnStart",g.showOnStart),this.hideOnComplete=o(v,"hideOnComplete",g.hideOnComplete),this.skipMissedFrames=o(v,"skipMissedFrames",g.skipMissedFrames),this.randomFrame=o(v,"randomFrame",g.randomFrame),this.timeScale=o(v,"timeScale",this.timeScale);var E=o(v,"startFrame",0);E>y&&(E=0),this.randomFrame&&(E=m(0,y-1));var w=g.frames[E];E===0&&!this.forward&&(w=g.getLastFrame()),this.currentFrame=w}return this.parent},"load"),pause:r(function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},"pause"),resume:r(function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},"resume"),playAfterDelay:r(function(v,f){if(!this.isPlaying)this.delayCounter=f,this.play(v,!0);else{var p=this.nextAnim,g=this.nextAnimsQueue;p&&g.unshift(p),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=f}return this.parent},"playAfterDelay"),playAfterRepeat:r(function(v,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(v);else{var p=this.nextAnim,g=this.nextAnimsQueue;p&&g.unshift(p),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=f}return this.parent},"playAfterRepeat"),play:r(function(v,f){f===void 0&&(f=!1);var p=this.currentAnim,g=this.parent,y=typeof v=="string"?v:v.key;if(f&&this.isPlaying&&p.key===y)return g;if(p&&this.isPlaying){var C=this.animationManager.getMix(p.key,v);if(C>0)return this.playAfterDelay(v,C)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},"play"),playReverse:r(function(v,f){f===void 0&&(f=!1);var p=typeof v=="string"?v:v.key;return f&&this.isPlaying&&this.currentAnim.key===p?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},"playReverse"),startAnimation:r(function(v){this.load(v);var f=this.currentAnim,p=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),p},"startAnimation"),handleStart:r(function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},"handleStart"),handleRepeat:r(function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},"handleRepeat"),handleStop:r(function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},"handleStop"),handleComplete:r(function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},"handleComplete"),emitEvents:r(function(v,f){var p=this.currentAnim;if(p){var g=this.currentFrame,y=this.parent,C=g.textureFrame;y.emit(v,p,g,y,C),f&&y.emit(f+p.key,p,g,y,C)}},"emitEvents"),reverse:r(function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},"reverse"),getProgress:r(function(){var v=this.currentFrame;if(!v)return 0;var f=v.progress;return this.inReverse&&(f*=-1),f},"getProgress"),setProgress:r(function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},"setProgress"),setRepeat:r(function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},"setRepeat"),globalRemove:r(function(v,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},"globalRemove"),restart:r(function(v,f){v===void 0&&(v=!1),f===void 0&&(f=!1);var p=this.currentAnim,g=this.parent;return p?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),p.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(p.frames[0]),this.parent):g},"restart"),complete:r(function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},"complete"),stop:r(function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},"stop"),stopAfterDelay:r(function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},"stopAfterDelay"),stopAfterRepeat:r(function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},"stopAfterRepeat"),stopOnFrame:r(function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},"stopOnFrame"),getTotalFrames:r(function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},"getTotalFrames"),update:r(function(v,f){var p=this.currentAnim;if(!(!this.isPlaying||!p||p.paused)){if(this.accumulator+=f*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?p.nextFrame(this):p.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var g=0;do this.forward?p.nextFrame(this):p.previousFrame(this),g++;while(this.isPlaying&&this.accumulator>this.nextTick&&g<60)}}},"update"),setCurrentFrame:r(function(v){var f=this.parent;return this.currentFrame=v,f.texture=v.frame.texture,f.frame=v.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),v.setAlpha&&(f.alpha=v.alpha),f.setSizeToFrame(),f._originComponent&&(v.frame.customPivot?f.setOrigin(v.frame.pivotX,v.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),f},"setCurrentFrame"),nextFrame:r(function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},"nextFrame"),previousFrame:r(function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},"previousFrame"),get:r(function(v){return this.anims?this.anims.get(v):null},"get"),exists:r(function(v){return this.anims?this.anims.has(v):!1},"exists"),create:r(function(v){var f=v.key,p=!1;return f&&(p=this.get(f),p?console.warn("Animation key already exists: "+f):(p=new h(this,f,v),this.anims||(this.anims=new u),this.anims.set(f,p))),p},"create"),createFromAseprite:r(function(v,f){return this.animationManager.createFromAseprite(v,f,this.parent)},"createFromAseprite"),generateFrameNames:r(function(v,f){return this.animationManager.generateFrameNames(v,f)},"generateFrameNames"),generateFrameNumbers:r(function(v,f){return this.animationManager.generateFrameNumbers(v,f)},"generateFrameNumbers"),remove:r(function(v){var f=this.get(v);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(v)),f},"remove"),destroy:r(function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},"destroy"),isPaused:{get:r(function(){return this._paused},"get")}});n.exports=d}),57090:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"}),25312:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"}),89580:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"}),52860:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"}),63850:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"}),99085:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"}),28087:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"}),1794:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"}),52562:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"}),57953:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"}),68339:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"}),74943:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}}),60421:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}}),2161:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(90330),c=i(50792),u=i(24736),l=new h({initialize:r(function(){this.entries=new m,this.events=new c},"BaseCache"),add:r(function(o,d){return this.entries.set(o,d),this.events.emit(u.ADD,this,o,d),this},"add"),has:r(function(o){return this.entries.has(o)},"has"),exists:r(function(o){return this.entries.has(o)},"exists"),get:r(function(o){return this.entries.get(o)},"get"),remove:r(function(o){var d=this.get(o);return d&&(this.entries.delete(o),this.events.emit(u.REMOVE,this,o,d.data)),this},"remove"),getKeys:r(function(){return this.entries.keys()},"getKeys"),destroy:r(function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null},"destroy")});n.exports=l}),24047:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2161),m=i(83419),c=i(8443),u=new m({initialize:r(function(o){this.game=o,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(c.DESTROY,this.destroy,this)},"CacheManager"),addCustom:r(function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new h),this.custom[l]},"addCustom"),destroy:r(function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],o=0;o<l.length;o++)this[l[o]].destroy(),this[l[o]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null},"destroy")});n.exports=u}),51464:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"}),59261:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"}),24736:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:i(51464),REMOVE:i(59261)}}),83388:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}}),71911:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(39506),u=i(50792),l=i(19715),o=i(87841),d=i(61340),v=i(80333),f=i(26099),p=new h({Extends:u,Mixins:[m.AlphaSingle,m.Visible],initialize:r(function(y,C,S,E){y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=0),E===void 0&&(E=0),u.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new o,this.dirty=!0,this._x=y,this._y=C,this._width=S,this._height=E,this._bounds=new o,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new f(S/2,E/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},"BaseCamera"),addToRenderList:r(function(g){this.renderList.push(g)},"addToRenderList"),setOrigin:r(function(g,y){return g===void 0&&(g=.5),y===void 0&&(y=g),this.originX=g,this.originY=y,this},"setOrigin"),getScroll:r(function(g,y,C){C===void 0&&(C=new f);var S=this.width*.5,E=this.height*.5;return C.x=g-S,C.y=y-E,this.useBounds&&(C.x=this.clampX(C.x),C.y=this.clampY(C.y)),C},"getScroll"),centerOnX:r(function(g){var y=this.width*.5;return this.midPoint.x=g,this.scrollX=g-y,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},"centerOnX"),centerOnY:r(function(g){var y=this.height*.5;return this.midPoint.y=g,this.scrollY=g-y,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},"centerOnY"),centerOn:r(function(g,y){return this.centerOnX(g),this.centerOnY(y),this},"centerOn"),centerToBounds:r(function(){if(this.useBounds){var g=this._bounds,y=this.width*.5,C=this.height*.5;this.midPoint.set(g.centerX,g.centerY),this.scrollX=g.centerX-y,this.scrollY=g.centerY-C}return this},"centerToBounds"),centerToSize:r(function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},"centerToSize"),cull:r(function(g){if(this.disableCull)return g;var y=this.matrix.matrix,C=y[0],S=y[1],E=y[2],w=y[3],M=C*w-S*E;if(!M)return g;var R=y[4],O=y[5],b=this.scrollX,A=this.scrollY,I=this.width,L=this.height,F=this.y,D=F+L,B=this.x,V=B+I,U=this.culledObjects,W=g.length;M=1/M,U.length=0;for(var Y=0;Y<W;++Y){var N=g[Y];if(!N.hasOwnProperty("width")||N.parentContainer){U.push(N);continue}var z=N.width,G=N.height,X=N.x-b*N.scrollFactorX-z*N.originX,k=N.y-A*N.scrollFactorY-G*N.originY,H=X*C+k*E+R,$=X*S+k*w+O,K=(X+z)*C+(k+G)*E+R,Z=(X+z)*S+(k+G)*w+O;K>B&&H<V&&Z>F&&$<D&&U.push(N)}return U},"cull"),getWorldPoint:r(function(g,y,C){C===void 0&&(C=new f);var S=this.matrix.matrix,E=S[0],w=S[1],M=S[2],R=S[3],O=S[4],b=S[5],A=E*R-w*M;if(!A)return C.x=g,C.y=y,C;A=1/A;var I=R*A,L=-w*A,F=-M*A,D=E*A,B=(M*b-R*O)*A,V=(w*O-E*b)*A,U=Math.cos(this.rotation),W=Math.sin(this.rotation),Y=this.zoomX,N=this.zoomY,z=this.scrollX,G=this.scrollY,X=g+(z*U-G*W)*Y,k=y+(z*W+G*U)*N;return C.x=X*I+k*F+B,C.y=X*L+k*D+V,C},"getWorldPoint"),ignore:r(function(g){var y=this.id;Array.isArray(g)||(g=[g]);for(var C=0;C<g.length;C++){var S=g[C];Array.isArray(S)?this.ignore(S):S.isParent?this.ignore(S.getChildren()):S.cameraFilter|=y}return this},"ignore"),clampX:r(function(g){var y=this._bounds,C=this.displayWidth,S=y.x+(C-this.width)/2,E=Math.max(S,S+y.width-C);return g<S?g=S:g>E&&(g=E),g},"clampX"),clampY:r(function(g){var y=this._bounds,C=this.displayHeight,S=y.y+(C-this.height)/2,E=Math.max(S,S+y.height-C);return g<S?g=S:g>E&&(g=E),g},"clampY"),removeBounds:r(function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},"removeBounds"),setAngle:r(function(g){return g===void 0&&(g=0),this.rotation=c(g),this},"setAngle"),setBackgroundColor:r(function(g){return g===void 0&&(g="rgba(0,0,0,0)"),this.backgroundColor=v(g),this.transparent=this.backgroundColor.alpha===0,this},"setBackgroundColor"),setBounds:r(function(g,y,C,S,E){return E===void 0&&(E=!1),this._bounds.setTo(g,y,C,S),this.dirty=!0,this.useBounds=!0,E?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},"setBounds"),getBounds:r(function(g){g===void 0&&(g=new o);var y=this._bounds;return g.setTo(y.x,y.y,y.width,y.height),g},"getBounds"),setName:r(function(g){return g===void 0&&(g=""),this.name=g,this},"setName"),setPosition:r(function(g,y){return y===void 0&&(y=g),this.x=g,this.y=y,this},"setPosition"),setRotation:r(function(g){return g===void 0&&(g=0),this.rotation=g,this},"setRotation"),setRoundPixels:r(function(g){return this.roundPixels=g,this},"setRoundPixels"),setScene:r(function(g,y){y===void 0&&(y=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=g,this.isSceneCamera=y;var C=g.sys;return this.sceneManager=C.game.scene,this.scaleManager=C.scale,this.cameraManager=C.cameras,this.updateSystem(),this},"setScene"),setScroll:r(function(g,y){return y===void 0&&(y=g),this.scrollX=g,this.scrollY=y,this},"setScroll"),setSize:r(function(g,y){return y===void 0&&(y=g),this.width=g,this.height=y,this},"setSize"),setViewport:r(function(g,y,C,S){return this.x=g,this.y=y,this.width=C,this.height=S,this},"setViewport"),setZoom:r(function(g,y){return g===void 0&&(g=1),y===void 0&&(y=g),g===0&&(g=.001),y===0&&(y=.001),this.zoomX=g,this.zoomY=y,this},"setZoom"),setMask:r(function(g,y){return y===void 0&&(y=!0),this.mask=g,this._maskCamera=y?this.cameraManager.default:this,this},"setMask"),clearMask:r(function(g){return g===void 0&&(g=!1),g&&this.mask&&this.mask.destroy(),this.mask=null,this},"clearMask"),toJSON:r(function(){var g={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(g.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),g},"toJSON"),update:r(function(){},"update"),setIsSceneCamera:r(function(g){return this.isSceneCamera=g,this},"setIsSceneCamera"),updateSystem:r(function(){if(!(!this.scaleManager||!this.isSceneCamera)){var g=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,y=this.sceneManager;g&&!this._customViewport?y.customViewports++:!g&&this._customViewport&&y.customViewports--,this.dirty=!0,this._customViewport=g}},"updateSystem"),destroy:r(function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},"destroy"),x:{get:r(function(){return this._x},"get"),set:r(function(g){this._x=g,this.updateSystem()},"set")},y:{get:r(function(){return this._y},"get"),set:r(function(g){this._y=g,this.updateSystem()},"set")},width:{get:r(function(){return this._width},"get"),set:r(function(g){this._width=g,this.updateSystem()},"set")},height:{get:r(function(){return this._height},"get"),set:r(function(g){this._height=g,this.updateSystem()},"set")},scrollX:{get:r(function(){return this._scrollX},"get"),set:r(function(g){g!==this._scrollX&&(this._scrollX=g,this.dirty=!0)},"set")},scrollY:{get:r(function(){return this._scrollY},"get"),set:r(function(g){g!==this._scrollY&&(this._scrollY=g,this.dirty=!0)},"set")},zoom:{get:r(function(){return(this._zoomX+this._zoomY)/2},"get"),set:r(function(g){this._zoomX=g,this._zoomY=g,this.dirty=!0},"set")},zoomX:{get:r(function(){return this._zoomX},"get"),set:r(function(g){this._zoomX=g,this.dirty=!0},"set")},zoomY:{get:r(function(){return this._zoomY},"get"),set:r(function(g){this._zoomY=g,this.dirty=!0},"set")},rotation:{get:r(function(){return this._rotation},"get"),set:r(function(g){this._rotation=g,this.dirty=!0},"set")},centerX:{get:r(function(){return this.x+.5*this.width},"get")},centerY:{get:r(function(){return this.y+.5*this.height},"get")},displayWidth:{get:r(function(){return this.width/this.zoomX},"get")},displayHeight:{get:r(function(){return this.height/this.zoomY},"get")}});n.exports=p}),38058:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71911),m=i(67502),c=i(45319),u=i(83419),l=i(31401),o=i(20052),d=i(19715),v=i(28915),f=i(87841),p=i(26099),g=new u({Extends:h,Mixins:[l.PostPipeline],initialize:r(function(C,S,E,w){h.call(this,C,S,E,w),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new o.Fade(this),this.flashEffect=new o.Flash(this),this.shakeEffect=new o.Shake(this),this.panEffect=new o.Pan(this),this.rotateToEffect=new o.RotateTo(this),this.zoomEffect=new o.Zoom(this),this.lerp=new p(1,1),this.followOffset=new p,this.deadzone=null,this._follow=null},"Camera"),setDeadzone:r(function(y,C){if(y===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=y,this.deadzone.height=C):this.deadzone=new f(0,0,y,C),this._follow){var S=this.width/2,E=this.height/2,w=this._follow.x-this.followOffset.x,M=this._follow.y-this.followOffset.y;this.midPoint.set(w,M),this.scrollX=w-S,this.scrollY=M-E}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},"setDeadzone"),fadeIn:r(function(y,C,S,E,w,M){return this.fadeEffect.start(!1,y,C,S,E,!0,w,M)},"fadeIn"),fadeOut:r(function(y,C,S,E,w,M){return this.fadeEffect.start(!0,y,C,S,E,!0,w,M)},"fadeOut"),fadeFrom:r(function(y,C,S,E,w,M,R){return this.fadeEffect.start(!1,y,C,S,E,w,M,R)},"fadeFrom"),fade:r(function(y,C,S,E,w,M,R){return this.fadeEffect.start(!0,y,C,S,E,w,M,R)},"fade"),flash:r(function(y,C,S,E,w,M,R){return this.flashEffect.start(y,C,S,E,w,M,R)},"flash"),shake:r(function(y,C,S,E,w){return this.shakeEffect.start(y,C,S,E,w)},"shake"),pan:r(function(y,C,S,E,w,M,R){return this.panEffect.start(y,C,S,E,w,M,R)},"pan"),rotateTo:r(function(y,C,S,E,w,M,R){return this.rotateToEffect.start(y,C,S,E,w,M,R)},"rotateTo"),zoomTo:r(function(y,C,S,E,w,M){return this.zoomEffect.start(y,C,S,E,w,M)},"zoomTo"),preRender:r(function(){this.renderList.length=0;var y=this.width,C=this.height,S=y*.5,E=C*.5,w=this.zoomX,M=this.zoomY,R=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(w)&&Number.isInteger(M);var O=y*this.originX,b=C*this.originY,A=this._follow,I=this.deadzone,L=this.scrollX,F=this.scrollY;I&&m(I,this.midPoint.x,this.midPoint.y);var D=!1;if(A&&!this.panEffect.isRunning){var B=this.lerp,V=A.x-this.followOffset.x,U=A.y-this.followOffset.y;I?(V<I.x?L=v(L,L-(I.x-V),B.x):V>I.right&&(L=v(L,L+(V-I.right),B.x)),U<I.y?F=v(F,F-(I.y-U),B.y):U>I.bottom&&(F=v(F,F+(U-I.bottom),B.y))):(L=v(L,V-O,B.x),F=v(F,U-b,B.y)),D=!0}this.roundPixels&&(L=Math.floor(L),F=Math.floor(F)),this.useBounds&&(L=this.clampX(L),F=this.clampY(F)),this.scrollX=L,this.scrollY=F;var W=L+S,Y=F+E;this.midPoint.set(W,Y);var N=Math.floor(y/w+.5),z=Math.floor(C/M+.5),G=Math.floor(W-N/2+.5),X=Math.floor(Y-z/2+.5);this.worldView.setTo(G,X,N,z),R.applyITRS(Math.floor(this.x+O+.5),Math.floor(this.y+b+.5),this.rotation,w,M),R.translate(-O,-b),this.shakeEffect.preRender(),D&&this.emit(d.FOLLOW_UPDATE,this,A)},"preRender"),setLerp:r(function(y,C){return y===void 0&&(y=1),C===void 0&&(C=y),this.lerp.set(y,C),this},"setLerp"),setFollowOffset:r(function(y,C){return y===void 0&&(y=0),C===void 0&&(C=0),this.followOffset.set(y,C),this},"setFollowOffset"),startFollow:r(function(y,C,S,E,w,M){C===void 0&&(C=!1),S===void 0&&(S=1),E===void 0&&(E=S),w===void 0&&(w=0),M===void 0&&(M=w),this._follow=y,this.roundPixels=C,S=c(S,0,1),E=c(E,0,1),this.lerp.set(S,E),this.followOffset.set(w,M);var R=this.width/2,O=this.height/2,b=y.x-w,A=y.y-M;return this.midPoint.set(b,A),this.scrollX=b-R,this.scrollY=A-O,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},"startFollow"),stopFollow:r(function(){return this._follow=null,this},"stopFollow"),resetFX:r(function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},"resetFX"),update:r(function(y,C){this.visible&&(this.rotateToEffect.update(y,C),this.panEffect.update(y,C),this.zoomEffect.update(y,C),this.shakeEffect.update(y,C),this.flashEffect.update(y,C),this.fadeEffect.update(y,C))},"update"),destroy:r(function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null},"destroy")});n.exports=g}),32743:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(38058),m=i(83419),c=i(95540),u=i(37277),l=i(37303),o=i(97480),d=i(44594),v=new m({initialize:r(function(p){this.scene=p,this.systems=p.sys,this.roundPixels=p.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,p.sys.events.once(d.BOOT,this.boot,this),p.sys.events.on(d.START,this.start,this)},"CameraManager"),boot:r(function(){var f=this.systems;f.settings.cameras?this.fromJSON(f.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,f.scale.width,f.scale.height).setScene(this.scene),f.game.scale.on(o.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},"boot"),start:r(function(){if(!this.main){var f=this.systems;f.settings.cameras?this.fromJSON(f.settings.cameras):this.add(),this.main=this.cameras[0]}var p=this.systems.events;p.on(d.UPDATE,this.update,this),p.once(d.SHUTDOWN,this.shutdown,this)},"start"),add:r(function(f,p,g,y,C,S){f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=this.scene.sys.scale.width),y===void 0&&(y=this.scene.sys.scale.height),C===void 0&&(C=!1),S===void 0&&(S="");var E=new h(f,p,g,y);return E.setName(S),E.setScene(this.scene),E.setRoundPixels(this.roundPixels),E.id=this.getNextID(),this.cameras.push(E),C&&(this.main=E),E},"add"),addExisting:r(function(f,p){p===void 0&&(p=!1);var g=this.cameras.indexOf(f);return g===-1?(f.id=this.getNextID(),f.setRoundPixels(this.roundPixels),this.cameras.push(f),p&&(this.main=f),f):null},"addExisting"),getNextID:r(function(){for(var f=this.cameras,p=1,g=0;g<32;g++){for(var y=!1,C=0;C<f.length;C++){var S=f[C];if(S&&S.id===p){y=!0;continue}}if(y)p=p<<1;else return p}return 0},"getNextID"),getTotal:r(function(f){f===void 0&&(f=!1);for(var p=0,g=this.cameras,y=0;y<g.length;y++){var C=g[y];(!f||f&&C.visible)&&p++}return p},"getTotal"),fromJSON:r(function(f){Array.isArray(f)||(f=[f]);for(var p=this.scene.sys.scale.width,g=this.scene.sys.scale.height,y=0;y<f.length;y++){var C=f[y],S=c(C,"x",0),E=c(C,"y",0),w=c(C,"width",p),M=c(C,"height",g),R=this.add(S,E,w,M);R.name=c(C,"name",""),R.zoom=c(C,"zoom",1),R.rotation=c(C,"rotation",0),R.scrollX=c(C,"scrollX",0),R.scrollY=c(C,"scrollY",0),R.roundPixels=c(C,"roundPixels",!1),R.visible=c(C,"visible",!0);var O=c(C,"backgroundColor",!1);O&&R.setBackgroundColor(O);var b=c(C,"bounds",null);if(b){var A=c(b,"x",0),I=c(b,"y",0),L=c(b,"width",p),F=c(b,"height",g);R.setBounds(A,I,L,F)}}return this},"fromJSON"),getCamera:r(function(f){for(var p=this.cameras,g=0;g<p.length;g++)if(p[g].name===f)return p[g];return null},"getCamera"),getCamerasBelowPointer:r(function(f){for(var p=this.cameras,g=f.x,y=f.y,C=[],S=0;S<p.length;S++){var E=p[S];E.visible&&E.inputEnabled&&l(E,g,y)&&C.unshift(E)}return C},"getCamerasBelowPointer"),remove:r(function(f,p){p===void 0&&(p=!0),Array.isArray(f)||(f=[f]);for(var g=0,y=this.cameras,C=0;C<f.length;C++){var S=y.indexOf(f[C]);S!==-1&&(p?y[S].destroy():y[S].renderList=[],y.splice(S,1),g++)}return!this.main&&y[0]&&(this.main=y[0]),g},"remove"),render:r(function(f,p){for(var g=this.scene,y=this.cameras,C=0;C<y.length;C++){var S=y[C];if(S.visible&&S.alpha>0){S.preRender();var E=this.getVisibleChildren(p.getChildren(),S);f.render(g,E,S)}}},"render"),getVisibleChildren:r(function(f,p){return f.filter(function(g){return g.willRender(p)})},"getVisibleChildren"),resetAll:r(function(){for(var f=0;f<this.cameras.length;f++)this.cameras[f].destroy();return this.cameras=[],this.main=this.add(),this.main},"resetAll"),update:r(function(f,p){for(var g=0;g<this.cameras.length;g++)this.cameras[g].update(f,p)},"update"),onResize:r(function(f,p,g,y,C){for(var S=0;S<this.cameras.length;S++){var E=this.cameras[S];E._x===0&&E._y===0&&E._width===y&&E._height===C&&E.setSize(p.width,p.height)}},"onResize"),resize:r(function(f,p){for(var g=0;g<this.cameras.length;g++)this.cameras[g].setSize(f,p)},"resize"),shutdown:r(function(){this.main=void 0;for(var f=0;f<this.cameras.length;f++)this.cameras[f].destroy();this.cameras=[];var p=this.systems.events;p.off(d.UPDATE,this.update,this),p.off(d.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(o.RESIZE,this.onResize,this),this.scene=null,this.systems=null},"destroy")});u.register("CameraManager",v,"cameras"),n.exports=v}),5020:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(19715),u=new m({initialize:r(function(o){this.camera=o,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},"Fade"),start:r(function(l,o,d,v,f,p,g,y){if(l===void 0&&(l=!0),o===void 0&&(o=1e3),d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=!1),g===void 0&&(g=null),y===void 0&&(y=this.camera.scene),!p&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=o,this.direction=l,this.progress=0,this.red=d,this.green=v,this.blue=f,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=y;var C=l?c.FADE_OUT_START:c.FADE_IN_START;return this.camera.emit(C,this.camera,this,o,d,v,f),this.camera},"start"),update:r(function(l,o){this.isRunning&&(this._elapsed+=o,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},"update"),postRenderCanvas:r(function(l){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(o.x,o.y,o.width,o.height),!0},"postRenderCanvas"),postRenderWebGL:r(function(l,o){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera,v=this.red/255,f=this.green/255,p=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,o(p,f,v,1),this.alpha),!0},"postRenderWebGL"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?c.FADE_OUT_COMPLETE:c.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null},"destroy")});n.exports=u}),10662:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(19715),u=new m({initialize:r(function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},"Flash"),start:r(function(l,o,d,v,f,p,g){return l===void 0&&(l=250),o===void 0&&(o=255),d===void 0&&(d=255),v===void 0&&(v=255),f===void 0&&(f=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=o,this.green=d,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.camera.emit(c.FLASH_START,this.camera,this,l,o,d,v),this.camera)},"start"),update:r(function(l,o){this.isRunning&&(this._elapsed+=o,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},"update"),postRenderCanvas:r(function(l){if(!this.isRunning)return!1;var o=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(o.x,o.y,o.width,o.height),!0},"postRenderCanvas"),postRenderWebGL:r(function(l,o){if(!this.isRunning)return!1;var d=this.camera,v=this.red/255,f=this.green/255,p=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,o(p,f,v,1),this.alpha),!0},"postRenderWebGL"),effectComplete:r(function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.FLASH_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null},"destroy")});n.exports=u}),20359:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(62640),u=i(19715),l=i(26099),o=new m({initialize:r(function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},"Pan"),start:r(function(d,v,f,p,g,y,C){f===void 0&&(f=1e3),p===void 0&&(p=c.Linear),g===void 0&&(g=!1),y===void 0&&(y=null),C===void 0&&(C=this.camera.scene);var S=this.camera;return!g&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source.set(S.scrollX,S.scrollY),this.destination.set(d,v),S.getScroll(d,v,this.current),typeof p=="string"&&c.hasOwnProperty(p)?this.ease=c[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=y,this._onUpdateScope=C,this.camera.emit(u.PAN_START,this.camera,this,f,d,v)),S},"start"),update:r(function(d,v){if(this.isRunning){this._elapsed+=v;var f=h(this._elapsed/this.duration,0,1);this.progress=f;var p=this.camera;if(this._elapsed<this.duration){var g=this.ease(f);p.getScroll(this.destination.x,this.destination.y,this.current);var y=this.source.x+(this.current.x-this.source.x)*g,C=this.source.y+(this.current.y-this.source.y)*g;p.setScroll(y,C),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,f,y,C)}else p.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,f,p.scrollX,p.scrollY),this.effectComplete()}},"update"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.PAN_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null,this.source=null,this.destination=null},"destroy")});n.exports=o}),34208:((n,T,i)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=i(45319),m=i(83419),c=i(19715),u=i(62640),l=new m({initialize:r(function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},"RotateTo"),start:r(function(o,d,v,f,p,g,y){v===void 0&&(v=1e3),f===void 0&&(f=u.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),y===void 0&&(y=this.camera.scene),d===void 0&&(d=!1),this.shortestPath=d;var C=o;o<0?(C=-1*o,this.clockwise=!1):this.clockwise=!0;var S=360*Math.PI/180;C=C-Math.floor(C/S)*S;var E=this.camera;if(!p&&this.isRunning)return E;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=E.rotation,this.destination=C,typeof f=="string"&&u.hasOwnProperty(f)?this.ease=u[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=y,this.shortestPath){var w=0,M=0;this.destination>this.source?w=Math.abs(this.destination-this.source):w=Math.abs(this.destination+S)-this.source,this.source>this.destination?M=Math.abs(this.source-this.destination):M=Math.abs(this.source+S)-this.destination,w<M?this.clockwise=!0:w>M&&(this.clockwise=!1)}return this.camera.emit(c.ROTATE_START,this.camera,this,v,C),E},"start"),update:r(function(o,d){if(this.isRunning){this._elapsed+=d;var v=h(this._elapsed/this.duration,0,1);this.progress=v;var f=this.camera;if(this._elapsed<this.duration){var p=this.ease(v);this.current=f.rotation;var g=0,y=360*Math.PI/180,C=this.destination,S=this.current;this.clockwise===!1&&(C=this.current,S=this.destination),C>=S?g=Math.abs(C-S):g=Math.abs(C+y)-S;var E=0;this.clockwise?E=f.rotation+g*p:E=f.rotation-g*p,f.rotation=E,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,v,E)}else f.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,v,this.destination),this.effectComplete()}},"update"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.ROTATE_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null,this.source=null,this.destination=null},"destroy")});n.exports=l}),30330:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(19715),u=i(26099),l=new m({initialize:r(function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new u,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},"Shake"),start:r(function(o,d,v,f,p){return o===void 0&&(o=100),d===void 0&&(d=.05),v===void 0&&(v=!1),f===void 0&&(f=null),p===void 0&&(p=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,typeof d=="number"?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=f,this._onUpdateScope=p,this.camera.emit(c.SHAKE_START,this.camera,this,o,d),this.camera)},"start"),preRender:r(function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},"preRender"),update:r(function(o,d){if(this.isRunning)if(this._elapsed+=d,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,f=this.camera.width,p=this.camera.height,g=this.camera.zoom;this._offsetX=(Math.random()*v.x*f*2-v.x*f)*g,this._offsetY=(Math.random()*v.y*p*2-v.y*p)*g,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},"update"),effectComplete:r(function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.SHAKE_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null,this.intensity=null},"destroy")});n.exports=l}),45641:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(62640),u=i(19715),l=new m({initialize:r(function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},"Zoom"),start:r(function(o,d,v,f,p,g){d===void 0&&(d=1e3),v===void 0&&(v=c.Linear),f===void 0&&(f=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene);var y=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=y.zoom,this.destination=o,typeof v=="string"&&c.hasOwnProperty(v)?this.ease=c[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.camera.emit(u.ZOOM_START,this.camera,this,d,o)),y},"start"),update:r(function(o,d){this.isRunning&&(this._elapsed+=d,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},"update"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ZOOM_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null},"destroy")});n.exports=l}),20052:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}}),16438:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"}),32726:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"}),87807:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"}),45917:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"}),95666:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"}),47056:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"}),91261:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"}),45047:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"}),81927:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"}),74264:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"}),54419:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"}),79330:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"}),93183:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"}),80112:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"}),62252:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"}),86017:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"}),539:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"}),51892:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"}),19715:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}}),87969:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}}),63091:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(35154),c=new h({initialize:r(function(l){this.camera=m(l,"camera",null),this.left=m(l,"left",null),this.right=m(l,"right",null),this.up=m(l,"up",null),this.down=m(l,"down",null),this.zoomIn=m(l,"zoomIn",null),this.zoomOut=m(l,"zoomOut",null),this.zoomSpeed=m(l,"zoomSpeed",.01),this.minZoom=m(l,"minZoom",.001),this.maxZoom=m(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var o=m(l,"speed",null);typeof o=="number"?(this.speedX=o,this.speedY=o):(this.speedX=m(l,"speed.x",0),this.speedY=m(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},"FixedKeyControl"),start:r(function(){return this.active=this.camera!==null,this},"start"),stop:r(function(){return this.active=!1,this},"stop"),setCamera:r(function(u){return this.camera=u,this},"setCamera"),update:r(function(u){if(this.active){u===void 0&&(u=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*u|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*u|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*u|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*u|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},"update"),destroy:r(function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null},"destroy")});n.exports=c}),58818:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(35154),c=new h({initialize:r(function(l){this.camera=m(l,"camera",null),this.left=m(l,"left",null),this.right=m(l,"right",null),this.up=m(l,"up",null),this.down=m(l,"down",null),this.zoomIn=m(l,"zoomIn",null),this.zoomOut=m(l,"zoomOut",null),this.zoomSpeed=m(l,"zoomSpeed",.01),this.minZoom=m(l,"minZoom",.001),this.maxZoom=m(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var o=m(l,"acceleration",null);typeof o=="number"?(this.accelX=o,this.accelY=o):(this.accelX=m(l,"acceleration.x",0),this.accelY=m(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=m(l,"drag",null);typeof d=="number"?(this.dragX=d,this.dragY=d):(this.dragX=m(l,"drag.x",0),this.dragY=m(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=m(l,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=m(l,"maxSpeed.x",0),this.maxSpeedY=m(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},"SmoothedKeyControl"),start:r(function(){return this.active=this.camera!==null,this},"start"),stop:r(function(){return this.active=!1,this},"stop"),setCamera:r(function(u){return this.camera=u,this},"setCamera"),update:r(function(u){if(this.active){u===void 0&&(u=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*u,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*u,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*u,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*u,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*u|0),this._speedY!==0&&(l.scrollY-=this._speedY*u|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},"update"),destroy:r(function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null},"destroy")});n.exports=c}),38865:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}}),26638:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:i(38865),Scene2D:i(87969)}}),8054:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=h}),69547:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(8054),c=i(42363),u=i(82264),l=i(95540),o=i(35154),d=i(41212),v=i(29747),f=i(75508),p=i(36060),g=i(80333),y=new h({initialize:r(function(S){S===void 0&&(S={});var E=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],w="#ffffff",M=o(S,"scale",null);this.width=o(M,"width",1024,S),this.height=o(M,"height",768,S),this.zoom=o(M,"zoom",1,S),this.parent=o(M,"parent",void 0,S),this.scaleMode=o(M,M?"mode":"scaleMode",0,S),this.expandParent=o(M,"expandParent",!0,S),this.autoRound=o(M,"autoRound",!1,S),this.autoCenter=o(M,"autoCenter",0,S),this.resizeInterval=o(M,"resizeInterval",500,S),this.fullscreenTarget=o(M,"fullscreenTarget",null,S),this.minWidth=o(M,"min.width",0,S),this.maxWidth=o(M,"max.width",0,S),this.minHeight=o(M,"min.height",0,S),this.maxHeight=o(M,"max.height",0,S),this.snapWidth=o(M,"snap.width",0,S),this.snapHeight=o(M,"snap.height",0,S),this.renderType=o(S,"type",m.AUTO),this.canvas=o(S,"canvas",null),this.context=o(S,"context",null),this.canvasStyle=o(S,"canvasStyle",null),this.customEnvironment=o(S,"customEnvironment",!1),this.sceneConfig=o(S,"scene",null),this.seed=o(S,"seed",[(Date.now()*Math.random()).toString()]),f.RND=new f.RandomDataGenerator(this.seed),this.gameTitle=o(S,"title",""),this.gameURL=o(S,"url","https://phaser.io/"+m.LOG_VERSION),this.gameVersion=o(S,"version",""),this.autoFocus=o(S,"autoFocus",!0),this.stableSort=o(S,"stableSort",-1),this.stableSort===-1&&(this.stableSort=u.browser.es2019?1:0),u.features.stableSort=this.stableSort,this.domCreateContainer=o(S,"dom.createContainer",!1),this.domPointerEvents=o(S,"dom.pointerEvents","none"),this.inputKeyboard=o(S,"input.keyboard",!0),this.inputKeyboardEventTarget=o(S,"input.keyboard.target",window),this.inputKeyboardCapture=o(S,"input.keyboard.capture",[]),this.inputMouse=o(S,"input.mouse",!0),this.inputMouseEventTarget=o(S,"input.mouse.target",null),this.inputMousePreventDefaultDown=o(S,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=o(S,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=o(S,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=o(S,"input.mouse.preventDefaultWheel",!0),this.inputTouch=o(S,"input.touch",u.input.touch),this.inputTouchEventTarget=o(S,"input.touch.target",null),this.inputTouchCapture=o(S,"input.touch.capture",!0),this.inputActivePointers=o(S,"input.activePointers",1),this.inputSmoothFactor=o(S,"input.smoothFactor",0),this.inputWindowEvents=o(S,"input.windowEvents",!0),this.inputGamepad=o(S,"input.gamepad",!1),this.inputGamepadEventTarget=o(S,"input.gamepad.target",window),this.disableContextMenu=o(S,"disableContextMenu",!1),this.audio=o(S,"audio",{}),this.hideBanner=o(S,"banner",null)===!1,this.hidePhaser=o(S,"banner.hidePhaser",!1),this.bannerTextColor=o(S,"banner.text",w),this.bannerBackgroundColor=o(S,"banner.background",E),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=o(S,"fps",null),this.disablePreFX=o(S,"disablePreFX",!1),this.disablePostFX=o(S,"disablePostFX",!1);var R=o(S,"render",null);this.pipeline=o(R,"pipeline",null,S),this.autoMobilePipeline=o(R,"autoMobilePipeline",!0,S),this.defaultPipeline=o(R,"defaultPipeline",p.MULTI_PIPELINE,S),this.antialias=o(R,"antialias",!0,S),this.antialiasGL=o(R,"antialiasGL",!0,S),this.mipmapFilter=o(R,"mipmapFilter","",S),this.desynchronized=o(R,"desynchronized",!1,S),this.roundPixels=o(R,"roundPixels",!1,S),this.pixelArt=o(R,"pixelArt",this.zoom!==1,S),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=o(R,"transparent",!1,S),this.clearBeforeRender=o(R,"clearBeforeRender",!0,S),this.preserveDrawingBuffer=o(R,"preserveDrawingBuffer",!1,S),this.premultipliedAlpha=o(R,"premultipliedAlpha",!0,S),this.failIfMajorPerformanceCaveat=o(R,"failIfMajorPerformanceCaveat",!1,S),this.powerPreference=o(R,"powerPreference","default",S),this.batchSize=o(R,"batchSize",4096,S),this.maxTextures=o(R,"maxTextures",-1,S),this.maxLights=o(R,"maxLights",10,S);var O=o(S,"backgroundColor",0);this.backgroundColor=g(O),this.transparent&&(this.backgroundColor=g(0),this.backgroundColor.alpha=0),this.preBoot=o(S,"callbacks.preBoot",v),this.postBoot=o(S,"callbacks.postBoot",v),this.physics=o(S,"physics",{}),this.defaultPhysicsSystem=o(this.physics,"default",!1),this.loaderBaseURL=o(S,"loader.baseURL",""),this.loaderPath=o(S,"loader.path",""),this.loaderMaxParallelDownloads=o(S,"loader.maxParallelDownloads",u.os.android?6:32),this.loaderCrossOrigin=o(S,"loader.crossOrigin",void 0),this.loaderResponseType=o(S,"loader.responseType",""),this.loaderAsync=o(S,"loader.async",!0),this.loaderUser=o(S,"loader.user",""),this.loaderPassword=o(S,"loader.password",""),this.loaderTimeout=o(S,"loader.timeout",0),this.loaderMaxRetries=o(S,"loader.maxRetries",2),this.loaderWithCredentials=o(S,"loader.withCredentials",!1),this.loaderImageLoadType=o(S,"loader.imageLoadType","XHR"),this.loaderLocalScheme=o(S,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=o(S,"fx.glow.quality",.1),this.glowFXDistance=o(S,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var b=o(S,"plugins",null),A=c.DefaultScene;b&&(Array.isArray(b)?this.defaultPlugins=b:d(b)&&(this.installGlobalPlugins=l(b,"global",[]),this.installScenePlugins=l(b,"scene",[]),Array.isArray(b.default)?A=b.default:Array.isArray(b.defaultMerge)&&(A=A.concat(b.defaultMerge)))),this.defaultPlugins=A;var I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=o(S,"images.default",I+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=o(S,"images.missing",I+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=o(S,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))},"Config")});n.exports=y}),86054:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20623),m=i(27919),c=i(8054),u=i(89357),l=r(function(o){var d=o.config;if((d.customEnvironment||d.canvas)&&d.renderType===c.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==c.HEADLESS)if(d.renderType===c.AUTO&&(d.renderType=u.webGL?c.WEBGL:c.CANVAS),d.renderType===c.WEBGL){if(!u.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(d.renderType===c.CANVAS){if(!u.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+d.renderType);d.antialias||m.disableSmoothing();var v=o.scale.baseSize,f=v.width,p=v.height;if(d.canvas?(o.canvas=d.canvas,o.canvas.width=f,o.canvas.height=p):o.canvas=m.create(o,f,p,d.renderType),d.canvasStyle&&(o.canvas.style=d.canvasStyle),d.antialias||h.setCrisp(o.canvas),d.renderType!==c.HEADLESS){var g,y;g=i(68627),y=i(74797),d.renderType===c.WEBGL?o.renderer=new y(o):(o.renderer=new g(o),o.context=o.renderer.gameContext)}},"CreateRenderer");n.exports=l}),96391:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8054),m=r(function(c){var u=c.config;if(!u.hideBanner){var l="WebGL";u.renderType===h.CANVAS?l="Canvas":u.renderType===h.HEADLESS&&(l="Headless");var o=u.audio,d=c.device.audio,v;if(d.webAudio&&!o.disableWebAudio?v="Web Audio":o.noAudio||!d.webAudio&&!d.audioData?v="No Audio":v="HTML5 Audio",c.device.browser.ie)window.console&&""+h.VERSION;else{var f="",p=[f];if(Array.isArray(u.bannerBackgroundColor)){var g;u.bannerBackgroundColor.forEach(function(C){f=f.concat("%c "),p.push("background: "+C),g=C}),p[p.length-1]="color: "+u.bannerTextColor+"; background: "+g}else f=f.concat("%c "),p.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor);p.push("background: transparent"),u.gameTitle&&(f=f.concat(u.gameTitle),u.gameVersion&&(f=f.concat(" v"+u.gameVersion)),u.hidePhaser||(f=f.concat(" / ")));var y="";u.hidePhaser||(f=f.concat("Phaser v"+h.VERSION+y+" ("+l+" | "+v+")")),f=f.concat(" %c "+u.gameURL),p[0]=f,console.log.apply(console,p)}}},"DebugHeader");n.exports=m}),50127:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40366),m=i(60848),c=i(24047),u=i(27919),l=i(83419),o=i(69547),d=i(83719),v=i(86054),f=i(45893),p=i(96391),g=i(82264),y=i(57264),C=i(50792),S=i(8443),E=i(7003),w=i(37277),M=i(77332),R=i(76531),O=i(60903),b=i(69442),A=i(17130),I=i(65898),L=i(51085),F=i(14747),D=new l({initialize:r(function(V){this.config=new o(V),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new C,this.anims=new m(this),this.textures=new A(this),this.cache=new c(this),this.registry=new f(this,new C),this.input=new E(this,this.config),this.scene=new O(this,this.config.sceneConfig),this.device=g,this.scale=new R(this,this.config),this.sound=null,this.sound=F.create(this),this.loop=new I(this,this.config.fps),this.plugins=new M(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,y(this.boot.bind(this))},"Game"),boot:r(function(){if(!w.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),d(this),p(this),h(this.canvas,this.config.parent),this.textures.once(b.READY,this.texturesReady,this),this.events.emit(S.BOOT)},"boot"),texturesReady:r(function(){this.events.emit(S.READY),this.start()},"texturesReady"),start:r(function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var B=this.events;B.on(S.HIDDEN,this.onHidden,this),B.on(S.VISIBLE,this.onVisible,this),B.on(S.BLUR,this.onBlur,this),B.on(S.FOCUS,this.onFocus,this)},"start"),step:r(function(B,V){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(S.PRE_STEP,B,V),U.emit(S.STEP,B,V),this.scene.update(B,V),U.emit(S.POST_STEP,B,V);var W=this.renderer;W.preRender(),U.emit(S.PRE_RENDER,W,B,V),this.scene.render(W),W.postRender(),U.emit(S.POST_RENDER,W,B,V)}},"step"),headlessStep:r(function(B,V){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(S.PRE_STEP,B,V),U.emit(S.STEP,B,V),this.scene.update(B,V),U.emit(S.POST_STEP,B,V),this.scene.isProcessing=!1,U.emit(S.PRE_RENDER,null,B,V),U.emit(S.POST_RENDER,null,B,V)}},"headlessStep"),onHidden:r(function(){this.loop.pause(),this.events.emit(S.PAUSE)},"onHidden"),pause:r(function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(S.PAUSE)},"pause"),onVisible:r(function(){this.loop.resume(),this.events.emit(S.RESUME,this.loop.pauseDuration)},"onVisible"),resume:r(function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(S.RESUME,0)},"resume"),onBlur:r(function(){this.hasFocus=!1,this.loop.blur()},"onBlur"),onFocus:r(function(){this.hasFocus=!0,this.loop.focus()},"onFocus"),getFrame:r(function(){return this.loop.frame},"getFrame"),getTime:r(function(){return this.loop.now},"getTime"),destroy:r(function(B,V){V===void 0&&(V=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=V},"destroy"),runDestroy:r(function(){this.scene.destroy(),this.events.emit(S.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1},"runDestroy")});n.exports=D}),65898:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(35154),c=i(29747),u=i(43092),l=new h({initialize:r(function(d,v){this.game=d,this.raf=new u,this.started=!1,this.running=!1,this.minFps=m(v,"min",5),this.targetFps=m(v,"target",60),this.fpsLimit=m(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=c,this.forceSetTimeOut=m(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(v,"deltaHistory",10),this.panicMax=m(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(v,"smoothStep",!0)},"TimeStep"),blur:r(function(){this.inFocus=!1},"blur"),focus:r(function(){this.inFocus=!0,this.resetDelta()},"focus"),pause:r(function(){this._pauseTime=window.performance.now()},"pause"),resume:r(function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},"resume"),resetDelta:r(function(){var o=window.performance.now();this.time=o,this.lastTime=o,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},"resetDelta"),start:r(function(o){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=o;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},"start"),smoothDelta:r(function(o){var d=this.deltaIndex,v=this.deltaHistory,f=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,o=Math.min(o,this._target)),o>this._min&&(o=v[d],o=Math.min(o,this._min)),v[d]=o,this.deltaIndex++,this.deltaIndex>=f&&(this.deltaIndex=0);for(var p=0,g=0;g<f;g++)p+=v[g];return p/=f,p},"smoothDelta"),updateFPS:r(function(o){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0},"updateFPS"),stepLimitFPS:r(function(o){this.now=o;var d=Math.max(0,o-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(o,this.delta),this.delta=0),this.lastTime=o,this.frame++},"stepLimitFPS"),step:r(function(o){this.now=o;var d=Math.max(0,o-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.callback(o,d),this.lastTime=o,this.frame++},"step"),tick:r(function(){var o=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(o):this.step(o)},"tick"),sleep:r(function(){this.running&&(this.raf.stop(),this.running=!1)},"sleep"),wake:r(function(o){o===void 0&&(o=!1);var d=window.performance.now();if(!this.running){o&&(this.startTime+=-this.lastTime+(this.lastTime+d));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},"wake"),getDuration:r(function(){return Math.round(this.lastTime-this.startTime)/1e3},"getDuration"),getDurationMS:r(function(){return Math.round(this.lastTime-this.startTime)},"getDurationMS"),stop:r(function(){return this.running=!1,this.started=!1,this.raf.stop(),this},"stop"),destroy:r(function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null},"destroy")});n.exports=l}),51085:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8443),m=r(function(c){var u,l=c.events;if(document.hidden!==void 0)u="visibilitychange";else{var o=["webkit","moz","ms"];o.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},u=v+"visibilitychange")})}var d=r(function(v){document.hidden||v.type==="pause"?l.emit(h.HIDDEN):l.emit(h.VISIBLE)},"onChange");u&&document.addEventListener(u,d,!1),window.onblur=function(){l.emit(h.BLUR)},window.onfocus=function(){l.emit(h.FOCUS)},window.focus&&c.config.autoFocus&&window.focus()},"VisibilityHandler");n.exports=m}),97217:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"}),47548:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"}),19814:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"}),68446:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),41700:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"}),25432:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"}),65942:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),59211:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"}),47789:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"}),39066:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"}),460:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"}),16175:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"}),42331:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),11966:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"}),32969:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"}),94830:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"}),8443:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}}),42857:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}}),99584:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(5290),m=i(27919),c=i(35154),u=r(function(l){var o=c(l,"data",[]),d=c(l,"canvas",null),v=c(l,"palette",h),f=c(l,"pixelWidth",1),p=c(l,"pixelHeight",f),g=c(l,"resizeCanvas",!0),y=c(l,"clearCanvas",!0),C=c(l,"preRender",null),S=c(l,"postRender",null),E=Math.floor(Math.abs(o[0].length*f)),w=Math.floor(Math.abs(o.length*p));d||(d=m.create2D(this,E,w),g=!1,y=!1),g&&(d.width=E,d.height=w);var M=d.getContext("2d",{willReadFrequently:!0});y&&M.clearRect(0,0,E,w),C&&C(d,M);for(var R=0;R<o.length;R++)for(var O=o[R],b=0;b<O.length;b++){var A=O[b];A!=="."&&A!==" "&&(M.fillStyle=v[A],M.fillRect(b*f,R*p,f,p))}return S&&S(d,M),d},"GenerateTexture");n.exports=u}),15822:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:i(99584),Palettes:i(57763)}}),5290:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}}),23816:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}}),9866:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}}),77552:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}}),92259:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}}),57763:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}}),46728:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(36316),c=i(80021),u=i(26099),l=new h({Extends:c,initialize:r(function(d,v,f,p){c.call(this,"CubicBezierCurve"),Array.isArray(d)&&(p=new u(d[6],d[7]),f=new u(d[4],d[5]),v=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=v,this.p2=f,this.p3=p},"CubicBezierCurve"),getStartPoint:r(function(o){return o===void 0&&(o=new u),o.copy(this.p0)},"getStartPoint"),getResolution:r(function(o){return o},"getResolution"),getPoint:r(function(o,d){d===void 0&&(d=new u);var v=this.p0,f=this.p1,p=this.p2,g=this.p3;return d.set(m(o,v.x,f.x,p.x,g.x),m(o,v.y,f.y,p.y,g.y))},"getPoint"),draw:r(function(o,d){d===void 0&&(d=32);var v=this.getPoints(d);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var f=1;f<v.length;f++)o.lineTo(v[f].x,v[f].y);return o.strokePath(),o},"draw"),toJSON:r(function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}},"toJSON")});l.fromJSON=function(o){var d=o.points,v=new u(d[0],d[1]),f=new u(d[2],d[3]),p=new u(d[4],d[5]),g=new u(d[6],d[7]);return new l(v,f,p,g)},n.exports=l}),80021:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(19217),c=i(87841),u=i(26099),l=new h({initialize:r(function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new u,this._tmpVec2B=new u},"Curve"),draw:r(function(o,d){return d===void 0&&(d=32),o.strokePoints(this.getPoints(d))},"draw"),getBounds:r(function(o,d){o||(o=new c),d===void 0&&(d=16);var v=this.getLength();d>v&&(d=v/2);var f=Math.max(1,Math.round(v/d));return m(this.getSpacedPoints(f),o)},"getBounds"),getDistancePoints:r(function(o){var d=this.getLength(),v=Math.max(1,d/o);return this.getSpacedPoints(v)},"getDistancePoints"),getEndPoint:r(function(o){return o===void 0&&(o=new u),this.getPointAt(1,o)},"getEndPoint"),getLength:r(function(){var o=this.getLengths();return o[o.length-1]},"getLength"),getLengths:r(function(o){if(o===void 0&&(o=this.arcLengthDivisions),this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],v,f=this.getPoint(0,this._tmpVec2A),p=0;d.push(0);for(var g=1;g<=o;g++)v=this.getPoint(g/o,this._tmpVec2B),p+=v.distance(f),d.push(p),f.copy(v);return this.cacheArcLengths=d,d},"getLengths"),getPointAt:r(function(o,d){var v=this.getUtoTmapping(o);return this.getPoint(v,d)},"getPointAt"),getPoints:r(function(o,d,v){v===void 0&&(v=[]),o||(d?o=this.getLength()/d:o=this.defaultDivisions);for(var f=0;f<=o;f++)v.push(this.getPoint(f/o));return v},"getPoints"),getRandomPoint:r(function(o){return o===void 0&&(o=new u),this.getPoint(Math.random(),o)},"getRandomPoint"),getSpacedPoints:r(function(o,d,v){v===void 0&&(v=[]),o||(d?o=this.getLength()/d:o=this.defaultDivisions);for(var f=0;f<=o;f++){var p=this.getUtoTmapping(f/o,null,o);v.push(this.getPoint(p))}return v},"getSpacedPoints"),getStartPoint:r(function(o){return o===void 0&&(o=new u),this.getPointAt(0,o)},"getStartPoint"),getTangent:r(function(o,d){d===void 0&&(d=new u);var v=1e-4,f=o-v,p=o+v;return f<0&&(f=0),p>1&&(p=1),this.getPoint(f,this._tmpVec2A),this.getPoint(p,d),d.subtract(this._tmpVec2A).normalize()},"getTangent"),getTangentAt:r(function(o,d){var v=this.getUtoTmapping(o);return this.getTangent(v,d)},"getTangentAt"),getTFromDistance:r(function(o,d){return o<=0?0:this.getUtoTmapping(0,o,d)},"getTFromDistance"),getUtoTmapping:r(function(o,d,v){var f=this.getLengths(v),p=0,g=f.length,y;d?y=Math.min(d,f[g-1]):y=o*f[g-1];for(var C=0,S=g-1,E;C<=S;)if(p=Math.floor(C+(S-C)/2),E=f[p]-y,E<0)C=p+1;else if(E>0)S=p-1;else{S=p;break}if(p=S,f[p]===y)return p/(g-1);var w=f[p],M=f[p+1],R=M-w,O=(y-w)/R;return(p+O)/(g-1)},"getUtoTmapping"),updateArcLengths:r(function(){this.needsUpdate=!0,this.getLengths()},"updateArcLengths")});n.exports=l}),73825:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(80021),c=i(39506),u=i(35154),l=i(43396),o=i(26099),d=new h({Extends:m,initialize:r(function(f,p,g,y,C,S,E,w){if(typeof f=="object"){var M=f;f=u(M,"x",0),p=u(M,"y",0),g=u(M,"xRadius",0),y=u(M,"yRadius",g),C=u(M,"startAngle",0),S=u(M,"endAngle",360),E=u(M,"clockwise",!1),w=u(M,"rotation",0)}else y===void 0&&(y=g),C===void 0&&(C=0),S===void 0&&(S=360),E===void 0&&(E=!1),w===void 0&&(w=0);m.call(this,"EllipseCurve"),this.p0=new o(f,p),this._xRadius=g,this._yRadius=y,this._startAngle=c(C),this._endAngle=c(S),this._clockwise=E,this._rotation=c(w)},"EllipseCurve"),getStartPoint:r(function(v){return v===void 0&&(v=new o),this.getPoint(0,v)},"getStartPoint"),getResolution:r(function(v){return v*2},"getResolution"),getPoint:r(function(v,f){f===void 0&&(f=new o);for(var p=Math.PI*2,g=this._endAngle-this._startAngle,y=Math.abs(g)<Number.EPSILON;g<0;)g+=p;for(;g>p;)g-=p;g<Number.EPSILON&&(y?g=0:g=p),this._clockwise&&!y&&(g===p?g=-p:g=g-p);var C=this._startAngle+v*g,S=this.p0.x+this._xRadius*Math.cos(C),E=this.p0.y+this._yRadius*Math.sin(C);if(this._rotation!==0){var w=Math.cos(this._rotation),M=Math.sin(this._rotation),R=S-this.p0.x,O=E-this.p0.y;S=R*w-O*M+this.p0.x,E=R*M+O*w+this.p0.y}return f.set(S,E)},"getPoint"),setXRadius:r(function(v){return this.xRadius=v,this},"setXRadius"),setYRadius:r(function(v){return this.yRadius=v,this},"setYRadius"),setWidth:r(function(v){return this.xRadius=v/2,this},"setWidth"),setHeight:r(function(v){return this.yRadius=v/2,this},"setHeight"),setStartAngle:r(function(v){return this.startAngle=v,this},"setStartAngle"),setEndAngle:r(function(v){return this.endAngle=v,this},"setEndAngle"),setClockwise:r(function(v){return this.clockwise=v,this},"setClockwise"),setRotation:r(function(v){return this.rotation=v,this},"setRotation"),x:{get:r(function(){return this.p0.x},"get"),set:r(function(v){this.p0.x=v},"set")},y:{get:r(function(){return this.p0.y},"get"),set:r(function(v){this.p0.y=v},"set")},xRadius:{get:r(function(){return this._xRadius},"get"),set:r(function(v){this._xRadius=v},"set")},yRadius:{get:r(function(){return this._yRadius},"get"),set:r(function(v){this._yRadius=v},"set")},startAngle:{get:r(function(){return l(this._startAngle)},"get"),set:r(function(v){this._startAngle=c(v)},"set")},endAngle:{get:r(function(){return l(this._endAngle)},"get"),set:r(function(v){this._endAngle=c(v)},"set")},clockwise:{get:r(function(){return this._clockwise},"get"),set:r(function(v){this._clockwise=v},"set")},angle:{get:r(function(){return l(this._rotation)},"get"),set:r(function(v){this._rotation=c(v)},"set")},rotation:{get:r(function(){return this._rotation},"get"),set:r(function(v){this._rotation=v},"set")},toJSON:r(function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}},"toJSON")});d.fromJSON=function(v){return new d(v)},n.exports=d}),33951:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(80021),c=i(19217),u=i(87841),l=i(26099),o=new h({Extends:m,initialize:r(function(v,f){m.call(this,"LineCurve"),Array.isArray(v)&&(f=new l(v[2],v[3]),v=new l(v[0],v[1])),this.p0=v,this.p1=f,this.arcLengthDivisions=1},"LineCurve"),getBounds:r(function(d){return d===void 0&&(d=new u),c([this.p0,this.p1],d)},"getBounds"),getStartPoint:r(function(d){return d===void 0&&(d=new l),d.copy(this.p0)},"getStartPoint"),getResolution:r(function(d){return d===void 0&&(d=1),d},"getResolution"),getPoint:r(function(d,v){return v===void 0&&(v=new l),d===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),v)},"getPoint"),getPointAt:r(function(d,v){return this.getPoint(d,v)},"getPointAt"),getTangent:r(function(d,v){return v===void 0&&(v=new l),v.copy(this.p1).subtract(this.p0).normalize(),v},"getTangent"),getUtoTmapping:r(function(d,v,f){var p;if(v){var g=this.getLengths(f),y=g[g.length-1],C=Math.min(v,y);p=C/y}else p=d;return p},"getUtoTmapping"),draw:r(function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},"draw"),toJSON:r(function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}},"toJSON")});o.fromJSON=function(d){var v=d.points,f=new l(v[0],v[1]),p=new l(v[2],v[3]);return new o(f,p)},n.exports=o}),14744:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(80021),c=i(32112),u=i(26099),l=new h({Extends:m,initialize:r(function(d,v,f){m.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(f=new u(d[4],d[5]),v=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=v,this.p2=f},"QuadraticBezier"),getStartPoint:r(function(o){return o===void 0&&(o=new u),o.copy(this.p0)},"getStartPoint"),getResolution:r(function(o){return o},"getResolution"),getPoint:r(function(o,d){d===void 0&&(d=new u);var v=this.p0,f=this.p1,p=this.p2;return d.set(c(o,v.x,f.x,p.x),c(o,v.y,f.y,p.y))},"getPoint"),draw:r(function(o,d){d===void 0&&(d=32);var v=this.getPoints(d);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var f=1;f<v.length;f++)o.lineTo(v[f].x,v[f].y);return o.strokePath(),o},"draw"),toJSON:r(function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}},"toJSON")});l.fromJSON=function(o){var d=o.points,v=new u(d[0],d[1]),f=new u(d[2],d[3]),p=new u(d[4],d[5]);return new l(v,f,p)},n.exports=l}),42534:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87842),m=i(83419),c=i(80021),u=i(26099),l=new m({Extends:c,initialize:r(function(d){d===void 0&&(d=[]),c.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},"SplineCurve"),addPoints:r(function(o){for(var d=0;d<o.length;d++){var v=new u;typeof o[d]=="number"?(v.x=o[d],v.y=o[d+1],d++):Array.isArray(o[d])?(v.x=o[d][0],v.y=o[d][1]):(v.x=o[d].x,v.y=o[d].y),this.points.push(v)}return this},"addPoints"),addPoint:r(function(o,d){var v=new u(o,d);return this.points.push(v),v},"addPoint"),getStartPoint:r(function(o){return o===void 0&&(o=new u),o.copy(this.points[0])},"getStartPoint"),getResolution:r(function(o){return o*this.points.length},"getResolution"),getPoint:r(function(o,d){d===void 0&&(d=new u);var v=this.points,f=(v.length-1)*o,p=Math.floor(f),g=f-p,y=v[p===0?p:p-1],C=v[p],S=v[p>v.length-2?v.length-1:p+1],E=v[p>v.length-3?v.length-1:p+2];return d.set(h(g,y.x,C.x,S.x,E.x),h(g,y.y,C.y,S.y,E.y))},"getPoint"),toJSON:r(function(){for(var o=[],d=0;d<this.points.length;d++)o.push(this.points[d].x),o.push(this.points[d].y);return{type:this.type,points:o}},"toJSON")});l.fromJSON=function(o){return new l(o.points)},n.exports=l}),25410:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}}),68618:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(26099),c=new h({initialize:r(function(l,o){this.active=!1,this.p0=new m(l,o)},"MoveTo"),getPoint:r(function(u,l){return l===void 0&&(l=new m),l.copy(this.p0)},"getPoint"),getPointAt:r(function(u,l){return this.getPoint(u,l)},"getPointAt"),getResolution:r(function(){return 1},"getResolution"),getLength:r(function(){return 0},"getLength"),toJSON:r(function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}},"toJSON")});n.exports=c}),46669:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(46728),c=i(73825),u=i(39429),l=i(33951),o=i(68618),d=i(14744),v=i(87841),f=i(42534),p=i(26099),g=i(36383),y=new h({initialize:r(function(S,E){S===void 0&&(S=0),E===void 0&&(E=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new p,this._tmpVec2A=new p,this._tmpVec2B=new p,typeof S=="object"?this.fromJSON(S):this.startPoint.set(S,E)},"Path"),add:r(function(C){return this.curves.push(C),this},"add"),circleTo:r(function(C,S,E){return S===void 0&&(S=!1),this.ellipseTo(C,C,0,360,S,E)},"circleTo"),closePath:r(function(){var C=this.curves[0].getPoint(0),S=this.curves[this.curves.length-1].getPoint(1);return C.equals(S)||this.curves.push(new l(S,C)),this},"closePath"),cubicBezierTo:r(function(C,S,E,w,M,R){var O=this.getEndPoint(),b,A,I;return C instanceof p?(b=C,A=S,I=E):(b=new p(E,w),A=new p(M,R),I=new p(C,S)),this.add(new m(O,b,A,I))},"cubicBezierTo"),quadraticBezierTo:r(function(C,S,E,w){var M=this.getEndPoint(),R,O;return C instanceof p?(R=C,O=S):(R=new p(E,w),O=new p(C,S)),this.add(new d(M,R,O))},"quadraticBezierTo"),draw:r(function(C,S){for(var E=0;E<this.curves.length;E++){var w=this.curves[E];w.active&&w.draw(C,S)}return C},"draw"),ellipseTo:r(function(C,S,E,w,M,R){var O=new c(0,0,C,S,E,w,M,R),b=this.getEndPoint(this._tmpVec2A),A=O.getStartPoint(this._tmpVec2B);return b.subtract(A),O.x=b.x,O.y=b.y,this.add(O)},"ellipseTo"),fromJSON:r(function(C){this.curves=[],this.cacheLengths=[],this.startPoint.set(C.x,C.y),this.autoClose=C.autoClose;for(var S=0;S<C.curves.length;S++){var E=C.curves[S];switch(E.type){case"LineCurve":this.add(l.fromJSON(E));break;case"EllipseCurve":this.add(c.fromJSON(E));break;case"SplineCurve":this.add(f.fromJSON(E));break;case"CubicBezierCurve":this.add(m.fromJSON(E));break;case"QuadraticBezierCurve":this.add(d.fromJSON(E));break}}return this},"fromJSON"),getBounds:r(function(C,S){C===void 0&&(C=new v),S===void 0&&(S=16),C.x=Number.MAX_VALUE,C.y=Number.MAX_VALUE;for(var E=new v,w=g.MIN_SAFE_INTEGER,M=g.MIN_SAFE_INTEGER,R=0;R<this.curves.length;R++){var O=this.curves[R];O.active&&(O.getBounds(E,S),C.x=Math.min(C.x,E.x),C.y=Math.min(C.y,E.y),w=Math.max(w,E.right),M=Math.max(M,E.bottom))}return C.right=w,C.bottom=M,C},"getBounds"),getCurveLengths:r(function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var C=[],S=0,E=0;E<this.curves.length;E++)S+=this.curves[E].getLength(),C.push(S);return this.cacheLengths=C,C},"getCurveLengths"),getCurveAt:r(function(C){for(var S=C*this.getLength(),E=this.getCurveLengths(),w=0;w<E.length;){if(E[w]>=S)return this.curves[w];w++}return null},"getCurveAt"),getEndPoint:r(function(C){return C===void 0&&(C=new p),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,C):C.copy(this.startPoint),C},"getEndPoint"),getLength:r(function(){var C=this.getCurveLengths();return C[C.length-1]},"getLength"),getPoint:r(function(C,S){S===void 0&&(S=new p);for(var E=C*this.getLength(),w=this.getCurveLengths(),M=0;M<w.length;){if(w[M]>=E){var R=w[M]-E,O=this.curves[M],b=O.getLength(),A=b===0?0:1-R/b;return O.getPointAt(A,S)}M++}return null},"getPoint"),getPoints:r(function(C,S){!C&&!S&&(C=this.defaultDivisions);for(var E=[],w,M=0;M<this.curves.length;M++){var R=this.curves[M];if(R.active)for(var O=R.getResolution(C),b=R.getPoints(O,S),A=0;A<b.length;A++){var I=b[A];w&&w.equals(I)||(E.push(I),w=I)}}return this.autoClose&&E.length>1&&!E[E.length-1].equals(E[0])&&E.push(E[0]),E},"getPoints"),getRandomPoint:r(function(C){return C===void 0&&(C=new p),this.getPoint(Math.random(),C)},"getRandomPoint"),getSpacedPoints:r(function(C){C===void 0&&(C=40);for(var S=[],E=0;E<=C;E++)S.push(this.getPoint(E/C));return this.autoClose&&S.push(S[0]),S},"getSpacedPoints"),getStartPoint:r(function(C){return C===void 0&&(C=new p),C.copy(this.startPoint)},"getStartPoint"),getTangent:r(function(C,S){S===void 0&&(S=new p);for(var E=C*this.getLength(),w=this.getCurveLengths(),M=0;M<w.length;){if(w[M]>=E){var R=w[M]-E,O=this.curves[M],b=O.getLength(),A=b===0?0:1-R/b;return O.getTangentAt(A,S)}M++}return null},"getTangent"),lineTo:r(function(C,S){C instanceof p?this._tmpVec2B.copy(C):typeof C=="object"?this._tmpVec2B.setFromObject(C):this._tmpVec2B.set(C,S);var E=this.getEndPoint(this._tmpVec2A);return this.add(new l([E.x,E.y,this._tmpVec2B.x,this._tmpVec2B.y]))},"lineTo"),splineTo:r(function(C){return C.unshift(this.getEndPoint()),this.add(new f(C))},"splineTo"),moveTo:r(function(C,S){return C instanceof p?this.add(new o(C.x,C.y)):this.add(new o(C,S))},"moveTo"),toJSON:r(function(){for(var C=[],S=0;S<this.curves.length;S++)C.push(this.curves[S].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:C}},"toJSON"),updateArcLengths:r(function(){this.cacheLengths=[],this.getCurveLengths()},"updateArcLengths"),destroy:r(function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0},"destroy")});u.register("path",function(C,S){return new y(C,S)}),n.exports=y}),45893:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(24882),c=new h({initialize:r(function(l,o){this.parent=l,this.events=o,o||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},"DataManager"),get:r(function(u){var l=this.list;if(Array.isArray(u)){for(var o=[],d=0;d<u.length;d++)o.push(l[u[d]]);return o}else return l[u]},"get"),getAll:r(function(){var u={};for(var l in this.list)this.list.hasOwnProperty(l)&&(u[l]=this.list[l]);return u},"getAll"),query:r(function(u){var l={};for(var o in this.list)this.list.hasOwnProperty(o)&&o.match(u)&&(l[o]=this.list[o]);return l},"query"),set:r(function(u,l){if(this._frozen)return this;if(typeof u=="string")return this.setValue(u,l);for(var o in u)this.setValue(o,u[o]);return this},"set"),inc:r(function(u,l){if(this._frozen)return this;l===void 0&&(l=1);var o=this.get(u);return o===void 0&&(o=0),this.set(u,o+l),this},"inc"),toggle:r(function(u){return this._frozen?this:(this.set(u,!this.get(u)),this)},"toggle"),setValue:r(function(u,l){if(this._frozen)return this;if(this.has(u))this.values[u]=l;else{var o=this,d=this.list,v=this.events,f=this.parent;Object.defineProperty(this.values,u,{enumerable:!0,configurable:!0,get:r(function(){return d[u]},"get"),set:r(function(p){if(!o._frozen){var g=d[u];d[u]=p,v.emit(m.CHANGE_DATA,f,u,p,g),v.emit(m.CHANGE_DATA_KEY+u,f,p,g)}},"set")}),d[u]=l,v.emit(m.SET_DATA,f,u,l)}return this},"setValue"),each:r(function(u,l){for(var o=[this.parent,null,void 0],d=1;d<arguments.length;d++)o.push(arguments[d]);for(var v in this.list)o[1]=v,o[2]=this.list[v],u.apply(l,o);return this},"each"),merge:r(function(u,l){l===void 0&&(l=!0);for(var o in u)u.hasOwnProperty(o)&&(l||!l&&!this.has(o))&&this.setValue(o,u[o]);return this},"merge"),remove:r(function(u){if(this._frozen)return this;if(Array.isArray(u))for(var l=0;l<u.length;l++)this.removeValue(u[l]);else return this.removeValue(u);return this},"remove"),removeValue:r(function(u){if(this.has(u)){var l=this.list[u];delete this.list[u],delete this.values[u],this.events.emit(m.REMOVE_DATA,this.parent,u,l)}return this},"removeValue"),pop:r(function(u){var l=void 0;return!this._frozen&&this.has(u)&&(l=this.list[u],delete this.list[u],delete this.values[u],this.events.emit(m.REMOVE_DATA,this.parent,u,l)),l},"pop"),has:r(function(u){return this.list.hasOwnProperty(u)},"has"),setFreeze:r(function(u){return this._frozen=u,this},"setFreeze"),reset:r(function(){for(var u in this.list)delete this.list[u],delete this.values[u];return this._frozen=!1,this},"reset"),destroy:r(function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},"destroy"),freeze:{get:r(function(){return this._frozen},"get"),set:r(function(u){this._frozen=!!u},"set")},count:{get:r(function(){var u=0;for(var l in this.list)this.list[l]!==void 0&&u++;return u},"get")}});n.exports=c}),63646:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(45893),c=i(37277),u=i(44594),l=new h({Extends:m,initialize:r(function(d){m.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},"DataManagerPlugin"),boot:r(function(){this.events=this.systems.events,this.events.once(u.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},"start"),shutdown:r(function(){this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){m.prototype.destroy.call(this),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null},"destroy")});c.register("DataManagerPlugin",l,"data"),n.exports=l}),10700:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"}),93608:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"}),60883:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),69780:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"}),22166:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"}),24882:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}}),44965:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}}),7098:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(84148),m={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function c(){if(typeof importScripts=="function")return m;m.audioData=!!window.Audio,m.webAudio=!!(window.AudioContext||window.webkitAudioContext);var u=document.createElement("audio"),l=!!u.canPlayType;try{if(l){var o=r(function(f,p){var g=u.canPlayType("audio/"+f).replace(/^no$/,"");return p?!!(g||u.canPlayType("audio/"+p).replace(/^no$/,"")):!!g},"CanPlay");if(m.ogg=o('ogg; codecs="vorbis"'),m.opus=o('ogg; codecs="opus"',"opus"),m.mp3=o("mpeg"),m.wav=o("wav"),m.m4a=o("x-m4a"),m.aac=o("aac"),m.flac=o("flac","x-flac"),m.webm=o('webm; codecs="vorbis"'),u.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)m.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(d===10&&v>=11||d>10)&&(m.dolby=!0)}}}}catch{}return m}r(c,"init"),n.exports=c()}),84148:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25892),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function c(){var u=navigator.userAgent;return/Edg\/\d+/.test(u)?(m.edge=!0,m.es2019=!0):/OPR/.test(u)?(m.opera=!0,m.es2019=!0):/Chrome\/(\d+)/.test(u)&&!h.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10),m.es2019=m.chromeVersion>69):/Firefox\D+(\d+)/.test(u)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10),m.es2019=m.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(u)&&h.iOS?(m.mobileSafari=!0,m.es2019=!0):/MSIE (\d+\.\d+);/.test(u)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(u)&&!h.windowsPhone?(m.safari=!0,m.safariVersion=parseInt(RegExp.$1,10),m.es2019=m.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(u)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(u)&&(m.silk=!0),m}r(c,"init"),n.exports=c()}),89289:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),m={supportInverseAlpha:!1,supportNewBlendModes:!1};function c(){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var f=new Image;f.onload=function(){var p=h.create2D(f,6),g=p.getContext("2d",{willReadFrequently:!0});if(g.globalCompositeOperation="multiply",g.drawImage(v,0,0),g.drawImage(f,2,0),!g.getImageData(2,0,1,1))return!1;var y=g.getImageData(2,0,1,1).data;h.remove(f),m.supportNewBlendModes=y[0]===255&&y[1]===0&&y[2]===0},f.src=o+"/wCKxvRF"+d},v.src=o+"AP804Oa6"+d,!1}r(c,"checkBlendMode");function u(){var o=h.create2D(this,2),d=o.getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var v=d.getImageData(0,0,1,1);if(v===null)return!1;d.putImageData(v,1,0);var f=d.getImageData(1,0,1,1),p=f.data[0]===v.data[0]&&f.data[1]===v.data[1]&&f.data[2]===v.data[2]&&f.data[3]===v.data[3];return h.remove(this),p}r(u,"checkInverseAlpha");function l(){return typeof importScripts!="function"&&document!==void 0&&(m.supportNewBlendModes=c(),m.supportInverseAlpha=u()),m}r(l,"init"),n.exports=l()}),89357:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25892),m=i(84148),c=i(27919),u={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var d=new ArrayBuffer(4),v=new Uint8Array(d),f=new Uint32Array(d);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,f[0]===3569595041?!0:f[0]===2712847316?!1:null}r(l,"checkIsLittleEndian");function o(){if(typeof importScripts=="function")return u;u.canvas=!!window.CanvasRenderingContext2D;try{u.localStorage=!!localStorage.getItem}catch{u.localStorage=!1}u.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,u.fileSystem=!!window.requestFileSystem;var d=!1,v=r(function(){if(window.WebGLRenderingContext)try{var f=c.createWebGL(this),p=f.getContext("webgl")||f.getContext("experimental-webgl"),g=c.create2D(this),y=g.getContext("2d",{willReadFrequently:!0}),C=y.createImageData(1,1);return d=C.data instanceof Uint8ClampedArray,c.remove(f),c.remove(g),!!p}catch{return!1}return!1},"testWebGL");return u.webGL=v(),u.worker=!!window.Worker,u.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,u.getUserMedia=u.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(u.getUserMedia=!1),!h.iOS&&(m.ie||m.firefox||m.chrome)&&(u.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(u.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(u.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(u.littleEndian=l()),u.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&u.littleEndian!==null&&d,u}r(o,"init"),n.exports=o()}),91639:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function i(){if(typeof importScripts=="function")return T;var h,m="Fullscreen",c="FullScreen",u=["request"+m,"request"+c,"webkitRequest"+m,"webkitRequest"+c,"msRequest"+m,"msRequest"+c,"mozRequest"+c,"mozRequest"+m];for(h=0;h<u.length;h++)if(document.documentElement[u[h]]){T.available=!0,T.request=u[h];break}var l=["cancel"+c,"exit"+m,"webkitCancel"+c,"webkitExit"+m,"msCancel"+c,"msExit"+m,"mozCancel"+c,"mozExit"+m];if(T.available){for(h=0;h<l.length;h++)if(document[l[h]]){T.cancel=l[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:r(function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},"get")}),T}r(i,"init"),n.exports=i()}),31784:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(84148),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function c(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}r(c,"init"),n.exports=c()}),25892:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return T;var h=navigator.userAgent;/Windows/.test(h)?T.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(h)?T.android=!0:/Linux/.test(h)?T.linux=!0:/iP[ao]d|iPhone/i.test(h)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=h.toLowerCase().indexOf("iphone")!==-1,T.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?T.kindle=!0:/CrOS/.test(h)&&(T.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var m=/Silk/.test(h);return(T.windows||T.macOS||T.linux&&!m||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}r(i,"init"),n.exports=i()}),43267:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),m={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function c(){if(typeof importScripts=="function")return m;var u=document.createElement("video"),l=!!u.canPlayType,o=/^no$/;try{l&&(u.canPlayType('video/ogg; codecs="theora"').replace(o,"")&&(m.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(o,"")&&(m.h264=!0,m.mp4=!0),u.canPlayType("video/x-m4v").replace(o,"")&&(m.m4v=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(o,"")&&(m.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(o,"")&&(m.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(o,"")&&(m.hls=!0))}catch{}return u.parentNode&&u.parentNode.removeChild(u),m.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var f=h(d[v],"url",d[v]);if(f.indexOf("blob:")===0)return{url:f,type:""};var p;if(f.indexOf("data:")===0?p=f.split(",")[0].match(/\/(.*?);/):p=f.match(/\.([a-zA-Z0-9]+)($|\?)/),p=h(d[v],"type",p?p[1]:"").toLowerCase(),m[p])return{url:f,type:p}}return null},m}r(c,"init"),n.exports=c()}),82264:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}}),89422:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new Float32Array(20),c=new h({initialize:r(function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},"ColorMatrix"),set:r(function(u){return this._matrix.set(u),this._dirty=!0,this},"set"),reset:r(function(){var u=this._matrix;return u.fill(0),u[0]=1,u[6]=1,u[12]=1,u[18]=1,this.alpha=1,this._dirty=!0,this},"reset"),getData:r(function(){var u=this._data;return this._dirty&&(u.set(this._matrix),u[4]/=255,u[9]/=255,u[14]/=255,u[19]/=255,this._dirty=!1),u},"getData"),brightness:r(function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var o=u;return this.multiply([o,0,0,0,0,0,o,0,0,0,0,0,o,0,0,0,0,0,1,0],l)},"brightness"),saturate:r(function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var o=u*2/3+1,d=(o-1)*-.5;return this.multiply([o,d,d,0,0,d,o,d,0,0,d,d,o,0,0,0,0,0,1,0],l)},"saturate"),desaturate:r(function(u){return u===void 0&&(u=!1),this.saturate(-1,u)},"desaturate"),hue:r(function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1),u=u/180*Math.PI;var o=Math.cos(u),d=Math.sin(u),v=.213,f=.715,p=.072;return this.multiply([v+o*(1-v)+d*-v,f+o*-f+d*-f,p+o*-p+d*(1-p),0,0,v+o*-v+d*.143,f+o*(1-f)+d*.14,p+o*-p+d*-.283,0,0,v+o*-v+d*-.787,f+o*-f+d*f,p+o*(1-p)+d*p,0,0,0,0,0,1,0],l)},"hue"),grayscale:r(function(u,l){return u===void 0&&(u=1),l===void 0&&(l=!1),this.saturate(-u,l)},"grayscale"),blackWhite:r(function(u){return u===void 0&&(u=!1),this.multiply(c.BLACK_WHITE,u)},"blackWhite"),contrast:r(function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var o=u+1,d=-.5*(o-1);return this.multiply([o,0,0,0,d,0,o,0,0,d,0,0,o,0,d,0,0,0,1,0],l)},"contrast"),negative:r(function(u){return u===void 0&&(u=!1),this.multiply(c.NEGATIVE,u)},"negative"),desaturateLuminance:r(function(u){return u===void 0&&(u=!1),this.multiply(c.DESATURATE_LUMINANCE,u)},"desaturateLuminance"),sepia:r(function(u){return u===void 0&&(u=!1),this.multiply(c.SEPIA,u)},"sepia"),night:r(function(u,l){return u===void 0&&(u=.1),l===void 0&&(l=!1),this.multiply([u*-2,-u,0,0,0,-u,0,u,0,0,0,u,u*2,0,0,0,0,0,1,0],l)},"night"),lsd:r(function(u){return u===void 0&&(u=!1),this.multiply(c.LSD,u)},"lsd"),brown:r(function(u){return u===void 0&&(u=!1),this.multiply(c.BROWN,u)},"brown"),vintagePinhole:r(function(u){return u===void 0&&(u=!1),this.multiply(c.VINTAGE,u)},"vintagePinhole"),kodachrome:r(function(u){return u===void 0&&(u=!1),this.multiply(c.KODACHROME,u)},"kodachrome"),technicolor:r(function(u){return u===void 0&&(u=!1),this.multiply(c.TECHNICOLOR,u)},"technicolor"),polaroid:r(function(u){return u===void 0&&(u=!1),this.multiply(c.POLAROID,u)},"polaroid"),shiftToBGR:r(function(u){return u===void 0&&(u=!1),this.multiply(c.SHIFT_BGR,u)},"shiftToBGR"),multiply:r(function(u,l){l===void 0&&(l=!1),l||this.reset();var o=this._matrix,d=m;return d.set(o),o.set([d[0]*u[0]+d[1]*u[5]+d[2]*u[10]+d[3]*u[15],d[0]*u[1]+d[1]*u[6]+d[2]*u[11]+d[3]*u[16],d[0]*u[2]+d[1]*u[7]+d[2]*u[12]+d[3]*u[17],d[0]*u[3]+d[1]*u[8]+d[2]*u[13]+d[3]*u[18],d[0]*u[4]+d[1]*u[9]+d[2]*u[14]+d[3]*u[19]+d[4],d[5]*u[0]+d[6]*u[5]+d[7]*u[10]+d[8]*u[15],d[5]*u[1]+d[6]*u[6]+d[7]*u[11]+d[8]*u[16],d[5]*u[2]+d[6]*u[7]+d[7]*u[12]+d[8]*u[17],d[5]*u[3]+d[6]*u[8]+d[7]*u[13]+d[8]*u[18],d[5]*u[4]+d[6]*u[9]+d[7]*u[14]+d[8]*u[19]+d[9],d[10]*u[0]+d[11]*u[5]+d[12]*u[10]+d[13]*u[15],d[10]*u[1]+d[11]*u[6]+d[12]*u[11]+d[13]*u[16],d[10]*u[2]+d[11]*u[7]+d[12]*u[12]+d[13]*u[17],d[10]*u[3]+d[11]*u[8]+d[12]*u[13]+d[13]*u[18],d[10]*u[4]+d[11]*u[9]+d[12]*u[14]+d[13]*u[19]+d[14],d[15]*u[0]+d[16]*u[5]+d[17]*u[10]+d[18]*u[15],d[15]*u[1]+d[16]*u[6]+d[17]*u[11]+d[18]*u[16],d[15]*u[2]+d[16]*u[7]+d[17]*u[12]+d[18]*u[17],d[15]*u[3]+d[16]*u[8]+d[17]*u[13]+d[18]*u[18],d[15]*u[4]+d[16]*u[9]+d[17]*u[14]+d[18]*u[19]+d[19]]),this._dirty=!0,this},"multiply")});c.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],c.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],c.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],c.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],c.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],c.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],c.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],c.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],c.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],c.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],c.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=c}),51767:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(29747),c=new h({initialize:r(function(l,o,d){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(l,o,d)},"RGB"),set:r(function(u,l,o){return u===void 0&&(u=0),l===void 0&&(l=0),o===void 0&&(o=0),this._rgb=[u,l,o],this.onChange(),this},"set"),equals:r(function(u,l,o){var d=this._rgb;return d[0]===u&&d[1]===l&&d[2]===o},"equals"),onChange:r(function(){this.dirty=!0;var u=this._rgb;this.onChangeCallback.call(this,u[0],u[1],u[2])},"onChange"),r:{get:r(function(){return this._rgb[0]},"get"),set:r(function(u){this._rgb[0]=u,this.onChange()},"set")},g:{get:r(function(){return this._rgb[1]},"get"),set:r(function(u){this._rgb[1]=u,this.onChange()},"set")},b:{get:r(function(){return this._rgb[2]},"get"),set:r(function(u){this._rgb[2]=u,this.onChange()},"set")},destroy:r(function(){this.onChangeCallback=null},"destroy")});n.exports=c}),60461:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=T}),54312:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),m=i(35893),c=i(86327),u=i(88417),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,m(d)+v),c(o,h(d)+f),o},"BottomCenter");n.exports=l}),46768:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),m=i(26541),c=i(86327),u=i(385),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,m(d)-v),c(o,h(d)+f),o},"BottomLeft");n.exports=l}),35827:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),m=i(54380),c=i(86327),u=i(40136),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,m(d)+v),c(o,h(d)+f),o},"BottomRight");n.exports=l}),46871:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66786),m=i(35893),c=i(7702),u=r(function(l,o,d,v){return d===void 0&&(d=0),v===void 0&&(v=0),h(l,m(o)+d,c(o)+v),l},"Center");n.exports=u}),5198:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7702),m=i(26541),c=i(20786),u=i(385),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,m(d)-v),c(o,h(d)+f),o},"LeftCenter");n.exports=l}),11879:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60461),m=[];m[h.BOTTOM_CENTER]=i(54312),m[h.BOTTOM_LEFT]=i(46768),m[h.BOTTOM_RIGHT]=i(35827),m[h.CENTER]=i(46871),m[h.LEFT_CENTER]=i(5198),m[h.RIGHT_CENTER]=i(80503),m[h.TOP_CENTER]=i(89698),m[h.TOP_LEFT]=i(922),m[h.TOP_RIGHT]=i(21373),m[h.LEFT_BOTTOM]=m[h.BOTTOM_LEFT],m[h.LEFT_TOP]=m[h.TOP_LEFT],m[h.RIGHT_BOTTOM]=m[h.BOTTOM_RIGHT],m[h.RIGHT_TOP]=m[h.TOP_RIGHT];var c=r(function(u,l,o,d,v){return m[o](u,l,d,v)},"QuickSet");n.exports=c}),80503:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7702),m=i(54380),c=i(20786),u=i(40136),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,m(d)+v),c(o,h(d)+f),o},"RightCenter");n.exports=l}),89698:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35893),m=i(17717),c=i(88417),u=i(66737),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,h(d)+v),u(o,m(d)-f),o},"TopCenter");n.exports=l}),922:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26541),m=i(17717),c=i(385),u=i(66737),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,h(d)-v),u(o,m(d)-f),o},"TopLeft");n.exports=l}),21373:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54380),m=i(17717),c=i(40136),u=i(66737),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,h(d)+v),u(o,m(d)-f),o},"TopRight");n.exports=l}),91660:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}}),71926:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60461),m=i(79291),c={In:i(91660),To:i(16694)};c=m(!1,c,h),n.exports=c}),21578:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),m=i(35893),c=i(88417),u=i(66737),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,m(d)+v),u(o,h(d)+f),o},"BottomCenter");n.exports=l}),10210:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),m=i(26541),c=i(385),u=i(66737),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,m(d)-v),u(o,h(d)+f),o},"BottomLeft");n.exports=l}),82341:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),m=i(54380),c=i(40136),u=i(66737),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,m(d)+v),u(o,h(d)+f),o},"BottomRight");n.exports=l}),87958:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),m=i(26541),c=i(86327),u=i(40136),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,m(d)-v),c(o,h(d)+f),o},"LeftBottom");n.exports=l}),40080:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7702),m=i(26541),c=i(20786),u=i(40136),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,m(d)-v),c(o,h(d)+f),o},"LeftCenter");n.exports=l}),88466:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26541),m=i(17717),c=i(40136),u=i(66737),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,h(d)-v),u(o,m(d)-f),o},"LeftTop");n.exports=l}),38829:((n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60461),m=[];m[h.BOTTOM_CENTER]=i(21578),m[h.BOTTOM_LEFT]=i(10210),m[h.BOTTOM_RIGHT]=i(82341),m[h.LEFT_BOTTOM]=i(87958),m[h.LEFT_CENTER]=i(40080),m[h.LEFT_TOP]=i(88466),m[h.RIGHT_BOTTOM]=i(19211),m[h.RIGHT_CENTER]=i(34609),m[h.RIGHT_TOP]=i(48741),m[h.TOP_CENTER]=i(49440),m[h.TOP_LEFT]=i(81288),m[h.TOP_RIGHT]=i(61323);var c=r(function(u,l,o,d,v){return m[o](u,l,d,v)},"QuickSet");n.exports=c}),19211:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),m=i(54380),c=i(86327),u=i(385),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,m(d)+v),c(o,h(d)+f),o},"RightBottom");n.exports=l}),34609:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7702),m=i(54380),c=i(20786),u=i(385),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,m(d)+v),c(o,h(d)+f),o},"RightCenter");n.exports=l}),48741:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54380),m=i(17717),c=i(385),u=i(66737),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,h(d)+v),u(o,m(d)-f),o},"RightTop");n.exports=l}),49440:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35893),m=i(17717),c=i(86327),u=i(88417),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,h(d)+v),c(o,m(d)-f),o},"TopCenter");n.exports=l}),81288:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26541),m=i(17717),c=i(86327),u=i(385),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,h(d)-v),c(o,m(d)-f),o},"TopLeft");n.exports=l}),61323:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54380),m=i(17717),c=i(86327),u=i(40136),l=r(function(o,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(o,h(d)+v),c(o,m(d)-f),o},"TopRight");n.exports=l}),16694:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}}),66786:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(88417),m=i(20786),c=r(function(u,l,o){return h(u,l),m(u,o)},"CenterOn");n.exports=c}),62235:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.y+i.height-i.height*i.originY},"GetBottom");n.exports=T}),72873:((n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),m=i(26541),c=i(54380),u=i(17717),l=i(87841),o=r(function(d,v){v===void 0&&(v=new l);var f=m(d),p=u(d);return v.x=f,v.y=p,v.width=c(d)-f,v.height=h(d)-p,v},"GetBounds");n.exports=o}),35893:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x-i.width*i.originX+i.width*.5},"GetCenterX");n.exports=T}),7702:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.y-i.height*i.originY+i.height*.5},"GetCenterY");n.exports=T}),26541:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x-i.width*i.originX},"GetLeft");n.exports=T}),87431:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.width*i.originX},"GetOffsetX");n.exports=T}),46928:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.height*i.originY},"GetOffsetY");n.exports=T}),54380:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x+i.width-i.width*i.originX},"GetRight");n.exports=T}),17717:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.y-i.height*i.originY},"GetTop");n.exports=T}),86327:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.y=h-i.height+i.height*i.originY,i},"SetBottom");n.exports=T}),88417:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.width*i.originX;return i.x=h+m-i.width*.5,i},"SetCenterX");n.exports=T}),20786:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.height*i.originY;return i.y=h+m-i.height*.5,i},"SetCenterY");n.exports=T}),385:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x=h+i.width*i.originX,i},"SetLeft");n.exports=T}),40136:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x=h-i.width+i.width*i.originX,i},"SetRight");n.exports=T}),66737:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.y=h+i.height*i.originY,i},"SetTop");n.exports=T}),58724:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}}),20623:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:r(function(i){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(m){i.style["image-rendering"]=m}),i.style.msInterpolationMode="nearest-neighbor",i},"setCrisp"),setBicubic:r(function(i){return i.style["image-rendering"]="auto",i.style.msInterpolationMode="bicubic",i},"setBicubic")};n.exports=T}),27919:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8054),m=i(68703),c=[],u=!1,l=r(function(){var o=r(function(E,w,M,R,O){w===void 0&&(w=1),M===void 0&&(M=1),R===void 0&&(R=h.CANVAS),O===void 0&&(O=!1);var b,A=f(R);return A===null?(A={parent:E,canvas:document.createElement("canvas"),type:R},R===h.CANVAS&&c.push(A),b=A.canvas):(A.parent=E,b=A.canvas),O&&(A.parent=b),b.width=w,b.height=M,u&&R===h.CANVAS&&m.disable(b.getContext("2d",{willReadFrequently:!1})),b},"create"),d=r(function(E,w,M){return o(E,w,M,h.CANVAS)},"create2D"),v=r(function(E,w,M){return o(E,w,M,h.WEBGL)},"createWebGL"),f=r(function(E){if(E===void 0&&(E=h.CANVAS),E===h.WEBGL)return null;for(var w=0;w<c.length;w++){var M=c[w];if(!M.parent&&M.type===E)return M}return null},"first"),p=r(function(E){var w=E instanceof HTMLCanvasElement;c.forEach(function(M){(w&&M.canvas===E||!w&&M.parent===E)&&(M.parent=null,M.canvas.width=1,M.canvas.height=1)})},"remove"),g=r(function(){var E=0;return c.forEach(function(w){w.parent&&E++}),E},"total"),y=r(function(){return c.length-g()},"free"),C=r(function(){u=!0},"disableSmoothing"),S=r(function(){u=!1},"enableSmoothing");return{create2D:d,create:o,createWebGL:v,disableSmoothing:C,enableSmoothing:S,first:f,free:y,pool:c,remove:p,total:g}},"CanvasPool");n.exports=l()}),68703:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",i=r(function(){var h=r(function(l){for(var o=["i","webkitI","msI","mozI","oI"],d=0;d<o.length;d++){var v=o[d]+"mageSmoothingEnabled";if(v in l)return v}return null},"getPrefix"),m=r(function(l){return T===""&&(T=h(l)),T&&(l[T]=!0),l},"enable"),c=r(function(l){return T===""&&(T=h(l)),T&&(l[T]=!1),l},"disable"),u=r(function(l){return T!==null?l[T]:null},"isEnabled");return{disable:c,enable:m,getPrefix:h,isEnabled:u}},"Smoothing");n.exports=i()}),65208:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h="none"),i.style.msTouchAction=h,i.style["ms-touch-action"]=h,i.style["touch-action"]=h,i},"TouchAction");n.exports=T}),91610:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h="none");var m=["-webkit-","-khtml-","-moz-","-ms-",""];return m.forEach(function(c){i.style[c+"user-select"]=h}),i.style["-webkit-touch-callout"]=h,i.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",i},"UserSelect");n.exports=T}),26253:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}}),40987:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(37589),c=i(1e3),u=i(7537),l=i(87837),o=new h({initialize:r(function(v,f,p,g){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,f,p,g)},"Color"),transparent:r(function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},"transparent"),setTo:r(function(d,v,f,p,g){return p===void 0&&(p=255),g===void 0&&(g=!0),this._locked=!0,this.red=d,this.green=v,this.blue=f,this.alpha=p,this._locked=!1,this.update(g)},"setTo"),setGLTo:r(function(d,v,f,p){return p===void 0&&(p=1),this._locked=!0,this.redGL=d,this.greenGL=v,this.blueGL=f,this.alphaGL=p,this._locked=!1,this.update(!0)},"setGLTo"),setFromRGB:r(function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},"setFromRGB"),setFromHSV:r(function(d,v,f){return u(d,v,f,this)},"setFromHSV"),update:r(function(d){if(d===void 0&&(d=!1),this._locked)return this;var v=this.r,f=this.g,p=this.b,g=this.a;return this._color=m(v,f,p),this._color32=c(v,f,p,g),this._rgba="rgba("+v+","+f+","+p+","+g/255+")",d&&l(v,f,p,this),this},"update"),updateHSV:r(function(){var d=this.r,v=this.g,f=this.b;return l(d,v,f,this),this},"updateHSV"),clone:r(function(){return new o(this.r,this.g,this.b,this.a)},"clone"),gray:r(function(d){return this.setTo(d,d,d)},"gray"),random:r(function(d,v){d===void 0&&(d=0),v===void 0&&(v=255);var f=Math.floor(d+Math.random()*(v-d)),p=Math.floor(d+Math.random()*(v-d)),g=Math.floor(d+Math.random()*(v-d));return this.setTo(f,p,g)},"random"),randomGray:r(function(d,v){d===void 0&&(d=0),v===void 0&&(v=255);var f=Math.floor(d+Math.random()*(v-d));return this.setTo(f,f,f)},"randomGray"),saturate:r(function(d){return this.s+=d/100,this},"saturate"),desaturate:r(function(d){return this.s-=d/100,this},"desaturate"),lighten:r(function(d){return this.v+=d/100,this},"lighten"),darken:r(function(d){return this.v-=d/100,this},"darken"),brighten:r(function(d){var v=this.r,f=this.g,p=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(d/100)))),f=Math.max(0,Math.min(255,f-Math.round(255*-(d/100)))),p=Math.max(0,Math.min(255,p-Math.round(255*-(d/100)))),this.setTo(v,f,p)},"brighten"),color:{get:r(function(){return this._color},"get")},color32:{get:r(function(){return this._color32},"get")},rgba:{get:r(function(){return this._rgba},"get")},redGL:{get:r(function(){return this.gl[0]},"get"),set:r(function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)},"set")},greenGL:{get:r(function(){return this.gl[1]},"get"),set:r(function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)},"set")},blueGL:{get:r(function(){return this.gl[2]},"get"),set:r(function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)},"set")},alphaGL:{get:r(function(){return this.gl[3]},"get"),set:r(function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(this.gl[3]*255),this.update()},"set")},red:{get:r(function(){return this.r},"get"),set:r(function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)},"set")},green:{get:r(function(){return this.g},"get"),set:r(function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)},"set")},blue:{get:r(function(){return this.b},"get"),set:r(function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)},"set")},alpha:{get:r(function(){return this.a},"get"),set:r(function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()},"set")},h:{get:r(function(){return this._h},"get"),set:r(function(d){this._h=d,u(d,this._s,this._v,this)},"set")},s:{get:r(function(){return this._s},"get"),set:r(function(d){this._s=d,u(this._h,d,this._v,this)},"set")},v:{get:r(function(){return this._v},"get"),set:r(function(d){this._v=d,u(this._h,this._s,d,this)},"set")}});n.exports=o}),92728:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37589),m=r(function(c){c===void 0&&(c=1024);var u=[],l=255,o,d=255,v=0,f=0;for(o=0;o<=l;o++)u.push({r:d,g:o,b:f,color:h(d,o,f)});for(v=255,o=l;o>=0;o--)u.push({r:o,g:v,b:f,color:h(o,v,f)});for(d=0,o=0;o<=l;o++,v--)u.push({r:d,g:v,b:o,color:h(d,v,o)});for(v=0,f=255,o=0;o<=l;o++,f--,d++)u.push({r:d,g:v,b:f,color:h(d,v,f)});if(c===1024)return u;var p=[],g=0,y=1024/c;for(o=0;o<c;o++)p.push(u[Math.floor(g)]),g+=y;return p},"ColorSpectrum");n.exports=m}),91588:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h={r:i>>16&255,g:i>>8&255,b:i&255,a:255};return i>16777215&&(h.a=i>>>24),h},"ColorToRGBA");n.exports=T}),62957:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h=i.toString(16);return h.length===1?"0"+h:h},"ComponentToHex");n.exports=T}),37589:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i<<16|h<<8|m},"GetColor");n.exports=T}),1e3:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){return c<<24|i<<16|h<<8|m},"GetColor32");n.exports=T}),62183:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),m=i(89528),c=r(function(u,l,o){var d=o,v=o,f=o;if(l!==0){var p=o<.5?o*(1+l):o+l-o*l,g=2*o-p;d=m(g,p,u+1/3),v=m(g,p,u),f=m(g,p,u-1/3)}var y=new h;return y.setGLTo(d,v,f,1)},"HSLToColor");n.exports=c}),27939:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7537),m=r(function(c,u){c===void 0&&(c=1),u===void 0&&(u=1);for(var l=[],o=0;o<=359;o++)l.push(h(o/359,c,u));return l},"HSVColorWheel");n.exports=m}),7537:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37589);function m(u,l,o,d){var v=(u+l*6)%6,f=Math.min(v,4-v,1);return Math.round(255*(d-d*o*Math.max(0,f)))}r(m,"ConvertValue");var c=r(function(u,l,o,d){l===void 0&&(l=1),o===void 0&&(o=1);var v=m(5,u,l,o),f=m(3,u,l,o),p=m(1,u,l,o);return d?d.setTo?d.setTo(v,f,p,d.alpha,!0):(d.r=v,d.g=f,d.b=p,d.color=h(v,f,p),d):{r:v,g:f,b:p,color:h(v,f,p)}},"HSVToRGB");n.exports=c}),70238:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),m=r(function(c){var u=new h;c=c.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(f,p,g,y){return p+p+g+g+y+y});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(l){var o=parseInt(l[1],16),d=parseInt(l[2],16),v=parseInt(l[3],16);u.setTo(o,d,v)}return u},"HexStringToColor");n.exports=m}),89528:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?i+(h-i)*6*m:m<.5?h:m<.6666666666666666?i+(h-i)*(.6666666666666666-m)*6:i},"HueToComponent");n.exports=T}),30100:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),m=i(90664),c=r(function(u){var l=m(u);return new h(l.r,l.g,l.b,l.a)},"IntegerToColor");n.exports=c}),90664:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i>16777215?{a:i>>>24,r:i>>16&255,g:i>>8&255,b:i&255}:{a:255,r:i>>16&255,g:i>>8&255,b:i&255}},"IntegerToRGB");n.exports=T}),13699:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28915),m=i(37589),c=r(function(o,d,v,f,p,g,y,C){y===void 0&&(y=100),C===void 0&&(C=0);var S=C/y,E=h(o,f,S),w=h(d,p,S),M=h(v,g,S);return{r:E,g:w,b:M,a:255,color:m(E,w,M)}},"RGBWithRGB"),u=r(function(o,d,v,f){return v===void 0&&(v=100),f===void 0&&(f=0),c(o.r,o.g,o.b,d.r,d.g,d.b,v,f)},"ColorWithColor"),l=r(function(o,d,v,f,p,g){return p===void 0&&(p=100),g===void 0&&(g=0),c(o.r,o.g,o.b,d,v,f,p,g)},"ColorWithRGB");n.exports={RGBWithRGB:c,ColorWithRGB:l,ColorWithColor:u}}),68957:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),m=r(function(c){return new h(c.r,c.g,c.b,c.a)},"ObjectToColor");n.exports=m}),87388:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),m=r(function(c){var u=new h,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(c.toLowerCase());if(l){var o=parseInt(l[1],10),d=parseInt(l[2],10),v=parseInt(l[3],10),f=l[4]!==void 0?parseFloat(l[4]):1;u.setTo(o,d,v,f*255)}return u},"RGBStringToColor");n.exports=m}),87837:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){c===void 0&&(c={h:0,s:0,v:0}),i/=255,h/=255,m/=255;var u=Math.min(i,h,m),l=Math.max(i,h,m),o=l-u,d=0,v=l===0?0:o/l,f=l;return l!==u&&(l===i?d=(h-m)/o+(h<m?6:0):l===h?d=(m-i)/o+2:l===m&&(d=(i-h)/o+4),d/=6),c.hasOwnProperty("_h")?(c._h=d,c._s=v,c._v=f):(c.h=d,c.s=v,c.v=f),c},"RGBToHSV");n.exports=T}),75723:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62957),m=r(function(c,u,l,o,d){return o===void 0&&(o=255),d===void 0&&(d="#"),d==="#"?"#"+((1<<24)+(c<<16)+(u<<8)+l).toString(16).slice(1,7):"0x"+h(o)+h(c)+h(u)+h(l)},"RGBToString");n.exports=m}),85386:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30976),m=i(40987),c=r(function(u,l){return u===void 0&&(u=0),l===void 0&&(l=255),new m(h(u,l),h(u,l),h(u,l))},"RandomRGB");n.exports=c}),80333:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70238),m=i(30100),c=i(68957),u=i(87388),l=r(function(o){var d=typeof o;switch(d){case"string":return o.substr(0,3).toLowerCase()==="rgb"?u(o):h(o);case"number":return m(o);case"object":return c(o)}},"ValueToColor");n.exports=l}),3956:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987);h.ColorSpectrum=i(92728),h.ColorToRGBA=i(91588),h.ComponentToHex=i(62957),h.GetColor=i(37589),h.GetColor32=i(1e3),h.HexStringToColor=i(70238),h.HSLToColor=i(62183),h.HSVColorWheel=i(27939),h.HSVToRGB=i(7537),h.HueToComponent=i(89528),h.IntegerToColor=i(30100),h.IntegerToRGB=i(90664),h.Interpolate=i(13699),h.ObjectToColor=i(68957),h.RandomRGB=i(85386),h.RGBStringToColor=i(87388),h.RGBToHSV=i(87837),h.RGBToString=i(75723),h.ValueToColor=i(80333),n.exports=h}),27460:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}}),6858:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(39429),c=new h({initialize:r(function(l,o,d,v,f,p){o||(o=l.sys.make.image({x:d,y:v,key:f,frame:p,add:!1})),this.bitmapMask=o,this.invertAlpha=!1,this.isStencil=!1},"BitmapMask"),setBitmap:r(function(u){this.bitmapMask=u},"setBitmap"),preRenderWebGL:r(function(u,l,o){u.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,o)},"preRenderWebGL"),postRenderWebGL:r(function(u,l,o){u.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,o)},"postRenderWebGL"),preRenderCanvas:r(function(){},"preRenderCanvas"),postRenderCanvas:r(function(){},"postRenderCanvas"),destroy:r(function(){this.bitmapMask=null},"destroy")});m.register("bitmapMask",function(u,l,o,d,v){return new c(this.scene,u,l,o,d,v)}),n.exports=c}),80661:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},"GeometryMask"),setShape:r(function(c){return this.geometryMask=c,this},"setShape"),setInvertAlpha:r(function(c){return c===void 0&&(c=!0),this.invertAlpha=c,this},"setInvertAlpha"),preRenderWebGL:r(function(c,u,l){var o=c.gl;c.flush(),c.maskStack.length===0&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),c.maskCount=0),c.currentCameraMask.mask!==this&&(c.currentMask.mask=this),c.maskStack.push({mask:this,camera:l}),this.applyStencil(c,l,!0),c.maskCount++},"preRenderWebGL"),applyStencil:r(function(c,u,l){var o=c.gl,d=this.geometryMask,v=c.maskCount,f=255;o.colorMask(!1,!1,!1,!1),l?(o.stencilFunc(o.EQUAL,v,f),o.stencilOp(o.KEEP,o.KEEP,o.INCR),v++):(o.stencilFunc(o.EQUAL,v+1,f),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),this.level=v,d.renderWebGL(c,d,u),c.flush(),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),this.invertAlpha?o.stencilFunc(o.NOTEQUAL,v,f):o.stencilFunc(o.EQUAL,v,f)},"applyStencil"),postRenderWebGL:r(function(c){var u=c.gl;c.maskStack.pop(),c.maskCount--,c.flush();var l=c.currentMask;if(c.maskStack.length===0)l.mask=null,u.disable(u.STENCIL_TEST);else{var o=c.maskStack[c.maskStack.length-1];o.mask.applyStencil(c,o.camera,!1),c.currentCameraMask.mask!==o.mask?(l.mask=o.mask,l.camera=o.camera):l.mask=null}},"postRenderWebGL"),preRenderCanvas:r(function(c,u,l){var o=this.geometryMask;c.currentContext.save(),o.renderCanvas(c,o,l,null,null,!0),c.currentContext.clip()},"preRenderCanvas"),postRenderCanvas:r(function(c){c.currentContext.restore()},"postRenderCanvas"),destroy:r(function(){this.geometryMask=null},"destroy")});n.exports=m}),69781:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:i(6858),GeometryMask:i(80661)}}),73894:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o,d){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!o||o==="")&&(o=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),d===void 0&&(d=null),this.key=u,this.fragmentSrc=l,this.vertexSrc=o,this.uniforms=d},"BaseShader")});n.exports=m}),40366:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m;if(h)typeof h=="string"?m=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(m=h);else if(i.parentElement||h===null)return i;return m||(m=document.body),m.appendChild(i),i},"AddToDOM");n.exports=T}),83719:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40366),m=r(function(c){var u=c.config;if(!(!u.parent||!u.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+c.scale.width+"px;","height: "+c.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+u.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),c.domContainer=l,h(l,u.parent)}},"CreateDOMContainer");n.exports=m}),57264:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25892),m=r(function(c){if(document.readyState==="complete"||document.readyState==="interactive"){c();return}var u=r(function(){document.removeEventListener("deviceready",u,!0),document.removeEventListener("DOMContentLoaded",u,!0),window.removeEventListener("load",u,!0),c()},"check");document.body?h.cordova?document.addEventListener("deviceready",u,!1):(document.addEventListener("DOMContentLoaded",u,!0),window.addEventListener("load",u,!0)):window.setTimeout(u,20)},"DOMContentLoaded");n.exports=m}),57811:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){if(!i)return window.innerHeight;var h=Math.abs(window.orientation),m={w:0,h:0},c=document.createElement("div");return c.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(c),m.w=h===90?c.offsetHeight:window.innerWidth,m.h=h===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null,Math.abs(window.orientation)!==90?m.h:m.w},"GetInnerHeight");n.exports=T}),45818:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13560),m=r(function(c,u){var l=window.screen,o=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(o&&typeof o.type=="string")return o.type;if(typeof o=="string")return o;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return u>c?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE},"GetScreenOrientation");n.exports=m}),74403:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h;return i!==""&&(typeof i=="string"?h=document.getElementById(i):i&&i.nodeType===1&&(h=i)),h||(h=document.body),h},"GetTarget");n.exports=T}),56836:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h="";try{if(window.DOMParser){var m=new DOMParser;h=m.parseFromString(i,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(i)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h},"ParseXML");n.exports=T}),35846:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){i.parentNode&&i.parentNode.removeChild(i)},"RemoveFromDOM");n.exports=T}),43092:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(29747),c=new h({initialize:r(function(){this.isRunning=!1,this.callback=m,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=r(function o(d){l.callback(d),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(o))},"step"),this.stepTimeout=r(function o(){l.isRunning&&(l.timeOutID=window.setTimeout(o,l.delay)),l.callback(window.performance.now())},"stepTimeout")},"RequestAnimationFrame"),start:r(function(u,l,o){this.isRunning||(this.callback=u,this.isSetTimeOut=l,this.delay=o,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},"start"),stop:r(function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},"stop"),destroy:r(function(){this.stop(),this.callback=m},"destroy")});n.exports=c}),84902:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};n.exports=h}),47565:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50792),c=i(37277),u=new h({Extends:m,initialize:r(function(){m.call(this)},"EventEmitter"),shutdown:r(function(){this.removeAllListeners()},"shutdown"),destroy:r(function(){this.removeAllListeners()},"destroy")});c.register("EventEmitter",u,"events"),n.exports=u}),93055:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:i(47565)}}),20122:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d){d===void 0&&(d=1),m.call(this,c.BARREL,o),this.amount=d},"Barrel")});n.exports=u}),32251:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p,g,y){v===void 0&&(v=1),f===void 0&&(f=1),p===void 0&&(p=1),g===void 0&&(g=1),y===void 0&&(y=4),m.call(this,c.BLOOM,o),this.steps=y,this.offsetX=v,this.offsetY=f,this.blurStrength=p,this.strength=g,this.glcolor=[1,1,1],d!=null&&(this.color=d)},"Bloom"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255},"set")}});n.exports=u}),9047:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p,g,y){d===void 0&&(d=0),v===void 0&&(v=2),f===void 0&&(f=2),p===void 0&&(p=1),y===void 0&&(y=4),m.call(this,c.BLUR,o),this.quality=d,this.x=v,this.y=f,this.steps=y,this.strength=p,this.glcolor=[1,1,1],g!=null&&(this.color=g)},"Blur"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255},"set")}});n.exports=u}),27885:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p,g,y,C){d===void 0&&(d=.5),v===void 0&&(v=1),f===void 0&&(f=.2),p===void 0&&(p=!1),g===void 0&&(g=1),y===void 0&&(y=1),C===void 0&&(C=1),m.call(this,c.BOKEH,o),this.radius=d,this.amount=v,this.contrast=f,this.isTiltShift=p,this.strength=C,this.blurX=g,this.blurY=y},"Bokeh")});n.exports=u}),12578:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p,g){d===void 0&&(d=8),p===void 0&&(p=1),g===void 0&&(g=.005),m.call(this,c.CIRCLE,o),this.scale=p,this.feather=g,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),f!=null&&(this.backgroundColor=f)},"Circle"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255},"set")},backgroundColor:{get:r(function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var o=this.glcolor2;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255},"set")},backgroundAlpha:{get:r(function(){return this.glcolor2[3]},"get"),set:r(function(l){this.glcolor2[3]=l},"set")}});n.exports=u}),15802:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(89422),c=i(14811),u=new h({Extends:m,initialize:r(function(o){m.call(this),this.type=c.COLOR_MATRIX,this.gameObject=o,this.active=!0},"ColorMatrix"),destroy:r(function(){this.gameObject=null,this._matrix=null,this._data=null},"destroy")});n.exports=u}),72898:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l){this.type=u,this.gameObject=l,this.active=!0},"Controller"),setActive:r(function(c){return this.active=c,this},"setActive"),destroy:r(function(){this.gameObject=null,this.active=!1},"destroy")});n.exports=m}),44553:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f){d===void 0&&(d="__WHITE"),v===void 0&&(v=.005),f===void 0&&(f=.005),m.call(this,c.DISPLACEMENT,o),this.x=v,this.y=f,this.glTexture,this.setTexture(d)},"Displacement"),setTexture:r(function(l){var o=this.gameObject.scene.sys.textures.getFrame(l);return o&&(this.glTexture=o.glTexture),this},"setTexture")});n.exports=u}),68531:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p){v===void 0&&(v=4),f===void 0&&(f=0),p===void 0&&(p=!1),m.call(this,c.GLOW,o),this.outerStrength=v,this.innerStrength=f,this.knockout=p,this.glcolor=[1,1,1,1],d!==void 0&&(this.color=d)},"Glow"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255},"set")}});n.exports=u}),37102:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p,g,y,C,S){f===void 0&&(f=.2),p===void 0&&(p=0),g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=1),S===void 0&&(S=0),m.call(this,c.GRADIENT,o),this.alpha=f,this.size=S,this.fromX=p,this.fromY=g,this.toX=y,this.toY=C,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],d!=null&&(this.color1=d),v!=null&&(this.color2=v)},"Gradient"),color1:{get:r(function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},"get"),set:r(function(l){var o=this.glcolor1;o[0]=l>>16&255,o[1]=l>>8&255,o[2]=l&255},"set")},color2:{get:r(function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},"get"),set:r(function(l){var o=this.glcolor2;o[0]=l>>16&255,o[1]=l>>8&255,o[2]=l&255},"set")}});n.exports=u}),86886:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d){d===void 0&&(d=1),m.call(this,c.PIXELATE,o),this.amount=d},"Pixelate")});n.exports=u}),92322:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p,g,y,C){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=.1),p===void 0&&(p=1),y===void 0&&(y=6),C===void 0&&(C=1),m.call(this,c.SHADOW,o),this.x=d,this.y=v,this.decay=f,this.power=p,this.glcolor=[0,0,0,1],this.samples=y,this.intensity=C,g!==void 0&&(this.color=g)},"Shadow"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255},"set")}});n.exports=u}),39563:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p){d===void 0&&(d=.5),v===void 0&&(v=.5),f===void 0&&(f=3),p===void 0&&(p=!1),m.call(this,c.SHINE,o),this.speed=d,this.lineWidth=v,this.gradient=f,this.reveal=p},"Shine")});n.exports=u}),56448:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p){d===void 0&&(d=.5),v===void 0&&(v=.5),f===void 0&&(f=.5),p===void 0&&(p=.5),m.call(this,c.VIGNETTE,o),this.x=d,this.y=v,this.radius=f,this.strength=p},"Vignette")});n.exports=u}),38433:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72898),c=i(14811),u=new h({Extends:m,initialize:r(function(o,d,v,f,p){d===void 0&&(d=.1),v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=!1),m.call(this,c.WIPE,o),this.progress=0,this.wipeWidth=d,this.direction=v,this.axis=f,this.reveal=p},"Wipe")});n.exports=u}),14811:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=T}),66064:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),m=i(14811),c={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};c=h(!1,c,m),n.exports=c}),25305:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),m=i(23568),c=r(function(u,l,o){l.x=m(o,"x",0),l.y=m(o,"y",0),l.depth=m(o,"depth",0),l.flipX=m(o,"flipX",!1),l.flipY=m(o,"flipY",!1);var d=m(o,"scale",null);typeof d=="number"?l.setScale(d):d!==null&&(l.scaleX=m(d,"x",1),l.scaleY=m(d,"y",1));var v=m(o,"scrollFactor",null);typeof v=="number"?l.setScrollFactor(v):v!==null&&(l.scrollFactorX=m(v,"x",1),l.scrollFactorY=m(v,"y",1)),l.rotation=m(o,"rotation",0);var f=m(o,"angle",null);f!==null&&(l.angle=f),l.alpha=m(o,"alpha",1);var p=m(o,"origin",null);if(typeof p=="number")l.setOrigin(p);else if(p!==null){var g=m(p,"x",.5),y=m(p,"y",.5);l.setOrigin(g,y)}l.blendMode=m(o,"blendMode",h.NORMAL),l.visible=m(o,"visible",!0);var C=m(o,"add",!0);return C&&u.sys.displayList.add(l),l.preUpdate&&u.sys.updateList.add(l),l},"BuildGameObject");n.exports=c}),13059:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23568),m=r(function(c,u){var l=h(u,"anims",null);if(l===null)return c;if(typeof l=="string")c.anims.play(l);else if(typeof l=="object"){var o=c.anims,d=h(l,"key",void 0);if(d){var v=h(l,"startFrame",void 0),f=h(l,"delay",0),p=h(l,"repeat",0),g=h(l,"repeatDelay",0),y=h(l,"yoyo",!1),C=h(l,"play",!1),S=h(l,"delayedPlay",0),E={key:d,delay:f,repeat:p,repeatDelay:g,yoyo:y,startFrame:v};C?o.play(E):S>0?o.playAfterDelay(E,S):o.load(E)}}return c},"BuildGameObjectAnimation");n.exports=m}),8050:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(73162),c=i(37277),u=i(51708),l=i(44594),o=i(19186),d=new h({Extends:m,initialize:r(function(f){m.call(this,f),this.sortChildrenFlag=!1,this.scene=f,this.systems=f.sys,this.events=f.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},"DisplayList"),boot:r(function(){this.events.once(l.DESTROY,this.destroy,this)},"boot"),addChildCallback:r(function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(u.ADDED_TO_SCENE,v,this.scene),this.events.emit(l.ADDED_TO_SCENE,v,this.scene))},"addChildCallback"),removeChildCallback:r(function(v){this.queueDepthSort(),v.displayList=null,v.emit(u.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,v,this.scene)},"removeChildCallback"),start:r(function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},"start"),queueDepthSort:r(function(){this.sortChildrenFlag=!0},"queueDepthSort"),depthSort:r(function(){this.sortChildrenFlag&&(o(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},"depthSort"),sortByDepth:r(function(v,f){return v._depth-f._depth},"sortByDepth"),getChildren:r(function(){return this.list},"getChildren"),shutdown:r(function(){for(var v=this.list,f=v.length;f--;)v[f]&&v[f].destroy(!0);v.length=0,this.events.off(l.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null},"destroy")});c.register("DisplayList",d,"displayList"),n.exports=d}),95643:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(53774),c=i(45893),u=i(50792),l=i(51708),o=i(44594),d=new h({Extends:u,initialize:r(function(f,p){u.call(this),this.scene=f,this.displayList=null,this.type=p,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),f.sys.queueDepthSort()},"GameObject"),setActive:r(function(v){return this.active=v,this},"setActive"),setName:r(function(v){return this.name=v,this},"setName"),setState:r(function(v){return this.state=v,this},"setState"),setDataEnabled:r(function(){return this.data||(this.data=new c(this)),this},"setDataEnabled"),setData:r(function(v,f){return this.data||(this.data=new c(this)),this.data.set(v,f),this},"setData"),incData:r(function(v,f){return this.data||(this.data=new c(this)),this.data.inc(v,f),this},"incData"),toggleData:r(function(v){return this.data||(this.data=new c(this)),this.data.toggle(v),this},"toggleData"),getData:r(function(v){return this.data||(this.data=new c(this)),this.data.get(v)},"getData"),setInteractive:r(function(v,f,p){return this.scene.sys.input.enable(this,v,f,p),this},"setInteractive"),disableInteractive:r(function(v){return v===void 0&&(v=!1),this.scene.sys.input.disable(this,v),this},"disableInteractive"),removeInteractive:r(function(v){return v===void 0&&(v=!1),this.scene.sys.input.clear(this),v&&this.scene.sys.input.resetCursor(),this.input=void 0,this},"removeInteractive"),addedToScene:r(function(){},"addedToScene"),removedFromScene:r(function(){},"removedFromScene"),update:r(function(){},"update"),toJSON:r(function(){return m(this)},"toJSON"),willRender:r(function(v){var f=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!f||d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},"willRender"),getIndexList:r(function(){for(var v=this,f=this.parentContainer,p=[];f&&(p.unshift(f.getIndex(v)),v=f,f.parentContainer);)f=f.parentContainer;return this.displayList?p.unshift(this.displayList.getIndex(v)):p.unshift(this.scene.sys.displayList.getIndex(v)),p},"getIndexList"),addToDisplayList:r(function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),v.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},"addToDisplayList"),addToUpdateList:r(function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},"addToUpdateList"),removeFromDisplayList:r(function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},"removeFromDisplayList"),removeFromUpdateList:r(function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},"removeFromUpdateList"),getDisplayList:r(function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},"getDisplayList"),destroy:r(function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)},"destroy")});d.RENDER_MASK=15,n.exports=d}),44603:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(37277),c=i(44594),u=new h({initialize:r(function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},"GameObjectCreator"),boot:r(function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},"start"),shutdown:r(function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null},"destroy")});u.register=function(l,o){u.prototype.hasOwnProperty(l)||(u.prototype[l]=o)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},m.register("GameObjectCreator",u,"make"),n.exports=u}),39429:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(37277),c=i(44594),u=new h({initialize:r(function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},"GameObjectFactory"),boot:r(function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},"start"),existing:r(function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},"existing"),shutdown:r(function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null},"destroy")});u.register=function(l,o){u.prototype.hasOwnProperty(l)||(u.prototype[l]=o)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},m.register("GameObjectFactory",u,"add"),n.exports=u}),91296:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61340),m=new h,c=new h,u=new h,l={camera:m,sprite:c,calc:u},o=r(function(d,v,f){var p=m,g=c,y=u;return g.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),p.copyFrom(v.matrix),f?(p.multiplyWithOffset(f,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),g.e=d.x,g.f=d.y):(g.e-=v.scrollX*d.scrollFactorX,g.f-=v.scrollY*d.scrollFactorY),p.multiply(g,y),l},"GetCalcMatrix");n.exports=o}),45027:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(25774),c=i(37277),u=i(44594),l=new h({Extends:m,initialize:r(function(d){m.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},"UpdateList"),boot:r(function(){this.systems.events.once(u.DESTROY,this.destroy,this)},"boot"),start:r(function(){var o=this.systems.events;o.on(u.PRE_UPDATE,this.update,this),o.on(u.UPDATE,this.sceneUpdate,this),o.once(u.SHUTDOWN,this.shutdown,this)},"start"),sceneUpdate:r(function(o,d){for(var v=this._active,f=v.length,p=0;p<f;p++){var g=v[p];g.active&&g.preUpdate.call(g,o,d)}},"sceneUpdate"),shutdown:r(function(){for(var o=this._active.length;o--;)this._active[o].destroy(!0);for(o=this._pending.length;o--;)this._pending[o].destroy(!0);for(o=this._destroy.length;o--;)this._destroy[o].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(u.PRE_UPDATE,this.update,this),d.off(u.UPDATE,this.sceneUpdate,this),d.off(u.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.systems.events.off(u.START,this.start,this),this.scene=null,this.systems=null},"destroy")});c.register("UpdateList",l,"updateList"),n.exports=l}),3217:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u,l,o,d,v,f,p,g,y,C,S){var E=m.x-h.displayOriginX+u,w=m.y-h.displayOriginY+l,M=E+m.w,R=w+m.h,O=o.a,b=o.b,A=o.c,I=o.d,L=o.e,F=o.f,D=E*O+w*A+L,B=E*b+w*I+F,V=E*O+R*A+L,U=E*b+R*I+F,W=M*O+R*A+L,Y=M*b+R*I+F,N=M*O+w*A+L,z=M*b+w*I+F;d&&(D=Math.round(D),B=Math.round(B),V=Math.round(V),U=Math.round(U),W=Math.round(W),Y=Math.round(Y),N=Math.round(N),z=Math.round(z)),i.batchQuad(h,D,B,V,U,W,Y,N,z,c.u0,c.v0,c.u1,c.v1,v,f,p,g,y,C,S)},"BatchChar");n.exports=T}),53048:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){if(m===void 0&&(m=!1),c===void 0)return c={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},c;var u=i.text,l=u.length,o=i.maxWidth,d=i.wordWrapCharCode,v=Number.MAX_VALUE,f=Number.MAX_VALUE,p=0,g=0,y=i.fontData.chars,C=i.fontData.lineHeight,S=i.letterSpacing,E=i.lineSpacing,w=0,M=0,R=0,O=null,b=i._align,A=0,I=0,L=i.fontSize/i.fontData.size,F=L*i.scaleX,D=L*i.scaleY,B=null,V=0,U=[],W=Number.MAX_VALUE,Y=0,N=0,z=0,G,X,k,H=[],$=[],K=null,Z=r(function(Vt,le){for(var Ft=0,zt=0;zt<Vt.length;zt++){var Kt=Vt.charCodeAt(zt),we=le.chars[Kt];we&&(Ft+=we.xAdvance)}return Ft*F},"measureTextWidth");if(o>0){k=u.split(`
`);var J=[];for(G=0;G<k.length;G++){var j=k[G],q="",Q="",tt="",st="";for(X=0;X<j.length;X++)if(R=j.charCodeAt(X),q+=j[X],R===d||X===j.length-1){st=tt+q;var _=Z(st,i.fontData);_<=o?tt=st:(Q=Q.slice(0,-1),Q+=(Q?`
`:"")+tt,tt=q),q=""}Q=Q.slice(0,-1),Q+=(Q?`
`:"")+tt,J.push(Q)}u=J.join(`
`),c.wrappedText=u,l=u.length}var ot=0;for(G=0;G<l;G++){if(R=u.charCodeAt(G),R===10){K!==null&&(H.push({word:K.word,i:K.i,x:K.x*F,y:K.y*D,w:K.w*F,h:K.h*D}),K=null),B=null,U[N]=z,z>Y&&(Y=z),z<W&&(W=z),N++,z=0,w=0,M=(C+E)*N;continue}if(O=y[R],!!O){if(A=w,I=M,B!==null){var ht=O.kerning[V];A+=ht!==void 0?ht:0}v>A&&(v=A),f>I&&(f=I);var lt=A+O.xAdvance,et=I+C;p<lt&&(p=lt),g<et&&(g=et);var nt=O.xOffset+O.xAdvance+(ht!==void 0?ht:0);R===d?K!==null&&(H.push({word:K.word,i:K.i,x:K.x*F,y:K.y*D,w:K.w*F,h:K.h*D}),K=null):(K===null&&(K={word:"",i:ot,x:w,y:M,w:0,h:C}),K.word=K.word.concat(u[G]),K.w+=nt),$.push({i:ot,idx:G,char:u[G],code:R,x:(O.xOffset+A)*L,y:(O.yOffset+M)*L,w:O.width*L,h:O.height*L,t:M*L,r:lt*L,b:C*L,line:N,glyph:O}),w+=O.xAdvance+S+(ht!==void 0?ht:0),B=O,V=R,z=lt*L,ot++}}if(K!==null&&H.push({word:K.word,i:K.i,x:K.x*F,y:K.y*D,w:K.w*F,h:K.h*D}),U[N]=z,z>Y&&(Y=z),z<W&&(W=z),b>0)for(var at=0;at<$.length;at++){var ct=$[at];if(b===1){var St=(Y-U[ct.line])/2;ct.x+=St,ct.r+=St}else if(b===2){var It=Y-U[ct.line];ct.x+=It,ct.r+=It}}var Ct=c.local,Pt=c.global;return k=c.lines,Ct.x=v*L,Ct.y=f*L,Ct.width=p*L,Ct.height=g*L,Pt.x=i.x-i._displayOriginX+v*F,Pt.y=i.y-i._displayOriginY+f*D,Pt.width=p*F,Pt.height=g*D,k.shortest=W,k.longest=Y,k.lengths=U,h&&(Ct.x=Math.ceil(Ct.x),Ct.y=Math.ceil(Ct.y),Ct.width=Math.ceil(Ct.width),Ct.height=Math.ceil(Ct.height),Pt.x=Math.ceil(Pt.x),Pt.y=Math.ceil(Pt.y),Pt.width=Math.ceil(Pt.width),Pt.height=Math.ceil(Pt.height),k.shortest=Math.ceil(W),k.longest=Math.ceil(Y)),m&&(i._displayOriginX=i.originX*Ct.width,i._displayOriginY=i.originY*Ct.height,Pt.x=i.x-i._displayOriginX*i.scaleX,Pt.y=i.y-i._displayOriginY*i.scaleY,h&&(Pt.x=Math.ceil(Pt.x),Pt.y=Math.ceil(Pt.y))),c.words=H,c.characters=$,c.lines.height=C,c.scale=L,c.scaleX=i.scaleX,c.scaleY=i.scaleY,c},"GetBitmapTextSize");n.exports=T}),61327:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(21859),m=r(function(c,u,l,o,d,v,f){var p=c.sys.textures.get(l),g=p.get(o),y=c.sys.cache.xml.get(d);if(g&&y){var C=h(y,g,v,f,p);return c.sys.cache.bitmapFont.add(u,{data:C,texture:l,frame:o,fromAtlas:!0}),!0}else return!1},"ParseFromAtlas");n.exports=m}),6925:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),m=r(function(c,u){var l=u.width,o=u.height,d=Math.floor(l/2),v=Math.floor(o/2),f=h(u,"chars","");if(f!==""){var p=h(u,"image",""),g=c.sys.textures.getFrame(p),y=g.cutX,C=g.cutY,S=g.source.width,E=g.source.height,w=h(u,"offset.x",0),M=h(u,"offset.y",0),R=h(u,"spacing.x",0),O=h(u,"spacing.y",0),b=h(u,"lineSpacing",0),A=h(u,"charsPerRow",null);A===null&&(A=S/l,A>f.length&&(A=f.length));for(var I=w,L=M,F={retroFont:!0,font:p,size:l,lineHeight:o+b,chars:{}},D=0,B=0;B<f.length;B++){var V=f.charCodeAt(B),U=(y+I)/S,W=(C+L)/E,Y=(y+I+l)/S,N=(C+L+o)/E;F.chars[V]={x:I,y:L,width:l,height:o,centerX:d,centerY:v,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:U,v0:W,u1:Y,v1:N},D++,D===A?(D=0,I=w,L+=o+O):I+=l+R}var z={data:F,frame:null,texture:p};return z}},"ParseRetroFont");n.exports=m}),21859:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(h,m){return parseInt(h.getAttribute(m),10)}r(T,"getValue");var i=r(function(h,m,c,u,l){c===void 0&&(c=0),u===void 0&&(u=0);var o=m.cutX,d=m.cutY,v=m.source.width,f=m.source.height,p=m.sourceIndex,g={},y=h.getElementsByTagName("info")[0],C=h.getElementsByTagName("common")[0];g.font=y.getAttribute("face"),g.size=T(y,"size"),g.lineHeight=T(C,"lineHeight")+u,g.chars={};var S=h.getElementsByTagName("char"),E=m!==void 0&&m.trimmed;if(E)var w=m.height,M=m.width;for(var R=0;R<S.length;R++){var O=S[R],b=T(O,"id"),A=String.fromCharCode(b),I=T(O,"x"),L=T(O,"y"),F=T(O,"width"),D=T(O,"height");E&&(I<M&&(M=I),L<w&&(w=L)),E&&w!==0&&M!==0&&(I-=m.x,L-=m.y);var B=(o+I)/v,V=(d+L)/f,U=(o+I+F)/v,W=(d+L+D)/f;if(g.chars[b]={x:I,y:L,width:F,height:D,centerX:Math.floor(F/2),centerY:Math.floor(D/2),xOffset:T(O,"xoffset"),yOffset:T(O,"yoffset"),xAdvance:T(O,"xadvance")+c,data:{},kerning:{},u0:B,v0:V,u1:U,v1:W},l&&F!==0&&D!==0){var Y=l.add(A,p,I,L,F,D);Y&&Y.setUVs(F,D,B,V,U,W)}}var N=h.getElementsByTagName("kerning");for(R=0;R<N.length;R++){var z=N[R],G=T(z,"first"),X=T(z,"second"),k=T(z,"amount");g.chars[X].kerning[G]=k}return g},"ParseXMLBitmapFont");n.exports=i}),196:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87662),m=i(79291),c={Parse:i(6925)};c=m(!1,c,h),n.exports=c}),87662:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=T}),2638:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22186),m=i(83419),c=i(12310),u=new m({Extends:h,Mixins:[c],initialize:r(function(o,d,v,f,p,g,y){h.call(this,o,d,v,f,p,g,y),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},"DynamicBitmapText"),setSize:r(function(l,o){return this.cropWidth=l,this.cropHeight=o,this},"setSize"),setDisplayCallback:r(function(l){return this.displayCallback=l,this},"setDisplayCallback"),setScrollX:r(function(l){return this.scrollX=l,this},"setScrollX"),setScrollY:r(function(l){return this.scrollY=l,this},"setScrollY")});n.exports=u}),86741:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20926),m=r(function(c,u,l,o){var d=u._text,v=d.length,f=c.currentContext;if(!(v===0||!h(c,f,u,l,o))){l.addToRenderList(u);var p=u.fromAtlas?u.frame:u.texture.frames.__BASE,g=u.displayCallback,y=u.callbackData,C=u.fontData.chars,S=u.fontData.lineHeight,E=u._letterSpacing,w=0,M=0,R=0,O=null,b=0,A=0,I=0,L=0,F=0,D=0,B=null,V=0,U=u.frame.source.image,W=p.cutX,Y=p.cutY,N=0,z=0,G=u._fontSize/u.fontData.size,X=u._align,k=0,H=0;u.getTextBounds(!1);var $=u._bounds.lines;X===1?H=($.longest-$.lengths[0])/2:X===2&&(H=$.longest-$.lengths[0]),f.translate(-u.displayOriginX,-u.displayOriginY);var K=l.roundPixels;u.cropWidth>0&&u.cropHeight>0&&(f.beginPath(),f.rect(0,0,u.cropWidth,u.cropHeight),f.clip());for(var Z=0;Z<v;Z++){if(z=G,N=0,R=d.charCodeAt(Z),R===10){k++,X===1?H=($.longest-$.lengths[k])/2:X===2&&(H=$.longest-$.lengths[k]),w=0,M+=S,B=null;continue}if(O=C[R],!!O){if(b=W+O.x,A=Y+O.y,I=O.width,L=O.height,F=O.xOffset+w-u.scrollX,D=O.yOffset+M-u.scrollY,B!==null){var J=O.kerning[V];F+=J!==void 0?J:0}if(g){y.index=Z,y.charCode=R,y.x=F,y.y=D,y.scale=z,y.rotation=N,y.data=O.data;var j=g(y);F=j.x,D=j.y,z=j.scale,N=j.rotation}F*=z,D*=z,F+=H,w+=O.xAdvance+E+(J!==void 0?J:0),B=O,V=R,!(I===0||L===0||R===32)&&(K&&(F=Math.round(F),D=Math.round(D)),f.save(),f.translate(F,D),f.rotate(N),f.scale(z,z),f.drawImage(U,b,A,I,L,0,0,I,L),f.restore())}}f.restore()}},"DynamicBitmapTextCanvasRenderer");n.exports=m}),11164:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2638),m=i(25305),c=i(44603),u=i(23568);c.register("dynamicBitmapText",function(l,o){l===void 0&&(l={});var d=u(l,"font",""),v=u(l,"text",""),f=u(l,"size",!1),p=new h(this.scene,0,0,d,v,f);return o!==void 0&&(l.add=o),m(this.scene,p,l),p})}),72566:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2638),m=i(39429);m.register("dynamicBitmapText",function(c,u,l,o,d){return this.displayList.add(new h(this.scene,c,u,l,o,d))})}),12310:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(73482),c=i(86741),n.exports={renderWebGL:m,renderCanvas:c}}),73482:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=i(61340),c=i(70554),u=new m,l=r(function(o,d,v,f){var p=d.text,g=p.length;if(g!==0){v.addToRenderList(d);var y=o.pipelines.set(d.pipeline,d),C=h(d,v,f);o.pipelines.preBatch(d);var S=C.sprite,E=C.calc,w=u,M=d.cropWidth>0||d.cropHeight>0;M&&(y.flush(),o.pushScissor(E.tx,E.ty,d.cropWidth*E.scaleX,d.cropHeight*E.scaleY));var R=d.frame,O=R.glTexture,b=d.tintFill,A=c.getTintAppendFloatAlpha(d.tintTopLeft,v.alpha*d._alphaTL),I=c.getTintAppendFloatAlpha(d.tintTopRight,v.alpha*d._alphaTR),L=c.getTintAppendFloatAlpha(d.tintBottomLeft,v.alpha*d._alphaBL),F=c.getTintAppendFloatAlpha(d.tintBottomRight,v.alpha*d._alphaBR),D=y.setGameObject(d),B=0,V=0,U=0,W=0,Y=d.letterSpacing,N,z=0,G=0,X,k=d.scrollX,H=d.scrollY,$=d.fontData,K=$.chars,Z=$.lineHeight,J=d.fontSize/$.size,j=0,q=d._align,Q=0,tt=0,st=d.getTextBounds(!1);d.maxWidth>0&&(p=st.wrappedText,g=p.length);var _=d._bounds.lines;q===1?tt=(_.longest-_.lengths[0])/2:q===2&&(tt=_.longest-_.lengths[0]);for(var ot=v.roundPixels,ht=d.displayCallback,lt=d.callbackData,et=0;et<g;et++){if(U=p.charCodeAt(et),U===10){Q++,q===1?tt=(_.longest-_.lengths[Q])/2:q===2&&(tt=_.longest-_.lengths[Q]),B=0,V+=Z,X=null;continue}if(N=K[U],!!N){z=N.width,G=N.height;var nt=N.xOffset+B-k,at=N.yOffset+V-H;if(X!==null){var ct=N.kerning[W]||0;nt+=ct,B+=ct}if(B+=N.xAdvance+Y,X=N,W=U,!(z===0||G===0||U===32)){if(J=d.fontSize/d.fontData.size,j=0,ht){lt.color=0,lt.tint.topLeft=A,lt.tint.topRight=I,lt.tint.bottomLeft=L,lt.tint.bottomRight=F,lt.index=et,lt.charCode=U,lt.x=nt,lt.y=at,lt.scale=J,lt.rotation=j,lt.data=N.data;var St=ht(lt);nt=St.x,at=St.y,J=St.scale,j=St.rotation,St.color?(A=St.color,I=St.color,L=St.color,F=St.color):(A=St.tint.topLeft,I=St.tint.topRight,L=St.tint.bottomLeft,F=St.tint.bottomRight),A=c.getTintAppendFloatAlpha(A,v.alpha*d._alphaTL),I=c.getTintAppendFloatAlpha(I,v.alpha*d._alphaTR),L=c.getTintAppendFloatAlpha(L,v.alpha*d._alphaBL),F=c.getTintAppendFloatAlpha(F,v.alpha*d._alphaBR)}nt*=J,at*=J,nt-=d.displayOriginX,at-=d.displayOriginY,nt+=tt,w.applyITRS(nt,at,j,J,J),E.multiply(w,S);var It=N.u0,Ct=N.v0,Pt=N.u1,Vt=N.v1,le=z,Ft=G,zt=S.e,Kt=S.f,we=Ft*S.c+S.e,pr=Ft*S.d+S.f,gr=le*S.a+Ft*S.c+S.e,mr=le*S.b+Ft*S.d+S.f,xr=le*S.a+S.e,yr=le*S.b+S.f;ot&&(zt=Math.round(zt),Kt=Math.round(Kt),we=Math.round(we),pr=Math.round(pr),gr=Math.round(gr),mr=Math.round(mr),xr=Math.round(xr),yr=Math.round(yr)),y.shouldFlush(6)&&(y.flush(),D=y.setGameObject(d)),y.batchQuad(d,zt,Kt,we,pr,gr,mr,xr,yr,It,Ct,Pt,Vt,A,I,L,F,b,O,D)}}}M&&(y.flush(),o.popScissor()),o.pipelines.postBatch(d)}},"DynamicBitmapTextWebGLRenderer");n.exports=l}),22186:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(45319),c=i(31401),u=i(95643),l=i(53048),o=i(61327),d=i(21859),v=i(87841),f=i(18658),p=new h({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Tint,c.Transform,c.Visible,f],initialize:r(function(y,C,S,E,w,M,R){w===void 0&&(w=""),R===void 0&&(R=0),u.call(this,y,"BitmapText"),this.font=E;var O=this.scene.sys.cache.bitmapFont.get(E);if(!O)throw new Error("Invalid BitmapText key: "+E);this.fontData=O.data,this._text="",this._fontSize=M||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=R,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=O.fromAtlas,this.setTexture(O.texture,O.frame),this.setPosition(C,S),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(w)},"BitmapText"),setLeftAlign:r(function(){return this._align=p.ALIGN_LEFT,this._dirty=!0,this},"setLeftAlign"),setCenterAlign:r(function(){return this._align=p.ALIGN_CENTER,this._dirty=!0,this},"setCenterAlign"),setRightAlign:r(function(){return this._align=p.ALIGN_RIGHT,this._dirty=!0,this},"setRightAlign"),setFontSize:r(function(g){return this._fontSize=g,this._dirty=!0,this},"setFontSize"),setLetterSpacing:r(function(g){return g===void 0&&(g=0),this._letterSpacing=g,this._dirty=!0,this},"setLetterSpacing"),setLineSpacing:r(function(g){return g===void 0&&(g=0),this.lineSpacing=g,this},"setLineSpacing"),setText:r(function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this.text&&(this._text=g.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},"setText"),setDropShadow:r(function(g,y,C,S){return g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=.5),this.dropShadowX=g,this.dropShadowY=y,this.dropShadowColor=C,this.dropShadowAlpha=S,this},"setDropShadow"),setCharacterTint:r(function(g,y,C,S,E,w,M){g===void 0&&(g=0),y===void 0&&(y=1),C===void 0&&(C=!1),S===void 0&&(S=-1),E===void 0&&(E=S,w=S,M=S);var R=this.text.length;y===-1&&(y=R),g<0&&(g=R+g),g=m(g,0,R-1);for(var O=m(g+y,g,R),b=this.charColors,A=g;A<O;A++){var I=b[A];if(S===-1)b[A]=null;else{var L=C?1:0;I?(I.tintEffect=L,I.tintTL=S,I.tintTR=E,I.tintBL=w,I.tintBR=M):b[A]={tintEffect:L,tintTL:S,tintTR:E,tintBL:w,tintBR:M}}}return this},"setCharacterTint"),setWordTint:r(function(g,y,C,S,E,w,M){y===void 0&&(y=1);for(var R=this.getTextBounds(),O=R.words,b=typeof g=="number",A=0,I=0;I<O.length;I++){var L=O[I];if((b&&I===g||!b&&L.word===g)&&(this.setCharacterTint(L.i,L.word.length,C,S,E,w,M),A++,A===y))return this}return this},"setWordTint"),getTextBounds:r(function(g){var y=this._bounds;return(this._dirty||g||this.scaleX!==y.scaleX||this.scaleY!==y.scaleY)&&(l(this,g,!0,y),this._dirty=!1),y},"getTextBounds"),getCharacterAt:r(function(g,y,C){for(var S=this.getLocalPoint(g,y,null,C),E=this.getTextBounds(),w=E.characters,M=new v,R=0;R<w.length;R++){var O=w[R];if(M.setTo(O.x,O.t,O.r-O.x,O.b),M.contains(S.x,S.y))return O}return null},"getCharacterAt"),updateDisplayOrigin:r(function(){return this._dirty=!0,this.getTextBounds(!1),this},"updateDisplayOrigin"),setFont:r(function(g,y,C){y===void 0&&(y=this._fontSize),C===void 0&&(C=this._align);var S=this.scene.sys.cache.bitmapFont.get(g);return S&&(this.font=g,this.fontData=S.data,this._fontSize=y,this._align=C,this.fromAtlas=S.fromAtlas===!0,this.setTexture(S.texture,S.frame),l(this,!1,!0,this._bounds)),this},"setFont"),setMaxWidth:r(function(g,y){return this._maxWidth=g,this._dirty=!0,y!==void 0&&(this.wordWrapCharCode=y),this},"setMaxWidth"),setDisplaySize:r(function(g,y){this.setScale(1,1),this.getTextBounds(!1);var C=g/this.width,S=y/this.height;return this.setScale(C,S),this},"setDisplaySize"),align:{set:r(function(g){this._align=g,this._dirty=!0},"set"),get:r(function(){return this._align},"get")},text:{set:r(function(g){this.setText(g)},"set"),get:r(function(){return this._text},"get")},fontSize:{set:r(function(g){this._fontSize=g,this._dirty=!0},"set"),get:r(function(){return this._fontSize},"get")},letterSpacing:{set:r(function(g){this._letterSpacing=g,this._dirty=!0},"set"),get:r(function(){return this._letterSpacing},"get")},lineSpacing:{set:r(function(g){this._lineSpacing=g,this._dirty=!0},"set"),get:r(function(){return this._lineSpacing},"get")},maxWidth:{set:r(function(g){this._maxWidth=g,this._dirty=!0},"set"),get:r(function(){return this._maxWidth},"get")},width:{get:r(function(){return this.getTextBounds(!1),this._bounds.global.width},"get")},height:{get:r(function(){return this.getTextBounds(!1),this._bounds.global.height},"get")},displayWidth:{set:r(function(g){this.setScaleX(1),this.getTextBounds(!1);var y=g/this.width;this.setScaleX(y)},"set"),get:r(function(){return this.width},"get")},displayHeight:{set:r(function(g){this.setScaleY(1),this.getTextBounds(!1);var y=g/this.height;this.setScaleY(y)},"set"),get:r(function(){return this.height},"get")},toJSON:r(function(){var g=c.ToJSON(this),y={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return g.data=y,g},"toJSON"),preDestroy:r(function(){this.charColors.length=0,this._bounds=null,this.fontData=null},"preDestroy")});p.ALIGN_LEFT=0,p.ALIGN_CENTER=1,p.ALIGN_RIGHT=2,p.ParseFromAtlas=o,p.ParseXMLBitmapFont=d,n.exports=p}),37289:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20926),m=r(function(c,u,l,o){var d=u._text,v=d.length,f=c.currentContext;if(!(v===0||!h(c,f,u,l,o))){l.addToRenderList(u);var p=u.fromAtlas?u.frame:u.texture.frames.__BASE,g=u.fontData.chars,y=u.fontData.lineHeight,C=u._letterSpacing,S=u._lineSpacing,E=0,w=0,M=0,R=null,O=0,b=0,A=0,I=0,L=0,F=0,D=null,B=0,V=p.source.image,U=p.cutX,W=p.cutY,Y=u._fontSize/u.fontData.size,N=u._align,z=0,G=0,X=u.getTextBounds(!1);u.maxWidth>0&&(d=X.wrappedText,v=d.length);var k=u._bounds.lines;N===1?G=(k.longest-k.lengths[0])/2:N===2&&(G=k.longest-k.lengths[0]),f.translate(-u.displayOriginX,-u.displayOriginY);for(var H=l.roundPixels,$=0;$<v;$++){if(M=d.charCodeAt($),M===10){z++,N===1?G=(k.longest-k.lengths[z])/2:N===2&&(G=k.longest-k.lengths[z]),E=0,w+=y+S,D=null;continue}if(R=g[M],!!R){if(O=U+R.x,b=W+R.y,A=R.width,I=R.height,L=R.xOffset+E,F=R.yOffset+w,D!==null){var K=R.kerning[B];L+=K!==void 0?K:0}L*=Y,F*=Y,L+=G,E+=R.xAdvance+C+(K!==void 0?K:0),D=R,B=M,!(A===0||I===0||M===32)&&(H&&(L=Math.round(L),F=Math.round(F)),f.save(),f.translate(L,F),f.scale(Y,Y),f.drawImage(V,O,b,A,I,0,0,A,I),f.restore())}}f.restore()}},"BitmapTextCanvasRenderer");n.exports=m}),57336:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22186),m=i(25305),c=i(44603),u=i(23568),l=i(35154);c.register("bitmapText",function(o,d){o===void 0&&(o={});var v=l(o,"font",""),f=u(o,"text",""),p=u(o,"size",!1),g=l(o,"align",0),y=new h(this.scene,0,0,v,f,p,g);return d!==void 0&&(o.add=d),m(this.scene,y,o),y})}),34914:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22186),m=i(39429);m.register("bitmapText",function(c,u,l,o,d,v){return this.displayList.add(new h(this.scene,c,u,l,o,d,v))})}),18658:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(33590),c=i(37289),n.exports={renderWebGL:m,renderCanvas:c}}),33590:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(3217),m=i(91296),c=i(70554),u=r(function(l,o,d,v){var f=o._text,p=f.length;if(p!==0){d.addToRenderList(o);var g=l.pipelines.set(o.pipeline,o),y=m(o,d,v).calc;l.pipelines.preBatch(o);var C=d.roundPixels,S=d.alpha,E=o.charColors,w=o.tintFill,M=c.getTintAppendFloatAlpha,R=M(o.tintTopLeft,S*o._alphaTL),O=M(o.tintTopRight,S*o._alphaTR),b=M(o.tintBottomLeft,S*o._alphaBL),A=M(o.tintBottomRight,S*o._alphaBR),I=o.frame.glTexture,L=g.setGameObject(o),F=o.getTextBounds(!1),D,B,V,U=F.characters,W=o.dropShadowX,Y=o.dropShadowY,N=W!==0||Y!==0;if(N){var z=o.dropShadowColor,G=o.dropShadowAlpha,X=M(z,S*G*o._alphaTL),k=M(z,S*G*o._alphaTR),H=M(z,S*G*o._alphaBL),$=M(z,S*G*o._alphaBR);for(D=0;D<U.length;D++)B=U[D],V=B.glyph,!(B.code===32||V.width===0||V.height===0)&&h(g,o,B,V,W,Y,y,C,X,k,H,$,1,I,L)}for(D=0;D<U.length;D++)if(B=U[D],V=B.glyph,!(B.code===32||V.width===0||V.height===0))if(g.shouldFlush(6)&&(g.flush(),L=g.setGameObject(o)),E[B.i]){var K=E[B.i],Z=K.tintEffect,J=M(K.tintTL,S*o._alphaTL),j=M(K.tintTR,S*o._alphaTR),q=M(K.tintBL,S*o._alphaBL),Q=M(K.tintBR,S*o._alphaBR);h(g,o,B,V,0,0,y,C,J,j,q,Q,Z,I,L)}else h(g,o,B,V,0,0,y,C,R,O,b,A,w,I,L);l.pipelines.postBatch(o)}},"BitmapTextWebGLRenderer");n.exports=u}),6107:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(48011),m=i(46590),c=i(83419),u=i(31401),l=i(4327),o=i(95643),d=i(73162),v=new c({Extends:o,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,h],initialize:r(function(p,g,y,C,S){o.call(this,p,"Blitter"),this.setTexture(C,S),this.setPosition(g,y),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},"Blitter"),create:r(function(f,p,g,y,C){y===void 0&&(y=!0),C===void 0&&(C=this.children.length),g===void 0?g=this.frame:g instanceof l||(g=this.texture.get(g));var S=new m(this,f,p,g,y);return this.children.addAt(S,C,!1),this.dirty=!0,S},"create"),createFromCallback:r(function(f,p,g,y){for(var C=this.createMultiple(p,g,y),S=0;S<C.length;S++){var E=C[S];f.call(this,E,S)}return C},"createFromCallback"),createMultiple:r(function(f,p,g){p===void 0&&(p=this.frame.name),g===void 0&&(g=!0),Array.isArray(p)||(p=[p]);var y=[],C=this;return p.forEach(function(S){for(var E=0;E<f;E++)y.push(C.create(0,0,S,g))}),y},"createMultiple"),childCanRender:r(function(f){return f.visible&&f.alpha>0},"childCanRender"),getRenderList:r(function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},"getRenderList"),clear:r(function(){this.children.removeAll(),this.dirty=!0},"clear"),preDestroy:r(function(){this.children.destroy(),this.renderList=[]},"preDestroy")});n.exports=v}),72396:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=h.getRenderList();if(u.length!==0){var l=i.currentContext,o=m.alpha*h.alpha;if(o!==0){m.addToRenderList(h),l.globalCompositeOperation=i.blendModes[h.blendMode],l.imageSmoothingEnabled=!h.frame.source.scaleMode;var d=h.x-m.scrollX*h.scrollFactorX,v=h.y-m.scrollY*h.scrollFactorY;l.save(),c&&c.copyToContext(l);for(var f=m.roundPixels,p=0;p<u.length;p++){var g=u[p],y=g.flipX||g.flipY,C=g.frame,S=C.canvasData,E=C.x,w=C.y,M=1,R=1,O=g.alpha*o;O!==0&&(l.globalAlpha=O,y?(g.flipX&&(M=-1,E-=S.width),g.flipY&&(R=-1,w-=S.height),S.width>0&&S.height>0&&(l.save(),l.translate(g.x+d,g.y+v),l.scale(M,R),l.drawImage(C.source.image,S.x,S.y,S.width,S.height,E,w,S.width,S.height),l.restore())):(f&&(E=Math.round(E),w=Math.round(w)),S.width>0&&S.height>0&&l.drawImage(C.source.image,S.x,S.y,S.width,S.height,E+g.x+d,w+g.y+v,S.width,S.height)))}l.restore()}}},"BlitterCanvasRenderer");n.exports=T}),9403:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6107),m=i(25305),c=i(44603),u=i(23568);c.register("blitter",function(l,o){l===void 0&&(l={});var d=u(l,"key",null),v=u(l,"frame",null),f=new h(this.scene,0,0,d,v);return o!==void 0&&(l.add=o),m(this.scene,f,l),f})}),12709:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6107),m=i(39429);m.register("blitter",function(c,u,l,o){return this.displayList.add(new h(this.scene,c,u,l,o))})}),48011:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(99485),c=i(72396),n.exports={renderWebGL:m,renderCanvas:c}}),99485:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61340),m=i(70554),c=new h,u=r(function(l,o,d,v){var f=o.getRenderList(),p=d.alpha*o.alpha;if(!(f.length===0||p===0)){d.addToRenderList(o);var g=l.pipelines.set(this.pipeline,o),y=d.scrollX*o.scrollFactorX,C=d.scrollY*o.scrollFactorY,S=c.copyFrom(d.matrix);v&&(S.multiplyWithOffset(v,-y,-C),y=0,C=0);var E=o.x-y,w=o.y-C,M=-1,R=!1,O=d.roundPixels;l.pipelines.preBatch(o);for(var b=0;b<f.length;b++){var A=f[b],I=A.frame,L=A.alpha*p;if(L!==0){var F=I.width,D=I.height,B=E+A.x+I.x,V=w+A.y+I.y;A.flipX&&(F*=-1,B+=I.width),A.flipY&&(D*=-1,V+=I.height);var U=S.setQuad(B,V,B+F,V+D,O),W=m.getTintAppendFloatAlpha(A.tint,L);if(I.sourceIndex!==M){var Y=g.setGameObject(o,I);M=I.sourceIndex}g.batchQuad(o,U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],I.u0,I.v0,I.u1,I.v1,W,W,W,W,R,I.glTexture,Y)&&(M=-1)}}l.pipelines.postBatch(o)}},"BlitterWebGLRenderer");n.exports=u}),46590:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(4327),c=new h({initialize:r(function(l,o,d,v,f){this.parent=l,this.x=o,this.y=d,this.frame=v,this.data={},this.tint=16777215,this._visible=f,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},"Bob"),setFrame:r(function(u){return u===void 0?this.frame=this.parent.frame:u instanceof m&&u.texture===this.parent.texture?this.frame=u:this.frame=this.parent.texture.get(u),this},"setFrame"),resetFlip:r(function(){return this.flipX=!1,this.flipY=!1,this},"resetFlip"),reset:r(function(u,l,o){return this.x=u,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,o&&this.setFrame(o),this},"reset"),setPosition:r(function(u,l){return this.x=u,this.y=l,this},"setPosition"),setFlipX:r(function(u){return this.flipX=u,this},"setFlipX"),setFlipY:r(function(u){return this.flipY=u,this},"setFlipY"),setFlip:r(function(u,l){return this.flipX=u,this.flipY=l,this},"setFlip"),setVisible:r(function(u){return this.visible=u,this},"setVisible"),setAlpha:r(function(u){return this.alpha=u,this},"setAlpha"),setTint:r(function(u){return this.tint=u,this},"setTint"),destroy:r(function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},"destroy"),visible:{get:r(function(){return this._visible},"get"),set:r(function(u){this.parent.dirty|=this._visible!==u,this._visible=u},"set")},alpha:{get:r(function(){return this._alpha},"get"),set:r(function(u){this.parent.dirty|=this._alpha>0!=u>0,this._alpha=u},"set")}});n.exports=c}),16005:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=2,c={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:r(function(){return this.setAlpha(1)},"clearAlpha"),setAlpha:r(function(u,l,o,d){return u===void 0&&(u=1),l===void 0?this.alpha=u:(this._alphaTL=h(u,0,1),this._alphaTR=h(l,0,1),this._alphaBL=h(o,0,1),this._alphaBR=h(d,0,1)),this},"setAlpha"),alpha:{get:r(function(){return this._alpha},"get"),set:r(function(u){var l=h(u,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=~m:this.renderFlags|=m},"set")},alphaTopLeft:{get:r(function(){return this._alphaTL},"get"),set:r(function(u){var l=h(u,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=m)},"set")},alphaTopRight:{get:r(function(){return this._alphaTR},"get"),set:r(function(u){var l=h(u,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=m)},"set")},alphaBottomLeft:{get:r(function(){return this._alphaBL},"get"),set:r(function(u){var l=h(u,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=m)},"set")},alphaBottomRight:{get:r(function(){return this._alphaBR},"get"),set:r(function(u){var l=h(u,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=m)},"set")}};n.exports=c}),88509:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=2,c={_alpha:1,clearAlpha:r(function(){return this.setAlpha(1)},"clearAlpha"),setAlpha:r(function(u){return u===void 0&&(u=1),this.alpha=u,this},"setAlpha"),alpha:{get:r(function(){return this._alpha},"get"),set:r(function(u){var l=h(u,0,1);this._alpha=l,l===0?this.renderFlags&=~m:this.renderFlags|=m},"set")}};n.exports=c}),90065:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),m={_blendMode:h.NORMAL,blendMode:{get:r(function(){return this._blendMode},"get"),set:r(function(c){typeof c=="string"&&(c=h[c]),c|=0,c>=-1&&(this._blendMode=c)},"set")},setBlendMode:r(function(c){return this.blendMode=c,this},"setBlendMode")};n.exports=m}),94215:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(i){this.scaleX=i/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(i){this.scaleY=i/this.height},"set")},setSize:r(function(i,h){return this.width=i,this.height=h,this},"setSize"),setDisplaySize:r(function(i,h){return this.displayWidth=i,this.displayHeight=h,this},"setDisplaySize")};n.exports=T}),61683:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:r(function(i,h,m,c){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,h,m,c,this.flipX,this.flipY);else{var u=i;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},"setCrop"),resetCropObject:r(function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}},"resetCropObject")};n.exports=T}),89272:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37105),m={_depth:0,depth:{get:r(function(){return this._depth},"get"),set:r(function(c){this.displayList&&this.displayList.queueDepthSort(),this._depth=c},"set")},setDepth:r(function(c){return c===void 0&&(c=0),this.depth=c,this},"setDepth"),setToTop:r(function(){var c=this.getDisplayList();return c&&h.BringToTop(c,this),this},"setToTop"),setToBack:r(function(){var c=this.getDisplayList();return c&&h.SendToBack(c,this),this},"setToBack"),setAbove:r(function(c){var u=this.getDisplayList();return u&&c&&h.MoveAbove(u,this,c),this},"setAbove"),setBelow:r(function(c){var u=this.getDisplayList();return u&&c&&h.MoveBelow(u,this,c),this},"setBelow")};n.exports=m}),47059:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(66064),c=i(19133),u=new h({initialize:r(function(o,d){this.gameObject=o,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},"FX"),setPadding:r(function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},"setPadding"),onFXCopy:r(function(){},"onFXCopy"),onFX:r(function(){},"onFX"),enable:r(function(l){if(!this.isPost){var o=this.gameObject.scene.sys.renderer;o&&o.pipelines?(this.gameObject.pipeline=o.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},"enable"),clear:r(function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,o=0;o<l.length;o++)l[o].destroy();this.list=[]}return this.enabled=!1,this.gameObject},"clear"),remove:r(function(l){var o;if(this.isPost){var d=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(d)||(d=[d]),o=0;o<d.length;o++){var v=d[o];if(v.controller===l){this.gameObject.removePostPipeline(v),l.destroy();break}}}else{var f=this.list;for(o=0;o<f.length;o++)f[o]===l&&(c(f,o),l.destroy())}return this.gameObject},"remove"),disable:r(function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},"disable"),add:r(function(l,o){if(this.isPost){var d=String(l.type);this.gameObject.setPostPipeline(d,o);var v=this.gameObject.getPostPipeline(d);if(v)return Array.isArray(v)&&(v=v.pop()),v&&(v.controller=l),l}else return this.enabled||this.enable(),this.list.push(l),l},"add"),addGlow:r(function(l,o,d,v,f,p){return this.add(new m.Glow(this.gameObject,l,o,d,v),{quality:f,distance:p})},"addGlow"),addShadow:r(function(l,o,d,v,f,p,g){return this.add(new m.Shadow(this.gameObject,l,o,d,v,f,p,g))},"addShadow"),addPixelate:r(function(l){return this.add(new m.Pixelate(this.gameObject,l))},"addPixelate"),addVignette:r(function(l,o,d,v){return this.add(new m.Vignette(this.gameObject,l,o,d,v))},"addVignette"),addShine:r(function(l,o,d,v){return this.add(new m.Shine(this.gameObject,l,o,d,v))},"addShine"),addBlur:r(function(l,o,d,v,f,p){return this.add(new m.Blur(this.gameObject,l,o,d,v,f,p))},"addBlur"),addGradient:r(function(l,o,d,v,f,p,g,y){return this.add(new m.Gradient(this.gameObject,l,o,d,v,f,p,g,y))},"addGradient"),addBloom:r(function(l,o,d,v,f,p){return this.add(new m.Bloom(this.gameObject,l,o,d,v,f,p))},"addBloom"),addColorMatrix:r(function(){return this.add(new m.ColorMatrix(this.gameObject))},"addColorMatrix"),addCircle:r(function(l,o,d,v,f){return this.add(new m.Circle(this.gameObject,l,o,d,v,f))},"addCircle"),addBarrel:r(function(l){return this.add(new m.Barrel(this.gameObject,l))},"addBarrel"),addDisplacement:r(function(l,o,d){return this.add(new m.Displacement(this.gameObject,l,o,d))},"addDisplacement"),addWipe:r(function(l,o,d){return this.add(new m.Wipe(this.gameObject,l,o,d))},"addWipe"),addReveal:r(function(l,o,d){return this.add(new m.Wipe(this.gameObject,l,o,d,!0))},"addReveal"),addBokeh:r(function(l,o,d){return this.add(new m.Bokeh(this.gameObject,l,o,d))},"addBokeh"),addTiltShift:r(function(l,o,d,v,f,p){return this.add(new m.Bokeh(this.gameObject,l,o,d,!0,v,f,p))},"addTiltShift"),destroy:r(function(){this.clear(),this.gameObject=null},"destroy")});n.exports=u}),54434:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:r(function(){return this.flipX=!this.flipX,this},"toggleFlipX"),toggleFlipY:r(function(){return this.flipY=!this.flipY,this},"toggleFlipY"),setFlipX:r(function(i){return this.flipX=i,this},"setFlipX"),setFlipY:r(function(i){return this.flipY=i,this},"setFlipY"),setFlip:r(function(i,h){return this.flipX=i,this.flipY=h,this},"setFlip"),resetFlip:r(function(){return this.flipX=!1,this.flipY=!1,this},"resetFlip")};n.exports=T}),8004:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=i(11520),c=i(26099),u={prepareBoundsOutput:r(function(l,o){if(o===void 0&&(o=!1),this.rotation!==0&&m(l,this.x,this.y,this.rotation),o&&this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix();d.transformPoint(l.x,l.y,l)}return l},"prepareBoundsOutput"),getCenter:r(function(l,o){return l===void 0&&(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},"getCenter"),getTopLeft:r(function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},"getTopLeft"),getTopCenter:r(function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},"getTopCenter"),getTopRight:r(function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},"getTopRight"),getLeftCenter:r(function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},"getLeftCenter"),getRightCenter:r(function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},"getRightCenter"),getBottomLeft:r(function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},"getBottomLeft"),getBottomCenter:r(function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},"getBottomCenter"),getBottomRight:r(function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},"getBottomRight"),getBounds:r(function(l){l===void 0&&(l=new h);var o,d,v,f,p,g,y,C;if(this.parentContainer){var S=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),S.transformPoint(l.x,l.y,l),o=l.x,d=l.y,this.getTopRight(l),S.transformPoint(l.x,l.y,l),v=l.x,f=l.y,this.getBottomLeft(l),S.transformPoint(l.x,l.y,l),p=l.x,g=l.y,this.getBottomRight(l),S.transformPoint(l.x,l.y,l),y=l.x,C=l.y}else this.getTopLeft(l),o=l.x,d=l.y,this.getTopRight(l),v=l.x,f=l.y,this.getBottomLeft(l),p=l.x,g=l.y,this.getBottomRight(l),y=l.x,C=l.y;return l.x=Math.min(o,v,p,y),l.y=Math.min(d,f,g,C),l.width=Math.max(o,v,p,y)-l.x,l.height=Math.max(d,f,g,C)-l.y,l},"getBounds")};n.exports=u}),8573:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6858),m=i(80661),c={mask:null,setMask:r(function(u){return this.mask=u,this},"setMask"),clearMask:r(function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},"clearMask"),createBitmapMask:r(function(u,l,o,d,v){return u===void 0&&(this.texture||this.shader||this.geom)&&(u=this),new h(this.scene,u,l,o,d,v)},"createBitmapMask"),createGeometryMask:r(function(u){return u===void 0&&(this.type==="Graphics"||this.geom)&&(u=this),new m(this.scene,u)},"createGeometryMask")};n.exports=c}),27387:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:r(function(){return this._displayOriginX},"get"),set:r(function(i){this._displayOriginX=i,this.originX=i/this.width},"set")},displayOriginY:{get:r(function(){return this._displayOriginY},"get"),set:r(function(i){this._displayOriginY=i,this.originY=i/this.height},"set")},setOrigin:r(function(i,h){return i===void 0&&(i=.5),h===void 0&&(h=i),this.originX=i,this.originY=h,this.updateDisplayOrigin()},"setOrigin"),setOriginFromFrame:r(function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},"setOriginFromFrame"),setDisplayOrigin:r(function(i,h){return i===void 0&&(i=0),h===void 0&&(h=i),this.displayOriginX=i,this.displayOriginY=h,this},"setDisplayOrigin"),updateDisplayOrigin:r(function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this},"updateDisplayOrigin")};n.exports=T}),37640:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39506),m=i(57355),c=i(35154),u=i(86353),l=i(26099),o={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:u.PLAYING_FORWARD,setPath:r(function(d,v){v===void 0&&(v=this.pathConfig);var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this.path=d,v&&this.startFollow(v),this},"setPath"),setRotateToPath:r(function(d,v){return v===void 0&&(v=0),this.rotateToPath=d,this.pathRotationOffset=v,this},"setRotateToPath"),isFollowing:r(function(){var d=this.pathTween;return d&&d.isPlaying()},"isFollowing"),startFollow:r(function(d,v){d===void 0&&(d={}),v===void 0&&(v=0);var f=this.pathTween;f&&f.isPlaying()&&f.stop(),typeof d=="number"&&(d={duration:d}),d.from=c(d,"from",0),d.to=c(d,"to",1);var p=m(d,"positionOnPath",!1);this.rotateToPath=m(d,"rotateToPath",!1),this.pathRotationOffset=c(d,"rotationOffset",0);var g=c(d,"startAt",v);if(g&&(d.onStart=function(C){var S=C.data[0];S.progress=g,S.elapsed=S.duration*g;var E=S.ease(S.progress);S.current=S.start+(S.end-S.start)*E,S.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),p&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=u.PLAYING_FORWARD,this.rotateToPath){var y=this.path.getPoint(.1);this.rotation=Math.atan2(y.y-this.y,y.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=d,this},"startFollow"),pauseFollow:r(function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},"pauseFollow"),resumeFollow:r(function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},"resumeFollow"),stopFollow:r(function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},"stopFollow"),pathUpdate:r(function(){var d=this.pathTween;if(d&&d.data){var v=d.data[0],f=this.pathDelta,p=this.pathVector;if(f.copy(p).negate(),v.state===u.COMPLETE){this.path.getPoint(v.end,p),f.add(p),p.add(this.pathOffset),this.setPosition(p.x,p.y);return}else if(v.state!==u.PLAYING_FORWARD&&v.state!==u.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),p),f.add(p),p.add(this.pathOffset);var g=this.x,y=this.y;this.setPosition(p.x,p.y);var C=this.x-g,S=this.y-y;if(C===0&&S===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(S,C)+h(this.pathRotationOffset))}},"pathUpdate")};n.exports=o}),72699:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62644),m={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:r(function(c){this.pipelineData={};var u=this.scene.sys.renderer;if(!u)return!1;var l=u.pipelines;if(l){c===void 0&&(c=l.default);var o=l.get(c);if(o)return this.defaultPipeline=o,this.pipeline=o,!0}return!1},"initPipeline"),setPipeline:r(function(c,u,l){var o=this.scene.sys.renderer;if(!o)return this;var d=o.pipelines;if(d){var v=d.get(c);v&&(this.pipeline=v),u&&(this.pipelineData=l?h(u):u)}return this},"setPipeline"),setPipelineData:r(function(c,u){var l=this.pipelineData;return u===void 0?delete l[c]:l[c]=u,this},"setPipelineData"),resetPipeline:r(function(c){return c===void 0&&(c=!1),this.pipeline=this.defaultPipeline,c&&(this.pipelineData={}),this.pipeline!==null},"resetPipeline"),getPipelineName:r(function(){return this.pipeline===null?null:this.pipeline.name},"getPipelineName")};n.exports=m}),17581:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62644),m=i(47059),c=i(19133),u={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:r(function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new m(this,!0),l&&(this.preFX=new m(this,!1))},"initPostPipeline"),setPostPipeline:r(function(l,o,d){var v=this.scene.sys.renderer;if(!v)return this;var f=v.pipelines;if(f){Array.isArray(l)||(l=[l]);for(var p=0;p<l.length;p++){var g=f.getPostPipeline(l[p],this,o);g&&this.postPipelines.push(g)}o&&(this.postPipelineData=d?h(o):o)}return this.hasPostPipeline=this.postPipelines.length>0,this},"setPostPipeline"),setPostPipelineData:r(function(l,o){var d=this.postPipelineData;return o===void 0?delete d[l]:d[l]=o,this},"setPostPipelineData"),getPostPipeline:r(function(l){for(var o=typeof l=="string",d=this.postPipelines,v=[],f=0;f<d.length;f++){var p=d[f];(o&&p.name===l||!o&&p instanceof l)&&v.push(p)}return v.length===1?v[0]:v},"getPostPipeline"),resetPostPipeline:r(function(l){l===void 0&&(l=!1);for(var o=this.postPipelines,d=0;d<o.length;d++)o[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},"resetPostPipeline"),removePostPipeline:r(function(l){for(var o=typeof l=="string",d=this.postPipelines,v=d.length-1;v>=0;v--){var f=d[v];(o&&f.name===l||!o&&f===l)&&(f.destroy(),c(d,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},"removePostPipeline"),clearFX:r(function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this},"clearFX")};n.exports=u}),80227:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:r(function(i,h){return h===void 0&&(h=i),this.scrollFactorX=i,this.scrollFactorY=h,this},"setScrollFactor")};n.exports=T}),16736:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:r(function(){return Math.abs(this.scaleX*this.frame.realWidth)},"get"),set:r(function(i){this.scaleX=i/this.frame.realWidth},"set")},displayHeight:{get:r(function(){return Math.abs(this.scaleY*this.frame.realHeight)},"get"),set:r(function(i){this.scaleY=i/this.frame.realHeight},"set")},setSizeToFrame:r(function(i){i||(i=this.frame),this.width=i.realWidth,this.height=i.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},"setSizeToFrame"),setSize:r(function(i,h){return this.width=i,this.height=h,this},"setSize"),setDisplaySize:r(function(i,h){return this.displayWidth=i,this.displayHeight=h,this},"setDisplaySize")};n.exports=T}),37726:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4327),m=8,c={texture:null,frame:null,isCropped:!1,setTexture:r(function(u,l,o,d){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l,o,d)},"setTexture"),setFrame:r(function(u,l,o){return l===void 0&&(l=!0),o===void 0&&(o=!0),u instanceof h?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this},"setFrame")};n.exports=c}),79812:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4327),m=8,c={texture:null,frame:null,isCropped:!1,setCrop:r(function(u,l,o,d){if(u===void 0)this.isCropped=!1;else if(this.frame){if(typeof u=="number")this.frame.setCropUVs(this._crop,u,l,o,d,this.flipX,this.flipY);else{var v=u;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},"setCrop"),setTexture:r(function(u,l){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l)},"setTexture"),setFrame:r(function(u,l,o){return l===void 0&&(l=!0),o===void 0&&(o=!0),u instanceof h?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},"setFrame"),resetCropObject:r(function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}},"resetCropObject")};n.exports=c}),27472:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:r(function(){return this.setTint(16777215),this},"clearTint"),setTint:r(function(i,h,m,c){return i===void 0&&(i=16777215),h===void 0&&(h=i,m=i,c=i),this.tintTopLeft=i,this.tintTopRight=h,this.tintBottomLeft=m,this.tintBottomRight=c,this.tintFill=!1,this},"setTint"),setTintFill:r(function(i,h,m,c){return this.setTint(i,h,m,c),this.tintFill=!0,this},"setTintFill"),tint:{get:r(function(){return this.tintTopLeft},"get"),set:r(function(i){this.setTint(i,i,i,i)},"set")},isTinted:{get:r(function(){var i=16777215;return this.tintFill||this.tintTopLeft!==i||this.tintTopRight!==i||this.tintBottomLeft!==i||this.tintBottomRight!==i},"get")}};n.exports=T}),53774:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h={name:i.name,type:i.type,x:i.x,y:i.y,depth:i.depth,scale:{x:i.scaleX,y:i.scaleY},origin:{x:i.originX,y:i.originY},flipX:i.flipX,flipY:i.flipY,rotation:i.rotation,alpha:i.alpha,visible:i.visible,blendMode:i.blendMode,textureKey:"",frameKey:"",data:{}};return i.texture&&(h.textureKey=i.texture.key,h.frameKey=i.frame.name),h},"ToJSON");n.exports=T}),16901:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=i(61340),c=i(85955),u=i(86554),l=i(30954),o=i(26099),d=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:r(function(){return(this._scaleX+this._scaleY)/2},"get"),set:r(function(f){this._scaleX=f,this._scaleY=f,f===0?this.renderFlags&=~d:this.renderFlags|=d},"set")},scaleX:{get:r(function(){return this._scaleX},"get"),set:r(function(f){this._scaleX=f,f===0?this.renderFlags&=~d:this._scaleY!==0&&(this.renderFlags|=d)},"set")},scaleY:{get:r(function(){return this._scaleY},"get"),set:r(function(f){this._scaleY=f,f===0?this.renderFlags&=~d:this._scaleX!==0&&(this.renderFlags|=d)},"set")},angle:{get:r(function(){return l(this._rotation*h.RAD_TO_DEG)},"get"),set:r(function(f){this.rotation=l(f)*h.DEG_TO_RAD},"set")},rotation:{get:r(function(){return this._rotation},"get"),set:r(function(f){this._rotation=u(f)},"set")},setPosition:r(function(f,p,g,y){return f===void 0&&(f=0),p===void 0&&(p=f),g===void 0&&(g=0),y===void 0&&(y=0),this.x=f,this.y=p,this.z=g,this.w=y,this},"setPosition"),copyPosition:r(function(f){return f.x!==void 0&&(this.x=f.x),f.y!==void 0&&(this.y=f.y),f.z!==void 0&&(this.z=f.z),f.w!==void 0&&(this.w=f.w),this},"copyPosition"),setRandomPosition:r(function(f,p,g,y){return f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=this.scene.sys.scale.width),y===void 0&&(y=this.scene.sys.scale.height),this.x=f+Math.random()*g,this.y=p+Math.random()*y,this},"setRandomPosition"),setRotation:r(function(f){return f===void 0&&(f=0),this.rotation=f,this},"setRotation"),setAngle:r(function(f){return f===void 0&&(f=0),this.angle=f,this},"setAngle"),setScale:r(function(f,p){return f===void 0&&(f=1),p===void 0&&(p=f),this.scaleX=f,this.scaleY=p,this},"setScale"),setX:r(function(f){return f===void 0&&(f=0),this.x=f,this},"setX"),setY:r(function(f){return f===void 0&&(f=0),this.y=f,this},"setY"),setZ:r(function(f){return f===void 0&&(f=0),this.z=f,this},"setZ"),setW:r(function(f){return f===void 0&&(f=0),this.w=f,this},"setW"),getLocalTransformMatrix:r(function(f){return f===void 0&&(f=new m),f.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},"getLocalTransformMatrix"),getWorldTransformMatrix:r(function(f,p){f===void 0&&(f=new m);var g=this.parentContainer;if(!g)return this.getLocalTransformMatrix(f);var y=!1;for(p||(p=new m,y=!0),f.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);g;)p.applyITRS(g.x,g.y,g._rotation,g._scaleX,g._scaleY),p.multiply(f,f),g=g.parentContainer;return y&&p.destroy(),f},"getWorldTransformMatrix"),getLocalPoint:r(function(f,p,g,y){g||(g=new o),y||(y=this.scene.sys.cameras.main);var C=y.scrollX,S=y.scrollY,E=f+C*this.scrollFactorX-C,w=p+S*this.scrollFactorY-S;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(E,w,g):c(E,w,this.x,this.y,this.rotation,this.scaleX,this.scaleY,g),this._originComponent&&(g.x+=this._displayOriginX,g.y+=this._displayOriginY),g},"getLocalPoint"),getWorldPoint:r(function(f,p,g){f===void 0&&(f=new o);var y=this.parentContainer;if(!y)return f.x=this.x,f.y=this.y,f;var C=this.getWorldTransformMatrix(p,g);return f.x=C.tx,f.y=C.ty,f},"getWorldPoint"),getParentRotation:r(function(){for(var f=0,p=this.parentContainer;p;)f+=p.rotation,p=p.parentContainer;return f},"getParentRotation")};n.exports=v}),61340:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(36383),c=i(26099),u=new h({initialize:r(function(o,d,v,f,p,g){o===void 0&&(o=1),d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=1),p===void 0&&(p=0),g===void 0&&(g=0),this.matrix=new Float32Array([o,d,v,f,p,g,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},"TransformMatrix"),a:{get:r(function(){return this.matrix[0]},"get"),set:r(function(l){this.matrix[0]=l},"set")},b:{get:r(function(){return this.matrix[1]},"get"),set:r(function(l){this.matrix[1]=l},"set")},c:{get:r(function(){return this.matrix[2]},"get"),set:r(function(l){this.matrix[2]=l},"set")},d:{get:r(function(){return this.matrix[3]},"get"),set:r(function(l){this.matrix[3]=l},"set")},e:{get:r(function(){return this.matrix[4]},"get"),set:r(function(l){this.matrix[4]=l},"set")},f:{get:r(function(){return this.matrix[5]},"get"),set:r(function(l){this.matrix[5]=l},"set")},tx:{get:r(function(){return this.matrix[4]},"get"),set:r(function(l){this.matrix[4]=l},"set")},ty:{get:r(function(){return this.matrix[5]},"get"),set:r(function(l){this.matrix[5]=l},"set")},rotation:{get:r(function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)},"get")},rotationNormalized:{get:r(function(){var l=this.matrix,o=l[0],d=l[1],v=l[2],f=l[3];return o||d?d>0?Math.acos(o/this.scaleX):-Math.acos(o/this.scaleX):v||f?m.TAU-(f>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0},"get")},scaleX:{get:r(function(){return Math.sqrt(this.a*this.a+this.b*this.b)},"get")},scaleY:{get:r(function(){return Math.sqrt(this.c*this.c+this.d*this.d)},"get")},loadIdentity:r(function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},"loadIdentity"),translate:r(function(l,o){var d=this.matrix;return d[4]=d[0]*l+d[2]*o+d[4],d[5]=d[1]*l+d[3]*o+d[5],this},"translate"),scale:r(function(l,o){var d=this.matrix;return d[0]*=l,d[1]*=l,d[2]*=o,d[3]*=o,this},"scale"),rotate:r(function(l){var o=Math.sin(l),d=Math.cos(l),v=this.matrix,f=v[0],p=v[1],g=v[2],y=v[3];return v[0]=f*d+g*o,v[1]=p*d+y*o,v[2]=f*-o+g*d,v[3]=p*-o+y*d,this},"rotate"),multiply:r(function(l,o){var d=this.matrix,v=l.matrix,f=d[0],p=d[1],g=d[2],y=d[3],C=d[4],S=d[5],E=v[0],w=v[1],M=v[2],R=v[3],O=v[4],b=v[5],A=o===void 0?d:o.matrix;return A[0]=E*f+w*g,A[1]=E*p+w*y,A[2]=M*f+R*g,A[3]=M*p+R*y,A[4]=O*f+b*g+C,A[5]=O*p+b*y+S,A},"multiply"),multiplyWithOffset:r(function(l,o,d){var v=this.matrix,f=l.matrix,p=v[0],g=v[1],y=v[2],C=v[3],S=v[4],E=v[5],w=o*p+d*y+S,M=o*g+d*C+E,R=f[0],O=f[1],b=f[2],A=f[3],I=f[4],L=f[5];return v[0]=R*p+O*y,v[1]=R*g+O*C,v[2]=b*p+A*y,v[3]=b*g+A*C,v[4]=I*p+L*y+w,v[5]=I*g+L*C+M,this},"multiplyWithOffset"),transform:r(function(l,o,d,v,f,p){var g=this.matrix,y=g[0],C=g[1],S=g[2],E=g[3],w=g[4],M=g[5];return g[0]=l*y+o*S,g[1]=l*C+o*E,g[2]=d*y+v*S,g[3]=d*C+v*E,g[4]=f*y+p*S+w,g[5]=f*C+p*E+M,this},"transform"),transformPoint:r(function(l,o,d){d===void 0&&(d={x:0,y:0});var v=this.matrix,f=v[0],p=v[1],g=v[2],y=v[3],C=v[4],S=v[5];return d.x=l*f+o*g+C,d.y=l*p+o*y+S,d},"transformPoint"),invert:r(function(){var l=this.matrix,o=l[0],d=l[1],v=l[2],f=l[3],p=l[4],g=l[5],y=o*f-d*v;return l[0]=f/y,l[1]=-d/y,l[2]=-v/y,l[3]=o/y,l[4]=(v*g-f*p)/y,l[5]=-(o*g-d*p)/y,this},"invert"),copyFrom:r(function(l){var o=this.matrix;return o[0]=l.a,o[1]=l.b,o[2]=l.c,o[3]=l.d,o[4]=l.e,o[5]=l.f,this},"copyFrom"),copyFromArray:r(function(l){var o=this.matrix;return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[4]=l[4],o[5]=l[5],this},"copyFromArray"),copyToContext:r(function(l){var o=this.matrix;return l.transform(o[0],o[1],o[2],o[3],o[4],o[5]),l},"copyToContext"),setToContext:r(function(l){return l.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),l},"setToContext"),copyToArray:r(function(l){var o=this.matrix;return l===void 0?l=[o[0],o[1],o[2],o[3],o[4],o[5]]:(l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5]),l},"copyToArray"),setTransform:r(function(l,o,d,v,f,p){var g=this.matrix;return g[0]=l,g[1]=o,g[2]=d,g[3]=v,g[4]=f,g[5]=p,this},"setTransform"),decomposeMatrix:r(function(){var l=this.decomposedMatrix,o=this.matrix,d=o[0],v=o[1],f=o[2],p=o[3],g=d*p-v*f;if(l.translateX=o[4],l.translateY=o[5],d||v){var y=Math.sqrt(d*d+v*v);l.rotation=v>0?Math.acos(d/y):-Math.acos(d/y),l.scaleX=y,l.scaleY=g/y}else if(f||p){var C=Math.sqrt(f*f+p*p);l.rotation=Math.PI*.5-(p>0?Math.acos(-f/C):-Math.acos(f/C)),l.scaleX=g/C,l.scaleY=C}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},"decomposeMatrix"),applyITRS:r(function(l,o,d,v,f){var p=this.matrix,g=Math.sin(d),y=Math.cos(d);return p[4]=l,p[5]=o,p[0]=y*v,p[1]=g*v,p[2]=-g*f,p[3]=y*f,this},"applyITRS"),applyInverse:r(function(l,o,d){d===void 0&&(d=new c);var v=this.matrix,f=v[0],p=v[1],g=v[2],y=v[3],C=v[4],S=v[5],E=1/(f*y+g*-p);return d.x=y*E*l+-g*E*o+(S*g-C*y)*E,d.y=f*E*o+-p*E*l+(-S*f+C*p)*E,d},"applyInverse"),setQuad:r(function(l,o,d,v,f,p){f===void 0&&(f=!1),p===void 0&&(p=this.quad);var g=this.matrix,y=g[0],C=g[1],S=g[2],E=g[3],w=g[4],M=g[5],R=l*y+o*S+w,O=l*C+o*E+M,b=l*y+v*S+w,A=l*C+v*E+M,I=d*y+v*S+w,L=d*C+v*E+M,F=d*y+o*S+w,D=d*C+o*E+M;if(f){var B=Math.floor(R+.5),V=Math.floor(O+.5),U=B-R,W=V-O;p[0]=B,p[1]=V,p[2]=b+U,p[3]=A+W,p[4]=I+U,p[5]=L+W,p[6]=F+U,p[7]=D+W}else p[0]=R,p[1]=O,p[2]=b,p[3]=A,p[4]=I,p[5]=L,p[6]=F,p[7]=D;return p},"setQuad"),getX:r(function(l,o){return l*this.a+o*this.c+this.e},"getX"),getY:r(function(l,o){return l*this.b+o*this.d+this.f},"getY"),getXRound:r(function(l,o,d){var v=this.getX(l,o);return d&&(v=Math.floor(v+.5)),v},"getXRound"),getYRound:r(function(l,o,d){var v=this.getY(l,o);return d&&(v=Math.floor(v+.5)),v},"getYRound"),getCSSMatrix:r(function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},"getCSSMatrix"),destroy:r(function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null},"destroy")});n.exports=u}),59715:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,i={_visible:!0,visible:{get:r(function(){return this._visible},"get"),set:r(function(h){h?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)},"set")},setVisible:r(function(h){return this.visible=h,this},"setVisible")};n.exports=i}),31401:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}}),31559:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37105),m=i(10312),c=i(83419),u=i(31401),l=i(51708),o=i(95643),d=i(87841),v=i(29959),f=i(36899),p=i(26099),g=new u.TransformMatrix,y=new c({Extends:o,Mixins:[u.AlphaSingle,u.BlendMode,u.ComputedSize,u.Depth,u.Mask,u.PostPipeline,u.Transform,u.Visible,v],initialize:r(function(S,E,w,M){o.call(this,S,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new u.TransformMatrix,this._sortKey="",this._sysEvents=S.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(E,w),this.setBlendMode(m.SKIP_CHECK),M&&this.add(M)},"Container"),originX:{get:r(function(){return .5},"get")},originY:{get:r(function(){return .5},"get")},displayOriginX:{get:r(function(){return this.width*.5},"get")},displayOriginY:{get:r(function(){return this.height*.5},"get")},setExclusive:r(function(C){return C===void 0&&(C=!0),this.exclusive=C,this},"setExclusive"),getBounds:r(function(C){if(C===void 0&&(C=new d),C.setTo(this.x,this.y,0,0),this.parentContainer){var S=this.parentContainer.getBoundsTransformMatrix(),E=S.transformPoint(this.x,this.y);C.setTo(E.x,E.y,0,0)}if(this.list.length>0){var w=this.list,M=new d,R=!1;C.setEmpty();for(var O=0;O<w.length;O++){var b=w[O];b.getBounds&&(b.getBounds(M),R?f(M,C,C):(C.setTo(M.x,M.y,M.width,M.height),R=!0))}}return C},"getBounds"),addHandler:r(function(C){C.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(C.parentContainer&&C.parentContainer.remove(C),C.parentContainer=this,C.removeFromDisplayList(),C.addedToScene())},"addHandler"),removeHandler:r(function(C){C.off(l.DESTROY,this.remove,this),this.exclusive&&(C.parentContainer=null,C.removedFromScene(),C.addToDisplayList())},"removeHandler"),pointToContainer:r(function(C,S){S===void 0&&(S=new p),this.parentContainer?this.parentContainer.pointToContainer(C,S):(S.x=C.x,S.y=C.y);var E=g;return E.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),E.invert(),E.transformPoint(C.x,C.y,S),S},"pointToContainer"),getBoundsTransformMatrix:r(function(){return this.getWorldTransformMatrix(g,this.localTransform)},"getBoundsTransformMatrix"),add:r(function(C){return h.Add(this.list,C,this.maxSize,this.addHandler,this),this},"add"),addAt:r(function(C,S){return h.AddAt(this.list,C,S,this.maxSize,this.addHandler,this),this},"addAt"),getAt:r(function(C){return this.list[C]},"getAt"),getIndex:r(function(C){return this.list.indexOf(C)},"getIndex"),sort:r(function(C,S){return C?(S===void 0&&(S=r(function(E,w){return E[C]-w[C]},"handler")),h.StableSort(this.list,S),this):this},"sort"),getByName:r(function(C){return h.GetFirst(this.list,"name",C)},"getByName"),getRandom:r(function(C,S){return h.GetRandom(this.list,C,S)},"getRandom"),getFirst:r(function(C,S,E,w){return h.GetFirst(this.list,C,S,E,w)},"getFirst"),getAll:r(function(C,S,E,w){return h.GetAll(this.list,C,S,E,w)},"getAll"),count:r(function(C,S,E,w){return h.CountAllMatching(this.list,C,S,E,w)},"count"),swap:r(function(C,S){return h.Swap(this.list,C,S),this},"swap"),moveTo:r(function(C,S){return h.MoveTo(this.list,C,S),this},"moveTo"),moveAbove:r(function(C,S){return h.MoveAbove(this.list,C,S),this},"moveAbove"),moveBelow:r(function(C,S){return h.MoveBelow(this.list,C,S),this},"moveBelow"),remove:r(function(C,S){var E=h.Remove(this.list,C,this.removeHandler,this);if(S&&E){Array.isArray(E)||(E=[E]);for(var w=0;w<E.length;w++)E[w].destroy()}return this},"remove"),removeAt:r(function(C,S){var E=h.RemoveAt(this.list,C,this.removeHandler,this);return S&&E&&E.destroy(),this},"removeAt"),removeBetween:r(function(C,S,E){var w=h.RemoveBetween(this.list,C,S,this.removeHandler,this);if(E)for(var M=0;M<w.length;M++)w[M].destroy();return this},"removeBetween"),removeAll:r(function(C){var S=this.list;if(C){for(var E=0;E<S.length;E++)S[E]&&S[E].scene&&(S[E].off(l.DESTROY,this.onChildDestroyed,this),S[E].destroy());this.list=[]}else h.RemoveBetween(S,0,S.length,this.removeHandler,this);return this},"removeAll"),bringToTop:r(function(C){return h.BringToTop(this.list,C),this},"bringToTop"),sendToBack:r(function(C){return h.SendToBack(this.list,C),this},"sendToBack"),moveUp:r(function(C){return h.MoveUp(this.list,C),this},"moveUp"),moveDown:r(function(C){return h.MoveDown(this.list,C),this},"moveDown"),reverse:r(function(){return this.list.reverse(),this},"reverse"),shuffle:r(function(){return h.Shuffle(this.list),this},"shuffle"),replace:r(function(C,S,E){var w=h.Replace(this.list,C,S);return w&&(this.addHandler(S),this.removeHandler(C),E&&C.destroy()),this},"replace"),exists:r(function(C){return this.list.indexOf(C)>-1},"exists"),setAll:r(function(C,S,E,w){return h.SetAll(this.list,C,S,E,w),this},"setAll"),each:r(function(C,S){var E=[null],w,M=this.list.slice(),R=M.length;for(w=2;w<arguments.length;w++)E.push(arguments[w]);for(w=0;w<R;w++)E[0]=M[w],C.apply(S,E);return this},"each"),iterate:r(function(C,S){var E=[null],w;for(w=2;w<arguments.length;w++)E.push(arguments[w]);for(w=0;w<this.list.length;w++)E[0]=this.list[w],C.apply(S,E);return this},"iterate"),setScrollFactor:r(function(C,S,E){return S===void 0&&(S=C),E===void 0&&(E=!1),this.scrollFactorX=C,this.scrollFactorY=S,E&&(h.SetAll(this.list,"scrollFactorX",C),h.SetAll(this.list,"scrollFactorY",S)),this},"setScrollFactor"),length:{get:r(function(){return this.list.length},"get")},first:{get:r(function(){return this.position=0,this.list.length>0?this.list[0]:null},"get")},last:{get:r(function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null},"get")},next:{get:r(function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null},"get")},previous:{get:r(function(){return this.position>0?(this.position--,this.list[this.position]):null},"get")},preDestroy:r(function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},"preDestroy"),onChildDestroyed:r(function(C){h.Remove(this.list,C),this.exclusive&&(C.parentContainer=null,C.removedFromScene())},"onChildDestroyed")});n.exports=y}),53584:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m.addToRenderList(h);var u=h.list;if(u.length!==0){var l=h.localTransform;c?(l.loadIdentity(),l.multiply(c),l.translate(h.x,h.y),l.rotate(h.rotation),l.scale(h.scaleX,h.scaleY)):l.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var o=h.blendMode!==-1;o||i.setBlendMode(0);var d=h._alpha,v=h.scrollFactorX,f=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(i,null,m);for(var p=0;p<u.length;p++){var g=u[p];if(g.willRender(m)){var y=g.alpha,C=g.scrollFactorX,S=g.scrollFactorY;!o&&g.blendMode!==i.currentBlendMode&&i.setBlendMode(g.blendMode),g.setScrollFactor(C*v,S*f),g.setAlpha(y*d),g.renderCanvas(i,g,m,l),g.setAlpha(y),g.setScrollFactor(C,S)}}h.mask&&h.mask.postRenderCanvas(i)}},"ContainerCanvasRenderer");n.exports=T}),77143:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(31559),c=i(44603),u=i(23568),l=i(95540);c.register("container",function(o,d){o===void 0&&(o={});var v=u(o,"x",0),f=u(o,"y",0),p=l(o,"children",null),g=new m(this.scene,v,f,p);return d!==void 0&&(o.add=d),h(this.scene,g,o),g})}),24961:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(31559),m=i(39429);m.register("container",function(c,u,l){return this.displayList.add(new h(this.scene,c,u,l))})}),29959:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(72249),c=i(53584),n.exports={renderWebGL:m,renderCanvas:c}}),72249:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m.addToRenderList(h);var u=h.list,l=u.length;if(l!==0){var o=h.localTransform;c?(o.loadIdentity(),o.multiply(c),o.translate(h.x,h.y),o.rotate(h.rotation),o.scale(h.scaleX,h.scaleY)):o.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),i.pipelines.preBatch(h);var d=h.blendMode!==-1;d||i.setBlendMode(0);for(var v=h.alpha,f=h.scrollFactorX,p=h.scrollFactorY,g=0;g<l;g++){var y=u[g];if(y.willRender(m)){var C,S,E,w;if(y.alphaTopLeft!==void 0)C=y.alphaTopLeft,S=y.alphaTopRight,E=y.alphaBottomLeft,w=y.alphaBottomRight;else{var M=y.alpha;C=M,S=M,E=M,w=M}var R=y.scrollFactorX,O=y.scrollFactorY;!d&&y.blendMode!==i.currentBlendMode&&i.setBlendMode(y.blendMode);var b=y.mask;b&&b.preRenderWebGL(i,y,m);var A=y.type;A!==i.currentType&&(i.newType=!0,i.currentType=A),i.nextTypeMatch=g<l-1?u[g+1].type===i.currentType:!1,y.setScrollFactor(R*f,O*p),y.setAlpha(C*v,S*v,E*v,w*v),y.renderWebGL(i,y,m,o,h),y.setAlpha(C,S,E,w),y.setScrollFactor(R,O),b&&b.postRenderWebGL(i,m),i.newType=!1}}i.pipelines.postBatch(h)}},"ContainerWebGLRenderer");n.exports=T}),47407:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}),3069:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(441),u=i(95643),l=i(41212),o=i(35846),d=i(44594),v=i(61369),f=new h({Extends:u,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,c],initialize:r(function(g,y,C,S,E,w){if(u.call(this,g,"DOMElement"),this.parent=g.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=g.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(y,C),typeof S=="string"?S[0]==="#"?this.setElement(S.substr(1),E,w):this.createElement(S,E,w):S&&this.setElement(S,E,w),g.sys.events.on(d.SLEEP,this.handleSceneEvent,this),g.sys.events.on(d.WAKE,this.handleSceneEvent,this),g.sys.events.on(d.PRE_RENDER,this.preRender,this)},"DOMElement"),handleSceneEvent:r(function(p){var g=this.node,y=g.style;g&&(y.display=p.settings.visible?"block":"none")},"handleSceneEvent"),setSkew:r(function(p,g){return p===void 0&&(p=0),g===void 0&&(g=p),this.skewX=p,this.skewY=g,this},"setSkew"),setPerspective:r(function(p){return this.parent.style.perspective=p+"px",this},"setPerspective"),perspective:{get:r(function(){return parseFloat(this.parent.style.perspective)},"get"),set:r(function(p){this.parent.style.perspective=p+"px"},"set")},addListener:r(function(p){if(this.node){p=p.split(" ");for(var g=0;g<p.length;g++)this.node.addEventListener(p[g],this.handler,!1)}return this},"addListener"),removeListener:r(function(p){if(this.node){p=p.split(" ");for(var g=0;g<p.length;g++)this.node.removeEventListener(p[g],this.handler)}return this},"removeListener"),dispatchNativeEvent:r(function(p){this.emit(p.type,p)},"dispatchNativeEvent"),createElement:r(function(p,g,y){return this.setElement(document.createElement(p),g,y)},"createElement"),setElement:r(function(p,g,y){this.removeElement();var C;if(typeof p=="string"?(p[0]==="#"&&(p=p.substr(1)),C=document.getElementById(p)):typeof p=="object"&&p.nodeType===1&&(C=p),!C)return this;if(this.node=C,g&&l(g))for(var S in g)C.style[S]=g[S];else typeof g=="string"&&(C.style=g);return C.style.zIndex="0",C.style.display="inline",C.style.position="absolute",C.phaser=this,this.parent.appendChild(C),y&&(C.innerText=y),this.updateSize()},"setElement"),createFromCache:r(function(p,g){var y=this.cache.get(p);return y&&this.createFromHTML(y,g),this},"createFromCache"),createFromHTML:r(function(p,g){g===void 0&&(g="div"),this.removeElement();var y=document.createElement(g);return this.node=y,y.style.zIndex="0",y.style.display="inline",y.style.position="absolute",y.phaser=this,this.parent.appendChild(y),y.innerHTML=p,this.updateSize()},"createFromHTML"),removeElement:r(function(){return this.node&&(o(this.node),this.node=null),this},"removeElement"),updateSize:r(function(){var p=this.node;return this.width=p.clientWidth,this.height=p.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},"updateSize"),getChildByProperty:r(function(p,g){if(this.node){for(var y=this.node.querySelectorAll("*"),C=0;C<y.length;C++)if(y[C][p]===g)return y[C]}return null},"getChildByProperty"),getChildByID:r(function(p){return this.getChildByProperty("id",p)},"getChildByID"),getChildByName:r(function(p){return this.getChildByProperty("name",p)},"getChildByName"),setClassName:r(function(p){return this.node&&(this.node.className=p,this.updateSize()),this},"setClassName"),setText:r(function(p){return this.node&&(this.node.innerText=p,this.updateSize()),this},"setText"),setHTML:r(function(p){return this.node&&(this.node.innerHTML=p,this.updateSize()),this},"setHTML"),preRender:r(function(){var p=this.parentContainer,g=this.node;g&&p&&!p.willRender()&&(g.style.display="none")},"preRender"),willRender:r(function(){return!0},"willRender"),preDestroy:r(function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)},"preDestroy")});n.exports=f}),49381:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(47407),m=i(95643),c=i(61340),u=new c,l=new c,o=new c,d=r(function(v,f,p,g){if(f.node){var y=f.node.style,C=f.scene.sys.settings;if(!y||!C.visible||m.RENDER_MASK!==f.renderFlags||f.cameraFilter!==0&&f.cameraFilter&p.id||f.parentContainer&&!f.parentContainer.willRender()){y.display="none";return}var S=f.parentContainer,E=p.alpha*f.alpha;S&&(E*=S.alpha);var w=u,M=l,R=o,O=0,b=0,A="0%",I="0%";g?(O=f.width*f.scaleX*f.originX,b=f.height*f.scaleY*f.originY,M.applyITRS(f.x-O,f.y-b,f.rotation,f.scaleX,f.scaleY),w.copyFrom(p.matrix),w.multiplyWithOffset(g,-p.scrollX*f.scrollFactorX,-p.scrollY*f.scrollFactorY),M.e=f.x-O,M.f=f.y-b,w.multiply(M,R)):(O=f.width*f.originX,b=f.height*f.originY,M.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),w.copyFrom(p.matrix),A=100*f.originX+"%",I=100*f.originY+"%",M.e-=p.scrollX*f.scrollFactorX,M.f-=p.scrollY*f.scrollFactorY,w.multiply(M,R),R.e-=O,R.f-=b),f.transformOnly||(y.display="block",y.opacity=E,y.zIndex=f._depth,y.pointerEvents=f.pointerEvents,y.mixBlendMode=h[f._blendMode]),y.transform=R.getCSSMatrix()+" skew("+f.skewX+"rad, "+f.skewY+"rad) rotate3d("+f.rotate3d.x+","+f.rotate3d.y+","+f.rotate3d.z+","+f.rotate3d.w+f.rotate3dAngle+")",y.transformOrigin=A+" "+I}},"DOMElementCSSRenderer");n.exports=d}),2611:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(3069),m=i(39429);m.register("dom",function(c,u,l,o,d){var v=new h(this.scene,c,u,l,o,d);return this.displayList.add(v),v})}),441:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(49381),c=i(49381),n.exports={renderWebGL:m,renderCanvas:c}}),62980:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"}),41337:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),44947:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"}),49358:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),35163:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"}),97249:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"}),19483:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"}),56059:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"}),26772:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"}),64437:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"}),83411:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"}),75780:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"}),67799:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"}),63500:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"}),55541:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"}),53208:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"}),4992:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"}),12:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"}),51708:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}}),42421:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(95643),u=i(64993),l=new h({Extends:c,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,u],initialize:r(function(d){c.call(this,d,"Extern")},"Extern"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),preUpdate:r(function(){},"preUpdate"),render:r(function(){},"render")});n.exports=l}),70217:(()=>{}),56315:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42421),m=i(39429);m.register("extern",function(){var c=new h(this.scene);return this.displayList.add(c),c})}),64993:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(80287),c=i(70217),n.exports={renderWebGL:m,renderCanvas:c}}),80287:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=r(function(c,u,l,o){c.pipelines.clear();var d=h(u,l,o).calc;u.render.call(u,c,l,d),c.pipelines.rebind()},"ExternWebGLRenderer");n.exports=m}),85592:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}}),43831:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71911),m=i(83419),c=i(85592),u=i(31401),l=i(8497),o=i(95643),d=i(95540),v=i(35154),f=i(36383),p=i(84503),g=new m({Extends:o,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.Transform,u.Visible,u.ScrollFactor,p],initialize:r(function(C,S){var E=v(S,"x",0),w=v(S,"y",0);o.call(this,C,"Graphics"),this.setPosition(E,w),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(S)},"Graphics"),setDefaultStyles:r(function(y){return v(y,"lineStyle",null)&&(this.defaultStrokeWidth=v(y,"lineStyle.width",1),this.defaultStrokeColor=v(y,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(y,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(y,"fillStyle",null)&&(this.defaultFillColor=v(y,"fillStyle.color",16777215),this.defaultFillAlpha=v(y,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},"setDefaultStyles"),lineStyle:r(function(y,C,S){return S===void 0&&(S=1),this.commandBuffer.push(c.LINE_STYLE,y,C,S),this._lineWidth=y,this},"lineStyle"),fillStyle:r(function(y,C){return C===void 0&&(C=1),this.commandBuffer.push(c.FILL_STYLE,y,C),this},"fillStyle"),fillGradientStyle:r(function(y,C,S,E,w,M,R,O){return w===void 0&&(w=1),M===void 0&&(M=w),R===void 0&&(R=w),O===void 0&&(O=w),this.commandBuffer.push(c.GRADIENT_FILL_STYLE,w,M,R,O,y,C,S,E),this},"fillGradientStyle"),lineGradientStyle:r(function(y,C,S,E,w,M){return M===void 0&&(M=1),this.commandBuffer.push(c.GRADIENT_LINE_STYLE,y,M,C,S,E,w),this},"lineGradientStyle"),beginPath:r(function(){return this.commandBuffer.push(c.BEGIN_PATH),this},"beginPath"),closePath:r(function(){return this.commandBuffer.push(c.CLOSE_PATH),this},"closePath"),fillPath:r(function(){return this.commandBuffer.push(c.FILL_PATH),this},"fillPath"),fill:r(function(){return this.commandBuffer.push(c.FILL_PATH),this},"fill"),strokePath:r(function(){return this.commandBuffer.push(c.STROKE_PATH),this},"strokePath"),stroke:r(function(){return this.commandBuffer.push(c.STROKE_PATH),this},"stroke"),fillCircleShape:r(function(y){return this.fillCircle(y.x,y.y,y.radius)},"fillCircleShape"),strokeCircleShape:r(function(y){return this.strokeCircle(y.x,y.y,y.radius)},"strokeCircleShape"),fillCircle:r(function(y,C,S){return this.beginPath(),this.arc(y,C,S,0,f.PI2),this.fillPath(),this},"fillCircle"),strokeCircle:r(function(y,C,S){return this.beginPath(),this.arc(y,C,S,0,f.PI2),this.strokePath(),this},"strokeCircle"),fillRectShape:r(function(y){return this.fillRect(y.x,y.y,y.width,y.height)},"fillRectShape"),strokeRectShape:r(function(y){return this.strokeRect(y.x,y.y,y.width,y.height)},"strokeRectShape"),fillRect:r(function(y,C,S,E){return this.commandBuffer.push(c.FILL_RECT,y,C,S,E),this},"fillRect"),strokeRect:r(function(y,C,S,E){var w=this._lineWidth/2,M=y-w,R=y+w;return this.beginPath(),this.moveTo(y,C),this.lineTo(y,C+E),this.strokePath(),this.beginPath(),this.moveTo(y+S,C),this.lineTo(y+S,C+E),this.strokePath(),this.beginPath(),this.moveTo(M,C),this.lineTo(R+S,C),this.strokePath(),this.beginPath(),this.moveTo(M,C+E),this.lineTo(R+S,C+E),this.strokePath(),this},"strokeRect"),fillRoundedRect:r(function(y,C,S,E,w){w===void 0&&(w=20);var M=w,R=w,O=w,b=w;typeof w!="number"&&(M=d(w,"tl",20),R=d(w,"tr",20),O=d(w,"bl",20),b=d(w,"br",20));var A=M>=0,I=R>=0,L=O>=0,F=b>=0;return M=Math.abs(M),R=Math.abs(R),O=Math.abs(O),b=Math.abs(b),this.beginPath(),this.moveTo(y+M,C),this.lineTo(y+S-R,C),I?this.arc(y+S-R,C+R,R,-f.TAU,0):this.arc(y+S,C,R,Math.PI,f.TAU,!0),this.lineTo(y+S,C+E-b),F?this.arc(y+S-b,C+E-b,b,0,f.TAU):this.arc(y+S,C+E,b,-f.TAU,Math.PI,!0),this.lineTo(y+O,C+E),L?this.arc(y+O,C+E-O,O,f.TAU,Math.PI):this.arc(y,C+E,O,0,-f.TAU,!0),this.lineTo(y,C+M),A?this.arc(y+M,C+M,M,-Math.PI,-f.TAU):this.arc(y,C,M,f.TAU,0,!0),this.fillPath(),this},"fillRoundedRect"),strokeRoundedRect:r(function(y,C,S,E,w){w===void 0&&(w=20);var M=w,R=w,O=w,b=w,A=Math.min(S,E)/2;typeof w!="number"&&(M=d(w,"tl",20),R=d(w,"tr",20),O=d(w,"bl",20),b=d(w,"br",20));var I=M>=0,L=R>=0,F=O>=0,D=b>=0;return M=Math.min(Math.abs(M),A),R=Math.min(Math.abs(R),A),O=Math.min(Math.abs(O),A),b=Math.min(Math.abs(b),A),this.beginPath(),this.moveTo(y+M,C),this.lineTo(y+S-R,C),this.moveTo(y+S-R,C),L?this.arc(y+S-R,C+R,R,-f.TAU,0):this.arc(y+S,C,R,Math.PI,f.TAU,!0),this.lineTo(y+S,C+E-b),this.moveTo(y+S,C+E-b),D?this.arc(y+S-b,C+E-b,b,0,f.TAU):this.arc(y+S,C+E,b,-f.TAU,Math.PI,!0),this.lineTo(y+O,C+E),this.moveTo(y+O,C+E),F?this.arc(y+O,C+E-O,O,f.TAU,Math.PI):this.arc(y,C+E,O,0,-f.TAU,!0),this.lineTo(y,C+M),this.moveTo(y,C+M),I?this.arc(y+M,C+M,M,-Math.PI,-f.TAU):this.arc(y,C,M,f.TAU,0,!0),this.strokePath(),this},"strokeRoundedRect"),fillPointShape:r(function(y,C){return this.fillPoint(y.x,y.y,C)},"fillPointShape"),fillPoint:r(function(y,C,S){return!S||S<1?S=1:(y-=S/2,C-=S/2),this.commandBuffer.push(c.FILL_RECT,y,C,S,S),this},"fillPoint"),fillTriangleShape:r(function(y){return this.fillTriangle(y.x1,y.y1,y.x2,y.y2,y.x3,y.y3)},"fillTriangleShape"),strokeTriangleShape:r(function(y){return this.strokeTriangle(y.x1,y.y1,y.x2,y.y2,y.x3,y.y3)},"strokeTriangleShape"),fillTriangle:r(function(y,C,S,E,w,M){return this.commandBuffer.push(c.FILL_TRIANGLE,y,C,S,E,w,M),this},"fillTriangle"),strokeTriangle:r(function(y,C,S,E,w,M){return this.commandBuffer.push(c.STROKE_TRIANGLE,y,C,S,E,w,M),this},"strokeTriangle"),strokeLineShape:r(function(y){return this.lineBetween(y.x1,y.y1,y.x2,y.y2)},"strokeLineShape"),lineBetween:r(function(y,C,S,E){return this.beginPath(),this.moveTo(y,C),this.lineTo(S,E),this.strokePath(),this},"lineBetween"),lineTo:r(function(y,C){return this.commandBuffer.push(c.LINE_TO,y,C),this},"lineTo"),moveTo:r(function(y,C){return this.commandBuffer.push(c.MOVE_TO,y,C),this},"moveTo"),strokePoints:r(function(y,C,S,E){C===void 0&&(C=!1),S===void 0&&(S=!1),E===void 0&&(E=y.length),this.beginPath(),this.moveTo(y[0].x,y[0].y);for(var w=1;w<E;w++)this.lineTo(y[w].x,y[w].y);return C&&this.lineTo(y[0].x,y[0].y),S&&this.closePath(),this.strokePath(),this},"strokePoints"),fillPoints:r(function(y,C,S,E){C===void 0&&(C=!1),S===void 0&&(S=!1),E===void 0&&(E=y.length),this.beginPath(),this.moveTo(y[0].x,y[0].y);for(var w=1;w<E;w++)this.lineTo(y[w].x,y[w].y);return C&&this.lineTo(y[0].x,y[0].y),S&&this.closePath(),this.fillPath(),this},"fillPoints"),strokeEllipseShape:r(function(y,C){C===void 0&&(C=32);var S=y.getPoints(C);return this.strokePoints(S,!0)},"strokeEllipseShape"),strokeEllipse:r(function(y,C,S,E,w){w===void 0&&(w=32);var M=new l(y,C,S,E),R=M.getPoints(w);return this.strokePoints(R,!0)},"strokeEllipse"),fillEllipseShape:r(function(y,C){C===void 0&&(C=32);var S=y.getPoints(C);return this.fillPoints(S,!0)},"fillEllipseShape"),fillEllipse:r(function(y,C,S,E,w){w===void 0&&(w=32);var M=new l(y,C,S,E),R=M.getPoints(w);return this.fillPoints(R,!0)},"fillEllipse"),arc:r(function(y,C,S,E,w,M,R){return M===void 0&&(M=!1),R===void 0&&(R=0),this.commandBuffer.push(c.ARC,y,C,S,E,w,M,R),this},"arc"),slice:r(function(y,C,S,E,w,M,R){return M===void 0&&(M=!1),R===void 0&&(R=0),this.commandBuffer.push(c.BEGIN_PATH),this.commandBuffer.push(c.MOVE_TO,y,C),this.commandBuffer.push(c.ARC,y,C,S,E,w,M,R),this.commandBuffer.push(c.CLOSE_PATH),this},"slice"),save:r(function(){return this.commandBuffer.push(c.SAVE),this},"save"),restore:r(function(){return this.commandBuffer.push(c.RESTORE),this},"restore"),translateCanvas:r(function(y,C){return this.commandBuffer.push(c.TRANSLATE,y,C),this},"translateCanvas"),scaleCanvas:r(function(y,C){return this.commandBuffer.push(c.SCALE,y,C),this},"scaleCanvas"),rotateCanvas:r(function(y){return this.commandBuffer.push(c.ROTATE,y),this},"rotateCanvas"),clear:r(function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},"clear"),generateTexture:r(function(y,C,S){var E=this.scene.sys,w=E.game.renderer;C===void 0&&(C=E.scale.width),S===void 0&&(S=E.scale.height),g.TargetCamera.setScene(this.scene),g.TargetCamera.setViewport(0,0,C,S),g.TargetCamera.scrollX=this.x,g.TargetCamera.scrollY=this.y;var M,R,O={willReadFrequently:!0};if(typeof y=="string")if(E.textures.exists(y)){M=E.textures.get(y);var b=M.getSourceImage();b instanceof HTMLCanvasElement&&(R=b.getContext("2d",O))}else M=E.textures.createCanvas(y,C,S),R=M.getSourceImage().getContext("2d",O);else y instanceof HTMLCanvasElement&&(R=y.getContext("2d",O));return R&&(this.renderCanvas(w,this,g.TargetCamera,null,R,!1),M&&M.refresh()),this},"generateTexture"),preDestroy:r(function(){this.commandBuffer=[]},"preDestroy")});g.TargetCamera=new h,n.exports=g}),32768:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85592),m=i(20926),c=r(function(u,l,o,d,v,f){var p=l.commandBuffer,g=p.length,y=v||u.currentContext;if(!(g===0||!m(u,y,l,o,d))){o.addToRenderList(l);var C=1,S=1,E=0,w=0,M=1,R=0,O=0,b=0;y.beginPath();for(var A=0;A<g;++A){var I=p[A];switch(I){case h.ARC:y.arc(p[A+1],p[A+2],p[A+3],p[A+4],p[A+5],p[A+6]),A+=7;break;case h.LINE_STYLE:M=p[A+1],E=p[A+2],C=p[A+3],R=(E&16711680)>>>16,O=(E&65280)>>>8,b=E&255,y.strokeStyle="rgba("+R+","+O+","+b+","+C+")",y.lineWidth=M,A+=3;break;case h.FILL_STYLE:w=p[A+1],S=p[A+2],R=(w&16711680)>>>16,O=(w&65280)>>>8,b=w&255,y.fillStyle="rgba("+R+","+O+","+b+","+S+")",A+=2;break;case h.BEGIN_PATH:y.beginPath();break;case h.CLOSE_PATH:y.closePath();break;case h.FILL_PATH:f||y.fill();break;case h.STROKE_PATH:f||y.stroke();break;case h.FILL_RECT:f?y.rect(p[A+1],p[A+2],p[A+3],p[A+4]):y.fillRect(p[A+1],p[A+2],p[A+3],p[A+4]),A+=4;break;case h.FILL_TRIANGLE:y.beginPath(),y.moveTo(p[A+1],p[A+2]),y.lineTo(p[A+3],p[A+4]),y.lineTo(p[A+5],p[A+6]),y.closePath(),f||y.fill(),A+=6;break;case h.STROKE_TRIANGLE:y.beginPath(),y.moveTo(p[A+1],p[A+2]),y.lineTo(p[A+3],p[A+4]),y.lineTo(p[A+5],p[A+6]),y.closePath(),f||y.stroke(),A+=6;break;case h.LINE_TO:y.lineTo(p[A+1],p[A+2]),A+=2;break;case h.MOVE_TO:y.moveTo(p[A+1],p[A+2]),A+=2;break;case h.LINE_FX_TO:y.lineTo(p[A+1],p[A+2]),A+=5;break;case h.MOVE_FX_TO:y.moveTo(p[A+1],p[A+2]),A+=5;break;case h.SAVE:y.save();break;case h.RESTORE:y.restore();break;case h.TRANSLATE:y.translate(p[A+1],p[A+2]),A+=2;break;case h.SCALE:y.scale(p[A+1],p[A+2]),A+=2;break;case h.ROTATE:y.rotate(p[A+1]),A+=1;break;case h.GRADIENT_FILL_STYLE:A+=5;break;case h.GRADIENT_LINE_STYLE:A+=6;break}}y.restore()}},"GraphicsCanvasRenderer");n.exports=c}),87079:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(44603),m=i(43831);h.register("graphics",function(c,u){c===void 0&&(c={}),u!==void 0&&(c.add=u);var l=new m(this.scene,c);return c.add&&this.scene.sys.displayList.add(l),l})}),1201:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43831),m=i(39429);m.register("graphics",function(c){return this.displayList.add(new h(this.scene,c))})}),84503:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(77545),c=i(32768),c=i(32768),n.exports={renderWebGL:m,renderCanvas:c}}),77545:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85592),m=i(91296),c=i(61340),u=i(70554),l=r(function(p,g,y){this.x=p,this.y=g,this.width=y},"Point"),o=r(function(p,g,y){this.points=[],this.pointsLength=1,this.points[0]=new l(p,g,y)},"Path"),d=[],v=new c,f=r(function(p,g,y,C){if(g.commandBuffer.length!==0){y.addToRenderList(g);var S=p.pipelines.set(g.pipeline,g);p.pipelines.preBatch(g);for(var E=m(g,y,C).calc,w=v.loadIdentity(),M=g.commandBuffer,R=y.alpha*g.alpha,O=1,b=S.fillTint,A=S.strokeTint,I=0,L=0,F=0,D=.01,B=Math.PI*2,V,U=[],W=0,Y=!0,N=null,z=u.getTintAppendFloatAlpha,G=0;G<M.length;G++)switch(V=M[G],V){case h.BEGIN_PATH:{U.length=0,N=null,Y=!0;break}case h.CLOSE_PATH:{Y=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case h.FILL_PATH:{for(W=0;W<U.length;W++)S.batchFillPath(U[W].points,w,E);break}case h.STROKE_PATH:{for(W=0;W<U.length;W++)S.batchStrokePath(U[W].points,O,Y,w,E);break}case h.LINE_STYLE:{O=M[++G];var X=M[++G],k=M[++G]*R,H=z(X,k);A.TL=H,A.TR=H,A.BL=H,A.BR=H;break}case h.FILL_STYLE:{var $=M[++G],K=M[++G]*R,Z=z($,K);b.TL=Z,b.TR=Z,b.BL=Z,b.BR=Z;break}case h.GRADIENT_FILL_STYLE:{var J=M[++G]*R,j=M[++G]*R,q=M[++G]*R,Q=M[++G]*R;b.TL=z(M[++G],J),b.TR=z(M[++G],j),b.BL=z(M[++G],q),b.BR=z(M[++G],Q);break}case h.GRADIENT_LINE_STYLE:{O=M[++G];var tt=M[++G]*R;A.TL=z(M[++G],tt),A.TR=z(M[++G],tt),A.BL=z(M[++G],tt),A.BR=z(M[++G],tt);break}case h.ARC:{var st=0,_=M[++G],ot=M[++G],ht=M[++G],lt=M[++G],et=M[++G],nt=M[++G],at=M[++G];for(et-=lt,nt?et<-B?et=-B:et>0&&(et=-B+et%B):et>B?et=B:et<0&&(et=B+et%B),N===null&&(N=new o(_+Math.cos(lt)*ht,ot+Math.sin(lt)*ht,O),U.push(N),st+=D);st<1+at;)F=et*st+lt,I=_+Math.cos(F)*ht,L=ot+Math.sin(F)*ht,N.points.push(new l(I,L,O)),st+=D;F=et+lt,I=_+Math.cos(F)*ht,L=ot+Math.sin(F)*ht,N.points.push(new l(I,L,O));break}case h.FILL_RECT:{S.batchFillRect(M[++G],M[++G],M[++G],M[++G],w,E);break}case h.FILL_TRIANGLE:{S.batchFillTriangle(M[++G],M[++G],M[++G],M[++G],M[++G],M[++G],w,E);break}case h.STROKE_TRIANGLE:{S.batchStrokeTriangle(M[++G],M[++G],M[++G],M[++G],M[++G],M[++G],O,w,E);break}case h.LINE_TO:{N!==null?N.points.push(new l(M[++G],M[++G],O)):(N=new o(M[++G],M[++G],O),U.push(N));break}case h.MOVE_TO:{N=new o(M[++G],M[++G],O),U.push(N);break}case h.SAVE:{d.push(w.copyToArray());break}case h.RESTORE:{w.copyFromArray(d.pop());break}case h.TRANSLATE:{_=M[++G],ot=M[++G],w.translate(_,ot);break}case h.SCALE:{_=M[++G],ot=M[++G],w.scale(_,ot);break}case h.ROTATE:{w.rotate(M[++G]);break}}p.pipelines.postBatch(g)}},"GraphicsWebGLRenderer");n.exports=f}),26479:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61061),m=i(83419),c=i(51708),u=i(50792),l=i(46710),o=i(95540),d=i(35154),v=i(97022),f=i(41212),p=i(88492),g=i(35072),y=i(68287),C=new m({Extends:u,initialize:r(function(E,w,M){u.call(this),M?w&&!Array.isArray(w)&&(w=[w]):Array.isArray(w)?f(w[0])&&(M=w,w=null):f(w)&&(M=w,w=null),this.scene=E,this.children=new g,this.isParent=!0,this.type="Group",this.classType=o(M,"classType",y),this.name=o(M,"name",""),this.active=o(M,"active",!0),this.maxSize=o(M,"maxSize",-1),this.defaultKey=o(M,"defaultKey",null),this.defaultFrame=o(M,"defaultFrame",null),this.runChildUpdate=o(M,"runChildUpdate",!1),this.createCallback=o(M,"createCallback",null),this.removeCallback=o(M,"removeCallback",null),this.createMultipleCallback=o(M,"createMultipleCallback",null),this.internalCreateCallback=o(M,"internalCreateCallback",null),this.internalRemoveCallback=o(M,"internalRemoveCallback",null),w&&this.addMultiple(w),M&&this.createMultiple(M),this.on(c.ADDED_TO_SCENE,this.addedToScene,this),this.on(c.REMOVED_FROM_SCENE,this.removedFromScene,this)},"Group"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),create:r(function(S,E,w,M,R,O){if(S===void 0&&(S=0),E===void 0&&(E=0),w===void 0&&(w=this.defaultKey),M===void 0&&(M=this.defaultFrame),R===void 0&&(R=!0),O===void 0&&(O=!0),this.isFull())return null;var b=new this.classType(this.scene,S,E,w,M);return b.addToDisplayList(this.scene.sys.displayList),b.addToUpdateList(),b.visible=R,b.setActive(O),this.add(b),b},"create"),createMultiple:r(function(S){if(this.isFull())return[];Array.isArray(S)||(S=[S]);var E=[];if(S[0].key)for(var w=0;w<S.length;w++){var M=this.createFromConfig(S[w]);E=E.concat(M)}return E},"createMultiple"),createFromConfig:r(function(S){if(this.isFull())return[];this.classType=o(S,"classType",this.classType);var E=o(S,"key",void 0),w=o(S,"frame",null),M=o(S,"visible",!0),R=o(S,"active",!0),O=[];if(E===void 0)return O;Array.isArray(E)||(E=[E]),Array.isArray(w)||(w=[w]);var b=o(S,"repeat",0),A=o(S,"randomKey",!1),I=o(S,"randomFrame",!1),L=o(S,"yoyo",!1),F=o(S,"quantity",!1),D=o(S,"frameQuantity",1),B=o(S,"max",0),V=p(E,w,{max:B,qty:F||D,random:A,randomB:I,repeat:b,yoyo:L});S.createCallback&&(this.createCallback=S.createCallback),S.removeCallback&&(this.removeCallback=S.removeCallback),S.internalCreateCallback&&(this.internalCreateCallback=S.internalCreateCallback),S.internalRemoveCallback&&(this.internalRemoveCallback=S.internalRemoveCallback);for(var U=0;U<V.length;U++){var W=this.create(0,0,V[U].a,V[U].b,M,R);if(!W)break;O.push(W)}if(v(S,"setXY")){var Y=d(S,"setXY.x",0),N=d(S,"setXY.y",0),z=d(S,"setXY.stepX",0),G=d(S,"setXY.stepY",0);h.SetXY(O,Y,N,z,G)}if(v(S,"setRotation")){var X=d(S,"setRotation.value",0),k=d(S,"setRotation.step",0);h.SetRotation(O,X,k)}if(v(S,"setScale")){var H=d(S,"setScale.x",1),$=d(S,"setScale.y",H),K=d(S,"setScale.stepX",0),Z=d(S,"setScale.stepY",0);h.SetScale(O,H,$,K,Z)}if(v(S,"setOrigin")){var J=d(S,"setOrigin.x",.5),j=d(S,"setOrigin.y",J),q=d(S,"setOrigin.stepX",0),Q=d(S,"setOrigin.stepY",0);h.SetOrigin(O,J,j,q,Q)}if(v(S,"setAlpha")){var tt=d(S,"setAlpha.value",1),st=d(S,"setAlpha.step",0);h.SetAlpha(O,tt,st)}if(v(S,"setDepth")){var _=d(S,"setDepth.value",0),ot=d(S,"setDepth.step",0);h.SetDepth(O,_,ot)}if(v(S,"setScrollFactor")){var ht=d(S,"setScrollFactor.x",1),lt=d(S,"setScrollFactor.y",ht),et=d(S,"setScrollFactor.stepX",0),nt=d(S,"setScrollFactor.stepY",0);h.SetScrollFactor(O,ht,lt,et,nt)}var at=o(S,"hitArea",null),ct=o(S,"hitAreaCallback",null);at&&h.SetHitArea(O,at,ct);var St=o(S,"gridAlign",!1);return St&&h.GridAlign(O,St),this.createMultipleCallback&&this.createMultipleCallback.call(this,O),O},"createFromConfig"),preUpdate:r(function(S,E){if(!(!this.runChildUpdate||this.children.size===0))for(var w=this.children.entries.slice(),M=0;M<w.length;M++){var R=w[M];R.active&&R.update(S,E)}},"preUpdate"),add:r(function(S,E){return E===void 0&&(E=!1),this.isFull()?this:(this.children.set(S),this.internalCreateCallback&&this.internalCreateCallback.call(this,S),this.createCallback&&this.createCallback.call(this,S),E&&(S.addToDisplayList(this.scene.sys.displayList),S.addToUpdateList()),S.on(c.DESTROY,this.remove,this),this)},"add"),addMultiple:r(function(S,E){if(E===void 0&&(E=!1),Array.isArray(S))for(var w=0;w<S.length;w++)this.add(S[w],E);return this},"addMultiple"),remove:r(function(S,E,w){return E===void 0&&(E=!1),w===void 0&&(w=!1),this.children.contains(S)?(this.children.delete(S),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,S),this.removeCallback&&this.removeCallback.call(this,S),S.off(c.DESTROY,this.remove,this),w?S.destroy():E&&(S.removeFromDisplayList(),S.removeFromUpdateList()),this):this},"remove"),clear:r(function(S,E){S===void 0&&(S=!1),E===void 0&&(E=!1);for(var w=this.children,M=0;M<w.size;M++){var R=w.entries[M];R.off(c.DESTROY,this.remove,this),E?R.destroy():S&&(R.removeFromDisplayList(),R.removeFromUpdateList())}return this.children.clear(),this},"clear"),contains:r(function(S){return this.children.contains(S)},"contains"),getChildren:r(function(){return this.children.entries},"getChildren"),getLength:r(function(){return this.children.size},"getLength"),getMatching:r(function(S,E,w,M){return l(this.children.entries,S,E,w,M)},"getMatching"),getFirst:r(function(S,E,w,M,R,O,b){return this.getHandler(!0,1,S,E,w,M,R,O,b)},"getFirst"),getFirstNth:r(function(S,E,w,M,R,O,b,A){return this.getHandler(!0,S,E,w,M,R,O,b,A)},"getFirstNth"),getLast:r(function(S,E,w,M,R,O,b){return this.getHandler(!1,1,S,E,w,M,R,O,b)},"getLast"),getLastNth:r(function(S,E,w,M,R,O,b,A){return this.getHandler(!1,S,E,w,M,R,O,b,A)},"getLastNth"),getHandler:r(function(S,E,w,M,R,O,b,A,I){w===void 0&&(w=!1),M===void 0&&(M=!1);var L,F,D=0,B=this.children.entries;if(S)for(F=0;F<B.length;F++)if(L=B[F],L.active===w){if(D++,D===E)break}else L=null;else for(F=B.length-1;F>=0;F--)if(L=B[F],L.active===w){if(D++,D===E)break}else L=null;return L?(typeof R=="number"&&(L.x=R),typeof O=="number"&&(L.y=O),L):M?this.create(R,O,b,A,I):null},"getHandler"),get:r(function(S,E,w,M,R){return this.getFirst(!1,!0,S,E,w,M,R)},"get"),getFirstAlive:r(function(S,E,w,M,R,O){return this.getFirst(!0,S,E,w,M,R,O)},"getFirstAlive"),getFirstDead:r(function(S,E,w,M,R,O){return this.getFirst(!1,S,E,w,M,R,O)},"getFirstDead"),playAnimation:r(function(S,E){return h.PlayAnimation(this.children.entries,S,E),this},"playAnimation"),isFull:r(function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},"isFull"),countActive:r(function(S){S===void 0&&(S=!0);for(var E=0,w=0;w<this.children.size;w++)this.children.entries[w].active===S&&E++;return E},"countActive"),getTotalUsed:r(function(){return this.countActive()},"getTotalUsed"),getTotalFree:r(function(){var S=this.getTotalUsed(),E=this.maxSize===-1?999999999999:this.maxSize;return E-S},"getTotalFree"),setActive:r(function(S){return this.active=S,this},"setActive"),setName:r(function(S){return this.name=S,this},"setName"),propertyValueSet:r(function(S,E,w,M,R){return h.PropertyValueSet(this.children.entries,S,E,w,M,R),this},"propertyValueSet"),propertyValueInc:r(function(S,E,w,M,R){return h.PropertyValueInc(this.children.entries,S,E,w,M,R),this},"propertyValueInc"),setX:r(function(S,E){return h.SetX(this.children.entries,S,E),this},"setX"),setY:r(function(S,E){return h.SetY(this.children.entries,S,E),this},"setY"),setXY:r(function(S,E,w,M){return h.SetXY(this.children.entries,S,E,w,M),this},"setXY"),incX:r(function(S,E){return h.IncX(this.children.entries,S,E),this},"incX"),incY:r(function(S,E){return h.IncY(this.children.entries,S,E),this},"incY"),incXY:r(function(S,E,w,M){return h.IncXY(this.children.entries,S,E,w,M),this},"incXY"),shiftPosition:r(function(S,E,w){return h.ShiftPosition(this.children.entries,S,E,w),this},"shiftPosition"),angle:r(function(S,E){return h.Angle(this.children.entries,S,E),this},"angle"),rotate:r(function(S,E){return h.Rotate(this.children.entries,S,E),this},"rotate"),rotateAround:r(function(S,E){return h.RotateAround(this.children.entries,S,E),this},"rotateAround"),rotateAroundDistance:r(function(S,E,w){return h.RotateAroundDistance(this.children.entries,S,E,w),this},"rotateAroundDistance"),setAlpha:r(function(S,E){return h.SetAlpha(this.children.entries,S,E),this},"setAlpha"),setTint:r(function(S,E,w,M){return h.SetTint(this.children.entries,S,E,w,M),this},"setTint"),setOrigin:r(function(S,E,w,M){return h.SetOrigin(this.children.entries,S,E,w,M),this},"setOrigin"),scaleX:r(function(S,E){return h.ScaleX(this.children.entries,S,E),this},"scaleX"),scaleY:r(function(S,E){return h.ScaleY(this.children.entries,S,E),this},"scaleY"),scaleXY:r(function(S,E,w,M){return h.ScaleXY(this.children.entries,S,E,w,M),this},"scaleXY"),setDepth:r(function(S,E){return h.SetDepth(this.children.entries,S,E),this},"setDepth"),setBlendMode:r(function(S){return h.SetBlendMode(this.children.entries,S),this},"setBlendMode"),setHitArea:r(function(S,E){return h.SetHitArea(this.children.entries,S,E),this},"setHitArea"),shuffle:r(function(){return h.Shuffle(this.children.entries),this},"shuffle"),kill:r(function(S){this.children.contains(S)&&S.setActive(!1)},"kill"),killAndHide:r(function(S){this.children.contains(S)&&(S.setActive(!1),S.setVisible(!1))},"killAndHide"),setVisible:r(function(S,E,w){return h.SetVisible(this.children.entries,S,E,w),this},"setVisible"),toggleVisible:r(function(){return h.ToggleVisible(this.children.entries),this},"toggleVisible"),destroy:r(function(S,E){S===void 0&&(S=!1),E===void 0&&(E=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(c.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(E,S),this.scene=void 0,this.children=void 0)},"destroy")});n.exports=C}),94975:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(44603),m=i(26479);h.register("group",function(c){return new m(this.scene,null,c)})}),3385:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26479),m=i(39429);m.register("group",function(c,u){return this.updateList.add(new h(this.scene,c,u))})}),88571:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(95643),u=i(59819),l=new h({Extends:c,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,u],initialize:r(function(d,v,f,p,g){c.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(p,g),this.setPosition(v,f),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},"Image")});n.exports=l}),40652:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m.addToRenderList(h),i.batchSprite(h,h.frame,m,c)},"ImageCanvasRenderer");n.exports=T}),82459:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(88571);m.register("image",function(l,o){l===void 0&&(l={});var d=c(l,"key",null),v=c(l,"frame",null),f=new u(this.scene,0,0,d,v);return o!==void 0&&(l.add=o),h(this.scene,f,l),f})}),2117:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(88571),m=i(39429);m.register("image",function(c,u,l,o){return this.displayList.add(new h(this.scene,c,u,l,o))})}),59819:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(99517),c=i(40652),n.exports={renderWebGL:m,renderCanvas:c}}),99517:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m.addToRenderList(h),this.pipeline.batchSprite(h,m,c)},"ImageWebGLRenderer");n.exports=T}),77856:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};h.Shader=i(20071),h.Mesh=i(4703),h.NineSlice=i(28103),h.PointLight=i(80321),h.Plane=i(33663),h.Factories.Shader=i(74177),h.Factories.Mesh=i(9225),h.Factories.NineSlice=i(47521),h.Factories.PointLight=i(71255),h.Factories.Plane=i(30985),h.Creators.Shader=i(54935),h.Creators.Mesh=i(20527),h.Creators.NineSlice=i(28279),h.Creators.PointLight=i(39829),h.Creators.Plane=i(56015),h.Light=i(41432),h.LightsManager=i(61356),h.LightsPlugin=i(88992),n.exports=h}),93595:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),m=i(83419),c=i(31401),u=i(53774),l=i(45893),o=i(50792),d=i(51708),v=i(73162),f=i(33963),p=i(44594),g=i(19186),y=new m({Extends:v,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.PostPipeline,c.Visible,o,f],initialize:r(function(S,E){v.call(this,S),o.call(this),this.scene=S,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=S.sys,this.events=S.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),E&&this.add(E),S.sys.queueDepthSort()},"Layer"),setActive:r(function(C){return this.active=C,this},"setActive"),setName:r(function(C){return this.name=C,this},"setName"),setState:r(function(C){return this.state=C,this},"setState"),setDataEnabled:r(function(){return this.data||(this.data=new l(this)),this},"setDataEnabled"),setData:r(function(C,S){return this.data||(this.data=new l(this)),this.data.set(C,S),this},"setData"),incData:r(function(C,S){return this.data||(this.data=new l(this)),this.data.inc(C,S),this},"incData"),toggleData:r(function(C){return this.data||(this.data=new l(this)),this.data.toggle(C),this},"toggleData"),getData:r(function(C){return this.data||(this.data=new l(this)),this.data.get(C)},"getData"),setInteractive:r(function(){return this},"setInteractive"),disableInteractive:r(function(){return this},"disableInteractive"),removeInteractive:r(function(){return this},"removeInteractive"),addedToScene:r(function(){},"addedToScene"),removedFromScene:r(function(){},"removedFromScene"),update:r(function(){},"update"),toJSON:r(function(){return u(this)},"toJSON"),willRender:r(function(C){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&C.id)},"willRender"),getIndexList:r(function(){for(var C=this,S=this.parentContainer,E=[];S&&(E.unshift(S.getIndex(C)),C=S,S.parentContainer);)S=S.parentContainer;return E.unshift(this.displayList.getIndex(C)),E},"getIndexList"),addChildCallback:r(function(C){var S=C.displayList;S&&S!==this&&C.removeFromDisplayList(),C.displayList||(this.queueDepthSort(),C.displayList=this,C.emit(d.ADDED_TO_SCENE,C,this.scene),this.events.emit(p.ADDED_TO_SCENE,C,this.scene))},"addChildCallback"),removeChildCallback:r(function(C){this.queueDepthSort(),C.displayList=null,C.emit(d.REMOVED_FROM_SCENE,C,this.scene),this.events.emit(p.REMOVED_FROM_SCENE,C,this.scene)},"removeChildCallback"),queueDepthSort:r(function(){this.sortChildrenFlag=!0},"queueDepthSort"),depthSort:r(function(){this.sortChildrenFlag&&(g(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},"depthSort"),sortByDepth:r(function(C,S){return C._depth-S._depth},"sortByDepth"),getChildren:r(function(){return this.list},"getChildren"),addToDisplayList:r(function(C){return C===void 0&&(C=this.scene.sys.displayList),this.displayList&&this.displayList!==C&&this.removeFromDisplayList(),C.exists(this)||(this.displayList=C,C.add(this,!0),C.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),C.events.emit(p.ADDED_TO_SCENE,this,this.scene)),this},"addToDisplayList"),removeFromDisplayList:r(function(){var C=this.displayList||this.scene.sys.displayList;return C.exists(this)&&(C.remove(this,!0),C.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),C.events.emit(p.REMOVED_FROM_SCENE,this,this.scene)),this},"removeFromDisplayList"),getDisplayList:r(function(){var C=null;return this.parentContainer?C=this.parentContainer.list:this.displayList&&(C=this.displayList.list),C},"getDisplayList"),destroy:r(function(C){if(!(!this.scene||this.ignoreDestroy)){this.emit(d.DESTROY,this);for(var S=this.list;S.length;)S[0].destroy(C);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}},"destroy")});n.exports=y}),2956:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=h.list;if(c.length!==0){h.depthSort();var u=h.blendMode!==-1;u||i.setBlendMode(0);var l=h._alpha;h.mask&&h.mask.preRenderCanvas(i,null,m);for(var o=0;o<c.length;o++){var d=c[o];if(d.willRender(m)){var v=d.alpha;!u&&d.blendMode!==i.currentBlendMode&&i.setBlendMode(d.blendMode),d.setAlpha(v*l),d.renderCanvas(i,d,m),d.setAlpha(v)}}h.mask&&h.mask.postRenderCanvas(i)}},"LayerCanvasRenderer");n.exports=T}),25179:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(93595),c=i(44603),u=i(23568);c.register("layer",function(l,o){l===void 0&&(l={});var d=u(l,"children",null),v=new m(this.scene,d);return o!==void 0&&(l.add=o),h(this.scene,v,l),v})}),20005:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(93595),m=i(39429);m.register("layer",function(c){return this.displayList.add(new h(this.scene,c))})}),33963:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(15869),c=i(2956),n.exports={renderWebGL:m,renderCanvas:c}}),15869:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=h.list,u=c.length;if(u!==0){h.depthSort(),i.pipelines.preBatch(h);var l=h.blendMode!==-1;l||i.setBlendMode(0);for(var o=h.alpha,d=0;d<u;d++){var v=c[d];if(v.willRender(m)){var f,p,g,y;if(v.alphaTopLeft!==void 0)f=v.alphaTopLeft,p=v.alphaTopRight,g=v.alphaBottomLeft,y=v.alphaBottomRight;else{var C=v.alpha;f=C,p=C,g=C,y=C}!l&&v.blendMode!==i.currentBlendMode&&i.setBlendMode(v.blendMode);var S=v.mask;S&&S.preRenderWebGL(i,v,m);var E=v.type;E!==i.currentType&&(i.newType=!0,i.currentType=E),i.nextTypeMatch=d<u-1?c[d+1].type===i.currentType:!1,v.setAlpha(f*o,p*o,g*o,y*o),v.renderWebGL(i,v,m),v.setAlpha(f,p,g,y),S&&S.postRenderWebGL(i,m),i.newType=!1}}i.pipelines.postBatch(h)}},"LayerWebGLRenderer");n.exports=T}),41432:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503),m=i(83419),c=i(31401),u=i(51767),l=i(70554),o=new m({Extends:h,Mixins:[c.Origin,c.ScrollFactor,c.Visible],initialize:r(function(v,f,p,g,y,C,S){h.call(this,v,f,p),this.color=new u(g,y,C),this.intensity=S,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(p)},"Light"),displayWidth:{get:r(function(){return this.diameter},"get"),set:r(function(d){this.diameter=d},"set")},displayHeight:{get:r(function(){return this.diameter},"get"),set:r(function(d){this.diameter=d},"set")},width:{get:r(function(){return this.diameter},"get"),set:r(function(d){this.diameter=d},"set")},height:{get:r(function(){return this.diameter},"get"),set:r(function(d){this.diameter=d},"set")},willRender:r(function(d){return!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},"willRender"),setColor:r(function(d){var v=l.getFloatsFromUintRGB(d);return this.color.set(v[0],v[1],v[2]),this},"setColor"),setIntensity:r(function(d){return this.intensity=d,this},"setIntensity"),setRadius:r(function(d){return this.radius=d,this},"setRadius")});o.RENDER_MASK=15,n.exports=o}),61356:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81491),m=i(83419),c=i(20339),u=i(41432),l=i(80321),o=i(51767),d=i(19133),v=i(19186),f=i(70554),p=new m({initialize:r(function(){this.lights=[],this.ambientColor=new o(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},"LightsManager"),addPointLight:r(function(g,y,C,S,E,w){return this.systems.displayList.add(new l(this.scene,g,y,C,S,E,w))},"addPointLight"),enable:r(function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},"enable"),disable:r(function(){return this.active=!1,this},"disable"),getLights:r(function(g){for(var y=this.lights,C=g.worldView,S=[],E=0;E<y.length;E++){var w=y[E];w.willRender(g)&&h(w,C)&&S.push({light:w,distance:c(w.x,w.y,C.centerX,C.centerY)})}return S.length>this.maxLights&&(v(S,this.sortByDistance),S=S.slice(0,this.maxLights)),this.visibleLights=S.length,S},"getLights"),sortByDistance:r(function(g,y){return g.distance>=y.distance},"sortByDistance"),setAmbientColor:r(function(g){var y=f.getFloatsFromUintRGB(g);return this.ambientColor.set(y[0],y[1],y[2]),this},"setAmbientColor"),getMaxVisibleLights:r(function(){return this.maxLights},"getMaxVisibleLights"),getLightCount:r(function(){return this.lights.length},"getLightCount"),addLight:r(function(g,y,C,S,E){g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=128),S===void 0&&(S=16777215),E===void 0&&(E=1);var w=f.getFloatsFromUintRGB(S),M=new u(g,y,C,w[0],w[1],w[2],E);return this.lights.push(M),M},"addLight"),removeLight:r(function(g){var y=this.lights.indexOf(g);return y>=0&&d(this.lights,y),this},"removeLight"),shutdown:r(function(){this.lights.length=0},"shutdown"),destroy:r(function(){this.shutdown()},"destroy")});n.exports=p}),88992:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(61356),c=i(37277),u=i(44594),l=new h({Extends:m,initialize:r(function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(u.BOOT,this.boot,this),m.call(this)},"LightsPlugin"),boot:r(function(){var o=this.systems.events;o.on(u.SHUTDOWN,this.shutdown,this),o.on(u.DESTROY,this.destroy,this)},"boot"),destroy:r(function(){this.shutdown(),this.scene=void 0,this.systems=void 0},"destroy")});c.register("LightsPlugin",l,"lights"),n.exports=l}),4703:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(39506),u=i(83997),l=i(95643),o=i(34684),d=i(92515),v=i(91296),f=i(37867),p=i(29807),g=i(43396),y=i(19186),C=i(25836),S=i(39318),E=new h({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,p],initialize:r(function(M,R,O,b,A,I,L,F,D,B,V,U){R===void 0&&(R=0),O===void 0&&(O=0),b===void 0&&(b="__WHITE"),l.call(this,M,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new C,this.modelScale=new C(1,1,1),this.modelRotation=new C,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new f,this.viewPosition=new C,this.viewMatrix=new f,this.projectionMatrix=new f,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=M.sys.renderer;this.setPosition(R,O),this.setTexture(b,A),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),I&&this.addVertices(I,L,F,D,B,V,U)},"Mesh"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),panX:r(function(w){return this.viewPosition.addScale(C.LEFT,w),this.dirtyCache[10]=1,this},"panX"),panY:r(function(w){return this.viewPosition.y+=C.DOWN.y*w,this.dirtyCache[10]=1,this},"panY"),panZ:r(function(w){return this.viewPosition.z+=w,this.dirtyCache[10]=1,this},"panZ"),setPerspective:r(function(w,M,R,O,b){return R===void 0&&(R=45),O===void 0&&(O=.01),b===void 0&&(b=1e3),this.fov=R,this.projectionMatrix.perspective(c(R),w/M,O,b),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},"setPerspective"),setOrtho:r(function(w,M,R,O){return w===void 0&&(w=this.scene.sys.renderer.getAspectRatio()),M===void 0&&(M=1),R===void 0&&(R=-1e3),O===void 0&&(O=1e3),this.fov=0,this.projectionMatrix.ortho(-w,w,-M,M,R,O),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},"setOrtho"),clear:r(function(){return this.faces.forEach(function(w){w.destroy()}),this.faces=[],this.vertices=[],this},"clear"),addVerticesFromObj:r(function(w,M,R,O,b,A,I,L,F){var D=this.scene.sys.cache.obj.get(w),B;return D&&(B=o(D,this,M,R,O,b,A,I,L,F)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",w),this},"addVerticesFromObj"),sortByDepth:r(function(w,M){return w.depth-M.depth},"sortByDepth"),depthSort:r(function(){return y(this.faces,this.sortByDepth),this},"depthSort"),addVertex:r(function(w,M,R,O,b,A,I){var L=new S(w,M,R,O,b,A,I);return this.vertices.push(L),L},"addVertex"),addFace:r(function(w,M,R){var O=new u(w,M,R);return this.faces.push(O),this.dirtyCache[9]=-1,O},"addFace"),addVertices:r(function(w,M,R,O,b,A,I){var L=d(w,M,R,O,b,A,I);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},"addVertices"),getFaceCount:r(function(){return this.faces.length},"getFaceCount"),getVertexCount:r(function(){return this.vertices.length},"getVertexCount"),getFace:r(function(w){return this.faces[w]},"getFace"),hasFaceAt:r(function(w,M,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var O=v(this,R).calc,b=this.faces,A=0;A<b.length;A++){var I=b[A];if(I.contains(w,M,O))return!0}return!1},"hasFaceAt"),getFaceAt:r(function(w,M,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var O=v(this,R).calc,b=this.faces,A=[],I=0;I<b.length;I++){var L=b[I];L.contains(w,M,O)&&A.push(L)}return y(A,this.sortByDepth)},"getFaceAt"),setDebug:r(function(w,M){return this.debugGraphic=w,!w&&!M?this.debugCallback=null:M?this.debugCallback=M:this.debugCallback=this.renderDebug,this},"setDebug"),isDirty:r(function(){var w=this.modelPosition,M=this.modelRotation,R=this.modelScale,O=this.dirtyCache,b=w.x,A=w.y,I=w.z,L=M.x,F=M.y,D=M.z,B=R.x,V=R.y,U=R.z,W=this.getFaceCount(),Y=O[0],N=O[1],z=O[2],G=O[3],X=O[4],k=O[5],H=O[6],$=O[7],K=O[8],Z=O[9];return O[0]=b,O[1]=A,O[2]=I,O[3]=L,O[4]=F,O[5]=D,O[6]=B,O[7]=V,O[8]=U,O[9]=W,Y!==b||N!==A||z!==I||G!==L||X!==F||k!==D||H!==B||$!==V||K!==U||Z!==W},"isDirty"),preUpdate:r(function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var w=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!w[10]&&!this.isDirty())){var M=this.width,R=this.height,O=this.viewMatrix,b=this.viewPosition;w[10]&&(O.identity(),O.translate(b),O.invert(),w[10]=0);var A=this.transformMatrix;A.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var I=b.z,L=this.faces,F=0;F<L.length;F++)L[F].transformCoordinatesLocal(A,M,R,I);this.depthSort()}},"preUpdate"),renderDebug:r(function(w,M){for(var R=w.debugGraphic,O=0;O<M.length;O++){var b=M[O],A=b.vertex1.tx,I=b.vertex1.ty,L=b.vertex2.tx,F=b.vertex2.ty,D=b.vertex3.tx,B=b.vertex3.ty;R.strokeTriangle(A,I,L,F,D,B)}},"renderDebug"),preDestroy:r(function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},"preDestroy"),clearTint:r(function(){return this.setTint()},"clearTint"),setInteractive:r(function(w){w===void 0&&(w={});var M=(function(R,O,b){for(var A=this.faces,I=0;I<A.length;I++){var L=A[I];if(L.contains(O,b))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,w,M),this},"setInteractive"),setTint:r(function(w){w===void 0&&(w=16777215);for(var M=this.vertices,R=0;R<M.length;R++)M[R].color=w;return this},"setTint"),uvScroll:r(function(w,M){for(var R=this.faces,O=0;O<R.length;O++)R[O].scrollUV(w,M);return this},"uvScroll"),uvScale:r(function(w,M){for(var R=this.faces,O=0;O<R.length;O++)R[O].scaleUV(w,M);return this},"uvScale"),tint:{set:r(function(w){this.setTint(w)},"set")},rotateX:{get:r(function(){return g(this.modelRotation.x)},"get"),set:r(function(w){this.modelRotation.x=c(w)},"set")},rotateY:{get:r(function(){return g(this.modelRotation.y)},"get"),set:r(function(w){this.modelRotation.y=c(w)},"set")},rotateZ:{get:r(function(){return g(this.modelRotation.z)},"get"),set:r(function(w){this.modelRotation.z=c(w)},"set")}});n.exports=E}),36488:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){},"MeshCanvasRenderer");n.exports=T}),20527:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(35154),l=i(4703);m.register("mesh",function(o,d){o===void 0&&(o={});var v=c(o,"key",null),f=c(o,"frame",null),p=u(o,"vertices",[]),g=u(o,"uvs",[]),y=u(o,"indicies",[]),C=u(o,"containsZ",!1),S=u(o,"normals",[]),E=u(o,"colors",16777215),w=u(o,"alphas",1),M=new l(this.scene,0,0,v,f,p,g,y,C,S,E,w);return d!==void 0&&(o.add=d),h(this.scene,M,o),M})}),9225:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4703),m=i(39429);m.register("mesh",function(c,u,l,o,d,v,f,p,g,y,C){return this.displayList.add(new h(this.scene,c,u,l,o,d,v,f,p,g,y,C))})}),29807:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(48833),c=i(36488),n.exports={renderWebGL:m,renderCanvas:c}}),48833:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=r(function(c,u,l,o){var d=u.faces,v=d.length;if(v!==0){l.addToRenderList(u);var f=c.pipelines.set(u.pipeline,u),p=h(u,l,o).calc;c.pipelines.preBatch(u);for(var g=f.setGameObject(u),y=f.vertexViewF32,C=f.vertexViewU32,S=f.vertexCount*f.currentShader.vertexComponentCount-1,E=u.tintFill,w=[],M=u.debugCallback,R=p.a,O=p.b,b=p.c,A=p.d,I=p.e,L=p.f,F=u.viewPosition.z,D=u.hideCCW,B=l.roundPixels,V=l.alpha*u.alpha,U=0,W=0;W<v;W++){var Y=d[W];Y.isInView(l,D,F,V,R,O,b,A,I,L,B)&&(f.shouldFlush(3)&&(f.flush(),g=f.setGameObject(u),S=f.vertexCount*f.currentShader.vertexComponentCount-1),S=Y.load(y,C,S,g,E),U++,f.vertexCount+=3,f.currentBatch.count=f.vertexCount-f.currentBatch.start,M&&w.push(Y))}u.totalFrame+=U,M&&M.call(u,u,w),c.pipelines.postBatch(u)}},"MeshWebGLRenderer");n.exports=m}),28103:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(95643),u=i(78023),l=i(39318),o=new h({Extends:c,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,u],initialize:r(function(v,f,p,g,y,C,S,E,w,M,R){c.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var O=v.textures.getFrame(g,y);this.is3Slice=!M&&!R,O&&O.scale9&&(this.is3Slice=O.is3Slice);for(var b=this.is3Slice?18:54,A=0;A<b;A++)this.vertices.push(new l);this.setPosition(f,p),this.setTexture(g,y),this.setSlices(C,S,E,w,M,R,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},"NineSlice"),setSlices:r(function(d,v,f,p,g,y,C){f===void 0&&(f=10),p===void 0&&(p=10),g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=!1);var S=this.frame,E=!1;if(this.is3Slice&&C&&g!==0&&y!==0&&(E=!0),E)console.warn("Cannot change 9 slice to 3 slice");else{if(S&&S.scale9&&!C){var w=S.data.scale9Borders,M=w.x,R=w.y;f=M,p=S.width-w.w-M,g=R,y=S.height-w.h-R,d===void 0&&(d=S.width),v===void 0&&(v=S.height)}else d===void 0&&(d=256),v===void 0&&(v=256);this._width=d,this._height=v,this.leftWidth=f,this.rightWidth=p,this.topHeight=g,this.bottomHeight=y,this.is3Slice&&(v=S.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},"setSlices"),updateUVs:r(function(){var d=this.leftWidth,v=this.rightWidth,f=this.topHeight,p=this.bottomHeight,g=this.frame.width,y=this.frame.height;this.updateQuadUVs(0,0,0,d/g,f/y),this.updateQuadUVs(6,d/g,0,1-v/g,f/y),this.updateQuadUVs(12,1-v/g,0,1,f/y),this.is3Slice||(this.updateQuadUVs(18,0,f/y,d/g,1-p/y),this.updateQuadUVs(24,d/g,f/y,1-v/g,1-p/y),this.updateQuadUVs(30,1-v/g,f/y,1,1-p/y),this.updateQuadUVs(36,0,1-p/y,d/g,1),this.updateQuadUVs(42,d/g,1-p/y,1-v/g,1),this.updateQuadUVs(48,1-v/g,1-p/y,1,1))},"updateUVs"),updateVertices:r(function(){var d=this.leftWidth,v=this.rightWidth,f=this.topHeight,p=this.bottomHeight,g=this.width,y=this.height;this.updateQuad(0,-.5,.5,-.5+d/g,.5-f/y),this.updateQuad(6,-.5+d/g,.5,.5-v/g,.5-f/y),this.updateQuad(12,.5-v/g,.5,.5,.5-f/y),this.is3Slice||(this.updateQuad(18,-.5,.5-f/y,-.5+d/g,-.5+p/y),this.updateQuad(24,-.5+d/g,.5-f/y,.5-v/g,-.5+p/y),this.updateQuad(30,.5-v/g,.5-f/y,.5,-.5+p/y),this.updateQuad(36,-.5,-.5+p/y,-.5+d/g,-.5),this.updateQuad(42,-.5+d/g,-.5+p/y,.5-v/g,-.5),this.updateQuad(48,.5-v/g,-.5+p/y,.5,-.5))},"updateVertices"),updateQuad:r(function(d,v,f,p,g){var y=this.width,C=this.height,S=this.originX,E=this.originY,w=this.vertices;w[d+0].resize(v,f,y,C,S,E),w[d+1].resize(v,g,y,C,S,E),w[d+2].resize(p,f,y,C,S,E),w[d+3].resize(v,g,y,C,S,E),w[d+4].resize(p,g,y,C,S,E),w[d+5].resize(p,f,y,C,S,E)},"updateQuad"),updateQuadUVs:r(function(d,v,f,p,g){var y=this.vertices,C=this.frame,S=C.u0,E=C.v0,w=C.u1,M=C.v1;if(S!==0||w!==1){var R=w-S;v=S+v*R,p=S+p*R}if(E!==0||M!==1){var O=M-E;f=E+f*O,g=E+g*O}y[d+0].setUVs(v,f),y[d+1].setUVs(v,g),y[d+2].setUVs(p,f),y[d+3].setUVs(v,g),y[d+4].setUVs(p,g),y[d+5].setUVs(p,f)},"updateQuadUVs"),clearTint:r(function(){return this.setTint(16777215),this},"clearTint"),setTint:r(function(d){return d===void 0&&(d=16777215),this.tint=d,this.tintFill=!1,this},"setTint"),setTintFill:r(function(d){return this.setTint(d),this.tintFill=!0,this},"setTintFill"),isTinted:{get:r(function(){return this.tint!==16777215},"get")},width:{get:r(function(){return this._width},"get"),set:r(function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()},"set")},height:{get:r(function(){return this._height},"get"),set:r(function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())},"set")},displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(d){this.scaleX=d/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(d){this.scaleY=d/this.height},"set")},setSize:r(function(d,v){this.width=d,this.height=v,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},"setSize"),setDisplaySize:r(function(d,v){return this.displayWidth=d,this.displayHeight=v,this},"setDisplaySize"),originX:{get:r(function(){return this._originX},"get"),set:r(function(d){this._originX=d,this.updateVertices()},"set")},originY:{get:r(function(){return this._originY},"get"),set:r(function(d){this._originY=d,this.updateVertices()},"set")},setOrigin:r(function(d,v){return d===void 0&&(d=.5),v===void 0&&(v=d),this._originX=d,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},"setOrigin"),setSizeToFrame:r(function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},"setSizeToFrame"),preDestroy:r(function(){this.vertices=[]},"preDestroy")});n.exports=o}),28279:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(35154),l=i(28103);m.register("nineslice",function(o,d){o===void 0&&(o={});var v=c(o,"key",null),f=c(o,"frame",null),p=u(o,"width",256),g=u(o,"height",256),y=u(o,"leftWidth",10),C=u(o,"rightWidth",10),S=u(o,"topHeight",0),E=u(o,"bottomHeight",0),w=new l(this.scene,0,0,v,f,p,g,y,C,S,E);return d!==void 0&&(o.add=d),h(this.scene,w,o),w})}),47521:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28103),m=i(39429);m.register("nineslice",function(c,u,l,o,d,v,f,p,g,y){return this.displayList.add(new h(this.scene,c,u,l,o,d,v,f,p,g,y))})}),78023:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(52230),n.exports={renderWebGL:m,renderCanvas:c}}),52230:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=i(70554),c=r(function(u,l,o,d){var v=l.vertices,f=v.length;if(f!==0){o.addToRenderList(l);var p=u.pipelines.set(l.pipeline,l),g=h(l,o,d,!1).calc;u.pipelines.preBatch(l);var y=p.setGameObject(l),C=p.vertexViewF32,S=p.vertexViewU32,E=p.vertexCount*p.currentShader.vertexComponentCount-1,w=o.roundPixels,M=l.tintFill,R=o.alpha*l.alpha,O=m.getTintAppendFloatAlpha(l.tint,R),b=p.vertexAvailable(),A=-1;b<f&&(A=b);for(var I=0;I<f;I++){var L=v[I];I===A&&(p.flush(),y=p.setGameObject(l),E=0),C[++E]=g.getXRound(L.vx,L.vy,w),C[++E]=g.getYRound(L.vx,L.vy,w),C[++E]=L.u,C[++E]=L.v,C[++E]=y,C[++E]=M,S[++E]=O,p.vertexCount++,p.currentBatch.count=p.vertexCount-p.currentBatch.start}u.pipelines.postBatch(l)}},"NineSliceWebGLRenderer");n.exports=c}),76472:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(44777),c=i(37589),u=i(6113),l=i(91389),o=i(90664),d=new h({Extends:m,initialize:r(function(f){m.call(this,f,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},"EmitterColorOp"),getMethod:r(function(){return this.propertyValue===null?0:9},"getMethod"),setMethods:r(function(){var v=this.propertyValue,f=v,p=this.defaultEmit,g=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=u("Linear"),this.interpolation=l("linear"),p=this.easedValueEmit,g=this.easeValueUpdate,f=v[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var y=0;y<v.length;y++){var C=o(v[y]);this.r.push(C.r),this.g.push(C.g),this.b.push(C.b)}}return this.onEmit=p,this.onUpdate=g,this.current=f,this},"setMethods"),setEase:r(function(v){this.easeName=v,this.ease=u(v)},"setEase"),easedValueEmit:r(function(){return this.current=this.start,this.start},"easedValueEmit"),easeValueUpdate:r(function(v,f,p){var g=this.ease(p),y=this.interpolation(this.r,g),C=this.interpolation(this.g,g),S=this.interpolation(this.b,g),E=c(y,C,S);return this.current=E,E},"easeValueUpdate")});n.exports=d}),44777:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30976),m=i(45319),c=i(83419),u=i(99472),l=i(6113),o=i(95540),d=i(91389),v=i(77720),f=i(15994),p=new c({initialize:r(function(y,C,S){S===void 0&&(S=!1),this.propertyKey=y,this.propertyValue=C,this.defaultValue=C,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=S,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},"EmitterOp"),loadConfig:r(function(g,y){g===void 0&&(g={}),y&&(this.propertyKey=y),this.propertyValue=o(g,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},"loadConfig"),toJSON:r(function(){return JSON.stringify(this.propertyValue)},"toJSON"),onChange:r(function(g){var y;switch(this.method){case 1:case 3:case 8:y=g;break;case 2:this.propertyValue.indexOf(g)>=0&&(y=g);break;case 4:var C=(this.end-this.start)/this.steps;y=v(g,C),this.counter=y;break;case 5:case 6:case 7:y=m(g,this.start,this.end);break;case 9:y=this.start[0];break}return this.current=y,this},"onChange"),getMethod:r(function(){var g=this.propertyValue;if(g===null)return 0;var y=typeof g;if(y==="number")return 1;if(Array.isArray(g))return 2;if(y==="function")return 3;if(y==="object"){if(this.hasBoth(g,"start","end"))return this.has(g,"steps")?4:5;if(this.hasBoth(g,"min","max"))return 6;if(this.has(g,"random"))return 7;if(this.hasEither(g,"onEmit","onUpdate"))return 8;if(this.hasEither(g,"values","interpolation"))return 9}return 0},"getMethod"),setMethods:r(function(){var g=this.propertyValue,y=g,C=this.defaultEmit,S=this.defaultUpdate;switch(this.method){case 1:C=this.staticValueEmit;break;case 2:C=this.randomStaticValueEmit,y=g[0];break;case 3:this._onEmit=g,C=this.proxyEmit,y=this.defaultValue;break;case 4:this.start=g.start,this.end=g.end,this.steps=g.steps,this.counter=this.start,this.yoyo=this.has(g,"yoyo")?g.yoyo:!1,this.direction=0,C=this.steppedEmit,y=this.start;break;case 5:this.start=g.start,this.end=g.end;var E=this.has(g,"ease")?g.ease:"Linear";this.ease=l(E,g.easeParams),C=this.has(g,"random")&&g.random?this.randomRangedValueEmit:this.easedValueEmit,S=this.easeValueUpdate,y=this.start;break;case 6:this.start=g.min,this.end=g.max,C=this.has(g,"int")&&g.int?this.randomRangedIntEmit:this.randomRangedValueEmit,y=this.start;break;case 7:var w=g.random;Array.isArray(w)&&(this.start=w[0],this.end=w[1]),C=this.randomRangedIntEmit,y=this.start;break;case 8:this._onEmit=this.has(g,"onEmit")?g.onEmit:this.defaultEmit,this._onUpdate=this.has(g,"onUpdate")?g.onUpdate:this.defaultUpdate,C=this.proxyEmit,S=this.proxyUpdate,y=this.defaultValue;break;case 9:this.start=g.values;var M=this.has(g,"ease")?g.ease:"Linear";this.ease=l(M,g.easeParams),this.interpolation=d(g.interpolation),C=this.easedValueEmit,S=this.easeValueUpdate,y=this.start[0];break}return this.onEmit=C,this.onUpdate=S,this.current=y,this},"setMethods"),has:r(function(g,y){return g.hasOwnProperty(y)},"has"),hasBoth:r(function(g,y,C){return g.hasOwnProperty(y)&&g.hasOwnProperty(C)},"hasBoth"),hasEither:r(function(g,y,C){return g.hasOwnProperty(y)||g.hasOwnProperty(C)},"hasEither"),defaultEmit:r(function(){return this.defaultValue},"defaultEmit"),defaultUpdate:r(function(g,y,C,S){return S},"defaultUpdate"),proxyEmit:r(function(g,y,C){var S=this._onEmit(g,y,C);return this.current=S,S},"proxyEmit"),proxyUpdate:r(function(g,y,C,S){var E=this._onUpdate(g,y,C,S);return this.current=E,E},"proxyUpdate"),staticValueEmit:r(function(){return this.current},"staticValueEmit"),staticValueUpdate:r(function(){return this.current},"staticValueUpdate"),randomStaticValueEmit:r(function(){var g=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[g],this.current},"randomStaticValueEmit"),randomRangedValueEmit:r(function(g,y){var C=u(this.start,this.end);return g&&g.data[y]&&(g.data[y].min=C,g.data[y].max=this.end),this.current=C,C},"randomRangedValueEmit"),randomRangedIntEmit:r(function(g,y){var C=h(this.start,this.end);return g&&g.data[y]&&(g.data[y].min=C,g.data[y].max=this.end),this.current=C,C},"randomRangedIntEmit"),steppedEmit:r(function(){var g=this.counter,y=g,C=(this.end-this.start)/this.steps;if(this.yoyo){var S;this.direction===0?(y+=C,y>=this.end&&(S=y-this.end,y=this.end-S,this.direction=1)):(y-=C,y<=this.start&&(S=this.start-y,y=this.start+S,this.direction=0)),this.counter=y}else this.counter=f(y+C,this.start,this.end);return this.current=g,g},"steppedEmit"),easedValueEmit:r(function(g,y){if(g&&g.data[y]){var C=g.data[y];C.min=this.start,C.max=this.end}return this.current=this.start,this.start},"easedValueEmit"),easeValueUpdate:r(function(g,y,C){var S=g.data[y],E,w=this.ease(C);return this.interpolation?E=this.interpolation(this.start,w):E=(S.max-S.min)*w+S.min,this.current=E,E},"easeValueUpdate"),destroy:r(function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null},"destroy")});n.exports=p}),24502:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=i(20286),u=new h({Extends:c,initialize:r(function(o,d,v,f,p){if(typeof o=="object"){var g=o;o=m(g,"x",0),d=m(g,"y",0),v=m(g,"power",0),f=m(g,"epsilon",100),p=m(g,"gravity",50)}else o===void 0&&(o=0),d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=100),p===void 0&&(p=50);c.call(this,o,d,!0),this._gravity=p,this._power=v*p,this._epsilon=f*f},"GravityWell"),update:r(function(l,o){var d=this.x-l.x,v=this.y-l.y,f=d*d+v*v;if(f!==0){var p=Math.sqrt(f);f<this._epsilon&&(f=this._epsilon);var g=this._power*o/(f*p)*100;l.velocityX+=d*g,l.velocityY+=v*g}},"update"),epsilon:{get:r(function(){return Math.sqrt(this._epsilon)},"get"),set:r(function(l){this._epsilon=l*l},"set")},power:{get:r(function(){return this._power/this._gravity},"get"),set:r(function(l){this._power=l*this._gravity},"set")},gravity:{get:r(function(){return this._gravity},"get"),set:r(function(l){var o=this.power;this._gravity=l,this.power=o},"set")}});n.exports=u}),56480:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),m=i(45319),c=i(83419),u=i(39506),l=i(87841),o=i(11520),d=i(26099),v=new c({initialize:r(function(p){this.emitter=p,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=p.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new h(this)),this.bounds=new l},"Particle"),emit:r(function(f,p,g,y,C,S){return this.emitter.emit(f,p,g,y,C,S)},"emit"),isAlive:r(function(){return this.lifeCurrent>0},"isAlive"),kill:r(function(){this.lifeCurrent=0},"kill"),setPosition:r(function(f,p){f===void 0&&(f=0),p===void 0&&(p=0),this.x=f,this.y=p},"setPosition"),fire:r(function(f,p){var g=this.emitter,y=g.ops,C=g.getAnim();if(C?this.anims.play(C):(this.frame=g.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(g.getEmitZone(this),f===void 0?this.x+=y.x.onEmit(this,"x"):y.x.steps>0?this.x+=f+y.x.onEmit(this,"x"):this.x+=f,p===void 0?this.y+=y.y.onEmit(this,"y"):y.y.steps>0?this.y+=p+y.y.onEmit(this,"y"):this.y+=p,this.life=y.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=y.delay.onEmit(this,"delay"),this.holdCurrent=y.hold.onEmit(this,"hold"),this.scaleX=y.scaleX.onEmit(this,"scaleX"),this.scaleY=y.scaleY.active?y.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=y.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),g.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&g.getDeathZone(this))return this.lifeCurrent=0,!1;var S=y.speedX.onEmit(this,"speedX"),E=y.speedY.active?y.speedY.onEmit(this,"speedY"):S;if(g.radial){var w=u(y.angle.onEmit(this,"angle"));this.velocityX=Math.cos(w)*Math.abs(S),this.velocityY=Math.sin(w)*Math.abs(E)}else if(g.moveTo){var M=y.moveToX.onEmit(this,"moveToX"),R=y.moveToY.onEmit(this,"moveToY"),O=this.life/1e3;this.velocityX=(M-this.x)/O,this.velocityY=(R-this.y)/O}else this.velocityX=S,this.velocityY=E;return g.acceleration&&(this.accelerationX=y.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=y.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=y.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=y.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=y.bounce.onEmit(this,"bounce"),this.alpha=y.alpha.onEmit(this,"alpha"),y.color.active?this.tint=y.color.onEmit(this,"tint"):this.tint=y.tint.onEmit(this,"tint"),!0},"fire"),update:r(function(f,p,g){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=f,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=f,!1;this.anims&&this.anims.update(0,f);var y=this.emitter,C=y.ops,S=1-this.lifeCurrent/this.life;if(this.lifeT=S,this.x=C.x.onUpdate(this,"x",S,this.x),this.y=C.y.onUpdate(this,"y",S,this.y),y.moveTo){var E=C.moveToX.onUpdate(this,"moveToX",S,y.moveToX),w=C.moveToY.onUpdate(this,"moveToY",S,y.moveToY),M=this.lifeCurrent/1e3;this.velocityX=(E-this.x)/M,this.velocityY=(w-this.y)/M}return this.computeVelocity(y,f,p,g,S),this.scaleX=C.scaleX.onUpdate(this,"scaleX",S,this.scaleX),C.scaleY.active?this.scaleY=C.scaleY.onUpdate(this,"scaleY",S,this.scaleY):this.scaleY=this.scaleX,this.angle=C.rotate.onUpdate(this,"rotate",S,this.angle),this.rotation=u(this.angle),y.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=m(C.alpha.onUpdate(this,"alpha",S,this.alpha),0,1),C.color.active?this.tint=C.color.onUpdate(this,"color",S,this.tint):this.tint=C.tint.onUpdate(this,"tint",S,this.tint),this.lifeCurrent-=f,this.lifeCurrent<=0&&this.holdCurrent<=0)},"update"),computeVelocity:r(function(f,p,g,y,C){var S=f.ops,E=this.velocityX,w=this.velocityY,M=S.accelerationX.onUpdate(this,"accelerationX",C,this.accelerationX),R=S.accelerationY.onUpdate(this,"accelerationY",C,this.accelerationY),O=S.maxVelocityX.onUpdate(this,"maxVelocityX",C,this.maxVelocityX),b=S.maxVelocityY.onUpdate(this,"maxVelocityY",C,this.maxVelocityY);this.bounce=S.bounce.onUpdate(this,"bounce",C,this.bounce),E+=f.gravityX*g+M*g,w+=f.gravityY*g+R*g,E=m(E,-O,O),w=m(w,-b,b),this.velocityX=E,this.velocityY=w,this.x+=E*g,this.y+=w*g,f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var A=0;A<y.length;A++){var I=y[A];I.active&&I.update(this,p,g,C)}},"computeVelocity"),setSizeToFrame:r(function(){},"setSizeToFrame"),getBounds:r(function(f){f===void 0&&(f=this.emitter.getWorldTransformMatrix());var p=Math.abs(f.scaleX)*this.scaleX,g=Math.abs(f.scaleY)*this.scaleY,y=this.x,C=this.y,S=this.rotation,E=this.frame.width*p/2,w=this.frame.height*g/2,M=this.bounds,R=new d(y-E,C-w),O=new d(y+E,C-w),b=new d(y-E,C+w),A=new d(y+E,C+w);return S!==0&&(o(R,y,C,S),o(O,y,C,S),o(b,y,C,S),o(A,y,C,S)),f.transformPoint(R.x,R.y,R),f.transformPoint(O.x,O.y,O),f.transformPoint(b.x,b.y,b),f.transformPoint(A.x,A.y,A),M.x=Math.min(R.x,O.x,b.x,A.x),M.y=Math.min(R.y,O.y,b.y,A.y),M.width=Math.max(R.x,O.x,b.x,A.x)-M.x,M.height=Math.max(R.y,O.y,b.y,A.y)-M.y,M},"getBounds"),destroy:r(function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null},"destroy")});n.exports=v}),69601:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(20286),c=i(87841),u=new h({Extends:m,initialize:r(function(o,d,v,f,p,g,y,C){p===void 0&&(p=!0),g===void 0&&(g=!0),y===void 0&&(y=!0),C===void 0&&(C=!0),m.call(this,o,d,!0),this.bounds=new c(o,d,v,f),this.collideLeft=p,this.collideRight=g,this.collideTop=y,this.collideBottom=C},"ParticleBounds"),update:r(function(l){var o=this.bounds,d=-l.bounce,v=l.worldPosition;v.x<o.x&&this.collideLeft?(l.x+=o.x-v.x,l.velocityX*=d):v.x>o.right&&this.collideRight&&(l.x-=v.x-o.right,l.velocityX*=d),v.y<o.y&&this.collideTop?(l.y+=o.y-v.y,l.velocityY*=d):v.y>o.bottom&&this.collideBottom&&(l.y-=v.y-o.bottom,l.velocityY*=d)},"update")});n.exports=u}),31600:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(53774),u=i(43459),l=i(26388),o=i(19909),d=i(76472),v=i(44777),f=i(20696),p=i(95643),g=i(95540),y=i(26546),C=i(24502),S=i(69036),E=i(1985),w=i(97022),M=i(86091),R=i(73162),O=i(20074),b=i(269),A=i(56480),I=i(69601),L=i(68875),F=i(87841),D=i(59996),B=i(72905),V=i(90668),U=i(19186),W=i(61340),Y=i(26099),N=i(15994),z=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],G=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],X=new h({Extends:p,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,V],initialize:r(function(H,$,K,Z,J){p.call(this,H,"ParticleEmitter"),this.particleClass=A,this.config=null,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new d("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new Y,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new R(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,K),this.setTexture(Z),J&&this.setConfig(J)},"ParticleEmitter"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),setConfig:r(function(k){if(!k)return this;this.config=k;var H=0,$="",K=this.ops;for(H=0;H<G.length;H++)$=G[H],K[$].loadConfig(k);for(H=0;H<z.length;H++)$=z[H],w(k,$)&&(this[$]=g(k,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=S(k,["moveToX","moveToY"]),w(k,"speed")&&(K.speedX.loadConfig(k,"speed"),K.speedY.active=!1),(E(k,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),w(k,"scale")&&(K.scaleX.loadConfig(k,"scale"),K.scaleY.active=!1),w(k,"callbackScope")){var Z=g(k,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(w(k,"emitZone")&&this.addEmitZone(k.emitZone),w(k,"deathZone")&&this.addDeathZone(k.deathZone),w(k,"bounds")){var J=this.addParticleBounds(k.bounds);J.collideLeft=g(k,"collideLeft",!0),J.collideRight=g(k,"collideRight",!0),J.collideTop=g(k,"collideTop",!0),J.collideBottom=g(k,"collideBottom",!0)}return w(k,"followOffset")&&this.followOffset.setFromObject(g(k,"followOffset",0)),w(k,"texture")&&this.setTexture(k.texture),w(k,"frame")?this.setEmitterFrame(k.frame):w(k,"anim")&&this.setAnim(k.anim),w(k,"reserve")&&this.reserve(k.reserve),w(k,"advance")&&this.fastForward(k.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(f.START,this),this},"setConfig"),updateConfig:r(function(k){return k&&(this.config?this.setConfig(b(this.config,k)):this.setConfig(k)),this},"updateConfig"),toJSON:r(function(){var k=c(this),H=0,$="";for(H=0;H<z.length;H++)$=z[H],k[$]=this[$];var K=this.ops;for(H=0;H<G.length;H++)$=G[H],K[$]&&(k[$]=K[$].toJSON());return K.speedY.active||(delete k.speedX,k.speed=K.speedX.toJSON()),this.scaleX===this.scaleY&&(delete k.scaleX,delete k.scaleY,k.scale=K.scaleX.toJSON()),k},"toJSON"),resetCounters:r(function(k,H){var $=this.counters;$.fill(0),$[0]=k,H&&($[5]=1)},"resetCounters"),startFollow:r(function(k,H,$,K){return H===void 0&&(H=0),$===void 0&&($=0),K===void 0&&(K=!1),this.follow=k,this.followOffset.set(H,$),this.trackVisible=K,this},"startFollow"),stopFollow:r(function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},"stopFollow"),getFrame:r(function(){var k=this.frames,H=k.length,$;return H===1?$=k[0]:this.randomFrame?$=y(k):($=k[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===H&&(this.currentFrame=0))),this.texture.get($)},"getFrame"),setEmitterFrame:r(function(k,H,$){H===void 0&&(H=!0),$===void 0&&($=1),this.randomFrame=H,this.frameQuantity=$,this.currentFrame=0;var K=typeof k;if(this.frames.length=0,Array.isArray(k))this.frames=this.frames.concat(k);else if(K==="string"||K==="number")this.frames.push(k);else if(K==="object"){var Z=k;k=g(Z,"frames",null),k&&(this.frames=this.frames.concat(k));var J=g(Z,"cycle",!1);this.randomFrame=!J,this.frameQuantity=g(Z,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},"setEmitterFrame"),getAnim:r(function(){var k=this.anims,H=k.length;if(H===0)return null;if(H===1)return k[0];if(this.randomAnim)return y(k);var $=k[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=N(this.currentAnim+1,0,H)),$},"getAnim"),setAnim:r(function(k,H,$){H===void 0&&(H=!0),$===void 0&&($=1),this.randomAnim=H,this.animQuantity=$,this.currentAnim=0;var K=typeof k;if(this.anims.length=0,Array.isArray(k))this.anims=this.anims.concat(k);else if(K==="string")this.anims.push(k);else if(K==="object"){var Z=k;k=g(Z,"anims",null),k&&(this.anims=this.anims.concat(k));var J=g(Z,"cycle",!1);this.randomAnim=!J,this.animQuantity=g(Z,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},"setAnim"),setRadial:r(function(k){return k===void 0&&(k=!0),this.radial=k,this},"setRadial"),addParticleBounds:r(function(k,H,$,K,Z,J,j,q){if(typeof k=="object"){var Q=k;k=Q.x,H=Q.y,$=w(Q,"w")?Q.w:Q.width,K=w(Q,"h")?Q.h:Q.height}return this.addParticleProcessor(new I(k,H,$,K,Z,J,j,q))},"addParticleBounds"),setParticleSpeed:r(function(k,H){return H===void 0&&(H=k),this.ops.speedX.onChange(k),k===H?this.ops.speedY.active=!1:this.ops.speedY.onChange(H),this.radial=!0,this},"setParticleSpeed"),setParticleScale:r(function(k,H){return k===void 0&&(k=1),H===void 0&&(H=k),this.ops.scaleX.onChange(k),this.ops.scaleY.onChange(H),this},"setParticleScale"),setParticleGravity:r(function(k,H){return this.gravityX=k,this.gravityY=H,this},"setParticleGravity"),setParticleAlpha:r(function(k){return this.ops.alpha.onChange(k),this},"setParticleAlpha"),setParticleTint:r(function(k){return this.ops.tint.onChange(k),this},"setParticleTint"),setEmitterAngle:r(function(k){return this.ops.angle.onChange(k),this},"setEmitterAngle"),setParticleLifespan:r(function(k){return this.ops.lifespan.onChange(k),this},"setParticleLifespan"),setQuantity:r(function(k){return this.quantity=k,this},"setQuantity"),setFrequency:r(function(k,H){return this.frequency=k,this.flowCounter=k>0?k:0,H&&(this.quantity=H),this},"setFrequency"),addDeathZone:r(function(k){Array.isArray(k)||(k=[k]);for(var H,$=[],K=0;K<k.length;K++)if(H=k[K],H instanceof l)$.push(H);else if(typeof H.contains=="function")H=new l(H,!0),$.push(H);else{var Z=g(H,"type","onEnter"),J=g(H,"source",null);if(J&&typeof J.contains=="function"){var j=Z==="onEnter";H=new l(J,j),$.push(H)}}return this.deathZones=this.deathZones.concat($),$},"addDeathZone"),removeDeathZone:r(function(k){return B(this.deathZones,k),this},"removeDeathZone"),clearDeathZones:r(function(){return this.deathZones.length=0,this},"clearDeathZones"),addEmitZone:r(function(k){Array.isArray(k)||(k=[k]);for(var H,$=[],K=0;K<k.length;K++)if(H=k[K],H instanceof L||H instanceof o)$.push(H);else{var Z=g(H,"source",null);if(Z){var J=g(H,"type","random");if(J==="random"&&typeof Z.getRandomPoint=="function")H=new L(Z),$.push(H);else if(J==="edge"&&typeof Z.getPoints=="function"){var j=g(H,"quantity",1),q=g(H,"stepRate",0),Q=g(H,"yoyo",!1),tt=g(H,"seamless",!0),st=g(H,"total",-1);H=new o(Z,j,q,Q,tt,st),$.push(H)}}}return this.emitZones=this.emitZones.concat($),$},"addEmitZone"),removeEmitZone:r(function(k){return B(this.emitZones,k),this.zoneIndex=0,this},"removeEmitZone"),clearEmitZones:r(function(){return this.emitZones.length=0,this.zoneIndex=0,this},"clearEmitZones"),getEmitZone:r(function(k){var H=this.emitZones,$=H.length;if($!==0){var K=H[this.zoneIndex];K.getPoint(k),K.total>-1&&(this.zoneTotal++,this.zoneTotal===K.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},"getEmitZone"),getDeathZone:r(function(k){for(var H=this.deathZones,$=0;$<H.length;$++){var K=H[$];if(K.willKill(k))return this.emit(f.DEATH_ZONE,this,k,K),!0}return!1},"getDeathZone"),setEmitZone:r(function(k){var H;return isFinite(k)?H=k:H=this.emitZones.indexOf(k),H>=0&&(this.zoneIndex=H),this},"setEmitZone"),addParticleProcessor:r(function(k){return this.processors.exists(k)||(k.emitter&&k.emitter.removeParticleProcessor(k),this.processors.add(k),k.emitter=this),k},"addParticleProcessor"),removeParticleProcessor:r(function(k){return this.processors.exists(k)&&(this.processors.remove(k,!0),k.emitter=null),k},"removeParticleProcessor"),getProcessors:r(function(){return this.processors.getAll("active",!0)},"getProcessors"),createGravityWell:r(function(k){return this.addParticleProcessor(new C(k))},"createGravityWell"),reserve:r(function(k){var H=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+k>this.maxParticles&&(k=this.maxParticles-($+k))}for(var K=0;K<k;K++)H.push(new this.particleClass(this));return this},"reserve"),getAliveParticleCount:r(function(){return this.alive.length},"getAliveParticleCount"),getDeadParticleCount:r(function(){return this.dead.length},"getDeadParticleCount"),getParticleCount:r(function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},"getParticleCount"),atLimit:r(function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},"atLimit"),onParticleEmit:r(function(k,H){return k===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof k=="function"&&(this.emitCallback=k,H&&(this.emitCallbackScope=H)),this},"onParticleEmit"),onParticleDeath:r(function(k,H){return k===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof k=="function"&&(this.deathCallback=k,H&&(this.deathCallbackScope=H)),this},"onParticleDeath"),killAll:r(function(){for(var k=this.dead,H=this.alive;H.length>0;)k.push(H.pop());return this},"killAll"),forEachAlive:r(function(k,H){for(var $=this.alive,K=$.length,Z=0;Z<K;Z++)k.call(H,$[Z],this);return this},"forEachAlive"),forEachDead:r(function(k,H){for(var $=this.dead,K=$.length,Z=0;Z<K;Z++)k.call(H,$[Z],this);return this},"forEachDead"),start:r(function(k,H){return k===void 0&&(k=0),this.emitting||(k>0&&this.fastForward(k),this.emitting=!0,this.resetCounters(this.frequency,!0),H!==void 0&&(this.duration=Math.abs(H)),this.emit(f.START,this)),this},"start"),stop:r(function(k){return k===void 0&&(k=!1),this.emitting&&(this.emitting=!1,k&&this.killAll(),this.emit(f.STOP,this)),this},"stop"),pause:r(function(){return this.active=!1,this},"pause"),resume:r(function(){return this.active=!0,this},"resume"),setSortProperty:r(function(k,H){return k===void 0&&(k=""),H===void 0&&(H=this.true),this.sortProperty=k,this.sortOrderAsc=H,this.sortCallback=this.depthSortCallback,this},"setSortProperty"),setSortCallback:r(function(k){return this.sortProperty!==""?k=this.depthSortCallback:k=null,this.sortCallback=k,this},"setSortCallback"),depthSort:r(function(){return U(this.alive,this.sortCallback.bind(this)),this},"depthSort"),depthSortCallback:r(function(k,H){var $=this.sortProperty;return this.sortOrderAsc?k[$]-H[$]:H[$]-k[$]},"depthSortCallback"),flow:r(function(k,H,$){return H===void 0&&(H=1),this.emitting=!1,this.frequency=k,this.quantity=H,$!==void 0&&(this.stopAfter=$),this.start()},"flow"),explode:r(function(k,H,$){this.frequency=-1,this.resetCounters(-1,!0);var K=this.emitParticle(k,H,$);return this.emit(f.EXPLODE,this,K),K},"explode"),emitParticleAt:r(function(k,H,$){return this.emitParticle($,k,H)},"emitParticleAt"),emitParticle:r(function(k,H,$){if(!this.atLimit()){k===void 0&&(k=this.ops.quantity.onEmit());for(var K=this.dead,Z=this.stopAfter,J=this.follow?this.follow.x+this.followOffset.x:H,j=this.follow?this.follow.y+this.followOffset.y:$,q=0;q<k;q++){var Q=K.pop();if(Q||(Q=new this.particleClass(this)),Q.fire(J,j)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return Q}},"emitParticle"),fastForward:r(function(k,H){H===void 0&&(H=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(k);)this.preUpdate(0,H),$+=H;return this.skipping=!1,this},"fastForward"),preUpdate:r(function(k,H){H*=this.timeScale;var $=H/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var K=this.getProcessors(),Z=this.alive,J=this.dead,j=0,q=[],Q=Z.length;for(j=0;j<Q;j++){var tt=Z[j];tt.update(H,$,K)&&q.push({index:j,particle:tt})}if(Q=q.length,Q>0){var st=this.deathCallback,_=this.deathCallbackScope;for(j=Q-1;j>=0;j--){var ot=q[j];Z.splice(ot.index,1),J.push(ot.particle),st&&st.call(_,ot.particle),ot.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(f.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=H;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=H,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},"preUpdate"),overlap:r(function(k){for(var H=this.getWorldTransformMatrix(),$=this.alive,K=$.length,Z=[],J=0;J<K;J++){var j=$[J];D(k,j.getBounds(H))&&Z.push(j)}return Z},"overlap"),getBounds:r(function(k,H,$,K){k===void 0&&(k=0),H===void 0&&(H=0),$===void 0&&($=1e3/60),K===void 0&&(K=new F);var Z=this.getWorldTransformMatrix(),J,j,q=this.alive,Q=!1;if(K.setTo(0,0,0,0),H>0){var tt=0;for(this.skipping=!0;tt<Math.abs(H);){for(this.preUpdate(0,$),J=0;J<q.length;J++)j=q[J].getBounds(Z),Q?O(K,j):(Q=!0,u(j,K));tt+=$}this.skipping=!1}else for(J=0;J<q.length;J++)j=q[J].getBounds(Z),Q?O(K,j):(Q=!0,u(j,K));return k>0&&M(K,k,k),K},"getBounds"),createEmitter:r(function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},"createEmitter"),particleX:{get:r(function(){return this.ops.x.current},"get"),set:r(function(k){this.ops.x.onChange(k)},"set")},particleY:{get:r(function(){return this.ops.y.current},"get"),set:r(function(k){this.ops.y.onChange(k)},"set")},accelerationX:{get:r(function(){return this.ops.accelerationX.current},"get"),set:r(function(k){this.ops.accelerationX.onChange(k)},"set")},accelerationY:{get:r(function(){return this.ops.accelerationY.current},"get"),set:r(function(k){this.ops.accelerationY.onChange(k)},"set")},maxVelocityX:{get:r(function(){return this.ops.maxVelocityX.current},"get"),set:r(function(k){this.ops.maxVelocityX.onChange(k)},"set")},maxVelocityY:{get:r(function(){return this.ops.maxVelocityY.current},"get"),set:r(function(k){this.ops.maxVelocityY.onChange(k)},"set")},speed:{get:r(function(){return this.ops.speedX.current},"get"),set:r(function(k){this.ops.speedX.onChange(k),this.ops.speedY.onChange(k)},"set")},speedX:{get:r(function(){return this.ops.speedX.current},"get"),set:r(function(k){this.ops.speedX.onChange(k)},"set")},speedY:{get:r(function(){return this.ops.speedY.current},"get"),set:r(function(k){this.ops.speedY.onChange(k)},"set")},moveToX:{get:r(function(){return this.ops.moveToX.current},"get"),set:r(function(k){this.ops.moveToX.onChange(k)},"set")},moveToY:{get:r(function(){return this.ops.moveToY.current},"get"),set:r(function(k){this.ops.moveToY.onChange(k)},"set")},bounce:{get:r(function(){return this.ops.bounce.current},"get"),set:r(function(k){this.ops.bounce.onChange(k)},"set")},particleScaleX:{get:r(function(){return this.ops.scaleX.current},"get"),set:r(function(k){this.ops.scaleX.onChange(k)},"set")},particleScaleY:{get:r(function(){return this.ops.scaleY.current},"get"),set:r(function(k){this.ops.scaleY.onChange(k)},"set")},particleColor:{get:r(function(){return this.ops.color.current},"get"),set:r(function(k){this.ops.color.onChange(k)},"set")},colorEase:{get:r(function(){return this.ops.color.easeName},"get"),set:r(function(k){this.ops.color.setEase(k)},"set")},particleTint:{get:r(function(){return this.ops.tint.current},"get"),set:r(function(k){this.ops.tint.onChange(k)},"set")},particleAlpha:{get:r(function(){return this.ops.alpha.current},"get"),set:r(function(k){this.ops.alpha.onChange(k)},"set")},lifespan:{get:r(function(){return this.ops.lifespan.current},"get"),set:r(function(k){this.ops.lifespan.onChange(k)},"set")},particleAngle:{get:r(function(){return this.ops.angle.current},"get"),set:r(function(k){this.ops.angle.onChange(k)},"set")},particleRotate:{get:r(function(){return this.ops.rotate.current},"get"),set:r(function(k){this.ops.rotate.onChange(k)},"set")},quantity:{get:r(function(){return this.ops.quantity.current},"get"),set:r(function(k){this.ops.quantity.onChange(k)},"set")},delay:{get:r(function(){return this.ops.delay.current},"get"),set:r(function(k){this.ops.delay.onChange(k)},"set")},hold:{get:r(function(){return this.ops.hold.current},"get"),set:r(function(k){this.ops.hold.onChange(k)},"set")},flowCounter:{get:r(function(){return this.counters[0]},"get"),set:r(function(k){this.counters[0]=k},"set")},frameCounter:{get:r(function(){return this.counters[1]},"get"),set:r(function(k){this.counters[1]=k},"set")},animCounter:{get:r(function(){return this.counters[2]},"get"),set:r(function(k){this.counters[2]=k},"set")},elapsed:{get:r(function(){return this.counters[3]},"get"),set:r(function(k){this.counters[3]=k},"set")},stopCounter:{get:r(function(){return this.counters[4]},"get"),set:r(function(k){this.counters[4]=k},"set")},completeFlag:{get:r(function(){return this.counters[5]},"get"),set:r(function(k){this.counters[5]=k},"set")},zoneIndex:{get:r(function(){return this.counters[6]},"get"),set:r(function(k){this.counters[6]=k},"set")},zoneTotal:{get:r(function(){return this.counters[7]},"get"),set:r(function(k){this.counters[7]=k},"set")},currentFrame:{get:r(function(){return this.counters[8]},"get"),set:r(function(k){this.counters[8]=k},"set")},currentAnim:{get:r(function(){return this.counters[9]},"get"),set:r(function(k){this.counters[9]=k},"set")},preDestroy:r(function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var k,H=this.ops;for(k=0;k<G.length;k++){var $=G[k];H[$].destroy()}for(k=0;k<this.alive.length;k++)this.alive[k].destroy();for(k=0;k<this.dead.length;k++)this.dead[k].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()},"preDestroy")});n.exports=X}),9871:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(59996),m=i(61340),c=new m,u=new m,l=new m,o=new m,d=r(function(v,f,p,g){var y=c,C=u,S=l,E=o;g?(E.loadIdentity(),E.multiply(g),E.translate(f.x,f.y),E.rotate(f.rotation),E.scale(f.scaleX,f.scaleY)):E.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var w=v.currentContext,M=p.roundPixels,R=p.alpha,O=f.alpha,b=f.alive,A=b.length,I=f.viewBounds;if(!(!f.visible||A===0||I&&!h(I,p.worldView))){f.sortCallback&&f.depthSort(),p.addToRenderList(f);var L=f.scrollFactorX,F=f.scrollFactorY;w.save(),w.globalCompositeOperation=v.blendModes[f.blendMode];for(var D=0;D<A;D++){var B=b[D],V=B.alpha*O*R;if(!(V<=0||B.scaleX===0||B.scaleY===0)){S.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),y.copyFrom(p.matrix),y.multiplyWithOffset(E,-p.scrollX*L,-p.scrollY*F),S.e=B.x,S.f=B.y,y.multiply(S,C);var U=B.frame,W=U.canvasData;if(W.width>0&&W.height>0){var Y=-U.halfWidth,N=-U.halfHeight;w.globalAlpha=V,w.save(),C.setToContext(w),M&&(Y=Math.round(Y),N=Math.round(N)),w.imageSmoothingEnabled=!U.source.scaleMode,w.drawImage(U.source.image,W.x,W.y,W.width,W.height,Y,N,W.width,W.height),w.restore()}}}w.restore()}},"ParticleEmitterCanvasRenderer");n.exports=d}),92730:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(95540),l=i(31600);m.register("particles",function(o,d){o===void 0&&(o={});var v=c(o,"key",null),f=u(o,"config",null),p=new l(this.scene,0,0,v);return d!==void 0&&(o.add=d),h(this.scene,p,o),f&&p.setConfig(f),p})}),676:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(31600);h.register("particles",function(c,u,l,o){return c!==void 0&&typeof c=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new m(this.scene,c,u,l,o))})}),90668:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(21188),c=i(9871),n.exports={renderWebGL:m,renderCanvas:c}}),21188:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(59996),m=i(61340),c=i(70554),u=new m,l=new m,o=new m,d=new m,v=r(function(f,p,g,y){var C=f.pipelines.set(p.pipeline),S=u,E=l,w=o,M=d;y?(M.loadIdentity(),M.multiply(y),M.translate(p.x,p.y),M.rotate(p.rotation),M.scale(p.scaleX,p.scaleY)):M.applyITRS(p.x,p.y,p.rotation,p.scaleX,p.scaleY);var R=c.getTintAppendFloatAlpha,O=g.alpha,b=p.alpha;f.pipelines.preBatch(p);var A=p.alive,I=A.length,L=p.viewBounds;if(!(I===0||L&&!h(L,g.worldView))){p.sortCallback&&p.depthSort(),g.addToRenderList(p),S.copyFrom(g.matrix),S.multiplyWithOffset(M,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),f.setBlendMode(p.blendMode),p.mask&&(p.mask.preRenderWebGL(f,p,g),f.pipelines.set(p.pipeline));for(var F=p.tintFill,D,B,V=0;V<I;V++){var U=A[V],W=U.alpha*b*O;if(!(W<=0||U.scaleX===0||U.scaleY===0)){w.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY),w.e=U.x,w.f=U.y,S.multiply(w,E);var Y=U.frame;Y.glTexture!==B&&(B=Y.glTexture,D=C.setGameObject(p,Y));var N=-Y.halfWidth,z=-Y.halfHeight,G=E.setQuad(N,z,N+Y.width,z+Y.height),X=R(U.tint,W);C.shouldFlush(6)&&(C.flush(),D=C.setGameObject(p,Y)),C.batchQuad(p,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],Y.u0,Y.v0,Y.u1,Y.v1,X,X,X,X,F,B,D)}}p.mask&&p.mask.postRenderWebGL(f,g),f.pipelines.postBatch(p)}},"ParticleEmitterWebGLRenderer");n.exports=v}),20286:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o){u===void 0&&(u=0),l===void 0&&(l=0),o===void 0&&(o=!0),this.emitter,this.x=u,this.y=l,this.active=o},"ParticleProcessor"),update:r(function(){},"update"),destroy:r(function(){this.emitter=null},"destroy")});n.exports=m}),9774:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),812:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"}),30522:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"}),96695:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),18677:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"}),20696:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}}),18404:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}}),26388:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l){this.source=u,this.killOnEnter=l},"DeathZone"),willKill:r(function(c){var u=c.worldPosition,l=this.source.contains(u.x,u.y);return l&&this.killOnEnter||!l&&!this.killOnEnter},"willKill")});n.exports=m}),19909:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o,d,v,f){d===void 0&&(d=!1),v===void 0&&(v=!0),f===void 0&&(f=-1),this.source=u,this.points=[],this.quantity=l,this.stepRate=o,this.yoyo=d,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=f,this.updateSource()},"EdgeZone"),updateSource:r(function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var c=this.points[0],u=this.points[this.points.length-1];c.x===u.x&&c.y===u.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},"updateSource"),changeSource:r(function(c){return this.source=c,this.updateSource()},"changeSource"),getPoint:r(function(c){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var u=this.points[this.counter];u&&(c.x=u.x,c.y=u.y)},"getPoint")});n.exports=m}),68875:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(26099),c=new h({initialize:r(function(l){this.source=l,this._tempVec=new m,this.total=-1},"RandomZone"),getPoint:r(function(u){var l=this._tempVec;this.source.getRandomPoint(l),u.x=l.x,u.y=l.y},"getPoint")});n.exports=c}),21024:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}}),1159:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(68287),u=new h({Extends:c,Mixins:[m.PathFollower],initialize:r(function(o,d,v,f,p,g){c.call(this,o,v,f,p,g),this.path=d},"PathFollower"),preUpdate:r(function(l,o){this.anims.update(l,o),this.pathUpdate(l)},"preUpdate")});n.exports=u}),90145:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(1159);h.register("follower",function(c,u,l,o,d){var v=new m(this.scene,c,u,l,o,d);return this.displayList.add(v),this.updateList.add(v),v})}),33663:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),m=i(83419),c=i(48803),u=i(90664),l=i(4703),o=i(45650),d=new m({Extends:l,initialize:r(function(f,p,g,y,C,S,E,w){y||(y="__DEFAULT"),l.call(this,f,p,g,y,C),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(S,E,w),this.setSizeToFrame(!1),this.setViewHeight()},"Plane"),originX:{get:r(function(){return .5},"get")},originY:{get:r(function(){return .5},"get")},setGridSize:r(function(v,f,p){v===void 0&&(v=8),f===void 0&&(f=8),p===void 0&&(p=!1);var g=!1;return p&&(g=!0),this.gridWidth=v,this.gridHeight=f,this.isTiled=p,this.clear(),c({mesh:this,widthSegments:v,heightSegments:f,isOrtho:!1,tile:p,flipY:g}),this},"setGridSize"),setSizeToFrame:r(function(v){v===void 0&&(v=!0);var f=this.frame;if(this.setPerspective(this.width/f.width,this.height/f.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var p=this.gridWidth,g=this.gridHeight,y=this.vertices,C=f.u0,S=f.u1,E=f.v0,w=f.v1,M,R,O=0;if(this.isTiled)for(E=f.v1,w=f.v0,R=0;R<g;R++)for(M=0;M<p;M++)y[O++].setUVs(C,w),y[O++].setUVs(C,E),y[O++].setUVs(S,w),y[O++].setUVs(C,E),y[O++].setUVs(S,E),y[O++].setUVs(S,w);else{var b=p+1,A=g+1,I=S-C,L=w-E,F=[];for(R=0;R<A;R++)for(M=0;M<b;M++){var D=C+I*(M/p),B=E+L*(R/g);F.push(D,B)}for(R=0;R<g;R++)for(M=0;M<p;M++){var V=(M+b*R)*2,U=(M+b*(R+1))*2,W=(M+1+b*(R+1))*2,Y=(M+1+b*R)*2;y[O++].setUVs(F[V],F[V+1]),y[O++].setUVs(F[U],F[U+1]),y[O++].setUVs(F[Y],F[Y+1]),y[O++].setUVs(F[U],F[U+1]),y[O++].setUVs(F[W],F[W+1]),y[O++].setUVs(F[Y],F[Y+1])}}return this},"setSizeToFrame"),setViewHeight:r(function(v){v===void 0&&(v=this.frame.height);var f=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(f/2),this.dirtyCache[10]=1},"setViewHeight"),createCheckerboard:r(function(v,f,p,g,y){v===void 0&&(v=16777215),f===void 0&&(f=255),p===void 0&&(p=255),g===void 0&&(g=255),y===void 0&&(y=128);for(var C=u(v),S=u(f),E=[],w=0;w<16;w++)for(var M=0;M<16;M++)w<8&&M<8||w>7&&M>7?E.push(C.r,C.g,C.b,p):E.push(S.r,S.g,S.b,g);var R=this.scene.sys.textures.addUint8Array(o(),new Uint8Array(E),16,16);return this.removeCheckerboard(),this.setTexture(R),this.setSizeToFrame(),this.setViewHeight(y),this},"createCheckerboard"),removeCheckerboard:r(function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},"removeCheckerboard"),play:r(function(v,f){return this.anims.play(v,f)},"play"),playReverse:r(function(v,f){return this.anims.playReverse(v,f)},"playReverse"),playAfterDelay:r(function(v,f){return this.anims.playAfterDelay(v,f)},"playAfterDelay"),playAfterRepeat:r(function(v,f){return this.anims.playAfterRepeat(v,f)},"playAfterRepeat"),stop:r(function(){return this.anims.stop()},"stop"),stopAfterDelay:r(function(v){return this.anims.stopAfterDelay(v)},"stopAfterDelay"),stopAfterRepeat:r(function(v){return this.anims.stopAfterRepeat(v)},"stopAfterRepeat"),stopOnFrame:r(function(v){return this.anims.stopOnFrame(v)},"stopOnFrame"),preUpdate:r(function(v,f){l.prototype.preUpdate.call(this,v,f),this.anims.update(v,f)},"preUpdate"),preDestroy:r(function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null},"preDestroy")});n.exports=d}),56015:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(13059),c=i(44603),u=i(23568),l=i(35154),o=i(33663);c.register("plane",function(d,v){d===void 0&&(d={});var f=u(d,"key",null),p=u(d,"frame",null),g=l(d,"width",8),y=l(d,"height",8),C=l(d,"tile",!1),S=new o(this.scene,0,0,f,p,g,y,C);v!==void 0&&(d.add=v);var E=l(d,"checkerboard",null);if(E){var w=l(E,"color1",16777215),M=l(E,"color2",255),R=l(E,"alpha1",255),O=l(E,"alpha2",255),b=l(E,"height",128);S.createCheckerboard(w,M,R,O,b)}return h(this.scene,S,d),m(S,d),S})}),30985:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33663),m=i(39429);m.register("plane",function(c,u,l,o,d,v,f){return this.displayList.add(new h(this.scene,c,u,l,o,d,v,f))})}),80321:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(95643),u=i(30100),l=i(36060),o=i(67277),d=new h({Extends:c,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,o],initialize:r(function(f,p,g,y,C,S,E){y===void 0&&(y=16777215),C===void 0&&(C=128),S===void 0&&(S=1),E===void 0&&(E=.1),c.call(this,f,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(p,g),this.color=u(y),this.intensity=S,this.attenuation=E,this.width=C*2,this.height=C*2,this._radius=C},"PointLight"),radius:{get:r(function(){return this._radius},"get"),set:r(function(v){this._radius=v,this.width=v*2,this.height=v*2},"set")},originX:{get:r(function(){return .5},"get")},originY:{get:r(function(){return .5},"get")},displayOriginX:{get:r(function(){return this._radius},"get")},displayOriginY:{get:r(function(){return this._radius},"get")}});n.exports=d}),39829:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(80321);m.register("pointlight",function(l,o){l===void 0&&(l={});var d=c(l,"color",16777215),v=c(l,"radius",128),f=c(l,"intensity",1),p=c(l,"attenuation",.1),g=new u(this.scene,0,0,d,v,f,p);return o!==void 0&&(l.add=o),h(this.scene,g,l),g})}),71255:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(80321);h.register("pointlight",function(c,u,l,o,d,v){return this.displayList.add(new m(this.scene,c,u,l,o,d,v))})}),67277:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(57787),n.exports={renderWebGL:m,renderCanvas:c}}),57787:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=r(function(c,u,l,o){l.addToRenderList(u);var d=c.pipelines.set(u.pipeline),v=h(u,l,o).calc,f=u.width,p=u.height,g=-u._radius,y=-u._radius,C=g+f,S=y+p,E=v.getX(0,0),w=v.getY(0,0),M=v.getX(g,y),R=v.getY(g,y),O=v.getX(g,S),b=v.getY(g,S),A=v.getX(C,S),I=v.getY(C,S),L=v.getX(C,y),F=v.getY(C,y);c.pipelines.preBatch(u),d.batchPointLight(u,l,M,R,O,b,A,I,L,F,E,w),c.pipelines.postBatch(u)},"PointLightWebGLRenderer");n.exports=m}),591:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(81320),c=i(88571),u=new h({Extends:c,initialize:r(function(o,d,v,f,p,g){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=32),p===void 0&&(p=32),g===void 0&&(g=!0);var y=new m(o.sys.textures,"",f,p,g);c.call(this,o,d,v,y),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},"RenderTexture"),setSize:r(function(l,o){this.width=l,this.height=o,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=l,d.hitArea.height=o),this},"setSize"),resize:r(function(l,o,d){return this.texture.setSize(l,o,d),this.setSize(this.texture.width,this.texture.height),this},"resize"),saveTexture:r(function(l){var o=this.texture;return o.key=l,o.manager.addDynamicTexture(o)&&(this._saved=!0),o},"saveTexture"),fill:r(function(l,o,d,v,f,p){return this.texture.fill(l,o,d,v,f,p),this},"fill"),clear:r(function(){return this.texture.clear(),this},"clear"),stamp:r(function(l,o,d,v,f){return this.texture.stamp(l,o,d,v,f),this},"stamp"),erase:r(function(l,o,d){return this.texture.erase(l,o,d),this},"erase"),draw:r(function(l,o,d,v,f){return this.texture.draw(l,o,d,v,f),this},"draw"),drawFrame:r(function(l,o,d,v,f,p){return this.texture.drawFrame(l,o,d,v,f,p),this},"drawFrame"),repeat:r(function(l,o,d,v,f,p,g,y,C){return this.texture.repeat(l,o,d,v,f,p,g,y,C),this},"repeat"),beginDraw:r(function(){return this.texture.beginDraw(),this},"beginDraw"),batchDraw:r(function(l,o,d,v,f){return this.texture.batchDraw(l,o,d,v,f),this},"batchDraw"),batchDrawFrame:r(function(l,o,d,v,f,p){return this.texture.batchDrawFrame(l,o,d,v,f,p),this},"batchDrawFrame"),endDraw:r(function(l){return this.texture.endDraw(l),this},"endDraw"),snapshotArea:r(function(l,o,d,v,f,p,g){return this.texture.snapshotArea(l,o,d,v,f,p,g),this},"snapshotArea"),snapshot:r(function(l,o,d){return this.snapshotArea(0,0,this.width,this.height,l,o,d)},"snapshot"),snapshotPixel:r(function(l,o,d){return this.snapshotArea(l,o,1,1,d,"pixel")},"snapshotPixel"),preDestroy:r(function(){this.camera=null,this._saved||this.texture.destroy()},"preDestroy")});n.exports=u}),34495:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(591);m.register("renderTexture",function(l,o){l===void 0&&(l={});var d=c(l,"x",0),v=c(l,"y",0),f=c(l,"width",32),p=c(l,"height",32),g=new u(this.scene,d,v,f,p);return o!==void 0&&(l.add=o),h(this.scene,g,l),g})}),60505:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(591);h.register("renderTexture",function(c,u,l,o){return this.displayList.add(new m(this.scene,c,u,l,o))})}),77757:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),m=i(83419),c=i(31401),u=i(95643),l=i(36060),o=i(38745),d=i(26099),v=new m({Extends:u,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Flip,c.Mask,c.Pipeline,c.PostPipeline,c.Size,c.Texture,c.Transform,c.Visible,c.ScrollFactor,o],initialize:r(function(p,g,y,C,S,E,w,M,R){C===void 0&&(C="__DEFAULT"),E===void 0&&(E=2),w===void 0&&(w=!0),u.call(this,p,"Rope"),this.anims=new h(this),this.points=E,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=C==="__DEFAULT",this.dirty=!1,this.horizontal=w,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(C,S),this.setPosition(g,y),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(E)&&this.resizeArrays(E.length),this.setPoints(E,M,R),this.updateVertices()},"Rope"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),preUpdate:r(function(f,p){var g=this.anims.currentFrame;this.anims.update(f,p),this.anims.currentFrame!==g&&(this.updateUVs(),this.updateVertices())},"preUpdate"),play:r(function(f,p,g){return this.anims.play(f,p,g),this},"play"),setDirty:r(function(){return this.dirty=!0,this},"setDirty"),setHorizontal:r(function(f,p,g){return f===void 0&&(f=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(f,p,g))},"setHorizontal"),setVertical:r(function(f,p,g){return f===void 0&&(f=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(f,p,g)):this},"setVertical"),setTintFill:r(function(f){return f===void 0&&(f=!1),this.tintFill=f,this},"setTintFill"),setAlphas:r(function(f,p){var g=this.points.length;if(g<1)return this;var y=this.alphas;f===void 0?f=[1]:!Array.isArray(f)&&p===void 0&&(f=[f]);var C,S=0;if(p!==void 0)for(C=0;C<g;C++)S=C*2,y[S]=f,y[S+1]=p;else if(f.length===g)for(C=0;C<g;C++)S=C*2,y[S]=f[C],y[S+1]=f[C];else{var E=f[0];for(C=0;C<g;C++)S=C*2,f.length>S&&(E=f[S]),y[S]=E,f.length>S+1&&(E=f[S+1]),y[S+1]=E}return this},"setAlphas"),setColors:r(function(f){var p=this.points.length;if(p<1)return this;var g=this.colors;f===void 0?f=[16777215]:Array.isArray(f)||(f=[f]);var y,C=0;if(f.length===p)for(y=0;y<p;y++)C=y*2,g[C]=f[y],g[C+1]=f[y];else{var S=f[0];for(y=0;y<p;y++)C=y*2,f.length>C&&(S=f[C]),g[C]=S,f.length>C+1&&(S=f[C+1]),g[C+1]=S}return this},"setColors"),setPoints:r(function(f,p,g){if(f===void 0&&(f=2),typeof f=="number"){var y=f;y<2&&(y=2),f=[];var C,S,E;if(this.horizontal)for(E=-this.frame.halfWidth,S=this.frame.width/(y-1),C=0;C<y;C++)f.push({x:E+C*S,y:0});else for(E=-this.frame.halfHeight,S=this.frame.height/(y-1),C=0;C<y;C++)f.push({x:0,y:E+C*S})}var w=f.length,M=this.points.length;return w<1?(console.warn("Rope: Not enough points given"),this):(w===1&&(f.unshift({x:0,y:0}),w++),M!==w&&this.resizeArrays(w),this.dirty=!0,this.points=f,this.updateUVs(),p!=null&&this.setColors(p),g!=null&&this.setAlphas(g),this)},"setPoints"),updateUVs:r(function(){for(var f=this.uv,p=this.points.length,g=this.frame.u0,y=this.frame.v0,C=this.frame.u1,S=this.frame.v1,E=(C-g)/(p-1),w=(S-y)/(p-1),M=0;M<p;M++){var R=M*4,O,b,A,I;this.horizontal?(this._flipX?(O=C-M*E,A=C-M*E):(O=g+M*E,A=g+M*E),this._flipY?(b=S,I=y):(b=y,I=S)):(this._flipX?(O=g,A=C):(O=C,A=g),this._flipY?(b=S-M*w,I=S-M*w):(b=y+M*w,I=y+M*w)),f[R+0]=O,f[R+1]=b,f[R+2]=A,f[R+3]=I}return this},"updateUVs"),resizeArrays:r(function(f){var p=this.colors,g=this.alphas;this.vertices=new Float32Array(f*4),this.uv=new Float32Array(f*4),p=new Uint32Array(f*2),g=new Float32Array(f*2);for(var y=0;y<f*2;y++)p[y]=16777215,g[y]=1;return this.colors=p,this.alphas=g,this.dirty=!0,this},"resizeArrays"),updateVertices:r(function(){var f=this._perp,p=this.points,g=this.vertices,y=p.length;if(this.dirty=!1,!(y<1)){for(var C,S=p[0],E=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,w=0;w<y;w++){var M=p[w],R=w*4;w<y-1?C=p[w+1]:C=M,f.x=C.y-S.y,f.y=-(C.x-S.x);var O=f.length();f.x/=O,f.y/=O,f.x*=E,f.y*=E,g[R]=M.x+f.x,g[R+1]=M.y+f.y,g[R+2]=M.x-f.x,g[R+3]=M.y-f.y,S=M}return this}},"updateVertices"),setDebug:r(function(f,p){return this.debugGraphic=f,!f&&!p?this.debugCallback=null:p?this.debugCallback=p:this.debugCallback=this.renderDebugVerts,this},"setDebug"),renderDebugVerts:r(function(f,p,g){var y=f.debugGraphic,C=g[0],S=g[1],E=g[2],w=g[3];y.lineBetween(C,S,E,w);for(var M=4;M<p;M+=4){var R=g[M+0],O=g[M+1],b=g[M+2],A=g[M+3];y.lineBetween(C,S,R,O),y.lineBetween(E,w,b,A),y.lineBetween(E,w,R,O),y.lineBetween(R,O,b,A),C=R,S=O,E=b,w=A}},"renderDebugVerts"),preDestroy:r(function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},"preDestroy"),flipX:{get:r(function(){return this._flipX},"get"),set:r(function(f){return this._flipX=f,this.updateUVs()},"set")},flipY:{get:r(function(){return this._flipY},"get"),set:r(function(f){return this._flipY=f,this.updateUVs()},"set")}});n.exports=v}),95262:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){},"RopeCanvasRenderer");n.exports=T}),26209:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(35154),l=i(77757);m.register("rope",function(o,d){o===void 0&&(o={});var v=c(o,"key",null),f=c(o,"frame",null),p=c(o,"horizontal",!0),g=u(o,"points",void 0),y=u(o,"colors",void 0),C=u(o,"alphas",void 0),S=new l(this.scene,0,0,v,f,g,p,y,C);return d!==void 0&&(o.add=d),h(this.scene,S,o),S})}),96819:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(77757),m=i(39429);m.register("rope",function(c,u,l,o,d,v,f,p){return this.displayList.add(new h(this.scene,c,u,l,o,d,v,f,p))})}),38745:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(20439),c=i(95262),n.exports={renderWebGL:m,renderCanvas:c}}),20439:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=i(70554),c=r(function(u,l,o,d){o.addToRenderList(l);var v=u.pipelines.set(l.pipeline,l),f=h(l,o,d).calc,p=l.vertices,g=l.uv,y=l.colors,C=l.alphas,S=l.alpha,E=m.getTintAppendFloatAlpha,w=o.roundPixels,M=p.length,R=Math.floor(M*.5);v.flush(),u.pipelines.preBatch(l);var O=v.setGameObject(l),b=v.vertexViewF32,A=v.vertexViewU32,I=v.vertexCount*v.currentShader.vertexComponentCount-1,L=0,F=l.tintFill;l.dirty&&l.updateVertices();for(var D=l.debugCallback,B=[],V=0;V<M;V+=2){var U=p[V+0],W=p[V+1],Y=U*f.a+W*f.c+f.e,N=U*f.b+W*f.d+f.f;w&&(Y=Math.round(Y),N=Math.round(N)),b[++I]=Y,b[++I]=N,b[++I]=g[V+0],b[++I]=g[V+1],b[++I]=O,b[++I]=F,A[++I]=E(y[L],o.alpha*(C[L]*S)),L++,D&&(B[V+0]=Y,B[V+1]=N)}D&&D.call(l,l,M,B),v.vertexCount+=R,v.currentBatch.count=v.vertexCount-v.currentBatch.start,u.pipelines.postBatch(l)},"RopeWebGLRenderer");n.exports=c}),20071:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(95643),u=i(95540),l=i(79291),o=i(61622),d=i(25479),v=i(61340),f=i(95428),p=i(92503),g=new h({Extends:c,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,d],initialize:r(function(C,S,E,w,M,R,O,b){E===void 0&&(E=0),w===void 0&&(w=0),M===void 0&&(M=128),R===void 0&&(R=128),c.call(this,C,"Shader"),this.blendMode=-1,this.shader;var A=C.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(E,w),this.setSize(M,R),this.setOrigin(.5,.5),this.setShader(S,O,b),this.renderer.on(p.RESTORE_WEBGL,this.onContextRestored,this)},"Shader"),willRender:r(function(y){return this.renderToTexture?!0:!(c.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&y.id)},"willRender"),setRenderToTexture:r(function(y,C){if(!this.renderToTexture){var S=this.width,E=this.height,w=this.renderer;this.glTexture=w.createTextureFromSource(null,S,E,0),this.framebuffer=w.createFramebuffer(S,E,this.glTexture,!1),this._rendererWidth=S,this._rendererHeight=E,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),y&&(this.texture=this.scene.sys.textures.addGLTexture(y,this.glTexture))}return this.shader&&(w.pipelines.clear(),this.load(),this.flush(),w.pipelines.rebind()),this},"setRenderToTexture"),setShader:r(function(y,C,S){if(this.renderer.contextLost)return this._deferSetShader={key:y,textures:C,textureData:S},this;if(C===void 0&&(C=[]),typeof y=="string"){var E=this.scene.sys.cache.shader;if(!E.has(y))return console.warn("Shader missing: "+y),this;this.shader=E.get(y)}else this.shader=y;var w=this.gl,M=this.renderer;this.program&&M.deleteProgram(this.program);var R=M.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);w.uniformMatrix4fv(w.getUniformLocation(R.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),w.uniformMatrix4fv(w.getUniformLocation(R.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),w.uniform2f(w.getUniformLocation(R.webGLProgram,"uResolution"),this.width,this.height),this.program=R;var O=new Date,b={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[O.getFullYear(),O.getMonth(),O.getDate(),O.getHours()*60*60+O.getMinutes()*60+O.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,b):this.uniforms=b;for(var A=0;A<4;A++)C[A]&&this.setSampler2D("iChannel"+A,C[A],A,S);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},"setShader"),setPointer:r(function(y){return this.pointer=y,this},"setPointer"),projOrtho:r(function(y,C,S,E){if(this.renderer.contextLost){this._deferProjOrtho={left:y,right:C,bottom:S,top:E};return}var w=-1e3,M=1e3,R=1/(y-C),O=1/(S-E),b=1/(w-M),A=this.projectionMatrix;A[0]=-2*R,A[5]=-2*O,A[10]=2*b,A[12]=(y+C)*R,A[13]=(E+S)*O,A[14]=(M+w)*b;var I=this.program,L=this.gl,F=this.renderer;F.setProgram(I),L.uniformMatrix4fv(L.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=C,this._rendererHeight=S},"projOrtho"),initUniforms:r(function(){var y=this.renderer.glFuncMap,C=this.program;this._textureCount=0;for(var S in this.uniforms){var E=this.uniforms[S],w=E.type,M=y[w];E.uniformLocation=this.renderer.createUniformLocation(C,S),w!=="sampler2D"&&(E.glMatrix=M.matrix,E.glValueLength=M.length,E.glFunc=M.func)}},"initUniforms"),setSampler2DBuffer:r(function(y,C,S,E,w,M){w===void 0&&(w=0),M===void 0&&(M={});var R=this.uniforms[y];return R.value=C,M.width=S,M.height=E,R.textureData=M,this._textureCount=w,this.initSampler2D(R),this},"setSampler2DBuffer"),setSampler2D:r(function(y,C,S,E){S===void 0&&(S=0);var w=this.scene.sys.textures;if(w.exists(C)){var M=w.getFrame(C);if(M.glTexture&&M.glTexture.isRenderTexture)return this.setSampler2DBuffer(y,M.glTexture,M.width,M.height,S,E);var R=this.uniforms[y],O=M.source;R.textureKey=C,R.source=O.image,R.value=M.glTexture,O.isGLTexture&&(E||(E={}),E.width=O.width,E.height=O.height),E&&(R.textureData=E),this._textureCount=S,this.initSampler2D(R)}return this},"setSampler2D"),setUniform:r(function(y,C){return o(this.uniforms,y,C),this},"setUniform"),getUniform:r(function(y){return u(this.uniforms,y,null)},"getUniform"),setChannel0:r(function(y,C){return this.setSampler2D("iChannel0",y,0,C)},"setChannel0"),setChannel1:r(function(y,C){return this.setSampler2D("iChannel1",y,1,C)},"setChannel1"),setChannel2:r(function(y,C){return this.setSampler2D("iChannel2",y,2,C)},"setChannel2"),setChannel3:r(function(y,C){return this.setSampler2D("iChannel3",y,3,C)},"setChannel3"),initSampler2D:r(function(y){if(y.value){var C=y.textureData;if(C&&!y.value.isRenderTexture){var S=this.gl,E=y.value,w=S[u(C,"magFilter","linear").toUpperCase()],M=S[u(C,"minFilter","linear").toUpperCase()],R=S[u(C,"wrapS","repeat").toUpperCase()],O=S[u(C,"wrapT","repeat").toUpperCase()],b=S[u(C,"format","rgba").toUpperCase()],A=u(C,"flipY",!1),I=u(C,"width",E.width),L=u(C,"height",E.height),F=u(C,"source",E.pixels);C.repeat&&(R=S.REPEAT,O=S.REPEAT),C.width&&(F=null),E.update(F,I,L,A,R,O,M,w,b)}this.renderer.setProgram(this.program),this._textureCount++}},"initSampler2D"),syncUniforms:r(function(){var y=this.gl,C=this.uniforms,S,E,w,M,R,O=0;for(var b in C)S=C[b],w=S.glFunc,E=S.glValueLength,M=S.uniformLocation,R=S.value,R!==null&&(E===1?S.glMatrix?w.call(y,M.webGLUniformLocation,S.transpose,R):w.call(y,M.webGLUniformLocation,R):E===2?w.call(y,M.webGLUniformLocation,R.x,R.y):E===3?w.call(y,M.webGLUniformLocation,R.x,R.y,R.z):E===4?w.call(y,M.webGLUniformLocation,R.x,R.y,R.z,R.w):S.type==="sampler2D"&&(y.activeTexture(y.TEXTURE0+O),y.bindTexture(y.TEXTURE_2D,R.webGLTexture),y.uniform1i(M.webGLUniformLocation,O),O++))},"syncUniforms"),load:r(function(y){var C=this.gl,S=this.width,E=this.height,w=this.renderer,M=this.program,R=this.viewMatrix;if(!this.renderToTexture){var O=-this._displayOriginX,b=-this._displayOriginY;R[0]=y[0],R[1]=y[1],R[4]=y[2],R[5]=y[3],R[8]=y[4],R[9]=y[5],R[12]=R[0]*O+R[4]*b,R[13]=R[1]*O+R[5]*b}C.useProgram(M.webGLProgram),C.uniformMatrix4fv(C.getUniformLocation(M.webGLProgram,"uViewMatrix"),!1,R),C.uniformMatrix4fv(C.getUniformLocation(M.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),C.uniform2f(C.getUniformLocation(M.webGLProgram,"uResolution"),this.width,this.height);var A=this.uniforms,I=A.resolution;I.value.x=S,I.value.y=E,A.time.value=w.game.loop.getDuration();var L=this.pointer;if(L){var F=A.mouse,D=L.x/S,B=1-L.y/E;F.value.x=D.toFixed(2),F.value.y=B.toFixed(2)}this.syncUniforms()},"load"),flush:r(function(){var y=this.width,C=this.height,S=this.program,E=this.gl,w=this.vertexBuffer,M=this.renderer,R=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(M.setFramebuffer(this.framebuffer),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT)),E.bindBuffer(E.ARRAY_BUFFER,w.webGLBuffer);var O=E.getAttribLocation(S.webGLProgram,"inPosition");O!==-1&&(E.enableVertexAttribArray(O),E.vertexAttribPointer(O,2,E.FLOAT,!1,R,0));var b=this.vertexViewF32;b[3]=C,b[4]=y,b[5]=C,b[8]=y,b[9]=C,b[10]=y;var A=6;E.bufferSubData(E.ARRAY_BUFFER,0,this.bytes.subarray(0,A*R)),E.drawArrays(E.TRIANGLES,0,A),this.renderToTexture&&M.setFramebuffer(null,!1)},"flush"),setAlpha:r(function(){},"setAlpha"),setBlendMode:r(function(){},"setBlendMode"),onContextRestored:r(function(){if(this._deferSetShader!==null){var y=this._deferSetShader.key,C=this._deferSetShader.textures,S=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(y,C,S)}if(this._deferProjOrtho!==null){var E=this._deferProjOrtho.left,w=this._deferProjOrtho.right,M=this._deferProjOrtho.bottom,R=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(E,w,M,R)}},"onContextRestored"),preDestroy:r(function(){var y=this.renderer;y.off(p.RESTORE_WEBGL,this.onContextRestored,this),y.deleteProgram(this.program),y.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(y.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),f(this.uniforms,function(C){y.deleteUniformLocation(C.uniformLocation),C.uniformLocation=null})},"preDestroy")});n.exports=g}),80464:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){},"ShaderCanvasRenderer");n.exports=T}),54935:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(20071);m.register("shader",function(l,o){l===void 0&&(l={});var d=c(l,"key",null),v=c(l,"x",0),f=c(l,"y",0),p=c(l,"width",128),g=c(l,"height",128),y=new u(this.scene,d,v,f,p,g);return o!==void 0&&(l.add=o),h(this.scene,y,l),y})}),74177:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20071),m=i(39429);m.register("shader",function(c,u,l,o,d,v,f){return this.displayList.add(new h(this.scene,c,u,l,o,d,v,f))})}),25479:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(19257),c=i(80464),n.exports={renderWebGL:m,renderCanvas:c}}),19257:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=r(function(c,u,l,o){if(u.shader){if(l.addToRenderList(u),c.pipelines.clear(),u.renderToTexture)u.load(),u.flush();else{var d=h(u,l,o).calc;(c.width!==u._rendererWidth||c.height!==u._rendererHeight)&&u.projOrtho(0,c.width,c.height,0),u.load(d.matrix),u.flush()}c.pipelines.rebind()}},"ShaderWebGLRenderer");n.exports=m}),10441:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),m=r(function(c,u,l,o,d,v){for(var f=h.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*o),p=l.pathData,g=l.pathIndexes,y=0;y<g.length;y+=3){var C=g[y]*2,S=g[y+1]*2,E=g[y+2]*2,w=p[C+0]-d,M=p[C+1]-v,R=p[S+0]-d,O=p[S+1]-v,b=p[E+0]-d,A=p[E+1]-v,I=u.getX(w,M),L=u.getY(w,M),F=u.getX(R,O),D=u.getY(R,O),B=u.getX(b,A),V=u.getY(b,A);c.batchTri(l,I,L,F,D,B,V,0,0,1,1,f,f,f,2)}},"FillPathWebGL");n.exports=m}),65960:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=m||h.fillColor,l=c||h.fillAlpha,o=(u&16711680)>>>16,d=(u&65280)>>>8,v=u&255;i.fillStyle="rgba("+o+","+d+","+v+","+l+")"},"FillStyleCanvas");n.exports=T}),75177:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=m||h.strokeColor,l=c||h.strokeAlpha,o=(u&16711680)>>>16,d=(u&65280)>>>8,v=u&255;i.strokeStyle="rgba("+o+","+d+","+v+","+l+")",i.lineWidth=h.lineWidth},"LineStyleCanvas");n.exports=T}),17803:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(95643),u=i(23031),l=new h({Extends:c,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:r(function(d,v,f){v===void 0&&(v="Shape"),c.call(this,d,v),this.geom=f,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new u,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},"Shape"),setFillStyle:r(function(o,d){return d===void 0&&(d=1),o===void 0?this.isFilled=!1:(this.fillColor=o,this.fillAlpha=d,this.isFilled=!0),this},"setFillStyle"),setStrokeStyle:r(function(o,d,v){return v===void 0&&(v=1),o===void 0?this.isStroked=!1:(this.lineWidth=o,this.strokeColor=d,this.strokeAlpha=v,this.isStroked=!0),this},"setStrokeStyle"),setClosePath:r(function(o){return this.closePath=o,this},"setClosePath"),setSize:r(function(o,d){return this.width=o,this.height=d,this},"setSize"),setDisplaySize:r(function(o,d){return this.displayWidth=o,this.displayHeight=d,this},"setDisplaySize"),preDestroy:r(function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},"preDestroy"),displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(o){this.scaleX=o/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(o){this.scaleY=o/this.height},"set")}});n.exports=l}),34682:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),m=r(function(c,u,l,o,d){var v=c.strokeTint,f=h.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*l);v.TL=f,v.TR=f,v.BL=f,v.BR=f;var p=u.pathData,g=p.length-1,y=u.lineWidth,C=y/2,S=p[0]-o,E=p[1]-d;u.closePath||(g-=2);for(var w=2;w<g;w+=2){var M=p[w]-o,R=p[w+1]-d;c.batchLine(S,E,M,R,C,C,y,w-2,u.closePath?w===g-1:!1),S=M,E=R}},"StrokePathWebGL");n.exports=m}),23629:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13609),m=i(83419),c=i(39506),u=i(94811),l=i(96503),o=i(36383),d=i(17803),v=new m({Extends:d,Mixins:[h],initialize:r(function(p,g,y,C,S,E,w,M,R){g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=128),S===void 0&&(S=0),E===void 0&&(E=360),w===void 0&&(w=!1),d.call(this,p,"Arc",new l(0,0,C)),this._startAngle=S,this._endAngle=E,this._anticlockwise=w,this._iterations=.01,this.setPosition(g,y);var O=this.geom.radius*2;this.setSize(O,O),M!==void 0&&this.setFillStyle(M,R),this.updateDisplayOrigin(),this.updateData()},"Arc"),iterations:{get:r(function(){return this._iterations},"get"),set:r(function(f){this._iterations=f,this.updateData()},"set")},radius:{get:r(function(){return this.geom.radius},"get"),set:r(function(f){this.geom.radius=f;var p=f*2;this.setSize(p,p),this.updateDisplayOrigin(),this.updateData()},"set")},startAngle:{get:r(function(){return this._startAngle},"get"),set:r(function(f){this._startAngle=f,this.updateData()},"set")},endAngle:{get:r(function(){return this._endAngle},"get"),set:r(function(f){this._endAngle=f,this.updateData()},"set")},anticlockwise:{get:r(function(){return this._anticlockwise},"get"),set:r(function(f){this._anticlockwise=f,this.updateData()},"set")},setRadius:r(function(f){return this.radius=f,this},"setRadius"),setIterations:r(function(f){return f===void 0&&(f=.01),this.iterations=f,this},"setIterations"),setStartAngle:r(function(f,p){return this._startAngle=f,p!==void 0&&(this._anticlockwise=p),this.updateData()},"setStartAngle"),setEndAngle:r(function(f,p){return this._endAngle=f,p!==void 0&&(this._anticlockwise=p),this.updateData()},"setEndAngle"),updateData:r(function(){var f=this._iterations,p=f,g=this.geom.radius,y=c(this._startAngle),C=c(this._endAngle),S=this._anticlockwise,E=g,w=g;C-=y,S?C<-o.PI2?C=-o.PI2:C>0&&(C=-o.PI2+C%o.PI2):C>o.PI2?C=o.PI2:C<0&&(C=o.PI2+C%o.PI2);for(var M=[E+Math.cos(y)*g,w+Math.sin(y)*g],R;p<1;)R=C*p+y,M.push(E+Math.cos(R)*g,w+Math.sin(R)*g),p+=f;return R=C+y,M.push(E+Math.cos(R)*g,w+Math.sin(R)*g),M.push(E+Math.cos(y)*g,w+Math.sin(y)*g),this.pathIndexes=u(M),this.pathData=M,this},"updateData")});n.exports=v}),42542:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39506),m=i(65960),c=i(75177),u=i(20926),l=r(function(o,d,v,f){v.addToRenderList(d);var p=o.currentContext;if(u(o,p,d,v,f)){var g=d.radius;p.beginPath(),p.arc(g-d.originX*(g*2),g-d.originY*(g*2),g,h(d._startAngle),h(d._endAngle),d.anticlockwise),d.closePath&&p.closePath(),d.isFilled&&(m(p,d),p.fill()),d.isStroked&&(c(p,d),p.stroke()),p.restore()}},"ArcCanvasRenderer");n.exports=l}),42563:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23629),m=i(39429);m.register("arc",function(c,u,l,o,d,v,f,p){return this.displayList.add(new h(this.scene,c,u,l,o,d,v,f,p))}),m.register("circle",function(c,u,l,o,d){return this.displayList.add(new h(this.scene,c,u,l,0,360,!1,o,d))})}),13609:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(41447),c=i(42542),n.exports={renderWebGL:m,renderCanvas:c}}),41447:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=i(10441),c=i(34682),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=h(o,d,v),g=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX,C=o._displayOriginY,S=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&m(f,g,o,S,y,C),o.isStroked&&c(f,o,S,y,C),l.pipelines.postBatch(o)},"ArcWebGLRenderer");n.exports=u}),89:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(33141),c=i(94811),u=i(87841),l=i(17803),o=new h({Extends:l,Mixins:[m],initialize:r(function(v,f,p,g,y,C){f===void 0&&(f=0),p===void 0&&(p=0),l.call(this,v,"Curve",g),this._smoothness=32,this._curveBounds=new u,this.closePath=!1,this.setPosition(f,p),y!==void 0&&this.setFillStyle(y,C),this.updateData()},"Curve"),smoothness:{get:r(function(){return this._smoothness},"get"),set:r(function(d){this._smoothness=d,this.updateData()},"set")},setSmoothness:r(function(d){return this._smoothness=d,this.updateData()},"setSmoothness"),updateData:r(function(){var d=this._curveBounds,v=this._smoothness;this.geom.getBounds(d,v),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var f=[],p=this.geom.getPoints(v),g=0;g<p.length;g++)f.push(p[g].x,p[g].y);return f.push(p[0].x,p[0].y),this.pathIndexes=c(f),this.pathData=f,this},"updateData")});n.exports=o}),3170:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),m=i(75177),c=i(20926),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,d,v)){var p=o._displayOriginX+o._curveBounds.x,g=o._displayOriginY+o._curveBounds.y,y=o.pathData,C=y.length-1,S=y[0]-p,E=y[1]-g;f.beginPath(),f.moveTo(S,E),o.closePath||(C-=2);for(var w=2;w<C;w+=2){var M=y[w]-p,R=y[w+1]-g;f.lineTo(M,R)}o.closePath&&f.closePath(),o.isFilled&&(h(f,o),f.fill()),o.isStroked&&(m(f,o),f.stroke()),f.restore()}},"CurveCanvasRenderer");n.exports=u}),40511:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(89);h.register("curve",function(c,u,l,o,d){return this.displayList.add(new m(this.scene,c,u,l,o,d))})}),33141:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(53987),c=i(3170),n.exports={renderWebGL:m,renderCanvas:c}}),53987:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10441),m=i(91296),c=i(34682),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=m(o,d,v),g=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX+o._curveBounds.x,C=o._displayOriginY+o._curveBounds.y,S=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&h(f,g,o,S,y,C),o.isStroked&&c(f,o,S,y,C),l.pipelines.postBatch(o)},"CurveWebGLRenderer");n.exports=u}),19921:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(94811),c=i(54205),u=i(8497),l=i(17803),o=new h({Extends:l,Mixins:[c],initialize:r(function(v,f,p,g,y,C,S){f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=128),y===void 0&&(y=128),l.call(this,v,"Ellipse",new u(g/2,y/2,g,y)),this._smoothness=64,this.setPosition(f,p),this.width=g,this.height=y,C!==void 0&&this.setFillStyle(C,S),this.updateDisplayOrigin(),this.updateData()},"Ellipse"),smoothness:{get:r(function(){return this._smoothness},"get"),set:r(function(d){this._smoothness=d,this.updateData()},"set")},setSize:r(function(d,v){return this.width=d,this.height=v,this.geom.setPosition(d/2,v/2),this.geom.setSize(d,v),this.updateDisplayOrigin(),this.updateData()},"setSize"),setSmoothness:r(function(d){return this._smoothness=d,this.updateData()},"setSmoothness"),updateData:r(function(){for(var d=[],v=this.geom.getPoints(this._smoothness),f=0;f<v.length;f++)d.push(v[f].x,v[f].y);return d.push(v[0].x,v[0].y),this.pathIndexes=m(d),this.pathData=d,this},"updateData")});n.exports=o}),7930:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),m=i(75177),c=i(20926),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,d,v)){var p=o._displayOriginX,g=o._displayOriginY,y=o.pathData,C=y.length-1,S=y[0]-p,E=y[1]-g;f.beginPath(),f.moveTo(S,E),o.closePath||(C-=2);for(var w=2;w<C;w+=2){var M=y[w]-p,R=y[w+1]-g;f.lineTo(M,R)}f.closePath(),o.isFilled&&(h(f,o),f.fill()),o.isStroked&&(m(f,o),f.stroke()),f.restore()}},"EllipseCanvasRenderer");n.exports=u}),1543:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19921),m=i(39429);m.register("ellipse",function(c,u,l,o,d,v){return this.displayList.add(new h(this.scene,c,u,l,o,d,v))})}),54205:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(19467),c=i(7930),n.exports={renderWebGL:m,renderCanvas:c}}),19467:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10441),m=i(91296),c=i(34682),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=m(o,d,v),g=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX,C=o._displayOriginY,S=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&h(f,g,o,S,y,C),o.isStroked&&c(f,o,S,y,C),l.pipelines.postBatch(o)},"EllipseWebGLRenderer");n.exports=u}),30479:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(17803),c=i(26015),u=new h({Extends:m,Mixins:[c],initialize:r(function(o,d,v,f,p,g,y,C,S,E,w){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=128),p===void 0&&(p=128),g===void 0&&(g=32),y===void 0&&(y=32),m.call(this,o,"Grid",null),this.cellWidth=g,this.cellHeight=y,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(d,v),this.setSize(f,p),this.setFillStyle(C,S),E!==void 0&&this.setOutlineStyle(E,w),this.updateDisplayOrigin()},"Grid"),setFillStyle:r(function(l,o){return o===void 0&&(o=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=o,this.showCells=!0),this},"setFillStyle"),setAltFillStyle:r(function(l,o){return o===void 0&&(o=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=o,this.showAltCells=!0),this},"setAltFillStyle"),setOutlineStyle:r(function(l,o){return o===void 0&&(o=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=o,this.showOutline=!0),this},"setOutlineStyle")});n.exports=u}),49912:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),m=i(75177),c=i(20926),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,d,v)){var p=-o._displayOriginX,g=-o._displayOriginY,y=d.alpha*o.alpha,C=o.width,S=o.height,E=o.cellWidth,w=o.cellHeight,M=Math.ceil(C/E),R=Math.ceil(S/w),O=E,b=w,A=E-(M*E-C),I=w-(R*w-S),L=o.showCells,F=o.showAltCells,D=o.showOutline,B=0,V=0,U=0,W=0,Y=0;if(D&&(O--,b--,A===E&&A--,I===w&&I--),L&&o.fillAlpha>0)for(h(f,o),V=0;V<R;V++)for(F&&(U=V%2),B=0;B<M;B++){if(F&&U){U=0;continue}U++,W=B<M-1?O:A,Y=V<R-1?b:I,f.fillRect(p+B*E,g+V*w,W,Y)}if(F&&o.altFillAlpha>0)for(h(f,o,o.altFillColor,o.altFillAlpha*y),V=0;V<R;V++)for(F&&(U=V%2),B=0;B<M;B++){if(F&&!U){U=1;continue}U=0,W=B<M-1?O:A,Y=V<R-1?b:I,f.fillRect(p+B*E,g+V*w,W,Y)}if(D&&o.outlineFillAlpha>0){for(m(f,o,o.outlineFillColor,o.outlineFillAlpha*y),B=1;B<M;B++){var N=B*E;f.beginPath(),f.moveTo(N+p,g),f.lineTo(N+p,S+g),f.stroke()}for(V=1;V<R;V++){var z=V*w;f.beginPath(),f.moveTo(p,z+g),f.lineTo(p+C,z+g),f.stroke()}}f.restore()}},"GridCanvasRenderer");n.exports=u}),34137:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(30479);h.register("grid",function(c,u,l,o,d,v,f,p,g,y){return this.displayList.add(new m(this.scene,c,u,l,o,d,v,f,p,g,y))})}),26015:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(46161),c=i(49912),n.exports={renderWebGL:m,renderCanvas:c}}),46161:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=i(70554),c=r(function(u,l,o,d){o.addToRenderList(l);var v=u.pipelines.set(l.pipeline),f=h(l,o,d),p=v.calcMatrix.copyFrom(f.calc);p.translate(-l._displayOriginX,-l._displayOriginY);var g=o.alpha*l.alpha,y=l.width,C=l.height,S=l.cellWidth,E=l.cellHeight,w=Math.ceil(y/S),M=Math.ceil(C/E),R=S,O=E,b=S-(w*S-y),A=E-(M*E-C),I,L,F=l.showCells,D=l.showAltCells,B=l.showOutline,V=0,U=0,W=0,Y=0,N=0;if(B&&(R--,O--,b===S&&b--,A===E&&A--),u.pipelines.preBatch(l),F&&l.fillAlpha>0)for(I=v.fillTint,L=m.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*g),I.TL=L,I.TR=L,I.BL=L,I.BR=L,U=0;U<M;U++)for(D&&(W=U%2),V=0;V<w;V++){if(D&&W){W=0;continue}W++,Y=V<w-1?R:b,N=U<M-1?O:A,v.batchFillRect(V*S,U*E,Y,N)}if(D&&l.altFillAlpha>0)for(I=v.fillTint,L=m.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*g),I.TL=L,I.TR=L,I.BL=L,I.BR=L,U=0;U<M;U++)for(D&&(W=U%2),V=0;V<w;V++){if(D&&!W){W=1;continue}W=0,Y=V<w-1?R:b,N=U<M-1?O:A,v.batchFillRect(V*S,U*E,Y,N)}if(B&&l.outlineFillAlpha>0){var z=v.strokeTint,G=m.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*g);for(z.TL=G,z.TR=G,z.BL=G,z.BR=G,V=1;V<w;V++){var X=V*S;v.batchLine(X,0,X,C,l.lineWidth,l.lineWidth,1,0,!1)}for(U=1;U<M;U++){var k=U*E;v.batchLine(0,k,y,k,l.lineWidth,l.lineWidth,1,0,!1)}}u.pipelines.postBatch(l)},"GridWebGLRenderer");n.exports=c}),61475:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99651),m=i(83419),c=i(17803),u=new m({Extends:c,Mixins:[h],initialize:r(function(o,d,v,f,p,g,y,C){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=48),p===void 0&&(p=32),g===void 0&&(g=15658734),y===void 0&&(y=10066329),C===void 0&&(C=13421772),c.call(this,o,"IsoBox",null),this.projection=4,this.fillTop=g,this.fillLeft=y,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,v),this.setSize(f,p),this.updateDisplayOrigin()},"IsoBox"),setProjection:r(function(l){return this.projection=l,this},"setProjection"),setFaces:r(function(l,o,d){return l===void 0&&(l=!0),o===void 0&&(o=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=o,this.showRight=d,this},"setFaces"),setFillStyle:r(function(l,o,d){return this.fillTop=l,this.fillLeft=o,this.fillRight=d,this.isFilled=!0,this},"setFillStyle")});n.exports=u}),11508:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),m=i(20926),c=r(function(u,l,o,d){o.addToRenderList(l);var v=u.currentContext;if(m(u,v,l,o,d)&&l.isFilled){var f=l.width,p=l.height,g=f/2,y=f/l.projection;l.showTop&&(h(v,l,l.fillTop),v.beginPath(),v.moveTo(-g,-p),v.lineTo(0,-y-p),v.lineTo(g,-p),v.lineTo(g,-1),v.lineTo(0,y-1),v.lineTo(-g,-1),v.lineTo(-g,-p),v.fill()),l.showLeft&&(h(v,l,l.fillLeft),v.beginPath(),v.moveTo(-g,0),v.lineTo(0,y),v.lineTo(0,y-p),v.lineTo(-g,-p),v.lineTo(-g,0),v.fill()),l.showRight&&(h(v,l,l.fillRight),v.beginPath(),v.moveTo(g,0),v.lineTo(0,y),v.lineTo(0,y-p),v.lineTo(g,-p),v.lineTo(g,0),v.fill()),v.restore()}},"IsoBoxCanvasRenderer");n.exports=c}),3933:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(61475);h.register("isobox",function(c,u,l,o,d,v,f){return this.displayList.add(new m(this.scene,c,u,l,o,d,v,f))})}),99651:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(68149),c=i(11508),n.exports={renderWebGL:m,renderCanvas:c}}),68149:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=i(70554),c=r(function(u,l,o,d){o.addToRenderList(l);var v=u.pipelines.set(l.pipeline),f=h(l,o,d),p=v.calcMatrix.copyFrom(f.calc),g=l.width,y=l.height,C=g/2,S=g/l.projection,E=o.alpha*l.alpha;if(l.isFilled){var w,M,R,O,b,A,I,L,F;u.pipelines.preBatch(l),l.showTop&&(w=m.getTintAppendFloatAlpha(l.fillTop,E),M=p.getX(-C,-y),R=p.getY(-C,-y),O=p.getX(0,-S-y),b=p.getY(0,-S-y),A=p.getX(C,-y),I=p.getY(C,-y),L=p.getX(0,S-y),F=p.getY(0,S-y),v.batchQuad(l,M,R,O,b,A,I,L,F,0,0,1,1,w,w,w,w,2)),l.showLeft&&(w=m.getTintAppendFloatAlpha(l.fillLeft,E),M=p.getX(-C,0),R=p.getY(-C,0),O=p.getX(0,S),b=p.getY(0,S),A=p.getX(0,S-y),I=p.getY(0,S-y),L=p.getX(-C,-y),F=p.getY(-C,-y),v.batchQuad(l,M,R,O,b,A,I,L,F,0,0,1,1,w,w,w,w,2)),l.showRight&&(w=m.getTintAppendFloatAlpha(l.fillRight,E),M=p.getX(C,0),R=p.getY(C,0),O=p.getX(0,S),b=p.getY(0,S),A=p.getX(0,S-y),I=p.getY(0,S-y),L=p.getX(C,-y),F=p.getY(C,-y),v.batchQuad(l,M,R,O,b,A,I,L,F,0,0,1,1,w,w,w,w,2)),u.pipelines.postBatch(l)}},"IsoBoxWebGLRenderer");n.exports=c}),16933:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(60561),c=i(17803),u=new h({Extends:c,Mixins:[m],initialize:r(function(o,d,v,f,p,g,y,C,S){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=48),p===void 0&&(p=32),g===void 0&&(g=!1),y===void 0&&(y=15658734),C===void 0&&(C=10066329),S===void 0&&(S=13421772),c.call(this,o,"IsoTriangle",null),this.projection=4,this.fillTop=y,this.fillLeft=C,this.fillRight=S,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=g,this.isFilled=!0,this.setPosition(d,v),this.setSize(f,p),this.updateDisplayOrigin()},"IsoTriangle"),setProjection:r(function(l){return this.projection=l,this},"setProjection"),setReversed:r(function(l){return this.isReversed=l,this},"setReversed"),setFaces:r(function(l,o,d){return l===void 0&&(l=!0),o===void 0&&(o=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=o,this.showRight=d,this},"setFaces"),setFillStyle:r(function(l,o,d){return this.fillTop=l,this.fillLeft=o,this.fillRight=d,this.isFilled=!0,this},"setFillStyle")});n.exports=u}),79590:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),m=i(20926),c=r(function(u,l,o,d){o.addToRenderList(l);var v=u.currentContext;if(m(u,v,l,o,d)&&l.isFilled){var f=l.width,p=l.height,g=f/2,y=f/l.projection,C=l.isReversed;l.showTop&&C&&(h(v,l,l.fillTop),v.beginPath(),v.moveTo(-g,-p),v.lineTo(0,-y-p),v.lineTo(g,-p),v.lineTo(0,y-p),v.fill()),l.showLeft&&(h(v,l,l.fillLeft),v.beginPath(),C?(v.moveTo(-g,-p),v.lineTo(0,y),v.lineTo(0,y-p)):(v.moveTo(-g,0),v.lineTo(0,y),v.lineTo(0,y-p)),v.fill()),l.showRight&&(h(v,l,l.fillRight),v.beginPath(),C?(v.moveTo(g,-p),v.lineTo(0,y),v.lineTo(0,y-p)):(v.moveTo(g,0),v.lineTo(0,y),v.lineTo(0,y-p)),v.fill()),v.restore()}},"IsoTriangleCanvasRenderer");n.exports=c}),49803:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(16933);h.register("isotriangle",function(c,u,l,o,d,v,f,p){return this.displayList.add(new m(this.scene,c,u,l,o,d,v,f,p))})}),60561:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(51503),c=i(79590),n.exports={renderWebGL:m,renderCanvas:c}}),51503:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=i(70554),c=r(function(u,l,o,d){o.addToRenderList(l);var v=u.pipelines.set(l.pipeline),f=h(l,o,d),p=v.calcMatrix.copyFrom(f.calc),g=l.width,y=l.height,C=g/2,S=g/l.projection,E=l.isReversed,w=o.alpha*l.alpha;if(l.isFilled){u.pipelines.preBatch(l);var M,R,O,b,A,I,L;if(l.showTop&&E){M=m.getTintAppendFloatAlpha(l.fillTop,w),R=p.getX(-C,-y),O=p.getY(-C,-y),b=p.getX(0,-S-y),A=p.getY(0,-S-y),I=p.getX(C,-y),L=p.getY(C,-y);var F=p.getX(0,S-y),D=p.getY(0,S-y);v.batchQuad(l,R,O,b,A,I,L,F,D,0,0,1,1,M,M,M,M,2)}l.showLeft&&(M=m.getTintAppendFloatAlpha(l.fillLeft,w),E?(R=p.getX(-C,-y),O=p.getY(-C,-y),b=p.getX(0,S),A=p.getY(0,S),I=p.getX(0,S-y),L=p.getY(0,S-y)):(R=p.getX(-C,0),O=p.getY(-C,0),b=p.getX(0,S),A=p.getY(0,S),I=p.getX(0,S-y),L=p.getY(0,S-y)),v.batchTri(l,R,O,b,A,I,L,0,0,1,1,M,M,M,2)),l.showRight&&(M=m.getTintAppendFloatAlpha(l.fillRight,w),E?(R=p.getX(C,-y),O=p.getY(C,-y),b=p.getX(0,S),A=p.getY(0,S),I=p.getX(0,S-y),L=p.getY(0,S-y)):(R=p.getX(C,0),O=p.getY(C,0),b=p.getX(0,S),A=p.getY(0,S),I=p.getX(0,S-y),L=p.getY(0,S-y)),v.batchTri(l,R,O,b,A,I,L,0,0,1,1,M,M,M,2)),u.pipelines.postBatch(l)}},"IsoTriangleWebGLRenderer");n.exports=c}),57847:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(17803),c=i(23031),u=i(36823),l=new h({Extends:m,Mixins:[u],initialize:r(function(d,v,f,p,g,y,C,S,E){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),y===void 0&&(y=128),C===void 0&&(C=0),m.call(this,d,"Line",new c(p,g,y,C));var w=Math.max(1,this.geom.right-this.geom.left),M=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,f),this.setSize(w,M),S!==void 0&&this.setStrokeStyle(1,S,E),this.updateDisplayOrigin()},"Line"),setLineWidth:r(function(o,d){return d===void 0&&(d=o),this._startWidth=o,this._endWidth=d,this.lineWidth=o,this},"setLineWidth"),setTo:r(function(o,d,v,f){return this.geom.setTo(o,d,v,f),this},"setTo")});n.exports=l}),17440:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(75177),m=i(20926),c=r(function(u,l,o,d){o.addToRenderList(l);var v=u.currentContext;if(m(u,v,l,o,d)){var f=l._displayOriginX,p=l._displayOriginY;l.isStroked&&(h(v,l),v.beginPath(),v.moveTo(l.geom.x1-f,l.geom.y1-p),v.lineTo(l.geom.x2-f,l.geom.y2-p),v.stroke()),v.restore()}},"LineCanvasRenderer");n.exports=c}),2481:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(57847);h.register("line",function(c,u,l,o,d,v,f,p){return this.displayList.add(new m(this.scene,c,u,l,o,d,v,f,p))})}),36823:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(77385),c=i(17440),n.exports={renderWebGL:m,renderCanvas:c}}),77385:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=i(70554),c=r(function(u,l,o,d){o.addToRenderList(l);var v=u.pipelines.set(l.pipeline),f=h(l,o,d);v.calcMatrix.copyFrom(f.calc);var p=l._displayOriginX,g=l._displayOriginY,y=o.alpha*l.alpha;if(u.pipelines.preBatch(l),l.isStroked){var C=v.strokeTint,S=m.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*y);C.TL=S,C.TR=S,C.BL=S,C.BR=S,v.batchLine(l.geom.x1-p,l.geom.y1-g,l.geom.x2-p,l.geom.y2-g,l._startWidth/2,l._endWidth/2,1,0,!1,f.sprite,f.camera)}u.pipelines.postBatch(l)},"LineWebGLRenderer");n.exports=c}),24949:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(90273),m=i(83419),c=i(94811),u=i(13829),l=i(25717),o=i(17803),d=i(5469),v=new m({Extends:o,Mixins:[h],initialize:r(function(p,g,y,C,S,E){g===void 0&&(g=0),y===void 0&&(y=0),o.call(this,p,"Polygon",new l(C));var w=u(this.geom);this.setPosition(g,y),this.setSize(w.width,w.height),S!==void 0&&this.setFillStyle(S,E),this.updateDisplayOrigin(),this.updateData()},"Polygon"),smooth:r(function(f){f===void 0&&(f=1);for(var p=0;p<f;p++)d(this.geom);return this.updateData()},"smooth"),setTo:r(function(f){this.geom.setTo(f);var p=u(this.geom);return this.setSize(p.width,p.height),this.updateDisplayOrigin(),this.updateData()},"setTo"),updateData:r(function(){for(var f=[],p=this.geom.points,g=0;g<p.length;g++)f.push(p[g].x,p[g].y);return f.push(p[0].x,p[0].y),this.pathIndexes=c(f),this.pathData=f,this},"updateData")});n.exports=v}),38710:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),m=i(75177),c=i(20926),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,d,v)){var p=o._displayOriginX,g=o._displayOriginY,y=o.pathData,C=y.length-1,S=y[0]-p,E=y[1]-g;f.beginPath(),f.moveTo(S,E),o.closePath||(C-=2);for(var w=2;w<C;w+=2){var M=y[w]-p,R=y[w+1]-g;f.lineTo(M,R)}o.closePath&&f.closePath(),o.isFilled&&(h(f,o),f.fill()),o.isStroked&&(m(f,o),f.stroke()),f.restore()}},"PolygonCanvasRenderer");n.exports=u}),64827:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(24949);h.register("polygon",function(c,u,l,o,d){return this.displayList.add(new m(this.scene,c,u,l,o,d))})}),90273:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(73695),c=i(38710),n.exports={renderWebGL:m,renderCanvas:c}}),73695:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10441),m=i(91296),c=i(34682),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=m(o,d,v),g=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX,C=o._displayOriginY,S=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&h(f,g,o,S,y,C),o.isStroked&&c(f,o,S,y,C),l.pipelines.postBatch(o)},"PolygonWebGLRenderer");n.exports=u}),74561:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(94811),c=i(87841),u=i(17803),l=i(95597),o=new h({Extends:u,Mixins:[l],initialize:r(function(v,f,p,g,y,C,S){f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=128),y===void 0&&(y=128),u.call(this,v,"Rectangle",new c(0,0,g,y)),this.radius=20,this.isRounded=!1,this.setPosition(f,p),this.setSize(g,y),C!==void 0&&this.setFillStyle(C,S),this.updateDisplayOrigin(),this.updateData()},"Rectangle"),setRounded:r(function(d){return d===void 0&&(d=16),this.radius=d,this.isRounded=d>0,this.updateRoundedData()},"setRounded"),setSize:r(function(d,v){this.width=d,this.height=v,this.geom.setSize(d,v),this.updateData(),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=d,f.hitArea.height=v),this},"setSize"),updateData:r(function(){if(this.isRounded)return this.updateRoundedData();var d=[],v=this.geom,f=this._tempLine;return v.getLineA(f),d.push(f.x1,f.y1,f.x2,f.y2),v.getLineB(f),d.push(f.x2,f.y2),v.getLineC(f),d.push(f.x2,f.y2),v.getLineD(f),d.push(f.x2,f.y2),this.pathData=d,this},"updateData"),updateRoundedData:r(function(){var d=[],v=this.width/2,f=this.height/2,p=Math.min(v,f),g=Math.min(this.radius,p),y=v,C=f,S=Math.max(1,Math.floor(g/5));return this.arcTo(d,y-v+g,C-f+g,g,Math.PI,Math.PI*1.5,S),d.push(y+v-g,C-f),this.arcTo(d,y+v-g,C-f+g,g,Math.PI*1.5,Math.PI*2,S),d.push(y+v,C+f-g),this.arcTo(d,y+v-g,C+f-g,g,0,Math.PI*.5,S),d.push(y-v+g,C+f),this.arcTo(d,y-v+g,C+f-g,g,Math.PI*.5,Math.PI,S),d.push(y-v,C-f+g),this.pathIndexes=m(d),this.pathData=d,this},"updateRoundedData"),arcTo:r(function(d,v,f,p,g,y,C){for(var S=(y-g)/C,E=0;E<=C;E++){var w=g+S*E;d.push(v+Math.cos(w)*p,f+Math.sin(w)*p)}},"arcTo")});n.exports=o}),48682:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),m=i(75177),c=i(20926),u=r(function(o,d,v,f,p,g){var y=Math.min(f/2,p/2),C=Math.min(g,y);if(C===0){o.rect(d,v,f,p);return}o.moveTo(d+C,v),o.lineTo(d+f-C,v),o.arcTo(d+f,v,d+f,v+C,C),o.lineTo(d+f,v+p-C),o.arcTo(d+f,v+p,d+f-C,v+p,C),o.lineTo(d+C,v+p),o.arcTo(d,v+p,d,v+p-C,C),o.lineTo(d,v+C),o.arcTo(d,v,d+C,v,C),o.closePath()},"DrawRoundedRect"),l=r(function(o,d,v,f){v.addToRenderList(d);var p=o.currentContext;if(c(o,p,d,v,f)){var g=d._displayOriginX,y=d._displayOriginY;d.isFilled&&(h(p,d),d.isRounded?(p.beginPath(),u(p,-g,-y,d.width,d.height,d.radius),p.fill()):p.fillRect(-g,-y,d.width,d.height)),d.isStroked&&(m(p,d),p.beginPath(),d.isRounded?u(p,-g,-y,d.width,d.height,d.radius):p.rect(-g,-y,d.width,d.height),p.stroke()),p.restore()}},"RectangleCanvasRenderer");n.exports=l}),87959:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(74561);h.register("rectangle",function(c,u,l,o,d,v){return this.displayList.add(new m(this.scene,c,u,l,o,d,v))})}),95597:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(52059),c=i(48682),n.exports={renderWebGL:m,renderCanvas:c}}),52059:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10441),m=i(91296),c=i(34682),u=i(70554),l=r(function(o,d,v,f){v.addToRenderList(d);var p=o.pipelines.set(d.pipeline),g=m(d,v,f);p.calcMatrix.copyFrom(g.calc);var y=d._displayOriginX,C=d._displayOriginY,S=v.alpha*d.alpha;if(o.pipelines.preBatch(d),d.isRounded&&d.isFilled)h(p,g.calc,d,S,y,C);else if(d.isFilled){var E=p.fillTint,w=u.getTintAppendFloatAlpha(d.fillColor,d.fillAlpha*S);E.TL=w,E.TR=w,E.BL=w,E.BR=w,p.batchFillRect(-y,-C,d.width,d.height)}d.isStroked&&c(p,d,S,y,C),o.pipelines.postBatch(d)},"RectangleWebGLRenderer");n.exports=l}),55911:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81991),m=i(83419),c=i(94811),u=i(17803),l=new m({Extends:u,Mixins:[h],initialize:r(function(d,v,f,p,g,y,C,S){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=5),g===void 0&&(g=32),y===void 0&&(y=64),u.call(this,d,"Star",null),this._points=p,this._innerRadius=g,this._outerRadius=y,this.setPosition(v,f),this.setSize(y*2,y*2),C!==void 0&&this.setFillStyle(C,S),this.updateDisplayOrigin(),this.updateData()},"Star"),setPoints:r(function(o){return this._points=o,this.updateData()},"setPoints"),setInnerRadius:r(function(o){return this._innerRadius=o,this.updateData()},"setInnerRadius"),setOuterRadius:r(function(o){return this._outerRadius=o,this.updateData()},"setOuterRadius"),points:{get:r(function(){return this._points},"get"),set:r(function(o){this._points=o,this.updateData()},"set")},innerRadius:{get:r(function(){return this._innerRadius},"get"),set:r(function(o){this._innerRadius=o,this.updateData()},"set")},outerRadius:{get:r(function(){return this._outerRadius},"get"),set:r(function(o){this._outerRadius=o,this.updateData()},"set")},updateData:r(function(){var o=[],d=this._points,v=this._innerRadius,f=this._outerRadius,p=Math.PI/2*3,g=Math.PI/d,y=f,C=f;o.push(y,C+-f);for(var S=0;S<d;S++)o.push(y+Math.cos(p)*f,C+Math.sin(p)*f),p+=g,o.push(y+Math.cos(p)*v,C+Math.sin(p)*v),p+=g;return o.push(y,C+-f),this.pathIndexes=c(o),this.pathData=o,this},"updateData")});n.exports=l}),64272:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),m=i(75177),c=i(20926),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,d,v)){var p=o._displayOriginX,g=o._displayOriginY,y=o.pathData,C=y.length-1,S=y[0]-p,E=y[1]-g;f.beginPath(),f.moveTo(S,E),o.closePath||(C-=2);for(var w=2;w<C;w+=2){var M=y[w]-p,R=y[w+1]-g;f.lineTo(M,R)}f.closePath(),o.isFilled&&(h(f,o),f.fill()),o.isStroked&&(m(f,o),f.stroke()),f.restore()}},"StarCanvasRenderer");n.exports=u}),93697:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(55911),m=i(39429);m.register("star",function(c,u,l,o,d,v,f){return this.displayList.add(new h(this.scene,c,u,l,o,d,v,f))})}),81991:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(57017),c=i(64272),n.exports={renderWebGL:m,renderCanvas:c}}),57017:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10441),m=i(91296),c=i(34682),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=m(o,d,v),g=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX,C=o._displayOriginY,S=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&h(f,g,o,S,y,C),o.isStroked&&c(f,o,S,y,C),l.pipelines.postBatch(o)},"StarWebGLRenderer");n.exports=u}),36931:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(17803),c=i(16483),u=i(96195),l=new h({Extends:m,Mixins:[u],initialize:r(function(d,v,f,p,g,y,C,S,E,w,M){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=128),y===void 0&&(y=64),C===void 0&&(C=0),S===void 0&&(S=128),E===void 0&&(E=128),m.call(this,d,"Triangle",new c(p,g,y,C,S,E));var R=this.geom.right-this.geom.left,O=this.geom.bottom-this.geom.top;this.setPosition(v,f),this.setSize(R,O),w!==void 0&&this.setFillStyle(w,M),this.updateDisplayOrigin(),this.updateData()},"Triangle"),setTo:r(function(o,d,v,f,p,g){return this.geom.setTo(o,d,v,f,p,g),this.updateData()},"setTo"),updateData:r(function(){var o=[],d=this.geom,v=this._tempLine;return d.getLineA(v),o.push(v.x1,v.y1,v.x2,v.y2),d.getLineB(v),o.push(v.x2,v.y2),d.getLineC(v),o.push(v.x2,v.y2),this.pathData=o,this},"updateData")});n.exports=l}),85172:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),m=i(75177),c=i(20926),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,d,v)){var p=o._displayOriginX,g=o._displayOriginY,y=o.geom.x1-p,C=o.geom.y1-g,S=o.geom.x2-p,E=o.geom.y2-g,w=o.geom.x3-p,M=o.geom.y3-g;f.beginPath(),f.moveTo(y,C),f.lineTo(S,E),f.lineTo(w,M),f.closePath(),o.isFilled&&(h(f,o),f.fill()),o.isStroked&&(m(f,o),f.stroke()),f.restore()}},"TriangleCanvasRenderer");n.exports=u}),45245:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(36931);h.register("triangle",function(c,u,l,o,d,v,f,p,g,y){return this.displayList.add(new m(this.scene,c,u,l,o,d,v,f,p,g,y))})}),96195:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(83253),c=i(85172),n.exports={renderWebGL:m,renderCanvas:c}}),83253:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=i(34682),c=i(70554),u=r(function(l,o,d,v){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=h(o,d,v);f.calcMatrix.copyFrom(p.calc);var g=o._displayOriginX,y=o._displayOriginY,C=d.alpha*o.alpha;if(l.pipelines.preBatch(o),o.isFilled){var S=f.fillTint,E=c.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*C);S.TL=E,S.TR=E,S.BL=E,S.BR=E;var w=o.geom.x1-g,M=o.geom.y1-y,R=o.geom.x2-g,O=o.geom.y2-y,b=o.geom.x3-g,A=o.geom.y3-y;f.batchFillTriangle(w,M,R,O,b,A,p.sprite,p.camera)}o.isStroked&&m(f,o,C,g,y),l.pipelines.postBatch(o)},"TriangleWebGLRenderer");n.exports=u}),68287:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),m=i(83419),c=i(31401),u=i(95643),l=i(92751),o=new m({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,l],initialize:r(function(v,f,p,g,y){u.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(g,y),this.setPosition(f,p),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},"Sprite"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),preUpdate:r(function(d,v){this.anims.update(d,v)},"preUpdate"),play:r(function(d,v){return this.anims.play(d,v)},"play"),playReverse:r(function(d,v){return this.anims.playReverse(d,v)},"playReverse"),playAfterDelay:r(function(d,v){return this.anims.playAfterDelay(d,v)},"playAfterDelay"),playAfterRepeat:r(function(d,v){return this.anims.playAfterRepeat(d,v)},"playAfterRepeat"),chain:r(function(d){return this.anims.chain(d)},"chain"),stop:r(function(){return this.anims.stop()},"stop"),stopAfterDelay:r(function(d){return this.anims.stopAfterDelay(d)},"stopAfterDelay"),stopAfterRepeat:r(function(d){return this.anims.stopAfterRepeat(d)},"stopAfterRepeat"),stopOnFrame:r(function(d){return this.anims.stopOnFrame(d)},"stopOnFrame"),toJSON:r(function(){return c.ToJSON(this)},"toJSON"),preDestroy:r(function(){this.anims.destroy(),this.anims=void 0},"preDestroy")});n.exports=o}),76552:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m.addToRenderList(h),i.batchSprite(h,h.frame,m,c)},"SpriteCanvasRenderer");n.exports=T}),15567:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(13059),c=i(44603),u=i(23568),l=i(68287);c.register("sprite",function(o,d){o===void 0&&(o={});var v=u(o,"key",null),f=u(o,"frame",null),p=new l(this.scene,0,0,v,f);return d!==void 0&&(o.add=d),h(this.scene,p,o),m(p,o),p})}),46409:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(68287);h.register("sprite",function(c,u,l,o){return this.displayList.add(new m(this.scene,c,u,l,o))})}),92751:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(9409),c=i(76552),n.exports={renderWebGL:m,renderCanvas:c}}),9409:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m.addToRenderList(h),h.pipeline.batchSprite(h,m,c)},"SpriteWebGLRenderer");n.exports=T}),14220:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=i.canvas,u=i.context,l=i.style,o=[],d=0,v=m.length;l.maxLines>0&&l.maxLines<m.length&&(v=l.maxLines),l.syncFont(c,u);for(var f=i.letterSpacing,p=0;p<v;p++){var g=l.strokeThickness;if(f===0)g+=u.measureText(m[p]).width;else{for(var y=m[p],C=0;C<y.length;C++)g+=u.measureText(y[C]).width;y.length>1&&(g+=f*(y.length-1))}l.wordWrap&&(g-=u.measureText(" ").width),o[p]=Math.ceil(g),d=Math.max(d,o[p])}var S=h.fontSize+l.strokeThickness,E=S*v,w=i.lineSpacing;return v>1&&(E+=w*(v-1)),{width:d,height:E,lines:v,lineWidths:o,lineSpacing:w,lineHeight:S}},"GetTextSize");n.exports=T}),79557:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),m=r(function(c){var u=h.create(this),l=u.getContext("2d",{willReadFrequently:!0});c.syncFont(u,l);var o=l.measureText(c.testString);if("actualBoundingBoxAscent"in o){var d=o.actualBoundingBoxAscent,v=o.actualBoundingBoxDescent;return h.remove(u),{ascent:d,descent:v,fontSize:d+v}}var f=Math.ceil(o.width*c.baselineX),p=f,g=2*p;p=p*c.baselineY|0,u.width=f,u.height=g,l.fillStyle="#f00",l.fillRect(0,0,f,g),l.font=c._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(c.testString,0,p);var y={ascent:0,descent:0,fontSize:0},C=l.getImageData(0,0,f,g);if(!C)return y.ascent=p,y.descent=p+6,y.fontSize=y.ascent+y.descent,h.remove(u),y;var S=C.data,E=S.length,w=f*4,M,R,O=0,b=!1;for(M=0;M<p;M++){for(R=0;R<w;R+=4)if(S[O+R]!==255){b=!0;break}if(!b)O+=w;else break}for(y.ascent=p-M,O=E-w,b=!1,M=g;M>p;M--){for(R=0;R<w;R+=4)if(S[O+R]!==255){b=!0;break}if(!b)O-=w;else break}return y.descent=M-p,y.fontSize=y.ascent+y.descent,h.remove(u),y},"MeasureText");n.exports=m}),50171:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40366),m=i(27919),c=i(83419),u=i(31401),l=i(95643),o=i(14220),d=i(35154),v=i(35846),f=i(61771),p=i(35762),g=i(45650),y=new c({Extends:l,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,f],initialize:r(function(S,E,w,M,R){E===void 0&&(E=0),w===void 0&&(w=0),l.call(this,S,"Text"),this.renderer=S.sys.renderer,this.setPosition(E,w),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=m.create(this),this.context,this.style=new p(this,R),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=g(),this.texture=S.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(M),R&&R.padding&&this.setPadding(R.padding),R&&R.lineSpacing&&this.setLineSpacing(R.lineSpacing),R&&R.letterSpacing&&this.setLetterSpacing(R.letterSpacing)},"Text"),initRTL:r(function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1},"initRTL"),runWordWrap:r(function(C){var S=this.style;if(S.wordWrapCallback){var E=S.wordWrapCallback.call(S.wordWrapCallbackScope,C,this);return Array.isArray(E)&&(E=E.join(`
`)),E}else return S.wordWrapWidth?S.wordWrapUseAdvanced?this.advancedWordWrap(C,this.context,this.style.wordWrapWidth):this.basicWordWrap(C,this.context,this.style.wordWrapWidth):C},"runWordWrap"),advancedWordWrap:r(function(C,S,E){for(var w="",M=C.replace(/ +/gi," ").split(this.splitRegExp),R=M.length,O=0;O<R;O++){var b=M[O],A="";b=b.replace(/^ *|\s*$/gi,"");var I=b.length*this.letterSpacing,L=S.measureText(b).width+I;if(L<E){w+=b+`
`;continue}for(var F=E,D=b.split(" "),B=0;B<D.length;B++){var V=D[B],U=V+" ",W=U.length*this.letterSpacing,Y=S.measureText(U).width+W;if(Y>F){if(B===0){for(var N=U;N.length;){N=N.slice(0,-1);var z=N.length*this.letterSpacing;if(Y=S.measureText(N).width+z,Y<=F)break}if(!N.length)throw new Error("wordWrapWidth < a single character");var G=V.substr(N.length);D[B]=G,A+=N}var X=D[B].length?B:B+1,k=D.slice(X).join(" ").replace(/[ \n]*$/gi,"");M.splice(O+1,0,k),R=M.length;break}else A+=U,F-=Y}w+=A.replace(/[ \n]*$/gi,"")+`
`}return w=w.replace(/[\s|\n]*$/gi,""),w},"advancedWordWrap"),basicWordWrap:r(function(C,S,E){for(var w="",M=C.split(this.splitRegExp),R=M.length-1,O=S.measureText(" ").width,b=0;b<=R;b++){for(var A=E,I=M[b].split(" "),L=I.length-1,F=0;F<=L;F++){var D=I[F],B=D.length*this.letterSpacing,V=S.measureText(D).width+B,U=V;F<L&&(U+=O),U>A&&F>0&&(w+=`
`,A=E),w+=D,F<L?(w+=" ",A-=U):A-=V}b<R&&(w+=`
`)}return w},"basicWordWrap"),getWrappedText:r(function(C){C===void 0&&(C=this._text),this.style.syncFont(this.canvas,this.context);var S=this.runWordWrap(C);return S.split(this.splitRegExp)},"getWrappedText"),setText:r(function(C){return!C&&C!==0&&(C=""),Array.isArray(C)&&(C=C.join(`
`)),C!==this._text&&(this._text=C.toString(),this.updateText()),this},"setText"),appendText:r(function(C,S){S===void 0&&(S=!0),!C&&C!==0&&(C=""),Array.isArray(C)&&(C=C.join(`
`)),C=C.toString();var E=this._text.concat(S?`
`+C:C);return E!==this._text&&(this._text=E,this.updateText()),this},"appendText"),setStyle:r(function(C){return this.style.setStyle(C)},"setStyle"),setFont:r(function(C){return this.style.setFont(C)},"setFont"),setFontFamily:r(function(C){return this.style.setFontFamily(C)},"setFontFamily"),setFontSize:r(function(C){return this.style.setFontSize(C)},"setFontSize"),setFontStyle:r(function(C){return this.style.setFontStyle(C)},"setFontStyle"),setFixedSize:r(function(C,S){return this.style.setFixedSize(C,S)},"setFixedSize"),setBackgroundColor:r(function(C){return this.style.setBackgroundColor(C)},"setBackgroundColor"),setFill:r(function(C){return this.style.setFill(C)},"setFill"),setColor:r(function(C){return this.style.setColor(C)},"setColor"),setStroke:r(function(C,S){return this.style.setStroke(C,S)},"setStroke"),setShadow:r(function(C,S,E,w,M,R){return this.style.setShadow(C,S,E,w,M,R)},"setShadow"),setShadowOffset:r(function(C,S){return this.style.setShadowOffset(C,S)},"setShadowOffset"),setShadowColor:r(function(C){return this.style.setShadowColor(C)},"setShadowColor"),setShadowBlur:r(function(C){return this.style.setShadowBlur(C)},"setShadowBlur"),setShadowStroke:r(function(C){return this.style.setShadowStroke(C)},"setShadowStroke"),setShadowFill:r(function(C){return this.style.setShadowFill(C)},"setShadowFill"),setWordWrapWidth:r(function(C,S){return this.style.setWordWrapWidth(C,S)},"setWordWrapWidth"),setWordWrapCallback:r(function(C,S){return this.style.setWordWrapCallback(C,S)},"setWordWrapCallback"),setAlign:r(function(C){return this.style.setAlign(C)},"setAlign"),setResolution:r(function(C){return this.style.setResolution(C)},"setResolution"),setLineSpacing:r(function(C){return this.lineSpacing=C,this.updateText()},"setLineSpacing"),setLetterSpacing:r(function(C){return this.letterSpacing=C,this.updateText()},"setLetterSpacing"),setPadding:r(function(C,S,E,w){if(typeof C=="object"){var M=C,R=d(M,"x",null);R!==null?(C=R,E=R):(C=d(M,"left",0),E=d(M,"right",C));var O=d(M,"y",null);O!==null?(S=O,w=O):(S=d(M,"top",0),w=d(M,"bottom",S))}else C===void 0&&(C=0),S===void 0&&(S=C),E===void 0&&(E=C),w===void 0&&(w=S);return this.padding.left=C,this.padding.top=S,this.padding.right=E,this.padding.bottom=w,this.updateText()},"setPadding"),setMaxLines:r(function(C){return this.style.setMaxLines(C)},"setMaxLines"),setRTL:r(function(C){C===void 0&&(C=!0);var S=this.style;return S.rtl===C?this:(S.rtl=C,C?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),S.align==="left"?S.align="right":S.align==="right"&&(S.align="left"),this)},"setRTL"),updateText:r(function(){var C=this.canvas,S=this.context,E=this.style,w=E.resolution,M=E.metrics;E.syncFont(C,S);var R=this._text;(E.wordWrapWidth||E.wordWrapCallback)&&(R=this.runWordWrap(this._text));var O=R.split(this.splitRegExp),b=o(this,M,O),A=this.padding,I;E.fixedWidth===0?(this.width=b.width+A.left+A.right,I=b.width):(this.width=E.fixedWidth,I=this.width-A.left-A.right,I<b.width&&(I=b.width)),E.fixedHeight===0?this.height=b.height+A.top+A.bottom:this.height=E.fixedHeight;var L=this.width,F=this.height;this.updateDisplayOrigin(),L*=w,F*=w,L=Math.max(L,1),F=Math.max(F,1),C.width!==L||C.height!==F?(C.width=L,C.height=F,this.frame.setSize(L,F),E.syncFont(C,S),E.rtl&&(S.direction="rtl")):S.clearRect(0,0,L,F),S.save(),S.scale(w,w),E.backgroundColor&&(S.fillStyle=E.backgroundColor,S.fillRect(0,0,L,F)),E.syncStyle(C,S),S.translate(A.left,A.top);for(var D,B,V=0;V<b.lines;V++){if(D=E.strokeThickness/2,B=E.strokeThickness/2+V*b.lineHeight+M.ascent,V>0&&(B+=b.lineSpacing*V),E.rtl)D=L-D-A.left-A.right;else if(E.align==="right")D+=I-b.lineWidths[V];else if(E.align==="center")D+=(I-b.lineWidths[V])/2;else if(E.align==="justify"){var U=.85;if(b.lineWidths[V]/b.width>=U){var W=b.width-b.lineWidths[V],Y=S.measureText(" ").width,N=O[V].trim(),z=N.split(" ");W+=(O[V].length-N.length)*Y;for(var G=Math.floor(W/Y),X=0;G>0;)z[X]+=" ",X=(X+1)%(z.length-1||1),--G;O[V]=z.join(" ")}}this.autoRound&&(D=Math.round(D),B=Math.round(B));var k=this.letterSpacing;if(E.strokeThickness&&k===0&&(E.syncShadow(S,E.shadowStroke),S.strokeText(O[V],D,B)),E.color)if(E.syncShadow(S,E.shadowFill),k!==0)for(var H=0,$=O[V].split(""),K=0;K<$.length;K++)E.strokeThickness&&(E.syncShadow(S,E.shadowStroke),S.strokeText($[K],D+H,B),E.syncShadow(S,E.shadowFill)),S.fillText($[K],D+H,B),H+=S.measureText($[K]).width+k;else S.fillText(O[V],D,B)}S.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(C,this.frame.source.glTexture,!0));var Z=this.input;return Z&&!Z.customHitArea&&(Z.hitArea.width=this.width,Z.hitArea.height=this.height),this},"updateText"),getTextMetrics:r(function(){return this.style.getTextMetrics()},"getTextMetrics"),text:{get:r(function(){return this._text},"get"),set:r(function(C){this.setText(C)},"set")},toJSON:r(function(){var C=u.ToJSON(this),S={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return C.data=S,C},"toJSON"),preDestroy:r(function(){v(this.canvas),m.remove(this.canvas);var C=this.texture;C&&C.destroy()},"preDestroy")});n.exports=y}),79724:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){h.width===0||h.height===0||(m.addToRenderList(h),i.batchSprite(h,h.frame,m,c))},"TextCanvasRenderer");n.exports=T}),71259:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(50171);m.register("text",function(l,o){l===void 0&&(l={});var d=c(l,"text",""),v=c(l,"style",null),f=c(l,"padding",null);f!==null&&(v.padding=f);var p=new u(this.scene,0,0,d,v);return o!==void 0&&(l.add=o),h(this.scene,p,l),p.autoRound=c(l,"autoRound",!0),p.resolution=c(l,"resolution",1),p})}),68005:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(50171),m=i(39429);m.register("text",function(c,u,l,o){return this.displayList.add(new h(this.scene,c,u,l,o))})}),61771:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(34397),c=i(79724),n.exports={renderWebGL:m,renderCanvas:c}}),35762:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23568),c=i(35154),u=i(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃâ°qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},o=new h({initialize:r(function(v,f){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(f,!1,!0)},"TextStyle"),setStyle:r(function(d,v,f){v===void 0&&(v=!0),f===void 0&&(f=!1);for(var p in l){var g=f?l[p][1]:this[p];p==="wordWrapCallback"||p==="wordWrapCallbackScope"?this[p]=c(d,l[p][0],g):d&&p==="fontSize"&&typeof d.fontSize=="number"?this[p]=d.fontSize.toString()+"px":this[p]=m(d,l[p][0],g)}var y=c(d,"font",null);y!==null&&this.setFont(y,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var C=c(d,"fill",null);C!==null&&(this.color=C);var S=c(d,"metrics",!1);return S?this.metrics={ascent:c(S,"ascent",0),descent:c(S,"descent",0),fontSize:c(S,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=u(this)),v?this.parent.updateText():this.parent},"setStyle"),syncFont:r(function(d,v){v.font=this._font},"syncFont"),syncStyle:r(function(d,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},"syncStyle"),syncShadow:r(function(d,v){v?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},"syncShadow"),update:r(function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=u(this)),this.parent.updateText()},"update"),setFont:r(function(d,v){v===void 0&&(v=!0);var f=d,p="",g="";if(typeof d!="string")f=c(d,"fontFamily","Courier"),p=c(d,"fontSize","16px"),g=c(d,"fontStyle","");else{var y=d.split(" "),C=0;g=y.length>2?y[C++]:"",p=y[C++]||"16px",f=y[C++]||"Courier"}return(f!==this.fontFamily||p!==this.fontSize||g!==this.fontStyle)&&(this.fontFamily=f,this.fontSize=p,this.fontStyle=g,v&&this.update(!0)),this.parent},"setFont"),setFontFamily:r(function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},"setFontFamily"),setFontStyle:r(function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},"setFontStyle"),setFontSize:r(function(d){return typeof d=="number"&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},"setFontSize"),setTestString:r(function(d){return this.testString=d,this.update(!0)},"setTestString"),setFixedSize:r(function(d,v){return this.fixedWidth=d,this.fixedHeight=v,d&&(this.parent.width=d),v&&(this.parent.height=v),this.update(!1)},"setFixedSize"),setBackgroundColor:r(function(d){return this.backgroundColor=d,this.update(!1)},"setBackgroundColor"),setFill:r(function(d){return this.color=d,this.update(!1)},"setFill"),setColor:r(function(d){return this.color=d,this.update(!1)},"setColor"),setResolution:r(function(d){return this.resolution=d,this.update(!1)},"setResolution"),setStroke:r(function(d,v){return v===void 0&&(v=this.strokeThickness),d===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==v)&&(this.stroke=d,this.strokeThickness=v,this.update(!0)),this.parent},"setStroke"),setShadow:r(function(d,v,f,p,g,y){return d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f="#000"),p===void 0&&(p=0),g===void 0&&(g=!1),y===void 0&&(y=!0),this.shadowOffsetX=d,this.shadowOffsetY=v,this.shadowColor=f,this.shadowBlur=p,this.shadowStroke=g,this.shadowFill=y,this.update(!1)},"setShadow"),setShadowOffset:r(function(d,v){return d===void 0&&(d=0),v===void 0&&(v=d),this.shadowOffsetX=d,this.shadowOffsetY=v,this.update(!1)},"setShadowOffset"),setShadowColor:r(function(d){return d===void 0&&(d="#000"),this.shadowColor=d,this.update(!1)},"setShadowColor"),setShadowBlur:r(function(d){return d===void 0&&(d=0),this.shadowBlur=d,this.update(!1)},"setShadowBlur"),setShadowStroke:r(function(d){return this.shadowStroke=d,this.update(!1)},"setShadowStroke"),setShadowFill:r(function(d){return this.shadowFill=d,this.update(!1)},"setShadowFill"),setWordWrapWidth:r(function(d,v){return v===void 0&&(v=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=v,this.update(!1)},"setWordWrapWidth"),setWordWrapCallback:r(function(d,v){return v===void 0&&(v=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=v,this.update(!1)},"setWordWrapCallback"),setAlign:r(function(d){return d===void 0&&(d="left"),this.align=d,this.update(!1)},"setAlign"),setMaxLines:r(function(d){return d===void 0&&(d=0),this.maxLines=d,this.update(!1)},"setMaxLines"),getTextMetrics:r(function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},"getTextMetrics"),toJSON:r(function(){var d={};for(var v in l)d[v]=this[v];return d.metrics=this.getTextMetrics(),d},"toJSON"),destroy:r(function(){this.parent=void 0},"destroy")});n.exports=o}),34397:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),m=r(function(c,u,l,o){if(!(u.width===0||u.height===0)){l.addToRenderList(u);var d=u.frame,v=d.width,f=d.height,p=h.getTintAppendFloatAlpha,g=c.pipelines.set(u.pipeline,u),y=g.setTexture2D(d.glTexture,u);g.batchTexture(u,d.glTexture,v,f,u.x,u.y,v/u.style.resolution,f/u.style.resolution,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,v,f,p(u.tintTopLeft,l.alpha*u._alphaTL),p(u.tintTopRight,l.alpha*u._alphaTR),p(u.tintBottomLeft,l.alpha*u._alphaBL),p(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,0,0,l,o,!1,y)}},"TextWebGLRenderer");n.exports=m}),20839:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),m=i(83419),c=i(31401),u=i(95643),l=i(98439),o=i(68703),d=i(56295),v=i(45650),f=i(26099),p=8,g=new m({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Crop,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Tint,c.Transform,c.Visible,d],initialize:r(function(C,S,E,w,M,R,O){var b=C.sys.renderer;u.call(this,C,"TileSprite");var A=C.sys.textures.get(R),I=A.get(O);I.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),A=C.sys.textures.get("__MISSING"),I=A.get()),A.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),A=C.sys.textures.get("__MISSING"),I=A.get()),!w||!M?(w=w||I.width,M=M||I.height):(w=Math.floor(w),M=Math.floor(M)),this._tilePosition=new f,this._tileScale=new f(1,1),this.dirty=!1,this.renderer=b,this.canvas=h.create(this,w,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=A,this.displayFrame=I,this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(I.width),this.potHeight=l(I.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(S,E),this.setSize(w,M),this.setFrame(O),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},"TileSprite"),setTexture:r(function(y,C){return this.displayTexture=this.scene.sys.textures.get(y),this.setFrame(C)},"setTexture"),setFrame:r(function(y){var C=this.displayTexture.get(y);return this.potWidth=l(C.width),this.potHeight=l(C.height),this.canvas.width=0,!C.cutWidth||!C.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this.displayFrame=C,this.dirty=!0,this.updateTileTexture(),this},"setFrame"),setTilePosition:r(function(y,C){return y!==void 0&&(this.tilePositionX=y),C!==void 0&&(this.tilePositionY=C),this},"setTilePosition"),setTileScale:r(function(y,C){return y===void 0&&(y=this.tileScaleX),C===void 0&&(C=y),this.tileScaleX=y,this.tileScaleY=C,this},"setTileScale"),updateTileTexture:r(function(){if(!(!this.dirty||!this.renderer)){var y=this.displayFrame;if(y.source.isRenderTexture||y.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var C=this.fillContext,S=this.fillCanvas,E=this.potWidth,w=this.potHeight;(!this.renderer||!this.renderer.gl)&&(E=y.cutWidth,w=y.cutHeight),C.clearRect(0,0,E,w),S.width=E,S.height=w,C.drawImage(y.source.image,y.cutX,y.cutY,y.cutWidth,y.cutHeight,0,0,E,w),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(S,this.fillPattern):this.fillPattern=C.createPattern(S,"repeat"),this.updateCanvas(),this.dirty=!1}},"updateTileTexture"),updateCanvas:r(function(){var y=this.canvas;if((y.width!==this.width||y.height!==this.height)&&(y.width=this.width,y.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var C=this.context;this.scene.sys.game.config.antialias||o.disable(C);var S=this._tileScale.x,E=this._tileScale.y,w=this._tilePosition.x,M=this._tilePosition.y;C.clearRect(0,0,this.width,this.height),C.save(),C.scale(S,E),C.translate(-w,-M),C.fillStyle=this.fillPattern,C.fillRect(w,M,this.width/S,this.height/E),C.restore(),this.dirty=!1},"updateCanvas"),preDestroy:r(function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var y=this.texture;y&&y.destroy(),this.renderer=null},"preDestroy"),tilePositionX:{get:r(function(){return this._tilePosition.x},"get"),set:r(function(y){this._tilePosition.x=y,this.dirty=!0},"set")},tilePositionY:{get:r(function(){return this._tilePosition.y},"get"),set:r(function(y){this._tilePosition.y=y,this.dirty=!0},"set")},tileScaleX:{get:r(function(){return this._tileScale.x},"get"),set:r(function(y){this._tileScale.x=y,this.dirty=!0},"set")},tileScaleY:{get:r(function(){return this._tileScale.y},"get"),set:r(function(y){this._tileScale.y=y,this.dirty=!0},"set")}});n.exports=g}),46992:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){h.updateCanvas(),m.addToRenderList(h),i.batchSprite(h,h.frame,m,c)},"TileSpriteCanvasRenderer");n.exports=T}),14167:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(20839);m.register("tileSprite",function(l,o){l===void 0&&(l={});var d=c(l,"x",0),v=c(l,"y",0),f=c(l,"width",512),p=c(l,"height",512),g=c(l,"key",""),y=c(l,"frame",""),C=new u(this.scene,d,v,f,p,g,y);return o!==void 0&&(l.add=o),h(this.scene,C,l),C})}),91681:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20839),m=i(39429);m.register("tileSprite",function(c,u,l,o,d,v){return this.displayList.add(new h(this.scene,c,u,l,o,d,v))})}),56295:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(18553),c=i(46992),n.exports={renderWebGL:m,renderCanvas:c}}),18553:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),m=r(function(c,u,l,o){u.updateCanvas();var d=u.width,v=u.height;if(!(d===0||v===0)){l.addToRenderList(u);var f=h.getTintAppendFloatAlpha,p=c.pipelines.set(u.pipeline,u),g=p.setTexture2D(u.fillPattern,u);p.batchTexture(u,u.fillPattern,u.displayFrame.width*u.tileScaleX,u.displayFrame.height*u.tileScaleY,u.x,u.y,d,v,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.originX*d,u.originY*v,0,0,d,v,f(u.tintTopLeft,l.alpha*u._alphaTL),f(u.tintTopRight,l.alpha*u._alphaTR),f(u.tintBottomLeft,l.alpha*u._alphaBL),f(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,u.tilePositionX%u.displayFrame.width/u.displayFrame.width,u.tilePositionY%u.displayFrame.height/u.displayFrame.height,l,o,!1,g)}},"TileSpriteWebGLRenderer");n.exports=m}),18471:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(31401),u=i(51708),l=i(8443),o=i(95643),d=i(36383),v=i(14463),f=i(45650),p=i(10247),g=new m({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.TextureCrop,c.Tint,c.Transform,c.Visible,p],initialize:r(function(C,S,E,w){o.call(this,C,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=f(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var M=C.sys.game;this._device=M.device.video,this.setPosition(S,E),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),M.events.on(l.PAUSE,this.globalPause,this),M.events.on(l.RESUME,this.globalResume,this);var R=C.sys.sound;R&&R.on(v.GLOBAL_MUTE,this.globalMute,this),w&&this.load(w)},"Video"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),load:r(function(y){var C=this.scene.sys.cache.video.get(y);return C?(this.cacheKey=y,this.loadHandler(C.url,C.noAudio,C.crossOrigin)):console.warn("No video in cache for key: "+y),this},"load"),changeSource:r(function(y,C,S,E,w){C===void 0&&(C=!0),S===void 0&&(S=!1),this.cacheKey!==y&&(this.load(y),C&&this.play(S,E,w))},"changeSource"),getVideoKey:r(function(){return this.cacheKey},"getVideoKey"),loadURL:r(function(y,C,S){C===void 0&&(C=!1);var E=this._device.getVideoURL(y);return E?(this.cacheKey="",this.loadHandler(E.url,C,S)):console.warn("No supported video format found for "+y),this},"loadURL"),loadMediaStream:r(function(y,C,S){return this.loadHandler(null,C,S,y)},"loadMediaStream"),loadHandler:r(function(y,C,S,E){C||(C=!1);var w=this.video;if(w?(this.removeLoadEventHandlers(),this.stop()):(w=document.createElement("video"),w.controls=!1,w.setAttribute("playsinline","playsinline"),w.setAttribute("preload","auto"),w.setAttribute("disablePictureInPicture","true")),C?(w.muted=!0,w.defaultMuted=!0,w.setAttribute("autoplay","autoplay")):(w.muted=!1,w.defaultMuted=!1,w.removeAttribute("autoplay")),S?w.setAttribute("crossorigin",S):w.removeAttribute("crossorigin"),E)if("srcObject"in w)try{w.srcObject=E}catch(R){if(R.name!=="TypeError")throw R;w.src=URL.createObjectURL(E)}else w.src=URL.createObjectURL(E);else w.src=y;this.retry=0,this.video=w,this._playCalled=!1,w.load(),this.addLoadEventHandlers();var M=this.scene.sys.textures.get(this._key);return this.setTexture(M),this},"loadHandler"),requestVideoFrame:r(function(y,C){var S=this.video;if(S){var E=C.width,w=C.height,M=this.videoTexture,R=this.videoTextureSource,O=!M||R.source!==S;O?(this._codePaused=S.paused,this._codeMuted=S.muted,M?(R.source=S,R.width=E,R.height=w,M.get().setSize(E,w)):(M=this.scene.sys.textures.create(this._key,S,E,w),M.add("__BASE",0,0,0,E,w),this.setTexture(M),this.videoTexture=M,this.videoTextureSource=M.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(u.VIDEO_TEXTURE,this,M)),this.setSizeToFrame(),this.updateDisplayOrigin()):R.update(),this.isStalled=!1,this.metadata=C;var b=C.mediaTime;O&&(this._lastUpdate=b,this.emit(u.VIDEO_CREATED,this,E,w),this.frameReady||(this.frameReady=!0,this.emit(u.VIDEO_PLAY,this))),this._playingMarker?b>=this._markerOut&&(S.loop?(S.currentTime=this._markerIn,this.emit(u.VIDEO_LOOP,this)):(this.stop(!1),this.emit(u.VIDEO_COMPLETE,this))):b<this._lastUpdate&&this.emit(u.VIDEO_LOOP,this),this._lastUpdate=b,this._getFrame?(this.removeEventHandlers(),S.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},"requestVideoFrame"),play:r(function(y,C,S){C===void 0&&(C=-1),S===void 0&&(S=d.MAX_SAFE_INTEGER);var E=this.video;return!E||this.isPlaying()?(E||console.warn("Video not loaded"),this):(y===void 0&&(y=E.loop),E.loop=y,this._markerIn=C,this._markerOut=S,this._playingMarker=C>-1&&S>C&&S<d.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=E.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},"play"),getFirstFrame:r(function(){var y=this.video;return!y||this.isPlaying()?(y||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=y.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},"getFirstFrame"),addLoadEventHandlers:r(function(){var y=this.video;y&&(y.addEventListener("error",this._loadCallbackHandler),y.addEventListener("abort",this._loadCallbackHandler),y.addEventListener("loadedmetadata",this._metadataCallbackHandler))},"addLoadEventHandlers"),removeLoadEventHandlers:r(function(){var y=this.video;y&&(y.removeEventListener("error",this._loadCallbackHandler),y.removeEventListener("abort",this._loadCallbackHandler))},"removeLoadEventHandlers"),addEventHandlers:r(function(){var y=this.video;if(y){var C=this._callbacks;for(var S in C)y.addEventListener(S,C[S])}},"addEventHandlers"),removeEventHandlers:r(function(){var y=this.video;if(y){var C=this._callbacks;for(var S in C)y.removeEventListener(S,C[S])}},"removeEventHandlers"),createPlayPromise:r(function(y){y===void 0&&(y=!0);var C=this.video,S=C.play();if(S!==void 0){var E=this.playSuccess.bind(this),w=this.playError.bind(this);if(!y){var M=this;w=r(function(){M.failedPlayAttempts++},"error")}S.then(E).catch(w)}else C.addEventListener("playing",this._callbacks.legacy),y||this.failedPlayAttempts++},"createPlayPromise"),addMarker:r(function(y,C,S){return!isNaN(C)&&C>=0&&!isNaN(S)&&S>C&&(this.markers[y]=[C,S]),this},"addMarker"),playMarker:r(function(y,C){var S=this.markers[y];return S&&this.play(C,S[0],S[1]),this},"playMarker"),removeMarker:r(function(y){return delete this.markers[y],this},"removeMarker"),snapshot:r(function(y,C){return y===void 0&&(y=this.width),C===void 0&&(C=this.height),this.snapshotArea(0,0,this.width,this.height,y,C)},"snapshot"),snapshotArea:r(function(y,C,S,E,w,M){y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=this.width),E===void 0&&(E=this.height),w===void 0&&(w=S),M===void 0&&(M=E);var R=this.video,O=this.snapshotTexture;return O?(O.setSize(w,M),R&&O.context.drawImage(R,y,C,S,E,0,0,w,M)):(O=this.scene.sys.textures.createCanvas(f(),w,M),this.snapshotTexture=O,R&&O.context.drawImage(R,y,C,S,E,0,0,w,M)),O.update()},"snapshotArea"),saveSnapshotTexture:r(function(y){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,y):this.snapshotTexture=this.scene.sys.textures.createCanvas(y,this.width,this.height),this.snapshotTexture},"saveSnapshotTexture"),playSuccess:r(function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(u.VIDEO_UNLOCKED,this));var y=this.scene.sys.sound;y&&y.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},"playSuccess"),playError:r(function(y){var C=y.name;C==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(u.VIDEO_LOCKED,this)):C==="NotSupportedError"?(this.stop(!1),this.emit(u.VIDEO_UNSUPPORTED,this,y)):(this.stop(!1),this.emit(u.VIDEO_ERROR,this,y))},"playError"),legacyPlayHandler:r(function(){var y=this.video;y&&(this.playSuccess(),y.removeEventListener("playing",this._callbacks.legacy))},"legacyPlayHandler"),playingHandler:r(function(){this.isStalled=!1,this.emit(u.VIDEO_PLAYING,this)},"playingHandler"),loadErrorHandler:r(function(y){this.stop(!1),this.emit(u.VIDEO_ERROR,this,y)},"loadErrorHandler"),metadataHandler:r(function(y){this.emit(u.VIDEO_METADATA,this,y)},"metadataHandler"),setSizeToFrame:r(function(y){y||(y=this.frame),this.width=y.realWidth,this.height=y.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var C=this.input;return C&&!C.customHitArea&&(C.hitArea.width=this.width,C.hitArea.height=this.height),this},"setSizeToFrame"),stalledHandler:r(function(y){this.isStalled=!0,this.emit(u.VIDEO_STALLED,this,y)},"stalledHandler"),completeHandler:r(function(){this._playCalled=!1,this.emit(u.VIDEO_COMPLETE,this)},"completeHandler"),preUpdate:r(function(y,C){var S=this.video;!S||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=C,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},"preUpdate"),seekTo:r(function(y){var C=this.video;if(C){var S=C.duration;if(S!==1/0&&!isNaN(S)){var E=S*y;this.setCurrentTime(E)}}return this},"seekTo"),getCurrentTime:r(function(){return this.video?this.video.currentTime:0},"getCurrentTime"),setCurrentTime:r(function(y){var C=this.video;if(C){if(typeof y=="string"){var S=y[0],E=parseFloat(y.substr(1));S==="+"?y=C.currentTime+E:S==="-"&&(y=C.currentTime-E)}C.currentTime=y}return this},"setCurrentTime"),seekingHandler:r(function(){this.isSeeking=!0,this.emit(u.VIDEO_SEEKING,this)},"seekingHandler"),seekedHandler:r(function(){this.isSeeking=!1,this.emit(u.VIDEO_SEEKED,this)},"seekedHandler"),getProgress:r(function(){var y=this.video;if(y){var C=y.duration;if(C!==1/0&&!isNaN(C))return y.currentTime/C}return-1},"getProgress"),getDuration:r(function(){return this.video?this.video.duration:0},"getDuration"),setMute:r(function(y){y===void 0&&(y=!0),this._codeMuted=y;var C=this.video;return C&&(C.muted=this._systemMuted?!0:y),this},"setMute"),isMuted:r(function(){return this._codeMuted},"isMuted"),globalMute:r(function(y,C){this._systemMuted=C;var S=this.video;S&&(S.muted=this._codeMuted?!0:C)},"globalMute"),globalPause:r(function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},"globalPause"),globalResume:r(function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},"globalResume"),setPaused:r(function(y){y===void 0&&(y=!0);var C=this.video;return this._codePaused=y,C&&!C.ended&&(y?C.paused||(this.removeEventHandlers(),C.pause()):y||(this._playCalled?C.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},"setPaused"),pause:r(function(){return this.setPaused(!0)},"pause"),resume:r(function(){return this.setPaused(!1)},"resume"),getVolume:r(function(){return this.video?this.video.volume:1},"getVolume"),setVolume:r(function(y){return y===void 0&&(y=1),this.video&&(this.video.volume=h(y,0,1)),this},"setVolume"),getPlaybackRate:r(function(){return this.video?this.video.playbackRate:1},"getPlaybackRate"),setPlaybackRate:r(function(y){return this.video&&(this.video.playbackRate=y),this},"setPlaybackRate"),getLoop:r(function(){return this.video?this.video.loop:!1},"getLoop"),setLoop:r(function(y){return y===void 0&&(y=!0),this.video&&(this.video.loop=y),this},"setLoop"),isPlaying:r(function(){return this.video?!(this.video.paused||this.video.ended):!1},"isPlaying"),isPaused:r(function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},"isPaused"),saveTexture:r(function(y,C){return C===void 0&&(C=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,y),this.videoTextureSource.setFlipY(C)),this._key=y,this.flipY=C,!!this.videoTexture},"saveTexture"),stop:r(function(y){y===void 0&&(y=!0);var C=this.video;return C&&(this.removeEventHandlers(),C.cancelVideoFrameCallback(this._rfvCallbackId),C.pause()),this.retry=0,this._playCalled=!1,y&&this.emit(u.VIDEO_STOP,this),this},"stop"),removeVideoElement:r(function(){var y=this.video;if(y){for(y.parentNode&&y.parentNode.removeChild(y);y.hasChildNodes();)y.removeChild(y.firstChild);y.removeAttribute("autoplay"),y.removeAttribute("src"),this.video=null}},"removeVideoElement"),preDestroy:r(function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var y=this.scene.sys.game.events;y.off(l.PAUSE,this.globalPause,this),y.off(l.RESUME,this.globalResume,this);var C=this.scene.sys.sound;C&&C.off(v.GLOBAL_MUTE,this.globalMute,this)},"preDestroy")});n.exports=g}),58352:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){h.videoTexture&&(m.addToRenderList(h),i.batchSprite(h,h.frame,m,c))},"VideoCanvasRenderer");n.exports=T}),11511:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),m=i(44603),c=i(23568),u=i(18471);m.register("video",function(l,o){l===void 0&&(l={});var d=c(l,"key",null),v=new u(this.scene,0,0,d);return o!==void 0&&(l.add=o),h(this.scene,v,l),v})}),89025:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(18471),m=i(39429);m.register("video",function(c,u,l){return this.displayList.add(new h(this.scene,c,u,l))})}),10247:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(29849),c=i(58352),n.exports={renderWebGL:m,renderCanvas:c}}),29849:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){h.videoTexture&&(m.addToRenderList(h),h.pipeline.batchSprite(h,m,c))},"VideoWebGLRenderer");n.exports=T}),41481:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),m=i(96503),c=i(87902),u=i(83419),l=i(31401),o=i(95643),d=i(87841),v=i(37303),f=new u({Extends:o,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:r(function(g,y,C,S,E){S===void 0&&(S=1),E===void 0&&(E=S),o.call(this,g,"Zone"),this.setPosition(y,C),this.width=S,this.height=E,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},"Zone"),displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(p){this.scaleX=p/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(p){this.scaleY=p/this.height},"set")},setSize:r(function(p,g,y){y===void 0&&(y=!0),this.width=p,this.height=g,this.updateDisplayOrigin();var C=this.input;return y&&C&&!C.customHitArea&&(C.hitArea.width=p,C.hitArea.height=g),this},"setSize"),setDisplaySize:r(function(p,g){return this.displayWidth=p,this.displayHeight=g,this},"setDisplaySize"),setCircleDropZone:r(function(p){return this.setDropZone(new m(0,0,p),c)},"setCircleDropZone"),setRectangleDropZone:r(function(p,g){return this.setDropZone(new d(0,0,p,g),v)},"setRectangleDropZone"),setDropZone:r(function(p,g){return this.input||this.setInteractive(p,g,!0),this},"setDropZone"),setAlpha:r(function(){},"setAlpha"),setBlendMode:r(function(){},"setBlendMode"),renderCanvas:r(function(p,g,y){y.addToRenderList(g)},"renderCanvas"),renderWebGL:r(function(p,g,y){y.addToRenderList(g)},"renderWebGL")});n.exports=f}),95261:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(44603),m=i(23568),c=i(41481);h.register("zone",function(u){var l=m(u,"x",0),o=m(u,"y",0),d=m(u,"width",1),v=m(u,"height",d);return new c(this.scene,l,o,d,v)})}),84175:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41481),m=i(39429);m.register("zone",function(c,u,l,o){return this.displayList.add(new h(this.scene,c,u,l,o))})}),95166:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.radius>0?Math.PI*i.radius*i.radius:0},"Area");n.exports=T}),96503:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(87902),c=i(26241),u=i(79124),l=i(23777),o=i(28176),d=new h({initialize:r(function(f,p,g){f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=l.CIRCLE,this.x=f,this.y=p,this._radius=g,this._diameter=g*2},"Circle"),contains:r(function(v,f){return m(this,v,f)},"contains"),getPoint:r(function(v,f){return c(this,v,f)},"getPoint"),getPoints:r(function(v,f,p){return u(this,v,f,p)},"getPoints"),getRandomPoint:r(function(v){return o(this,v)},"getRandomPoint"),setTo:r(function(v,f,p){return this.x=v,this.y=f,this._radius=p,this._diameter=p*2,this},"setTo"),setEmpty:r(function(){return this._radius=0,this._diameter=0,this},"setEmpty"),setPosition:r(function(v,f){return f===void 0&&(f=v),this.x=v,this.y=f,this},"setPosition"),isEmpty:r(function(){return this._radius<=0},"isEmpty"),radius:{get:r(function(){return this._radius},"get"),set:r(function(v){this._radius=v,this._diameter=v*2},"set")},diameter:{get:r(function(){return this._diameter},"get"),set:r(function(v){this._diameter=v,this._radius=v*.5},"set")},left:{get:r(function(){return this.x-this._radius},"get"),set:r(function(v){this.x=v+this._radius},"set")},right:{get:r(function(){return this.x+this._radius},"get"),set:r(function(v){this.x=v-this._radius},"set")},top:{get:r(function(){return this.y-this._radius},"get"),set:r(function(v){this.y=v+this._radius},"set")},bottom:{get:r(function(){return this.y+this._radius},"get"),set:r(function(v){this.y=v-this._radius},"set")}});n.exports=d}),71562:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 2*(Math.PI*i.radius)},"Circumference");n.exports=T}),92110:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u,l){return l===void 0&&(l=new h),l.x=c.x+c.radius*Math.cos(u),l.y=c.y+c.radius*Math.sin(u),l},"CircumferencePoint");n.exports=m}),42250:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503),m=r(function(c){return new h(c.x,c.y,c.radius)},"Clone");n.exports=m}),87902:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(i.radius>0&&h>=i.left&&h<=i.right&&m>=i.top&&m<=i.bottom){var c=(i.x-h)*(i.x-h),u=(i.y-m)*(i.y-m);return c+u<=i.radius*i.radius}else return!1},"Contains");n.exports=T}),5698:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87902),m=r(function(c,u){return h(c,u.x,u.y)},"ContainsPoint");n.exports=m}),70588:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87902),m=r(function(c,u){return h(c,u.x,u.y)&&h(c,u.right,u.y)&&h(c,u.x,u.bottom)&&h(c,u.right,u.bottom)},"ContainsRect");n.exports=m}),26394:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h.setTo(i.x,i.y,i.radius)},"CopyFrom");n.exports=T}),76278:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x===h.x&&i.y===h.y&&i.radius===h.radius},"Equals");n.exports=T}),2074:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=r(function(c,u){return u===void 0&&(u=new h),u.x=c.left,u.y=c.top,u.width=c.diameter,u.height=c.diameter,u},"GetBounds");n.exports=m}),26241:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(92110),m=i(62945),c=i(36383),u=i(2141),l=r(function(o,d,v){v===void 0&&(v=new u);var f=m(d,0,c.PI2);return h(o,f,v)},"GetPoint");n.exports=l}),79124:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71562),m=i(92110),c=i(62945),u=i(36383),l=r(function(o,d,v,f){f===void 0&&(f=[]),!d&&v>0&&(d=h(o)/v);for(var p=0;p<d;p++){var g=c(p/d,0,u.PI2);f.push(m(o,g))}return f},"GetPoints");n.exports=l}),50884:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i.x+=h,i.y+=m,i},"Offset");n.exports=T}),39212:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x+=h.x,i.y+=h.y,i},"OffsetPoint");n.exports=T}),28176:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){u===void 0&&(u=new h);var l=2*Math.PI*Math.random(),o=Math.random()+Math.random(),d=o>1?2-o:o,v=d*Math.cos(l),f=d*Math.sin(l);return u.x=c.x+v*c.radius,u.y=c.y+f*c.radius,u},"Random");n.exports=m}),88911:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503);h.Area=i(95166),h.Circumference=i(71562),h.CircumferencePoint=i(92110),h.Clone=i(42250),h.Contains=i(87902),h.ContainsPoint=i(5698),h.ContainsRect=i(70588),h.CopyFrom=i(26394),h.Equals=i(76278),h.GetBounds=i(2074),h.GetPoint=i(26241),h.GetPoints=i(79124),h.Offset=i(50884),h.OffsetPoint=i(39212),h.Random=i(28176),n.exports=h}),23777:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=T}),78874:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.isEmpty()?0:i.getMajorRadius()*i.getMinorRadius()*Math.PI},"Area");n.exports=T}),92990:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h=i.width/2,m=i.height/2,c=Math.pow(h-m,2)/Math.pow(h+m,2);return Math.PI*(h+m)*(1+3*c/(10+Math.sqrt(4-3*c)))},"Circumference");n.exports=T}),79522:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u,l){l===void 0&&(l=new h);var o=c.width/2,d=c.height/2;return l.x=c.x+o*Math.cos(u),l.y=c.y+d*Math.sin(u),l},"CircumferencePoint");n.exports=m}),58102:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8497),m=r(function(c){return new h(c.x,c.y,c.width,c.height)},"Clone");n.exports=m}),81154:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(i.width<=0||i.height<=0)return!1;var c=(h-i.x)/i.width,u=(m-i.y)/i.height;return c*=c,u*=u,c+u<.25},"Contains");n.exports=T}),46662:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81154),m=r(function(c,u){return h(c,u.x,u.y)},"ContainsPoint");n.exports=m}),1632:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81154),m=r(function(c,u){return h(c,u.x,u.y)&&h(c,u.right,u.y)&&h(c,u.x,u.bottom)&&h(c,u.right,u.bottom)},"ContainsRect");n.exports=m}),65534:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h.setTo(i.x,i.y,i.width,i.height)},"CopyFrom");n.exports=T}),8497:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(81154),c=i(90549),u=i(48320),l=i(23777),o=i(24820),d=new h({initialize:r(function(f,p,g,y){f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),y===void 0&&(y=0),this.type=l.ELLIPSE,this.x=f,this.y=p,this.width=g,this.height=y},"Ellipse"),contains:r(function(v,f){return m(this,v,f)},"contains"),getPoint:r(function(v,f){return c(this,v,f)},"getPoint"),getPoints:r(function(v,f,p){return u(this,v,f,p)},"getPoints"),getRandomPoint:r(function(v){return o(this,v)},"getRandomPoint"),setTo:r(function(v,f,p,g){return this.x=v,this.y=f,this.width=p,this.height=g,this},"setTo"),setEmpty:r(function(){return this.width=0,this.height=0,this},"setEmpty"),setPosition:r(function(v,f){return f===void 0&&(f=v),this.x=v,this.y=f,this},"setPosition"),setSize:r(function(v,f){return f===void 0&&(f=v),this.width=v,this.height=f,this},"setSize"),isEmpty:r(function(){return this.width<=0||this.height<=0},"isEmpty"),getMinorRadius:r(function(){return Math.min(this.width,this.height)/2},"getMinorRadius"),getMajorRadius:r(function(){return Math.max(this.width,this.height)/2},"getMajorRadius"),left:{get:r(function(){return this.x-this.width/2},"get"),set:r(function(v){this.x=v+this.width/2},"set")},right:{get:r(function(){return this.x+this.width/2},"get"),set:r(function(v){this.x=v-this.width/2},"set")},top:{get:r(function(){return this.y-this.height/2},"get"),set:r(function(v){this.y=v+this.height/2},"set")},bottom:{get:r(function(){return this.y+this.height/2},"get"),set:r(function(v){this.y=v-this.height/2},"set")}});n.exports=d}),36146:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x===h.x&&i.y===h.y&&i.width===h.width&&i.height===h.height},"Equals");n.exports=T}),23694:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=r(function(c,u){return u===void 0&&(u=new h),u.x=c.left,u.y=c.top,u.width=c.width,u.height=c.height,u},"GetBounds");n.exports=m}),90549:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79522),m=i(62945),c=i(36383),u=i(2141),l=r(function(o,d,v){v===void 0&&(v=new u);var f=m(d,0,c.PI2);return h(o,f,v)},"GetPoint");n.exports=l}),48320:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(92990),m=i(79522),c=i(62945),u=i(36383),l=r(function(o,d,v,f){f===void 0&&(f=[]),!d&&v>0&&(d=h(o)/v);for(var p=0;p<d;p++){var g=c(p/d,0,u.PI2);f.push(m(o,g))}return f},"GetPoints");n.exports=l}),73424:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i.x+=h,i.y+=m,i},"Offset");n.exports=T}),44808:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x+=h.x,i.y+=h.y,i},"OffsetPoint");n.exports=T}),24820:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){u===void 0&&(u=new h);var l=Math.random()*Math.PI*2,o=Math.sqrt(Math.random());return u.x=c.x+o*Math.cos(l)*c.width/2,u.y=c.y+o*Math.sin(l)*c.height/2,u},"Random");n.exports=m}),49203:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8497);h.Area=i(78874),h.Circumference=i(92990),h.CircumferencePoint=i(79522),h.Clone=i(58102),h.Contains=i(81154),h.ContainsPoint=i(46662),h.ContainsRect=i(1632),h.CopyFrom=i(65534),h.Equals=i(36146),h.GetBounds=i(23694),h.GetPoint=i(90549),h.GetPoints=i(48320),h.Offset=i(73424),h.OffsetPoint=i(44808),h.Random=i(24820),n.exports=h}),55738:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23777),m=i(79291),c={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};c=m(!1,c,h),n.exports=c}),2044:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20339),m=r(function(c,u){return h(c.x,c.y,u.x,u.y)<=c.radius+u.radius},"CircleToCircle");n.exports=m}),81491:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=h.width/2,c=h.height/2,u=Math.abs(i.x-h.x-m),l=Math.abs(i.y-h.y-c),o=m+i.radius,d=c+i.radius;if(u>o||l>d)return!1;if(u<=m||l<=c)return!0;var v=u-m,f=l-c,p=v*v,g=f*f,y=i.radius*i.radius;return p+g<=y},"CircleToRectangle");n.exports=T}),63376:((n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=i(2044),c=r(function(u,l,o){if(o===void 0&&(o=[]),m(u,l)){var d=u.x,v=u.y,f=u.radius,p=l.x,g=l.y,y=l.radius,C,S,E,w,M;if(v===g)M=(y*y-f*f-p*p+d*d)/(2*(d-p)),C=1,S=-2*g,E=p*p+M*M-2*p*M+g*g-y*y,w=S*S-4*C*E,w===0?o.push(new h(M,-S/(2*C))):w>0&&(o.push(new h(M,(-S+Math.sqrt(w))/(2*C))),o.push(new h(M,(-S-Math.sqrt(w))/(2*C))));else{var R=(d-p)/(v-g),O=(y*y-f*f-p*p+d*d-g*g+v*v)/(2*(v-g));C=R*R+1,S=2*v*R-2*O*R-2*d,E=d*d+v*v+O*O-f*f-2*v*O,w=S*S-4*C*E,w===0?(M=-S/(2*C),o.push(new h(M,O-M*R))):w>0&&(M=(-S+Math.sqrt(w))/(2*C),o.push(new h(M,O-M*R)),M=(-S-Math.sqrt(w))/(2*C),o.push(new h(M,O-M*R)))}}return o},"GetCircleToCircle");n.exports=c}),97439:((n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4042),m=i(81491),c=r(function(u,l,o){if(o===void 0&&(o=[]),m(u,l)){var d=l.getLineA(),v=l.getLineB(),f=l.getLineC(),p=l.getLineD();h(d,u,o),h(v,u,o),h(f,u,o),h(p,u,o)}return o},"GetCircleToRectangle");n.exports=c}),4042:((n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=i(80462),c=r(function(u,l,o){if(o===void 0&&(o=[]),m(u,l)){var d=u.x1,v=u.y1,f=u.x2,p=u.y2,g=l.x,y=l.y,C=l.radius,S=f-d,E=p-v,w=d-g,M=v-y,R=S*S+E*E,O=2*(S*w+E*M),b=w*w+M*M-C*C,A=O*O-4*R*b,I,L;if(A===0){var F=-O/(2*R);I=d+F*S,L=v+F*E,F>=0&&F<=1&&o.push(new h(I,L))}else if(A>0){var D=(-O-Math.sqrt(A))/(2*R);I=d+D*S,L=v+D*E,D>=0&&D<=1&&o.push(new h(I,L));var B=(-O+Math.sqrt(A))/(2*R);I=d+B*S,L=v+B*E,B>=0&&B<=1&&o.push(new h(I,L))}}return o},"GetLineToCircle");n.exports=c}),36100:((n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25836),m=r(function(c,u,l,o){l===void 0&&(l=!1);var d=c.x1,v=c.y1,f=c.x2,p=c.y2,g=u.x1,y=u.y1,C=u.x2,S=u.y2,E=f-d,w=p-v,M=C-g,R=S-y,O=E*R-w*M;if(O===0)return null;var b,A,I;if(l){if(b=(E*(y-v)+w*(d-g))/(M*w-R*E),E!==0)A=(g+M*b-d)/E;else if(w!==0)A=(y+R*b-v)/w;else return null;if(A<0||b<0||b>1)return null;I=A}else{if(b=((g-d)*R-(y-v)*M)/O,A=((v-y)*E-(d-g)*w)/O,b<0||b>1||A<0||A>1)return null;I=b}return o===void 0&&(o=new h),o.set(d+E*I,v+w*I,I)},"GetLineToLine");n.exports=m}),3073:((n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36100),m=i(23031),c=i(25836),u=new m,l=new c,o=r(function(d,v,f,p){f===void 0&&(f=!1),p===void 0&&(p=new c);var g=!1;p.set(),l.set();for(var y=v[v.length-1],C=0;C<v.length;C++){var S=v[C];u.setTo(y.x,y.y,S.x,S.y),y=S,h(d,u,f,l)&&(!g||l.z<p.z)&&(p.copy(l),g=!0)}return g?p:null},"GetLineToPoints");n.exports=o}),56362:((n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25836),m=i(61369),c=i(3073),u=new h,l=r(function(o,d,v,f){f===void 0&&(f=new m),Array.isArray(d)||(d=[d]);var p=!1;f.set(),u.set();for(var g=0;g<d.length;g++)c(o,d[g].points,v,u)&&(!p||u.z<f.z)&&(f.set(u.x,u.y,u.z,g),p=!0);return p?f:null},"GetLineToPolygon");n.exports=l}),60646:((n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=i(76112),c=i(92773),u=r(function(l,o,d){if(d===void 0&&(d=[]),c(l,o))for(var v=o.getLineA(),f=o.getLineB(),p=o.getLineC(),g=o.getLineD(),y=[new h,new h,new h,new h],C=[m(v,l,y[0]),m(f,l,y[1]),m(p,l,y[2]),m(g,l,y[3])],S=0;S<4;S++)C[S]&&d.push(y[S]);return d},"GetLineToRectangle");n.exports=u}),71147:((n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61369),m=i(56362),c=i(23031),u=new c;function l(v,f,p,g,y){var C=Math.cos(v),S=Math.sin(v);u.setTo(f,p,f+C,p+S);var E=m(u,g,!0);E&&y.push(new h(E.x,E.y,v,E.w))}r(l,"CheckIntersects");function o(v,f){return v.z-f.z}r(o,"SortIntersects");var d=r(function(v,f,p){Array.isArray(p)||(p=[p]);for(var g=[],y=[],C=0;C<p.length;C++)for(var S=p[C].points,E=0;E<S.length;E++){var w=Math.atan2(S[E].y-f,S[E].x-v);y.indexOf(w)===-1&&(l(w,v,f,p,g),l(w-1e-5,v,f,p,g),l(w+1e-5,v,f,p,g),y.push(w))}return g.sort(o)},"GetRaysFromPointToPolygon");n.exports=d}),68389:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=i(59996),c=r(function(u,l,o){return o===void 0&&(o=new h),m(u,l)&&(o.x=Math.max(u.x,l.x),o.y=Math.max(u.y,l.y),o.width=Math.min(u.right,l.right)-o.x,o.height=Math.min(u.bottom,l.bottom)-o.y),o},"GetRectangleIntersection");n.exports=c}),52784:((n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60646),m=i(59996),c=r(function(u,l,o){if(o===void 0&&(o=[]),m(u,l)){var d=u.getLineA(),v=u.getLineB(),f=u.getLineC(),p=u.getLineD();h(d,l,o),h(v,l,o),h(f,l,o),h(p,l,o)}return o},"GetRectangleToRectangle");n.exports=c}),26341:((n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(89265),m=i(60646),c=r(function(u,l,o){if(o===void 0&&(o=[]),h(u,l)){var d=l.getLineA(),v=l.getLineB(),f=l.getLineC();m(d,u,o),m(v,u,o),m(f,u,o)}return o},"GetRectangleToTriangle");n.exports=c}),38720:((n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4042),m=i(67636),c=r(function(u,l,o){if(o===void 0&&(o=[]),m(u,l)){var d=u.getLineA(),v=u.getLineB(),f=u.getLineC();h(d,l,o),h(v,l,o),h(f,l,o)}return o},"GetTriangleToCircle");n.exports=c}),13882:((n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=i(2822),c=i(76112),u=r(function(l,o,d){if(d===void 0&&(d=[]),m(l,o))for(var v=l.getLineA(),f=l.getLineB(),p=l.getLineC(),g=[new h,new h,new h],y=[c(v,o,g[0]),c(f,o,g[1]),c(p,o,g[2])],C=0;C<3;C++)y[C]&&d.push(g[C]);return d},"GetTriangleToLine");n.exports=u}),75636:((n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82944),m=i(13882),c=r(function(u,l,o){if(o===void 0&&(o=[]),h(u,l)){var d=l.getLineA(),v=l.getLineB(),f=l.getLineC();m(u,d,o),m(u,v,o),m(u,f,o)}return o},"GetTriangleToTriangle");n.exports=c}),80462:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87902),m=i(2141),c=new m,u=r(function(l,o,d){if(d===void 0&&(d=c),h(o,l.x1,l.y1))return d.x=l.x1,d.y=l.y1,!0;if(h(o,l.x2,l.y2))return d.x=l.x2,d.y=l.y2,!0;var v=l.x2-l.x1,f=l.y2-l.y1,p=o.x-l.x1,g=o.y-l.y1,y=v*v+f*f,C=v,S=f;if(y>0){var E=(p*v+g*f)/y;C*=E,S*=E}d.x=l.x1+C,d.y=l.y1+S;var w=C*C+S*S;return w<=y&&C*v+S*f>=0&&h(o,d.x,d.y)},"LineToCircle");n.exports=u}),76112:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=i.x1,u=i.y1,l=i.x2,o=i.y2,d=h.x1,v=h.y1,f=h.x2,p=h.y2;if(c===l&&u===o||d===f&&v===p)return!1;var g=(p-v)*(l-c)-(f-d)*(o-u);if(g===0)return!1;var y=((f-d)*(u-v)-(p-v)*(c-d))/g,C=((l-c)*(u-v)-(o-u)*(c-d))/g;return y<0||y>1||C<0||C>1?!1:(m&&(m.x=c+y*(l-c),m.y=u+y*(o-u)),!0)},"LineToLine");n.exports=T}),92773:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.x1,c=i.y1,u=i.x2,l=i.y2,o=h.x,d=h.y,v=h.right,f=h.bottom,p=0;if(m>=o&&m<=v&&c>=d&&c<=f||u>=o&&u<=v&&l>=d&&l<=f)return!0;if(m<o&&u>=o){if(p=c+(l-c)*(o-m)/(u-m),p>d&&p<=f)return!0}else if(m>v&&u<=v&&(p=c+(l-c)*(v-m)/(u-m),p>=d&&p<=f))return!0;if(c<d&&l>=d){if(p=m+(u-m)*(d-c)/(l-c),p>=o&&p<=v)return!0}else if(c>f&&l<=f&&(p=m+(u-m)*(f-c)/(l-c),p>=o&&p<=v))return!0;return!1},"LineToRectangle");n.exports=T}),16204:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){m===void 0&&(m=1);var c=h.x1,u=h.y1,l=h.x2,o=h.y2,d=i.x,v=i.y,f=(l-c)*(l-c)+(o-u)*(o-u);if(f===0)return!1;var p=((d-c)*(l-c)+(v-u)*(o-u))/f;if(p<0)return Math.sqrt((c-d)*(c-d)+(u-v)*(u-v))<=m;if(p>=0&&p<=1){var g=((u-v)*(l-c)-(c-d)*(o-u))/f;return Math.abs(g)*Math.sqrt(f)<=m}else return Math.sqrt((l-d)*(l-d)+(o-v)*(o-v))<=m},"PointToLine");n.exports=T}),14199:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16204),m=r(function(c,u){if(!h(c,u))return!1;var l=Math.min(u.x1,u.x2),o=Math.max(u.x1,u.x2),d=Math.min(u.y1,u.y2),v=Math.max(u.y1,u.y2);return c.x>=l&&c.x<=o&&c.y>=d&&c.y<=v},"PointToLineSegment");n.exports=m}),59996:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.width<=0||i.height<=0||h.width<=0||h.height<=0?!1:!(i.right<h.x||i.bottom<h.y||i.x>h.right||i.y>h.bottom)},"RectangleToRectangle");n.exports=T}),89265:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(76112),m=i(37303),c=i(48653),u=i(77493),l=r(function(o,d){if(d.left>o.right||d.right<o.left||d.top>o.bottom||d.bottom<o.top)return!1;var v=d.getLineA(),f=d.getLineB(),p=d.getLineC();if(m(o,v.x1,v.y1)||m(o,v.x2,v.y2)||m(o,f.x1,f.y1)||m(o,f.x2,f.y2)||m(o,p.x1,p.y1)||m(o,p.x2,p.y2))return!0;var g=o.getLineA(),y=o.getLineB(),C=o.getLineC(),S=o.getLineD();if(h(v,g)||h(v,y)||h(v,C)||h(v,S)||h(f,g)||h(f,y)||h(f,C)||h(f,S)||h(p,g)||h(p,y)||h(p,C)||h(p,S))return!0;var E=u(o),w=c(d,E,!0);return w.length>0},"RectangleToTriangle");n.exports=l}),84411:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u,l){return l===void 0&&(l=0),!(h>i.right+l||m<i.left-l||c>i.bottom+l||u<i.top-l)},"RectangleToValues");n.exports=T}),67636:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80462),m=i(10690),c=r(function(u,l){return u.left>l.right||u.right<l.left||u.top>l.bottom||u.bottom<l.top?!1:!!(m(u,l.x,l.y)||h(u.getLineA(),l)||h(u.getLineB(),l)||h(u.getLineC(),l))},"TriangleToCircle");n.exports=c}),2822:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(76112),m=r(function(c,u){return!!(c.contains(u.x1,u.y1)||c.contains(u.x2,u.y2)||h(c.getLineA(),u)||h(c.getLineB(),u)||h(c.getLineC(),u))},"TriangleToLine");n.exports=m}),82944:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(48653),m=i(71694),c=i(76112),u=r(function(l,o){if(l.left>o.right||l.right<o.left||l.top>o.bottom||l.bottom<o.top)return!1;var d=l.getLineA(),v=l.getLineB(),f=l.getLineC(),p=o.getLineA(),g=o.getLineB(),y=o.getLineC();if(c(d,p)||c(d,g)||c(d,y)||c(v,p)||c(v,g)||c(v,y)||c(f,p)||c(f,g)||c(f,y))return!0;var C=m(l),S=h(o,C,!0);return S.length>0||(C=m(o),S=h(l,C,!0),S.length>0)},"TriangleToTriangle");n.exports=u}),91865:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}}),91938:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.atan2(i.y2-i.y1,i.x2-i.x1)},"Angle");n.exports=T}),84993:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){h===void 0&&(h=1),m===void 0&&(m=[]);var c=Math.round(i.x1),u=Math.round(i.y1),l=Math.round(i.x2),o=Math.round(i.y2),d=Math.abs(l-c),v=Math.abs(o-u),f=c<l?1:-1,p=u<o?1:-1,g=d-v;m.push({x:c,y:u});for(var y=1;!(c===l&&u===o);){var C=g<<1;C>-v&&(g-=v,c+=f),C<d&&(g+=d,u+=p),y%h===0&&m.push({x:c,y:u}),y++}return m},"BresenhamPoints");n.exports=T}),36469:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=h-(i.x1+i.x2)/2,u=m-(i.y1+i.y2)/2;return i.x1+=c,i.y1+=u,i.x2+=c,i.y2+=u,i},"CenterOn");n.exports=T}),31116:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23031),m=r(function(c){return new h(c.x1,c.y1,c.x2,c.y2)},"Clone");n.exports=m}),59944:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h.setTo(i.x1,i.y1,i.x2,i.y2)},"CopyFrom");n.exports=T}),59220:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x1===h.x1&&i.y1===h.y1&&i.x2===h.x2&&i.y2===h.y2},"Equals");n.exports=T}),78177:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),m=r(function(c,u,l){l===void 0&&(l=u);var o=h(c),d=c.x2-c.x1,v=c.y2-c.y1;return u&&(c.x1=c.x1-d/o*u,c.y1=c.y1-v/o*u),l&&(c.x2=c.x2+d/o*l,c.y2=c.y2+v/o*l),c},"Extend");n.exports=m}),26708:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(52816),m=i(6113),c=i(2141),u=r(function(l,o,d,v,f){v===void 0&&(v=0),f===void 0&&(f=[]);var p=[],g=l.x1,y=l.y1,C=l.x2-g,S=l.y2-y,E=m(o,f),w,M,R=d-1;for(w=0;w<R;w++)M=E(w/R),p.push(new c(g+C*M,y+S*M));if(M=E(1),p.push(new c(g+C*M,y+S*M)),v>0){var O=p[0],b=[O];for(w=1;w<p.length-1;w++){var A=p[w];h(O,A)>=v&&(b.push(A),O=A)}var I=p[p.length-1];return h(O,I)<v&&b.pop(),b.push(I),b}else return p},"GetEasedPoints");n.exports=u}),32125:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){return u===void 0&&(u=new h),u.x=(c.x1+c.x2)/2,u.y=(c.y1+c.y2)/2,u},"GetMidPoint");n.exports=m}),99569:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u,l){l===void 0&&(l=new h);var o=c.x1,d=c.y1,v=c.x2,f=c.y2,p=(v-o)*(v-o)+(f-d)*(f-d);if(p===0)return l;var g=((u.x-o)*(v-o)+(u.y-d)*(f-d))/p;return l.x=o+g*(v-o),l.y=d+g*(f-d),l},"GetNearestPoint");n.exports=m}),34638:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=i(91938),c=i(2141),u=r(function(l,o){o===void 0&&(o=new c);var d=m(l)-h.TAU;return o.x=Math.cos(d),o.y=Math.sin(d),o},"GetNormal");n.exports=u}),13151:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u,l){return l===void 0&&(l=new h),l.x=c.x1+(c.x2-c.x1)*u,l.y=c.y1+(c.y2-c.y1)*u,l},"GetPoint");n.exports=m}),15258:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),m=i(2141),c=r(function(u,l,o,d){d===void 0&&(d=[]),!l&&o>0&&(l=h(u)/o);for(var v=u.x1,f=u.y1,p=u.x2,g=u.y2,y=0;y<l;y++){var C=y/l,S=v+(p-v)*C,E=f+(g-f)*C;d.push(new m(S,E))}return d},"GetPoints");n.exports=c}),26408:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.x1,c=i.y1,u=i.x2,l=i.y2,o=(u-m)*(u-m)+(l-c)*(l-c);if(o===0)return!1;var d=((c-h.y)*(u-m)-(m-h.x)*(l-c))/o;return Math.abs(d)*Math.sqrt(o)},"GetShortestDistance");n.exports=T}),98770:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.abs(i.y1-i.y2)},"Height");n.exports=T}),35001:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))},"Length");n.exports=T}),23031:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(13151),c=i(15258),u=i(23777),l=i(65822),o=i(26099),d=new h({initialize:r(function(f,p,g,y){f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),y===void 0&&(y=0),this.type=u.LINE,this.x1=f,this.y1=p,this.x2=g,this.y2=y},"Line"),getPoint:r(function(v,f){return m(this,v,f)},"getPoint"),getPoints:r(function(v,f,p){return c(this,v,f,p)},"getPoints"),getRandomPoint:r(function(v){return l(this,v)},"getRandomPoint"),setTo:r(function(v,f,p,g){return v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),this.x1=v,this.y1=f,this.x2=p,this.y2=g,this},"setTo"),setFromObjects:r(function(v,f){return this.x1=v.x,this.y1=v.y,this.x2=f.x,this.y2=f.y,this},"setFromObjects"),getPointA:r(function(v){return v===void 0&&(v=new o),v.set(this.x1,this.y1),v},"getPointA"),getPointB:r(function(v){return v===void 0&&(v=new o),v.set(this.x2,this.y2),v},"getPointB"),left:{get:r(function(){return Math.min(this.x1,this.x2)},"get"),set:r(function(v){this.x1<=this.x2?this.x1=v:this.x2=v},"set")},right:{get:r(function(){return Math.max(this.x1,this.x2)},"get"),set:r(function(v){this.x1>this.x2?this.x1=v:this.x2=v},"set")},top:{get:r(function(){return Math.min(this.y1,this.y2)},"get"),set:r(function(v){this.y1<=this.y2?this.y1=v:this.y2=v},"set")},bottom:{get:r(function(){return Math.max(this.y1,this.y2)},"get"),set:r(function(v){this.y1>this.y2?this.y1=v:this.y2=v},"set")}});n.exports=d}),64795:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=i(15994),c=i(91938),u=r(function(l){var o=c(l)-h.TAU;return m(o,-Math.PI,Math.PI)},"NormalAngle");n.exports=u}),52616:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=i(91938),c=r(function(u){return Math.cos(m(u)-h.TAU)},"NormalX");n.exports=c}),87231:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=i(91938),c=r(function(u){return Math.sin(m(u)-h.TAU)},"NormalY");n.exports=c}),89662:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i.x1+=h,i.y1+=m,i.x2+=h,i.y2+=m,i},"Offset");n.exports=T}),71165:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return-((i.x2-i.x1)/(i.y2-i.y1))},"PerpSlope");n.exports=T}),65822:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){u===void 0&&(u=new h);var l=Math.random();return u.x=c.x1+l*(c.x2-c.x1),u.y=c.y1+l*(c.y2-c.y1),u},"Random");n.exports=m}),69777:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91938),m=i(64795),c=r(function(u,l){return 2*m(l)-Math.PI-h(u)},"ReflectAngle");n.exports=c}),39706:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(64400),m=r(function(c,u){var l=(c.x1+c.x2)/2,o=(c.y1+c.y2)/2;return h(c,l,o,u)},"Rotate");n.exports=m}),82585:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(64400),m=r(function(c,u,l){return h(c,u.x,u.y,l)},"RotateAroundPoint");n.exports=m}),64400:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=Math.cos(c),l=Math.sin(c),o=i.x1-h,d=i.y1-m;return i.x1=o*u-d*l+h,i.y1=o*l+d*u+m,o=i.x2-h,d=i.y2-m,i.x2=o*u-d*l+h,i.y2=o*l+d*u+m,i},"RotateAroundXY");n.exports=T}),62377:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u){return i.x1=h,i.y1=m,i.x2=h+Math.cos(c)*u,i.y2=m+Math.sin(c)*u,i},"SetToAngle");n.exports=T}),71366:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i.y2-i.y1)/(i.x2-i.x1)},"Slope");n.exports=T}),10809:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.abs(i.x1-i.x2)},"Width");n.exports=T}),2529:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23031);h.Angle=i(91938),h.BresenhamPoints=i(84993),h.CenterOn=i(36469),h.Clone=i(31116),h.CopyFrom=i(59944),h.Equals=i(59220),h.Extend=i(78177),h.GetEasedPoints=i(26708),h.GetMidPoint=i(32125),h.GetNearestPoint=i(99569),h.GetNormal=i(34638),h.GetPoint=i(13151),h.GetPoints=i(15258),h.GetShortestDistance=i(26408),h.Height=i(98770),h.Length=i(35001),h.NormalAngle=i(64795),h.NormalX=i(52616),h.NormalY=i(87231),h.Offset=i(89662),h.PerpSlope=i(71165),h.Random=i(65822),h.ReflectAngle=i(69777),h.Rotate=i(39706),h.RotateAroundPoint=i(82585),h.RotateAroundXY=i(64400),h.SetToAngle=i(62377),h.Slope=i(71366),h.Width=i(10809),n.exports=h}),83997:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(87841),c=i(26099);function u(o,d,v,f){var p=o-v,g=d-f,y=p*p+g*g;return Math.sqrt(y)}r(u,"GetLength");var l=new h({initialize:r(function(d,v,f){this.vertex1=d,this.vertex2=v,this.vertex3=f,this.bounds=new m,this._inCenter=new c},"Face"),getInCenter:r(function(o){o===void 0&&(o=!0);var d=this.vertex1,v=this.vertex2,f=this.vertex3,p,g,y,C,S,E;o?(p=d.x,g=d.y,y=v.x,C=v.y,S=f.x,E=f.y):(p=d.vx,g=d.vy,y=v.vx,C=v.vy,S=f.vx,E=f.vy);var w=u(S,E,y,C),M=u(p,g,S,E),R=u(y,C,p,g),O=w+M+R;return this._inCenter.set((p*w+y*M+S*R)/O,(g*w+C*M+E*R)/O)},"getInCenter"),contains:r(function(o,d,v){var f=this.vertex1,p=this.vertex2,g=this.vertex3,y=f.vx,C=f.vy,S=p.vx,E=p.vy,w=g.vx,M=g.vy;if(v){var R=v.a,O=v.b,b=v.c,A=v.d,I=v.e,L=v.f;y=f.vx*R+f.vy*b+I,C=f.vx*O+f.vy*A+L,S=p.vx*R+p.vy*b+I,E=p.vx*O+p.vy*A+L,w=g.vx*R+g.vy*b+I,M=g.vx*O+g.vy*A+L}var F=w-y,D=M-C,B=S-y,V=E-C,U=o-y,W=d-C,Y=F*F+D*D,N=F*B+D*V,z=F*U+D*W,G=B*B+V*V,X=B*U+V*W,k=Y*G-N*N,H=k===0?0:1/k,$=(G*z-N*X)*H,K=(Y*X-N*z)*H;return $>=0&&K>=0&&$+K<1},"contains"),isCounterClockwise:r(function(o){var d=this.vertex1,v=this.vertex2,f=this.vertex3,p=(v.vx-d.vx)*(f.vy-d.vy)-(v.vy-d.vy)*(f.vx-d.vx);return o<=0?p>=0:p<0},"isCounterClockwise"),load:r(function(o,d,v,f,p){return v=this.vertex1.load(o,d,v,f,p),v=this.vertex2.load(o,d,v,f,p),v=this.vertex3.load(o,d,v,f,p),v},"load"),transformCoordinatesLocal:r(function(o,d,v,f){return this.vertex1.transformCoordinatesLocal(o,d,v,f),this.vertex2.transformCoordinatesLocal(o,d,v,f),this.vertex3.transformCoordinatesLocal(o,d,v,f),this},"transformCoordinatesLocal"),updateBounds:r(function(){var o=this.vertex1,d=this.vertex2,v=this.vertex3,f=this.bounds;return f.x=Math.min(o.vx,d.vx,v.vx),f.y=Math.min(o.vy,d.vy,v.vy),f.width=Math.max(o.vx,d.vx,v.vx)-f.x,f.height=Math.max(o.vy,d.vy,v.vy)-f.y,this},"updateBounds"),isInView:r(function(o,d,v,f,p,g,y,C,S,E,w){this.update(f,p,g,y,C,S,E,w);var M=this.vertex1,R=this.vertex2,O=this.vertex3;if(M.ta<=0&&R.ta<=0&&O.ta<=0||d&&!this.isCounterClockwise(v))return!1;var b=this.bounds;b.x=Math.min(M.tx,R.tx,O.tx),b.y=Math.min(M.ty,R.ty,O.ty),b.width=Math.max(M.tx,R.tx,O.tx)-b.x,b.height=Math.max(M.ty,R.ty,O.ty)-b.y;var A=o.x+o.width,I=o.y+o.height;return b.width<=0||b.height<=0||o.width<=0||o.height<=0?!1:!(b.right<o.x||b.bottom<o.y||b.x>A||b.y>I)},"isInView"),scrollUV:r(function(o,d){return this.vertex1.scrollUV(o,d),this.vertex2.scrollUV(o,d),this.vertex3.scrollUV(o,d),this},"scrollUV"),scaleUV:r(function(o,d){return this.vertex1.scaleUV(o,d),this.vertex2.scaleUV(o,d),this.vertex3.scaleUV(o,d),this},"scaleUV"),setColor:r(function(o){return this.vertex1.color=o,this.vertex2.color=o,this.vertex3.color=o,this},"setColor"),update:r(function(o,d,v,f,p,g,y,C){return this.vertex1.update(d,v,f,p,g,y,C,o),this.vertex2.update(d,v,f,p,g,y,C,o),this.vertex3.update(d,v,f,p,g,y,C,o),this},"update"),translate:r(function(o,d){d===void 0&&(d=0);var v=this.vertex1,f=this.vertex2,p=this.vertex3;return v.x+=o,v.y+=d,f.x+=o,f.y+=d,p.x+=o,p.y+=d,this},"translate"),x:{get:r(function(){return this.getInCenter().x},"get"),set:r(function(o){var d=this.getInCenter();this.translate(o-d.x,0)},"set")},y:{get:r(function(){return this.getInCenter().y},"get"),set:r(function(o){var d=this.getInCenter();this.translate(0,o-d.y)},"set")},alpha:{get:r(function(){var o=this.vertex1,d=this.vertex2,v=this.vertex3;return(o.alpha+d.alpha+v.alpha)/3},"get"),set:r(function(o){this.vertex1.alpha=o,this.vertex2.alpha=o,this.vertex3.alpha=o},"set")},depth:{get:r(function(){var o=this.vertex1,d=this.vertex2,v=this.vertex3;return(o.vz+d.vz+v.vz)/3},"get")},destroy:r(function(){this.vertex1=null,this.vertex2=null,this.vertex3=null},"destroy")});n.exports=l}),48803:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83997),m=i(95540),c=i(37867),u=i(25836),l=i(39318),o=new u,d=new u,v=new c,f=r(function(p){var g=m(p,"mesh"),y=m(p,"texture",null),C=m(p,"frame"),S=m(p,"width",1),E=m(p,"height",S),w=m(p,"widthSegments",1),M=m(p,"heightSegments",w),R=m(p,"x",0),O=m(p,"y",0),b=m(p,"z",0),A=m(p,"rotateX",0),I=m(p,"rotateY",0),L=m(p,"rotateZ",0),F=m(p,"zIsUp",!0),D=m(p,"isOrtho",g?g.dirtyCache[11]:!1),B=m(p,"colors",[16777215]),V=m(p,"alphas",[1]),U=m(p,"tile",!1),W=m(p,"flipY",!1),Y=m(p,"width",null),N={faces:[],verts:[]};o.set(R,O,b),d.set(A,I,L),v.fromRotationXYTranslation(d,o,F);var z;if(!y&&g)y=g.texture,C||(z=g.frame);else if(g&&typeof y=="string")y=g.scene.sys.textures.get(y);else if(!y)return N;z||(z=y.get(C)),!Y&&D&&y&&g&&(S=z.width/g.height,E=z.height/g.height);var G=S/2,X=E/2,k=Math.floor(w),H=Math.floor(M),$=k+1,K=H+1,Z=S/k,J=E/H,j=[],q=[],Q,tt,st=0,_=1,ot=0,ht=1;z&&(st=z.u0,_=z.u1,W?(ot=z.v1,ht=z.v0):(ot=z.v0,ht=z.v1));var lt=_-st,et=ht-ot;for(tt=0;tt<K;tt++){var nt=tt*J-X;for(Q=0;Q<$;Q++){var at=Q*Z-G;q.push(at,-nt);var ct=st+lt*(Q/k),St=ot+et*(tt/H);j.push(ct,St)}}Array.isArray(B)||(B=[B]),Array.isArray(V)||(V=[V]);var It=0,Ct=0;for(tt=0;tt<H;tt++)for(Q=0;Q<k;Q++){var Pt=(Q+$*tt)*2,Vt=(Q+$*(tt+1))*2,le=(Q+1+$*(tt+1))*2,Ft=(Q+1+$*tt)*2,zt=B[Ct],Kt=V[It],we=new l(q[Pt],q[Pt+1],0,j[Pt],j[Pt+1],zt,Kt).transformMat4(v),pr=new l(q[Vt],q[Vt+1],0,j[Vt],j[Vt+1],zt,Kt).transformMat4(v),gr=new l(q[Ft],q[Ft+1],0,j[Ft],j[Ft+1],zt,Kt).transformMat4(v),mr=new l(q[Vt],q[Vt+1],0,j[Vt],j[Vt+1],zt,Kt).transformMat4(v),xr=new l(q[le],q[le+1],0,j[le],j[le+1],zt,Kt).transformMat4(v),yr=new l(q[Ft],q[Ft+1],0,j[Ft],j[Ft+1],zt,Kt).transformMat4(v);U&&(we.setUVs(st,ht),pr.setUVs(st,ot),gr.setUVs(_,ht),mr.setUVs(st,ot),xr.setUVs(_,ot),yr.setUVs(_,ht)),Ct++,Ct===B.length&&(Ct=0),It++,It===V.length&&(It=0),N.verts.push(we,pr,gr,mr,xr,yr),N.faces.push(new h(we,pr,gr),new h(mr,xr,yr))}return g&&(g.faces=g.faces.concat(N.faces),g.vertices=g.vertices.concat(N.verts)),N},"GenerateGridVerts");n.exports=f}),34684:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83997),m=i(37867),c=i(25836),u=i(39318),l=new c,o=new c,d=new m,v=r(function(f,p,g,y,C,S,E,w,M,R){g===void 0&&(g=1),y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=0),E===void 0&&(E=0),w===void 0&&(w=0),M===void 0&&(M=0),R===void 0&&(R=!0);var O={faces:[],verts:[]},b=f.materials;l.set(y,C,S),o.set(E,w,M),d.fromRotationXYTranslation(o,l,R);for(var A=0;A<f.models.length;A++)for(var I=f.models[A],L=I.vertices,F=I.textureCoords,D=I.faces,B=0;B<D.length;B++){var V=D[B],U=V.vertices[0],W=V.vertices[1],Y=V.vertices[2],N=L[U.vertexIndex],z=L[W.vertexIndex],G=L[Y.vertexIndex],X=U.textureCoordsIndex,k=W.textureCoordsIndex,H=Y.textureCoordsIndex,$=X===-1?{u:0,v:1}:F[X],K=k===-1?{u:0,v:0}:F[k],Z=H===-1?{u:1,v:1}:F[H],J=16777215;V.material!==""&&b[V.material]&&(J=b[V.material]);var j=new u(N.x*g,N.y*g,N.z*g,$.u,$.v,J).transformMat4(d),q=new u(z.x*g,z.y*g,z.z*g,K.u,K.v,J).transformMat4(d),Q=new u(G.x*g,G.y*g,G.z*g,Z.u,Z.v,J).transformMat4(d);O.verts.push(j,q,Q),O.faces.push(new h(j,q,Q))}return p&&(p.faces=p.faces.concat(O.faces),p.vertices=p.vertices.concat(O.verts)),O},"GenerateObjVerts");n.exports=v}),92515:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83997),m=i(39318),c=r(function(u,l,o,d,v,f,p,g){if(d===void 0&&(d=!1),f===void 0&&(f=16777215),p===void 0&&(p=1),g===void 0&&(g=!1),u.length!==l.length&&!d){console.warn("GenerateVerts: vertices and uvs count not equal");return}var y={faces:[],vertices:[]},C,S,E,w,M,R,O,b,A,I,L,F=d?3:2,D=Array.isArray(f),B=Array.isArray(p);if(Array.isArray(o)&&o.length>0)for(C=0;C<o.length;C++){var V=o[C],U=o[C]*2,W=o[C]*F;S=u[W],E=u[W+1],w=d?u[W+2]:0,M=l[U],R=l[U+1],g&&(R=1-R),O=D?f[V]:f,b=B?p[V]:p,A=0,I=0,L=0,v&&(A=v[W],I=v[W+1],L=d?v[W+2]:0),y.vertices.push(new m(S,E,w,M,R,O,b,A,I,L))}else{var Y=0,N=0;for(C=0;C<u.length;C+=F)S=u[C],E=u[C+1],w=d?u[C+2]:0,M=l[Y],R=l[Y+1],O=D?f[N]:f,b=B?p[N]:p,A=0,I=0,L=0,v&&(A=v[C],I=v[C+1],L=d?v[C+2]:0),y.vertices.push(new m(S,E,w,M,R,O,b,A,I,L)),Y+=2,N++}for(C=0;C<y.vertices.length;C+=3){var z=y.vertices[C],G=y.vertices[C+1],X=y.vertices[C+2];y.faces.push(new h(z,G,X))}return y},"GenerateVerts");n.exports=c}),85048:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,i="untitled",h="",m="";function c(S){var E=S.indexOf("#");return E>-1?S.substring(0,E):S}r(c,"stripComments");function u(S){return S.models.length===0&&S.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),h="",S.models[S.models.length-1]}r(u,"currentModel");function l(S,E){var w=S.length>=2?S[1]:i;E.models.push({faces:[],name:w,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}r(l,"parseObject");function o(S){S.length===2&&(h=S[1])}r(o,"parseGroup");function d(S,E){var w=S.length,M=w>=2?parseFloat(S[1]):0,R=w>=3?parseFloat(S[2]):0,O=w>=4?parseFloat(S[3]):0;u(E).vertices.push({x:M,y:R,z:O})}r(d,"parseVertexCoords");function v(S,E){var w=S.length,M=w>=2?parseFloat(S[1]):0,R=w>=3?parseFloat(S[2]):0,O=w>=4?parseFloat(S[3]):0;isNaN(M)&&(M=0),isNaN(R)&&(R=0),isNaN(O)&&(O=0),T&&(R=1-R),u(E).textureCoords.push({u:M,v:R,w:O})}r(v,"parseTextureCoords");function f(S,E){var w=S.length,M=w>=2?parseFloat(S[1]):0,R=w>=3?parseFloat(S[2]):0,O=w>=4?parseFloat(S[3]):0;u(E).vertexNormals.push({x:M,y:R,z:O})}r(f,"parseVertexNormal");function p(S,E){var w=S.length-1;if(!(w<3)){for(var M={group:h,material:m,vertices:[]},R=0;R<w;R++){var O=S[R+1],b=O.split("/"),A=b.length;if(!(A<1||A>3)){var I=0,L=0,F=0;I=parseInt(b[0],10),A>1&&b[1]!==""&&(L=parseInt(b[1],10)),A>2&&(F=parseInt(b[2],10)),I!==0&&(I<0&&(I=u(E).vertices.length+1+I),L-=1,I-=1,F-=1,M.vertices.push({textureCoordsIndex:L,vertexIndex:I,vertexNormalIndex:F}))}}u(E).faces.push(M)}}r(p,"parsePolygon");function g(S,E){S.length>=2&&E.materialLibraries.push(S[1])}r(g,"parseMtlLib");function y(S){S.length>=2&&(m=S[1])}r(y,"parseUseMtl");var C=r(function(S,E){E===void 0&&(E=!0),T=E;var w={materials:{},materialLibraries:[],models:[]};h="",m="";for(var M=S.split(`
`),R=0;R<M.length;R++){var O=c(M[R]),b=O.replace(/\s\s+/g," ").trim().split(" ");switch(b[0].toLowerCase()){case"o":l(b,w);break;case"g":o(b);break;case"v":d(b,w);break;case"vt":v(b,w);break;case"vn":f(b,w);break;case"f":p(b,w);break;case"mtllib":g(b,w);break;case"usemtl":y(b);break}}return w},"ParseObj");n.exports=C}),61485:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37589),m=r(function(c){for(var u={},l=c.split(`
`),o="",d=0;d<l.length;d++){var v=l[d].trim();if(!(v.indexOf("#")===0||v==="")){var f=v.replace(/\s\s+/g," ").trim().split(" ");switch(f[0].toLowerCase()){case"newmtl":{o=f[1];break}case"kd":{var p=Math.floor(f[1]*255),g=f.length>=2?Math.floor(f[2]*255):p,y=f.length>=3?Math.floor(f[3]*255):p;u[o]=h(p,g,y);break}}}}return u},"ParseObjMaterial");n.exports=m}),92570:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u,l;if(m===void 0&&c===void 0){var o=i.getInCenter();u=o.x,l=o.y}var d=Math.cos(h),v=Math.sin(h),f=i.vertex1,p=i.vertex2,g=i.vertex3,y=f.x-u,C=f.y-l;f.set(y*d-C*v+u,y*v+C*d+l),y=p.x-u,C=p.y-l,p.set(y*d-C*v+u,y*v+C*d+l),y=g.x-u,C=g.y-l,g.set(y*d-C*v+u,y*v+C*d+l)},"RotateFace");n.exports=T}),39318:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(70554),c=i(25836),u=new h({Extends:c,initialize:r(function(o,d,v,f,p,g,y,C,S,E){g===void 0&&(g=16777215),y===void 0&&(y=1),C===void 0&&(C=0),S===void 0&&(S=0),E===void 0&&(E=0),c.call(this,o,d,v),this.vx=0,this.vy=0,this.vz=0,this.nx=C,this.ny=S,this.nz=E,this.u=f,this.v=p,this.color=g,this.alpha=y,this.tx=0,this.ty=0,this.ta=0,this.tu=f,this.tv=p},"Vertex"),setUVs:r(function(l,o){return this.u=l,this.v=o,this.tu=l,this.tv=o,this},"setUVs"),scrollUV:r(function(l,o){return this.tu+=l,this.tv+=o,this},"scrollUV"),scaleUV:r(function(l,o){return this.tu=this.u*l,this.tv=this.v*o,this},"scaleUV"),transformCoordinatesLocal:r(function(l,o,d,v){var f=this.x,p=this.y,g=this.z,y=l.val,C=f*y[0]+p*y[4]+g*y[8]+y[12],S=f*y[1]+p*y[5]+g*y[9]+y[13],E=f*y[2]+p*y[6]+g*y[10]+y[14],w=f*y[3]+p*y[7]+g*y[11]+y[15];this.vx=C/w*o,this.vy=-(S/w)*d,v<=0?this.vz=E/w:this.vz=-(E/w)},"transformCoordinatesLocal"),resize:r(function(l,o,d,v,f,p){return this.x=l,this.y=o,this.vx=this.x*d,this.vy=-this.y*v,this.vz=0,f<.5?this.vx+=d*(.5-f):f>.5&&(this.vx-=d*(f-.5)),p<.5?this.vy+=v*(.5-p):p>.5&&(this.vy-=v*(p-.5)),this},"resize"),update:r(function(l,o,d,v,f,p,g,y){var C=this.vx*l+this.vy*d+f,S=this.vx*o+this.vy*v+p;return g&&(C=Math.round(C),S=Math.round(S)),this.tx=C,this.ty=S,this.ta=this.alpha*y,this},"update"),load:r(function(l,o,d,v,f){return l[++d]=this.tx,l[++d]=this.ty,l[++d]=this.tu,l[++d]=this.tv,l[++d]=v,l[++d]=f,o[++d]=m.getTintAppendFloatAlpha(this.color,this.ta),d},"load")});n.exports=u}),73090:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};n.exports=h}),96550:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.setTo(Math.ceil(i.x),Math.ceil(i.y))},"Ceil");n.exports=T}),99706:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c){return new h(c.x,c.y)},"Clone");n.exports=m}),68010:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h.setTo(i.x,i.y)},"CopyFrom");n.exports=T}),27814:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x===h.x&&i.y===h.y},"Equals");n.exports=T}),73565:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.setTo(Math.floor(i.x),Math.floor(i.y))},"Floor");n.exports=T}),87555:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){if(u===void 0&&(u=new h),!Array.isArray(c))throw new Error("GetCentroid points argument must be an array");var l=c.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)u.x=c[0].x,u.y=c[0].y;else{for(var o=0;o<l;o++)u.x+=c[o].x,u.y+=c[o].y;u.x/=l,u.y/=l}return u},"GetCentroid");n.exports=m}),28793:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},"GetMagnitude");n.exports=T}),44405:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x*i.x+i.y*i.y},"GetMagnitudeSq");n.exports=T}),20873:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=r(function(c,u){u===void 0&&(u=new h);for(var l=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,f=0;f<c.length;f++){var p=c[f];p.x>l&&(l=p.x),p.x<o&&(o=p.x),p.y>d&&(d=p.y),p.y<v&&(v=p.y)}return u.x=o,u.y=v,u.width=l-o,u.height=d-v,u},"GetRectangleFromPoints");n.exports=m}),26152:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u,l,o){return l===void 0&&(l=0),o===void 0&&(o=new h),o.x=c.x+(u.x-c.x)*l,o.y=c.y+(u.y-c.y)*l,o},"Interpolate");n.exports=m}),55767:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.setTo(i.y,i.x)},"Invert");n.exports=T}),79432:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){return u===void 0&&(u=new h),u.setTo(-c.x,-c.y)},"Negative");n.exports=m}),2141:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23777),c=new h({initialize:r(function(l,o){l===void 0&&(l=0),o===void 0&&(o=l),this.type=m.POINT,this.x=l,this.y=o},"Point"),setTo:r(function(u,l){return u===void 0&&(u=0),l===void 0&&(l=u),this.x=u,this.y=l,this},"setTo")});n.exports=c}),72930:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=i(44405),c=r(function(u,l,o){o===void 0&&(o=new h);var d=u.x*l.x+u.y*l.y,v=d/m(l);return v!==0&&(o.x=v*l.x,o.y=v*l.y),o},"Project");n.exports=c}),62880:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u,l){l===void 0&&(l=new h);var o=c.x*u.x+c.y*u.y;return o!==0&&(l.x=o*u.x,l.y=o*u.y),l},"ProjectUnit");n.exports=m}),15093:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28793),m=r(function(c,u){if(c.x!==0||c.y!==0){var l=h(c);c.x/=l,c.y/=l}return c.x*=u,c.y*=u,c},"SetMagnitude");n.exports=m}),43711:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141);h.Ceil=i(96550),h.Clone=i(99706),h.CopyFrom=i(68010),h.Equals=i(27814),h.Floor=i(73565),h.GetCentroid=i(87555),h.GetMagnitude=i(28793),h.GetMagnitudeSq=i(44405),h.GetRectangleFromPoints=i(20873),h.Interpolate=i(26152),h.Invert=i(55767),h.Negative=i(79432),h.Project=i(72930),h.ProjectUnit=i(62880),h.SetMagnitude=i(15093),n.exports=h}),12306:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25717),m=r(function(c){return new h(c.points)},"Clone");n.exports=m}),63814:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){for(var c=!1,u=-1,l=i.points.length-1;++u<i.points.length;l=u){var o=i.points[u].x,d=i.points[u].y,v=i.points[l].x,f=i.points[l].y;(d<=m&&m<f||f<=m&&m<d)&&h<(v-o)*(m-d)/(f-d)+o&&(c=!c)}return c},"Contains");n.exports=T}),99338:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(63814),m=r(function(c,u){return h(c,u.x,u.y)},"ContainsPoint");n.exports=m}),94811:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(N,z,G){G=G||2;var X=z&&z.length,k=X?z[0]*G:N.length,H=i(N,0,k,G,!0),$=[];if(!H||H.next===H.prev)return $;var K,Z,J,j,q,Q,tt;if(X&&(H=d(N,z,H,G)),N.length>80*G){K=J=N[0],Z=j=N[1];for(var st=G;st<k;st+=G)q=N[st],Q=N[st+1],q<K&&(K=q),Q<Z&&(Z=Q),q>J&&(J=q),Q>j&&(j=Q);tt=Math.max(J-K,j-Z),tt=tt!==0?32767/tt:0}return m(H,$,G,K,Z,tt,0),$}r(T,"earcut");function i(N,z,G,X,k){var H,$;if(k===Y(N,z,G,X)>0)for(H=z;H<G;H+=X)$=V(H,N[H],N[H+1],$);else for(H=G-X;H>=z;H-=X)$=V(H,N[H],N[H+1],$);return $&&O($,$.next)&&(U($),$=$.next),$}r(i,"linkedList");function h(N,z){if(!N)return N;z||(z=N);var G=N,X;do if(X=!1,!G.steiner&&(O(G,G.next)||R(G.prev,G,G.next)===0)){if(U(G),G=z=G.prev,G===G.next)break;X=!0}else G=G.next;while(X||G!==z);return z}r(h,"filterPoints");function m(N,z,G,X,k,H,$){if(N){!$&&H&&y(N,X,k,H);for(var K=N,Z,J;N.prev!==N.next;){if(Z=N.prev,J=N.next,H?u(N,X,k,H):c(N)){z.push(Z.i/G|0),z.push(N.i/G|0),z.push(J.i/G|0),U(N),N=J.next,K=J.next;continue}if(N=J,N===K){$?$===1?(N=l(h(N),z,G),m(N,z,G,X,k,H,2)):$===2&&o(N,z,G,X,k,H):m(h(N),z,G,X,k,H,1);break}}}}r(m,"earcutLinked");function c(N){var z=N.prev,G=N,X=N.next;if(R(z,G,X)>=0)return!1;for(var k=z.x,H=G.x,$=X.x,K=z.y,Z=G.y,J=X.y,j=k<H?k<$?k:$:H<$?H:$,q=K<Z?K<J?K:J:Z<J?Z:J,Q=k>H?k>$?k:$:H>$?H:$,tt=K>Z?K>J?K:J:Z>J?Z:J,st=X.next;st!==z;){if(st.x>=j&&st.x<=Q&&st.y>=q&&st.y<=tt&&w(k,K,H,Z,$,J,st.x,st.y)&&R(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}r(c,"isEar");function u(N,z,G,X){var k=N.prev,H=N,$=N.next;if(R(k,H,$)>=0)return!1;for(var K=k.x,Z=H.x,J=$.x,j=k.y,q=H.y,Q=$.y,tt=K<Z?K<J?K:J:Z<J?Z:J,st=j<q?j<Q?j:Q:q<Q?q:Q,_=K>Z?K>J?K:J:Z>J?Z:J,ot=j>q?j>Q?j:Q:q>Q?q:Q,ht=S(tt,st,z,G,X),lt=S(_,ot,z,G,X),et=N.prevZ,nt=N.nextZ;et&&et.z>=ht&&nt&&nt.z<=lt;){if(et.x>=tt&&et.x<=_&&et.y>=st&&et.y<=ot&&et!==k&&et!==$&&w(K,j,Z,q,J,Q,et.x,et.y)&&R(et.prev,et,et.next)>=0||(et=et.prevZ,nt.x>=tt&&nt.x<=_&&nt.y>=st&&nt.y<=ot&&nt!==k&&nt!==$&&w(K,j,Z,q,J,Q,nt.x,nt.y)&&R(nt.prev,nt,nt.next)>=0))return!1;nt=nt.nextZ}for(;et&&et.z>=ht;){if(et.x>=tt&&et.x<=_&&et.y>=st&&et.y<=ot&&et!==k&&et!==$&&w(K,j,Z,q,J,Q,et.x,et.y)&&R(et.prev,et,et.next)>=0)return!1;et=et.prevZ}for(;nt&&nt.z<=lt;){if(nt.x>=tt&&nt.x<=_&&nt.y>=st&&nt.y<=ot&&nt!==k&&nt!==$&&w(K,j,Z,q,J,Q,nt.x,nt.y)&&R(nt.prev,nt,nt.next)>=0)return!1;nt=nt.nextZ}return!0}r(u,"isEarHashed");function l(N,z,G){var X=N;do{var k=X.prev,H=X.next.next;!O(k,H)&&b(k,X,X.next,H)&&F(k,H)&&F(H,k)&&(z.push(k.i/G|0),z.push(X.i/G|0),z.push(H.i/G|0),U(X),U(X.next),X=N=H),X=X.next}while(X!==N);return h(X)}r(l,"cureLocalIntersections");function o(N,z,G,X,k,H){var $=N;do{for(var K=$.next.next;K!==$.prev;){if($.i!==K.i&&M($,K)){var Z=B($,K);$=h($,$.next),Z=h(Z,Z.next),m($,z,G,X,k,H,0),m(Z,z,G,X,k,H,0);return}K=K.next}$=$.next}while($!==N)}r(o,"splitEarcut");function d(N,z,G,X){var k=[],H,$,K,Z,J;for(H=0,$=z.length;H<$;H++)K=z[H]*X,Z=H<$-1?z[H+1]*X:N.length,J=i(N,K,Z,X,!1),J===J.next&&(J.steiner=!0),k.push(E(J));for(k.sort(v),H=0;H<k.length;H++)G=f(k[H],G);return G}r(d,"eliminateHoles");function v(N,z){return N.x-z.x}r(v,"compareX");function f(N,z){var G=p(N,z);if(!G)return z;var X=B(G,N);return h(X,X.next),h(G,G.next)}r(f,"eliminateHole");function p(N,z){var G=z,X=N.x,k=N.y,H=-1/0,$;do{if(k<=G.y&&k>=G.next.y&&G.next.y!==G.y){var K=G.x+(k-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(K<=X&&K>H&&(H=K,$=G.x<G.next.x?G:G.next,K===X))return $}G=G.next}while(G!==z);if(!$)return null;var Z=$,J=$.x,j=$.y,q=1/0,Q;G=$;do X>=G.x&&G.x>=J&&X!==G.x&&w(k<j?X:H,k,J,j,k<j?H:X,k,G.x,G.y)&&(Q=Math.abs(k-G.y)/(X-G.x),F(G,N)&&(Q<q||Q===q&&(G.x>$.x||G.x===$.x&&g($,G)))&&($=G,q=Q)),G=G.next;while(G!==Z);return $}r(p,"findHoleBridge");function g(N,z){return R(N.prev,N,z.prev)<0&&R(z.next,N,N.next)<0}r(g,"sectorContainsSector");function y(N,z,G,X){var k=N;do k.z===0&&(k.z=S(k.x,k.y,z,G,X)),k.prevZ=k.prev,k.nextZ=k.next,k=k.next;while(k!==N);k.prevZ.nextZ=null,k.prevZ=null,C(k)}r(y,"indexCurve");function C(N){var z,G,X,k,H,$,K,Z,J=1;do{for(G=N,N=null,H=null,$=0;G;){for($++,X=G,K=0,z=0;z<J&&(K++,X=X.nextZ,!!X);z++);for(Z=J;K>0||Z>0&&X;)K!==0&&(Z===0||!X||G.z<=X.z)?(k=G,G=G.nextZ,K--):(k=X,X=X.nextZ,Z--),H?H.nextZ=k:N=k,k.prevZ=H,H=k;G=X}H.nextZ=null,J*=2}while($>1);return N}r(C,"sortLinked");function S(N,z,G,X,k){return N=(N-G)*k|0,z=(z-X)*k|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,N|z<<1}r(S,"zOrder");function E(N){var z=N,G=N;do(z.x<G.x||z.x===G.x&&z.y<G.y)&&(G=z),z=z.next;while(z!==N);return G}r(E,"getLeftmost");function w(N,z,G,X,k,H,$,K){return(k-$)*(z-K)>=(N-$)*(H-K)&&(N-$)*(X-K)>=(G-$)*(z-K)&&(G-$)*(H-K)>=(k-$)*(X-K)}r(w,"pointInTriangle");function M(N,z){return N.next.i!==z.i&&N.prev.i!==z.i&&!L(N,z)&&(F(N,z)&&F(z,N)&&D(N,z)&&(R(N.prev,N,z.prev)||R(N,z.prev,z))||O(N,z)&&R(N.prev,N,N.next)>0&&R(z.prev,z,z.next)>0)}r(M,"isValidDiagonal");function R(N,z,G){return(z.y-N.y)*(G.x-z.x)-(z.x-N.x)*(G.y-z.y)}r(R,"area");function O(N,z){return N.x===z.x&&N.y===z.y}r(O,"equals");function b(N,z,G,X){var k=I(R(N,z,G)),H=I(R(N,z,X)),$=I(R(G,X,N)),K=I(R(G,X,z));return!!(k!==H&&$!==K||k===0&&A(N,G,z)||H===0&&A(N,X,z)||$===0&&A(G,N,X)||K===0&&A(G,z,X))}r(b,"intersects");function A(N,z,G){return z.x<=Math.max(N.x,G.x)&&z.x>=Math.min(N.x,G.x)&&z.y<=Math.max(N.y,G.y)&&z.y>=Math.min(N.y,G.y)}r(A,"onSegment");function I(N){return N>0?1:N<0?-1:0}r(I,"sign");function L(N,z){var G=N;do{if(G.i!==N.i&&G.next.i!==N.i&&G.i!==z.i&&G.next.i!==z.i&&b(G,G.next,N,z))return!0;G=G.next}while(G!==N);return!1}r(L,"intersectsPolygon");function F(N,z){return R(N.prev,N,N.next)<0?R(N,z,N.next)>=0&&R(N,N.prev,z)>=0:R(N,z,N.prev)<0||R(N,N.next,z)<0}r(F,"locallyInside");function D(N,z){var G=N,X=!1,k=(N.x+z.x)/2,H=(N.y+z.y)/2;do G.y>H!=G.next.y>H&&G.next.y!==G.y&&k<(G.next.x-G.x)*(H-G.y)/(G.next.y-G.y)+G.x&&(X=!X),G=G.next;while(G!==N);return X}r(D,"middleInside");function B(N,z){var G=new W(N.i,N.x,N.y),X=new W(z.i,z.x,z.y),k=N.next,H=z.prev;return N.next=z,z.prev=N,G.next=k,k.prev=G,X.next=G,G.prev=X,H.next=X,X.prev=H,X}r(B,"splitPolygon");function V(N,z,G,X){var k=new W(N,z,G);return X?(k.next=X.next,k.prev=X,X.next.prev=k,X.next=k):(k.prev=k,k.next=k),k}r(V,"insertNode");function U(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}r(U,"removeNode");function W(N,z,G){this.i=N,this.x=z,this.y=G,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r(W,"Node"),T.deviation=function(N,z,G,X){var k=z&&z.length,H=k?z[0]*G:N.length,$=Math.abs(Y(N,0,H,G));if(k)for(var K=0,Z=z.length;K<Z;K++){var J=z[K]*G,j=K<Z-1?z[K+1]*G:N.length;$-=Math.abs(Y(N,J,j,G))}var q=0;for(K=0;K<X.length;K+=3){var Q=X[K]*G,tt=X[K+1]*G,st=X[K+2]*G;q+=Math.abs((N[Q]-N[st])*(N[tt+1]-N[Q+1])-(N[Q]-N[tt])*(N[st+1]-N[Q+1]))}return $===0&&q===0?0:Math.abs((q-$)/$)};function Y(N,z,G,X){for(var k=0,H=z,$=G-X;H<G;H+=X)k+=(N[$]-N[H])*(N[H+1]+N[$+1]),$=H;return k}r(Y,"signedArea"),T.flatten=function(N){for(var z=N[0][0].length,G={vertices:[],holes:[],dimensions:z},X=0,k=0;k<N.length;k++){for(var H=0;H<N[k].length;H++)for(var $=0;$<z;$++)G.vertices.push(N[k][H][$]);k>0&&(X+=N[k-1].length,G.holes.push(X))}return G},n.exports=T}),13829:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=r(function(c,u){u===void 0&&(u=new h);for(var l=1/0,o=1/0,d=-l,v=-o,f,p=0;p<c.points.length;p++)f=c.points[p],l=Math.min(l,f.x),o=Math.min(o,f.y),d=Math.max(d,f.x),v=Math.max(v,f.y);return u.x=l,u.y=o,u.width=d-l,u.height=v-o,u},"GetAABB");n.exports=m}),26173:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h=[]);for(var m=0;m<i.points.length;m++)h.push(i.points[m].x),h.push(i.points[m].y);return h},"GetNumberArray");n.exports=T}),9564:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),m=i(23031),c=i(30052),u=r(function(l,o,d,v){v===void 0&&(v=[]);var f=l.points,p=c(l);!o&&d>0&&(o=p/d);for(var g=0;g<o;g++)for(var y=p*(g/o),C=0,S=0;S<f.length;S++){var E=f[S],w=f[(S+1)%f.length],M=new m(E.x,E.y,w.x,w.y),R=h(M);if(y<C||y>C+R){C+=R;continue}var O=M.getPoint((y-C)/R);v.push(O);break}return v},"GetPoints");n.exports=u}),30052:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),m=i(23031),c=r(function(u){for(var l=u.points,o=0,d=0;d<l.length;d++){var v=l[d],f=l[(d+1)%l.length],p=new m(v.x,v.y,f.x,f.y);o+=h(p)}return o},"Perimeter");n.exports=c}),25717:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(63814),c=i(9564),u=i(23777),l=new h({initialize:r(function(d){this.type=u.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},"Polygon"),contains:r(function(o,d){return m(this,o,d)},"contains"),setTo:r(function(o){if(this.area=0,this.points=[],typeof o=="string"&&(o=o.split(" ")),!Array.isArray(o))return this;for(var d,v=0;v<o.length;v++)d={x:0,y:0},typeof o[v]=="number"||typeof o[v]=="string"?(d.x=parseFloat(o[v]),d.y=parseFloat(o[v+1]),v++):Array.isArray(o[v])?(d.x=o[v][0],d.y=o[v][1]):(d.x=o[v].x,d.y=o[v].y),this.points.push(d);return this.calculateArea(),this},"setTo"),calculateArea:r(function(){if(this.points.length<3)return this.area=0,this.area;for(var o=0,d,v,f=0;f<this.points.length-1;f++)d=this.points[f],v=this.points[f+1],o+=(v.x-d.x)*(d.y+v.y);return d=this.points[0],v=this.points[this.points.length-1],o+=(d.x-v.x)*(v.y+d.y),this.area=-o*.5,this.area},"calculateArea"),getPoints:r(function(o,d,v){return c(this,o,d,v)},"getPoints")});n.exports=l}),8133:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.points.reverse(),i},"Reverse");n.exports=T}),29524:(n=>{function T(l,o){var d=l.x-o.x,v=l.y-o.y;return d*d+v*v}r(T,"getSqDist");function i(l,o,d){var v=o.x,f=o.y,p=d.x-v,g=d.y-f;if(p!==0||g!==0){var y=((l.x-v)*p+(l.y-f)*g)/(p*p+g*g);y>1?(v=d.x,f=d.y):y>0&&(v+=p*y,f+=g*y)}return p=l.x-v,g=l.y-f,p*p+g*g}r(i,"getSqSegDist");function h(l,o){for(var d=l[0],v=[d],f,p=1,g=l.length;p<g;p++)f=l[p],T(f,d)>o&&(v.push(f),d=f);return d!==f&&v.push(f),v}r(h,"simplifyRadialDist");function m(l,o,d,v,f){for(var p=v,g,y=o+1;y<d;y++){var C=i(l[y],l[o],l[d]);C>p&&(g=y,p=C)}p>v&&(g-o>1&&m(l,o,g,v,f),f.push(l[g]),d-g>1&&m(l,g,d,v,f))}r(m,"simplifyDPStep");function c(l,o){var d=l.length-1,v=[l[0]];return m(l,0,d,o,v),v.push(l[d]),v}r(c,"simplifyDouglasPeucker");var u=r(function(l,o,d){o===void 0&&(o=1),d===void 0&&(d=!1);var v=l.points;if(v.length>2){var f=o*o;d||(v=h(v,f)),l.setTo(c(v,f))}return l},"Simplify");n.exports=u}),5469:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(h,m){return h[0]=m[0],h[1]=m[1],h},"copy"),i=r(function(h){var m,c=[],u=h.points;for(m=0;m<u.length;m++)c.push([u[m].x,u[m].y]);var l=[];for(c.length>0&&l.push(T([0,0],c[0])),m=0;m<c.length-1;m++){var o=c[m],d=c[m+1],v=o[0],f=o[1],p=d[0],g=d[1];l.push([.85*v+.15*p,.85*f+.15*g]),l.push([.15*v+.85*p,.15*f+.85*g])}return c.length>1&&l.push(T([0,0],c[c.length-1])),h.setTo(l)},"Smooth");n.exports=i}),24709:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){for(var c=i.points,u=0;u<c.length;u++)c[u].x+=h,c[u].y+=m;return i},"Translate");n.exports=T}),58423:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25717);h.Clone=i(12306),h.Contains=i(63814),h.ContainsPoint=i(99338),h.Earcut=i(94811),h.GetAABB=i(13829),h.GetNumberArray=i(26173),h.GetPoints=i(9564),h.Perimeter=i(30052),h.Reverse=i(8133),h.Simplify=i(29524),h.Smooth=i(5469),h.Translate=i(24709),n.exports=h}),62224:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.width*i.height},"Area");n.exports=T}),98615:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i},"Ceil");n.exports=T}),31688:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),i},"CeilAll");n.exports=T}),67502:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i.x=h-i.width/2,i.y=m-i.height/2,i},"CenterOn");n.exports=T}),65085:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=r(function(c){return new h(c.x,c.y,c.width,c.height)},"Clone");n.exports=m}),37303:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i.width<=0||i.height<=0?!1:i.x<=h&&i.x+i.width>=h&&i.y<=m&&i.y+i.height>=m},"Contains");n.exports=T}),96553:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37303),m=r(function(c,u){return h(c,u.x,u.y)},"ContainsPoint");n.exports=m}),70273:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h.width*h.height>i.width*i.height?!1:h.x>i.x&&h.x<i.right&&h.right>i.x&&h.right<i.right&&h.y>i.y&&h.y<i.bottom&&h.bottom>i.y&&h.bottom<i.bottom},"ContainsRect");n.exports=T}),43459:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h.setTo(i.x,i.y,i.width,i.height)},"CopyFrom");n.exports=T}),77493:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h=[]),h.push({x:i.x,y:i.y}),h.push({x:i.right,y:i.y}),h.push({x:i.right,y:i.bottom}),h.push({x:i.x,y:i.bottom}),h},"Decompose");n.exports=T}),9219:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x===h.x&&i.y===h.y&&i.width===h.width&&i.height===h.height},"Equals");n.exports=T}),53751:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8249),m=r(function(c,u){var l=h(c);return l<h(u)?c.setSize(u.height*l,u.height):c.setSize(u.width,u.width/l),c.setPosition(u.centerX-c.width/2,u.centerY-c.height/2)},"FitInside");n.exports=m}),16088:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8249),m=r(function(c,u){var l=h(c);return l>h(u)?c.setSize(u.height*l,u.height):c.setSize(u.width,u.width/l),c.setPosition(u.centerX-c.width/2,u.centerY-c.height/2)},"FitOutside");n.exports=m}),80774:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i},"Floor");n.exports=T}),83859:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.width=Math.floor(i.width),i.height=Math.floor(i.height),i},"FloorAll");n.exports=T}),19217:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=i(36383),c=r(function(u,l){if(l===void 0&&(l=new h),u.length===0)return l;for(var o=Number.MAX_VALUE,d=Number.MAX_VALUE,v=m.MIN_SAFE_INTEGER,f=m.MIN_SAFE_INTEGER,p,g,y,C=0;C<u.length;C++)p=u[C],Array.isArray(p)?(g=p[0],y=p[1]):(g=p.x,y=p.y),o=Math.min(o,g),d=Math.min(d,y),v=Math.max(v,g),f=Math.max(f,y);return l.x=o,l.y=d,l.width=v-o,l.height=f-d,l},"FromPoints");n.exports=c}),9477:((n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=r(function(c,u,l,o,d){return d===void 0&&(d=new h),d.setTo(Math.min(c,l),Math.min(u,o),Math.abs(c-l),Math.abs(u-o))},"FromXY");n.exports=m}),8249:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.height===0?NaN:i.width/i.height},"GetAspectRatio");n.exports=T}),27165:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){return u===void 0&&(u=new h),u.x=c.centerX,u.y=c.centerY,u},"GetCenter");n.exports=m}),20812:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13019),m=i(2141),c=r(function(u,l,o){if(o===void 0&&(o=new m),l<=0||l>=1)return o.x=u.x,o.y=u.y,o;var d=h(u)*l;return l>.5?(d-=u.width+u.height,d<=u.width?(o.x=u.right-d,o.y=u.bottom):(o.x=u.x,o.y=u.bottom-(d-u.width))):d<=u.width?(o.x=u.x+d,o.y=u.y):(o.x=u.right,o.y=u.y+(d-u.width)),o},"GetPoint");n.exports=c}),34819:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20812),m=i(13019),c=r(function(u,l,o,d){d===void 0&&(d=[]),!l&&o>0&&(l=m(u)/o);for(var v=0;v<l;v++){var f=v/l;d.push(h(u,f))}return d},"GetPoints");n.exports=c}),51313:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){return u===void 0&&(u=new h),u.x=c.width,u.y=c.height,u},"GetSize");n.exports=m}),86091:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(67502),m=r(function(c,u,l){var o=c.centerX,d=c.centerY;return c.setSize(c.width+u*2,c.height+l*2),h(c,o,d)},"Inflate");n.exports=m}),53951:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=i(59996),c=r(function(u,l,o){return o===void 0&&(o=new h),m(u,l)?(o.x=Math.max(u.x,l.x),o.y=Math.max(u.y,l.y),o.width=Math.min(u.right,l.right)-o.x,o.height=Math.min(u.bottom,l.bottom)-o.y):o.setEmpty(),o},"Intersection");n.exports=c}),14649:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13019),m=i(2141),c=r(function(u,l,o,d){if(d===void 0&&(d=[]),!l&&!o)return d;l?o=Math.round(h(u)/l):l=h(u)/o;for(var v=u.x,f=u.y,p=0,g=0;g<o;g++)switch(d.push(new m(v,f)),p){case 0:v+=l,v>=u.right&&(p=1,f+=v-u.right,v=u.right);break;case 1:f+=l,f>=u.bottom&&(p=2,v-=f-u.bottom,f=u.bottom);break;case 2:v-=l,v<=u.left&&(p=3,f-=u.left-v,v=u.left);break;case 3:f-=l,f<=u.top&&(p=0,f=u.top);break}return d},"MarchingAnts");n.exports=c}),33595:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){for(var m=i.x,c=i.right,u=i.y,l=i.bottom,o=0;o<h.length;o++)m=Math.min(m,h[o].x),c=Math.max(c,h[o].x),u=Math.min(u,h[o].y),l=Math.max(l,h[o].y);return i.x=m,i.y=u,i.width=c-m,i.height=l-u,i},"MergePoints");n.exports=T}),20074:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=Math.min(i.x,h.x),c=Math.max(i.right,h.right);i.x=m,i.width=c-m;var u=Math.min(i.y,h.y),l=Math.max(i.bottom,h.bottom);return i.y=u,i.height=l-u,i},"MergeRect");n.exports=T}),92171:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=Math.min(i.x,h),u=Math.max(i.right,h);i.x=c,i.width=u-c;var l=Math.min(i.y,m),o=Math.max(i.bottom,m);return i.y=l,i.height=o-l,i},"MergeXY");n.exports=T}),42981:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i.x+=h,i.y+=m,i},"Offset");n.exports=T}),46907:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x+=h.x,i.y+=h.y,i},"OffsetPoint");n.exports=T}),60170:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x<h.right&&i.right>h.x&&i.y<h.bottom&&i.bottom>h.y},"Overlaps");n.exports=T}),13019:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 2*(i.width+i.height)},"Perimeter");n.exports=T}),85133:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=i(39506),c=r(function(u,l,o){o===void 0&&(o=new h),l=m(l);var d=Math.sin(l),v=Math.cos(l),f=v>0?u.width/2:u.width/-2,p=d>0?u.height/2:u.height/-2;return Math.abs(f*d)<Math.abs(p*v)?p=f*d/v:f=p*v/d,o.x=f+u.centerX,o.y=p+u.centerY,o},"PerimeterPoint");n.exports=c}),26597:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){return u===void 0&&(u=new h),u.x=c.x+Math.random()*c.width,u.y=c.y+Math.random()*c.height,u},"Random");n.exports=m}),86470:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30976),m=i(70273),c=i(2141),u=r(function(l,o,d){if(d===void 0&&(d=new c),m(l,o))switch(h(0,3)){case 0:d.x=l.x+Math.random()*(o.right-l.x),d.y=l.y+Math.random()*(o.top-l.y);break;case 1:d.x=o.x+Math.random()*(l.right-o.x),d.y=o.bottom+Math.random()*(l.bottom-o.bottom);break;case 2:d.x=l.x+Math.random()*(o.x-l.x),d.y=o.y+Math.random()*(l.bottom-o.y);break;case 3:d.x=o.right+Math.random()*(l.right-o.right),d.y=l.y+Math.random()*(o.bottom-l.y);break}return d},"RandomOutside");n.exports=u}),87841:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(37303),c=i(20812),u=i(34819),l=i(23777),o=i(23031),d=i(26597),v=new h({initialize:r(function(p,g,y,C){p===void 0&&(p=0),g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=0),this.type=l.RECTANGLE,this.x=p,this.y=g,this.width=y,this.height=C},"Rectangle"),contains:r(function(f,p){return m(this,f,p)},"contains"),getPoint:r(function(f,p){return c(this,f,p)},"getPoint"),getPoints:r(function(f,p,g){return u(this,f,p,g)},"getPoints"),getRandomPoint:r(function(f){return d(this,f)},"getRandomPoint"),setTo:r(function(f,p,g,y){return this.x=f,this.y=p,this.width=g,this.height=y,this},"setTo"),setEmpty:r(function(){return this.setTo(0,0,0,0)},"setEmpty"),setPosition:r(function(f,p){return p===void 0&&(p=f),this.x=f,this.y=p,this},"setPosition"),setSize:r(function(f,p){return p===void 0&&(p=f),this.width=f,this.height=p,this},"setSize"),isEmpty:r(function(){return this.width<=0||this.height<=0},"isEmpty"),getLineA:r(function(f){return f===void 0&&(f=new o),f.setTo(this.x,this.y,this.right,this.y),f},"getLineA"),getLineB:r(function(f){return f===void 0&&(f=new o),f.setTo(this.right,this.y,this.right,this.bottom),f},"getLineB"),getLineC:r(function(f){return f===void 0&&(f=new o),f.setTo(this.right,this.bottom,this.x,this.bottom),f},"getLineC"),getLineD:r(function(f){return f===void 0&&(f=new o),f.setTo(this.x,this.bottom,this.x,this.y),f},"getLineD"),left:{get:r(function(){return this.x},"get"),set:r(function(f){f>=this.right?this.width=0:this.width=this.right-f,this.x=f},"set")},right:{get:r(function(){return this.x+this.width},"get"),set:r(function(f){f<=this.x?this.width=0:this.width=f-this.x},"set")},top:{get:r(function(){return this.y},"get"),set:r(function(f){f>=this.bottom?this.height=0:this.height=this.bottom-f,this.y=f},"set")},bottom:{get:r(function(){return this.y+this.height},"get"),set:r(function(f){f<=this.y?this.height=0:this.height=f-this.y},"set")},centerX:{get:r(function(){return this.x+this.width/2},"get"),set:r(function(f){this.x=f-this.width/2},"set")},centerY:{get:r(function(){return this.y+this.height/2},"get"),set:r(function(f){this.y=f-this.height/2},"set")}});n.exports=v}),94845:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.width===h.width&&i.height===h.height},"SameDimensions");n.exports=T}),31730:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return m===void 0&&(m=h),i.width*=h,i.height*=m,i},"Scale");n.exports=T}),36899:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=r(function(c,u,l){l===void 0&&(l=new h);var o=Math.min(c.x,u.x),d=Math.min(c.y,u.y),v=Math.max(c.right,u.right)-o,f=Math.max(c.bottom,u.bottom)-d;return l.setTo(o,d,v,f)},"Union");n.exports=m}),93232:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841);h.Area=i(62224),h.Ceil=i(98615),h.CeilAll=i(31688),h.CenterOn=i(67502),h.Clone=i(65085),h.Contains=i(37303),h.ContainsPoint=i(96553),h.ContainsRect=i(70273),h.CopyFrom=i(43459),h.Decompose=i(77493),h.Equals=i(9219),h.FitInside=i(53751),h.FitOutside=i(16088),h.Floor=i(80774),h.FloorAll=i(83859),h.FromPoints=i(19217),h.FromXY=i(9477),h.GetAspectRatio=i(8249),h.GetCenter=i(27165),h.GetPoint=i(20812),h.GetPoints=i(34819),h.GetSize=i(51313),h.Inflate=i(86091),h.Intersection=i(53951),h.MarchingAnts=i(14649),h.MergePoints=i(33595),h.MergeRect=i(20074),h.MergeXY=i(92171),h.Offset=i(42981),h.OffsetPoint=i(46907),h.Overlaps=i(60170),h.Perimeter=i(13019),h.PerimeterPoint=i(85133),h.Random=i(26597),h.RandomOutside=i(86470),h.SameDimensions=i(94845),h.Scale=i(31730),h.Union=i(36899),n.exports=h}),41658:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h=i.x1,m=i.y1,c=i.x2,u=i.y2,l=i.x3,o=i.y3;return Math.abs(((l-h)*(u-m)-(c-h)*(o-m))/2)},"Area");n.exports=T}),39208:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16483),m=r(function(c,u,l){var o=l*(Math.sqrt(3)/2),d=c,v=u,f=c+l/2,p=u+o,g=c-l/2,y=u+o;return new h(d,v,f,p,g,y)},"BuildEquilateral");n.exports=m}),39545:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(94811),m=i(16483),c=r(function(u,l,o,d,v){l===void 0&&(l=null),o===void 0&&(o=1),d===void 0&&(d=1),v===void 0&&(v=[]);for(var f=h(u,l),p,g,y,C,S,E,w,M,R,O=0;O<f.length;O+=3)p=f[O],g=f[O+1],y=f[O+2],C=u[p*2]*o,S=u[p*2+1]*d,E=u[g*2]*o,w=u[g*2+1]*d,M=u[y*2]*o,R=u[y*2+1]*d,v.push(new m(C,S,E,w,M,R));return v},"BuildFromPolygon");n.exports=c}),90301:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16483),m=r(function(c,u,l,o){o===void 0&&(o=l);var d=c,v=u,f=c,p=u-o,g=c+l,y=u;return new h(d,v,f,p,g,y)},"BuildRight");n.exports=m}),23707:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(97523),m=i(13584),c=r(function(u,l,o,d){d===void 0&&(d=h);var v=d(u),f=l-v.x,p=o-v.y;return m(u,f,p)},"CenterOn");n.exports=c}),97523:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){return u===void 0&&(u=new h),u.x=(c.x1+c.x2+c.x3)/3,u.y=(c.y1+c.y2+c.y3)/3,u},"Centroid");n.exports=m}),24951:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099);function m(u,l,o,d){return u*d-l*o}r(m,"det");var c=r(function(u,l){l===void 0&&(l=new h);var o=u.x3,d=u.y3,v=u.x1-o,f=u.y1-d,p=u.x2-o,g=u.y2-d,y=2*m(v,f,p,g),C=m(f,v*v+f*f,g,p*p+g*g),S=m(v,v*v+f*f,p,p*p+g*g);return l.x=o-C/y,l.y=d+S/y,l},"CircumCenter");n.exports=c}),85614:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503),m=r(function(c,u){u===void 0&&(u=new h);var l=c.x1,o=c.y1,d=c.x2,v=c.y2,f=c.x3,p=c.y3,g=d-l,y=v-o,C=f-l,S=p-o,E=g*(l+d)+y*(o+v),w=C*(l+f)+S*(o+p),M=2*(g*(p-v)-y*(f-d)),R,O;if(Math.abs(M)<1e-6){var b=Math.min(l,d,f),A=Math.min(o,v,p);R=(Math.max(l,d,f)-b)*.5,O=(Math.max(o,v,p)-A)*.5,u.x=b+R,u.y=A+O,u.radius=Math.sqrt(R*R+O*O)}else u.x=(S*E-y*w)/M,u.y=(g*w-C*E)/M,R=u.x-l,O=u.y-o,u.radius=Math.sqrt(R*R+O*O);return u},"CircumCircle");n.exports=m}),74422:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16483),m=r(function(c){return new h(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},"Clone");n.exports=m}),10690:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=i.x3-i.x1,u=i.y3-i.y1,l=i.x2-i.x1,o=i.y2-i.y1,d=h-i.x1,v=m-i.y1,f=c*c+u*u,p=c*l+u*o,g=c*d+u*v,y=l*l+o*o,C=l*d+o*v,S=f*y-p*p,E=S===0?0:1/S,w=(y*g-p*C)*E,M=(f*C-p*g)*E;return w>=0&&M>=0&&w+M<1},"Contains");n.exports=T}),48653:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m===void 0&&(m=!1),c===void 0&&(c=[]);for(var u=i.x3-i.x1,l=i.y3-i.y1,o=i.x2-i.x1,d=i.y2-i.y1,v=u*u+l*l,f=u*o+l*d,p=o*o+d*d,g=v*p-f*f,y=g===0?0:1/g,C,S,E,w,M,R,O=i.x1,b=i.y1,A=0;A<h.length&&(E=h[A].x-O,w=h[A].y-b,M=u*E+l*w,R=o*E+d*w,C=(p*M-f*R)*y,S=(v*R-f*M)*y,!(C>=0&&S>=0&&C+S<1&&(c.push({x:h[A].x,y:h[A].y}),m)));A++);return c},"ContainsArray");n.exports=T}),96006:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10690),m=r(function(c,u){return h(c,u.x,u.y)},"ContainsPoint");n.exports=m}),71326:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h.setTo(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)},"CopyFrom");n.exports=T}),71694:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h=[]),h.push({x:i.x1,y:i.y1}),h.push({x:i.x2,y:i.y2}),h.push({x:i.x3,y:i.y3}),h},"Decompose");n.exports=T}),33522:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.x1===h.x1&&i.y1===h.y1&&i.x2===h.x2&&i.y2===h.y2&&i.x3===h.x3&&i.y3===h.y3},"Equals");n.exports=T}),20437:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=i(35001),c=r(function(u,l,o){o===void 0&&(o=new h);var d=u.getLineA(),v=u.getLineB(),f=u.getLineC();if(l<=0||l>=1)return o.x=d.x1,o.y=d.y1,o;var p=m(d),g=m(v),y=m(f),C=p+g+y,S=C*l,E=0;return S<p?(E=S/p,o.x=d.x1+(d.x2-d.x1)*E,o.y=d.y1+(d.y2-d.y1)*E):S>p+g?(S-=p+g,E=S/y,o.x=f.x1+(f.x2-f.x1)*E,o.y=f.y1+(f.y2-f.y1)*E):(S-=p,E=S/g,o.x=v.x1+(v.x2-v.x1)*E,o.y=v.y1+(v.y2-v.y1)*E),o},"GetPoint");n.exports=c}),80672:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),m=i(2141),c=r(function(u,l,o,d){d===void 0&&(d=[]);var v=u.getLineA(),f=u.getLineB(),p=u.getLineC(),g=h(v),y=h(f),C=h(p),S=g+y+C;!l&&o>0&&(l=S/o);for(var E=0;E<l;E++){var w=S*(E/l),M=0,R=new m;w<g?(M=w/g,R.x=v.x1+(v.x2-v.x1)*M,R.y=v.y1+(v.y2-v.y1)*M):w>g+y?(w-=g+y,M=w/C,R.x=p.x1+(p.x2-p.x1)*M,R.y=p.y1+(p.y2-p.y1)*M):(w-=g,M=w/y,R.x=f.x1+(f.x2-f.x1)*M,R.y=f.y1+(f.y2-f.y1)*M),d.push(R)}return d},"GetPoints");n.exports=c}),39757:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141);function m(u,l,o,d){var v=u-o,f=l-d,p=v*v+f*f;return Math.sqrt(p)}r(m,"getLength");var c=r(function(u,l){l===void 0&&(l=new h);var o=u.x1,d=u.y1,v=u.x2,f=u.y2,p=u.x3,g=u.y3,y=m(p,g,v,f),C=m(o,d,p,g),S=m(v,f,o,d),E=y+C+S;return l.x=(o*y+v*C+p*S)/E,l.y=(d*y+f*C+g*S)/E,l},"InCenter");n.exports=c}),13584:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i.x1+=h,i.y1+=m,i.x2+=h,i.y2+=m,i.x3+=h,i.y3+=m,i},"Offset");n.exports=T}),1376:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),m=r(function(c){var u=c.getLineA(),l=c.getLineB(),o=c.getLineC();return h(u)+h(l)+h(o)},"Perimeter");n.exports=m}),90260:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),m=r(function(c,u){u===void 0&&(u=new h);var l=c.x2-c.x1,o=c.y2-c.y1,d=c.x3-c.x1,v=c.y3-c.y1,f=Math.random(),p=Math.random();return f+p>=1&&(f=1-f,p=1-p),u.x=c.x1+(l*f+d*p),u.y=c.y1+(o*f+v*p),u},"Random");n.exports=m}),52172:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99614),m=i(39757),c=r(function(u,l){var o=m(u);return h(u,o.x,o.y,l)},"Rotate");n.exports=c}),49907:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99614),m=r(function(c,u,l){return h(c,u.x,u.y,l)},"RotateAroundPoint");n.exports=m}),99614:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=Math.cos(c),l=Math.sin(c),o=i.x1-h,d=i.y1-m;return i.x1=o*u-d*l+h,i.y1=o*l+d*u+m,o=i.x2-h,d=i.y2-m,i.x2=o*u-d*l+h,i.y2=o*l+d*u+m,o=i.x3-h,d=i.y3-m,i.x3=o*u-d*l+h,i.y3=o*l+d*u+m,i},"RotateAroundXY");n.exports=T}),16483:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(10690),c=i(20437),u=i(80672),l=i(23777),o=i(23031),d=i(90260),v=new h({initialize:r(function(p,g,y,C,S,E){p===void 0&&(p=0),g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=0),E===void 0&&(E=0),this.type=l.TRIANGLE,this.x1=p,this.y1=g,this.x2=y,this.y2=C,this.x3=S,this.y3=E},"Triangle"),contains:r(function(f,p){return m(this,f,p)},"contains"),getPoint:r(function(f,p){return c(this,f,p)},"getPoint"),getPoints:r(function(f,p,g){return u(this,f,p,g)},"getPoints"),getRandomPoint:r(function(f){return d(this,f)},"getRandomPoint"),setTo:r(function(f,p,g,y,C,S){return f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=0),this.x1=f,this.y1=p,this.x2=g,this.y2=y,this.x3=C,this.y3=S,this},"setTo"),getLineA:r(function(f){return f===void 0&&(f=new o),f.setTo(this.x1,this.y1,this.x2,this.y2),f},"getLineA"),getLineB:r(function(f){return f===void 0&&(f=new o),f.setTo(this.x2,this.y2,this.x3,this.y3),f},"getLineB"),getLineC:r(function(f){return f===void 0&&(f=new o),f.setTo(this.x3,this.y3,this.x1,this.y1),f},"getLineC"),left:{get:r(function(){return Math.min(this.x1,this.x2,this.x3)},"get"),set:r(function(f){var p=0;this.x1<=this.x2&&this.x1<=this.x3?p=this.x1-f:this.x2<=this.x1&&this.x2<=this.x3?p=this.x2-f:p=this.x3-f,this.x1-=p,this.x2-=p,this.x3-=p},"set")},right:{get:r(function(){return Math.max(this.x1,this.x2,this.x3)},"get"),set:r(function(f){var p=0;this.x1>=this.x2&&this.x1>=this.x3?p=this.x1-f:this.x2>=this.x1&&this.x2>=this.x3?p=this.x2-f:p=this.x3-f,this.x1-=p,this.x2-=p,this.x3-=p},"set")},top:{get:r(function(){return Math.min(this.y1,this.y2,this.y3)},"get"),set:r(function(f){var p=0;this.y1<=this.y2&&this.y1<=this.y3?p=this.y1-f:this.y2<=this.y1&&this.y2<=this.y3?p=this.y2-f:p=this.y3-f,this.y1-=p,this.y2-=p,this.y3-=p},"set")},bottom:{get:r(function(){return Math.max(this.y1,this.y2,this.y3)},"get"),set:r(function(f){var p=0;this.y1>=this.y2&&this.y1>=this.y3?p=this.y1-f:this.y2>=this.y1&&this.y2>=this.y3?p=this.y2-f:p=this.y3-f,this.y1-=p,this.y2-=p,this.y3-=p},"set")}});n.exports=v}),84435:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16483);h.Area=i(41658),h.BuildEquilateral=i(39208),h.BuildFromPolygon=i(39545),h.BuildRight=i(90301),h.CenterOn=i(23707),h.Centroid=i(97523),h.CircumCenter=i(24951),h.CircumCircle=i(85614),h.Clone=i(74422),h.Contains=i(10690),h.ContainsArray=i(48653),h.ContainsPoint=i(96006),h.CopyFrom=i(71326),h.Decompose=i(71694),h.Equals=i(33522),h.GetPoint=i(20437),h.GetPoints=i(80672),h.InCenter=i(39757),h.Perimeter=i(1376),h.Offset=i(13584),h.Random=i(90260),h.Rotate=i(52172),h.RotateAroundPoint=i(49907),h.RotateAroundXY=i(99614),n.exports=h}),74457:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return{gameObject:i,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}},"CreateInteractiveObject");n.exports=T}),84409:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return function(m,c,u,l){var o=i.getPixelAlpha(c,u,l.texture.key,l.frame.name);return o&&o>=h}},"CreatePixelPerfectHandler");n.exports=T}),7003:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(93301),c=i(50792),u=i(8214),l=i(8443),o=i(78970),d=i(85098),v=i(42515),f=i(36210),p=i(61340),g=i(85955),y=new h({initialize:r(function(S,E){this.game=S,this.scaleManager,this.canvas,this.config=E,this.enabled=!0,this.events=new c,this.isOver=!0,this.defaultCursor="",this.keyboard=E.inputKeyboard?new o(this):null,this.mouse=E.inputMouse?new d(this):null,this.touch=E.inputTouch?new f(this):null,this.pointers=[],this.pointersTotal=E.inputActivePointers;for(var w=0;w<=this.pointersTotal;w++){var M=new v(this,w);M.smoothFactor=E.inputSmoothFactor,this.pointers.push(M)}this.mousePointer=E.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new p,this._tempMatrix2=new p,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],S.events.once(l.BOOT,this.boot,this)},"InputManager"),boot:r(function(){var C=this.game,S=C.events;this.canvas=C.canvas,this.scaleManager=C.scale,this.events.emit(u.MANAGER_BOOT),S.on(l.PRE_RENDER,this.preRender,this),S.once(l.DESTROY,this.destroy,this)},"boot"),setCanvasOver:r(function(C){this.isOver=!0,this.events.emit(u.GAME_OVER,C)},"setCanvasOver"),setCanvasOut:r(function(C){this.isOver=!1,this.events.emit(u.GAME_OUT,C)},"setCanvasOut"),preRender:r(function(){var C=this.game.loop.now,S=this.game.loop.delta,E=this.game.scene.getScenes(!0,!0);this.time=C,this.events.emit(u.MANAGER_UPDATE);for(var w=0;w<E.length;w++){var M=E[w];if(M.sys.input&&M.sys.input.updatePoll(C,S)&&this.globalTopOnly)return}},"preRender"),setDefaultCursor:r(function(C){this.defaultCursor=C,this.canvas.style.cursor!==C&&(this.canvas.style.cursor=C)},"setDefaultCursor"),setCursor:r(function(C){C.cursor&&(this.canvas.style.cursor=C.cursor)},"setCursor"),resetCursor:r(function(C,S){(S||C&&C.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},"resetCursor"),addPointer:r(function(C){C===void 0&&(C=1);var S=[];this.pointersTotal+C>10&&(C=10-this.pointersTotal);for(var E=0;E<C;E++){var w=this.pointers.length,M=new v(this,w);M.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(M),this.pointersTotal++,S.push(M)}return S},"addPointer"),updateInputPlugins:r(function(C,S){var E=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var w=0;w<E.length;w++){var M=E[w];if(M.sys.input){var R=M.sys.input.update(C,S);if(R&&this.globalTopOnly||this._tempSkip)return}}},"updateInputPlugins"),onTouchStart:r(function(C){for(var S=this.pointers,E=[],w=0;w<C.changedTouches.length;w++)for(var M=C.changedTouches[w],R=1;R<S.length;R++){var O=S[R];if(!O.active){O.touchstart(M,C),this.activePointer=O,E.push(O);break}}this.updateInputPlugins(m.TOUCH_START,E)},"onTouchStart"),onTouchMove:r(function(C){for(var S=this.pointers,E=[],w=0;w<C.changedTouches.length;w++)for(var M=C.changedTouches[w],R=1;R<S.length;R++){var O=S[R];if(O.active&&O.identifier===M.identifier){var b=document.elementFromPoint(M.clientX,M.clientY),A=b===this.canvas;!this.isOver&&A?this.setCanvasOver(C):this.isOver&&!A&&this.setCanvasOut(C),this.isOver&&(O.touchmove(M,C),this.activePointer=O,E.push(O));break}}this.updateInputPlugins(m.TOUCH_MOVE,E)},"onTouchMove"),onTouchEnd:r(function(C){for(var S=this.pointers,E=[],w=0;w<C.changedTouches.length;w++)for(var M=C.changedTouches[w],R=1;R<S.length;R++){var O=S[R];if(O.active&&O.identifier===M.identifier){O.touchend(M,C),E.push(O);break}}this.updateInputPlugins(m.TOUCH_END,E)},"onTouchEnd"),onTouchCancel:r(function(C){for(var S=this.pointers,E=[],w=0;w<C.changedTouches.length;w++)for(var M=C.changedTouches[w],R=1;R<S.length;R++){var O=S[R];if(O.active&&O.identifier===M.identifier){O.touchcancel(M,C),E.push(O);break}}this.updateInputPlugins(m.TOUCH_CANCEL,E)},"onTouchCancel"),onMouseDown:r(function(C){var S=this.mousePointer;S.down(C),S.updateMotion(),this.activePointer=S,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},"onMouseDown"),onMouseMove:r(function(C){var S=this.mousePointer;S.move(C),S.updateMotion(),this.activePointer=S,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},"onMouseMove"),onMouseUp:r(function(C){var S=this.mousePointer;S.up(C),S.updateMotion(),this.activePointer=S,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},"onMouseUp"),onMouseWheel:r(function(C){var S=this.mousePointer;S.wheel(C),this.activePointer=S,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},"onMouseWheel"),onPointerLockChange:r(function(C){var S=this.mouse.locked;this.mousePointer.locked=S,this.events.emit(u.POINTERLOCK_CHANGE,C,S)},"onPointerLockChange"),inputCandidate:r(function(C,S){var E=C.input;if(!E||!E.enabled||!C.willRender(S))return!1;var w=!0,M=C.parentContainer;if(M)do{if(!M.willRender(S)){w=!1;break}M=M.parentContainer}while(M);return w},"inputCandidate"),hitTest:r(function(C,S,E,w){w===void 0&&(w=this._tempHitTest);var M=this._tempPoint,R=E.scrollX,O=E.scrollY;w.length=0;var b=C.x,A=C.y;E.getWorldPoint(b,A,M),C.worldX=M.x,C.worldY=M.y;for(var I={x:0,y:0},L=this._tempMatrix,F=this._tempMatrix2,D=0;D<S.length;D++){var B=S[D];if(this.inputCandidate(B,E)){var V=M.x+R*B.scrollFactorX-R,U=M.y+O*B.scrollFactorY-O;B.parentContainer?(B.getWorldTransformMatrix(L,F),L.applyInverse(V,U,I)):g(V,U,B.x,B.y,B.rotation,B.scaleX,B.scaleY,I),this.pointWithinHitArea(B,I.x,I.y)&&w.push(B)}}return w},"hitTest"),pointWithinHitArea:r(function(C,S,E){S+=C.displayOriginX,E+=C.displayOriginY;var w=C.input;return w&&w.hitAreaCallback(w.hitArea,S,E,C)?(w.localX=S,w.localY=E,!0):!1},"pointWithinHitArea"),pointWithinInteractiveObject:r(function(C,S,E){return C.hitArea?(S+=C.gameObject.displayOriginX,E+=C.gameObject.displayOriginY,C.localX=S,C.localY=E,C.hitAreaCallback(C.hitArea,S,E,C)):!1},"pointWithinInteractiveObject"),transformPointer:r(function(C,S,E,w){var M=C.position,R=C.prevPosition;R.x=M.x,R.y=M.y;var O=this.scaleManager.transformX(S),b=this.scaleManager.transformY(E),A=C.smoothFactor;!w||A===0?(M.x=O,M.y=b):(M.x=O*A+R.x*(1-A),M.y=b*A+R.y*(1-A))},"transformPointer"),destroy:r(function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var C=0;C<this.pointers.length;C++)this.pointers[C].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null},"destroy")});n.exports=y}),48205:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503),m=i(87902),c=i(83419),u=i(93301),l=i(74457),o=i(84409),d=i(20339),v=i(8497),f=i(81154),p=i(8214),g=i(50792),y=i(95540),C=i(23777),S=i(89639),E=i(41212),w=i(37277),M=i(87841),R=i(37303),O=i(44594),b=i(16483),A=i(10690),I=new c({Extends:g,initialize:r(function(F){g.call(this),this.scene=F,this.systems=F.sys,this.settings=F.sys.settings,this.manager=F.sys.game.input,this.pluginEvents=new g,this.enabled=!0,this.displayList,this.cameras,S.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:r(function(){D.cancelled=!0},"stopPropagation")},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,F.sys.events.once(O.BOOT,this.boot,this),F.sys.events.on(O.START,this.start,this)},"InputPlugin"),boot:r(function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(O.DESTROY,this.destroy,this),this.pluginEvents.emit(p.BOOT)},"boot"),start:r(function(){var L=this.systems.events;L.on(O.TRANSITION_START,this.transitionIn,this),L.on(O.TRANSITION_OUT,this.transitionOut,this),L.on(O.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(O.PRE_UPDATE,this.preUpdate,this),L.once(O.SHUTDOWN,this.shutdown,this),this.manager.events.on(p.GAME_OUT,this.onGameOut,this),this.manager.events.on(p.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(p.START)},"start"),onGameOver:r(function(L){this.isActive()&&this.emit(p.GAME_OVER,L.timeStamp,L)},"onGameOver"),onGameOut:r(function(L){this.isActive()&&this.emit(p.GAME_OUT,L.timeStamp,L)},"onGameOut"),preUpdate:r(function(){this.pluginEvents.emit(p.PRE_UPDATE);var L=this._pendingRemoval,F=this._pendingInsertion,D=L.length,B=F.length;if(!(D===0&&B===0)){for(var V=this._list,U=0;U<D;U++){var W=L[U],Y=V.indexOf(W);Y>-1&&(V.splice(Y,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=V.concat(F.splice(0))}},"preUpdate"),isActive:r(function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},"isActive"),setCursor:r(function(L){this.manager&&this.manager.setCursor(L)},"setCursor"),resetCursor:r(function(){this.manager&&this.manager.resetCursor(null,!0)},"resetCursor"),updatePoll:r(function(L,F){if(!this.isActive())return!1;if(this.pluginEvents.emit(p.UPDATE,L,F),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,B=this.manager,V=B.pointers;for(D=0;D<V.length;D++)V[D].updateMotion();if(this._list.length===0)return!1;var U=this.pollRate;if(U===-1)return!1;if(U>0)if(this._pollTimer-=F,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var W=!1;for(D=0;D<V.length;D++){var Y=0,N=V[D];this._tempZones=[],this._temp=this.hitTestPointer(N),this.sortGameObjects(this._temp,N),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(N),this.getDragState(N)===2&&this.processDragThresholdEvent(N,L),Y>0&&(W=!0)}return W},"updatePoll"),update:r(function(L,F){if(!this.isActive())return!1;for(var D=!1,B=0;B<F.length;B++){var V=0,U=F[B];switch(this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case u.MOUSE_DOWN:V+=this.processDragDownEvent(U),V+=this.processDownEvents(U),V+=this.processOverOutEvents(U);break;case u.MOUSE_UP:V+=this.processDragUpEvent(U),V+=this.processUpEvents(U),V+=this.processOverOutEvents(U);break;case u.TOUCH_START:V+=this.processDragDownEvent(U),V+=this.processDownEvents(U),V+=this.processOverEvents(U);break;case u.TOUCH_END:case u.TOUCH_CANCEL:V+=this.processDragUpEvent(U),V+=this.processUpEvents(U),V+=this.processOutEvents(U);break;case u.MOUSE_MOVE:case u.TOUCH_MOVE:V+=this.processDragMoveEvent(U),V+=this.processMoveEvents(U),V+=this.processOverOutEvents(U);break;case u.MOUSE_WHEEL:V+=this.processWheelEvent(U);break}V>0&&(D=!0)}return this._updatedThisFrame=!0,D},"update"),clear:r(function(L,F){F===void 0&&(F=!1),this.disable(L);var D=L.input;D&&(this.removeDebug(L),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,L.input=null),F||this.queueForRemoval(L);var B=this._draggable.indexOf(L);return B>-1&&this._draggable.splice(B,1),L},"clear"),disable:r(function(L,F){F===void 0&&(F=!1);var D=L.input;D&&(D.enabled=!1,D.dragState=0);for(var B=this._drag,V=this._over,U=this.manager,W=0,Y;W<U.pointers.length;W++)Y=B[W].indexOf(L),Y>-1&&B[W].splice(Y,1),Y=V[W].indexOf(L),Y>-1&&V[W].splice(Y,1);return F&&this.resetCursor(),this},"disable"),enable:r(function(L,F,D,B){return B===void 0&&(B=!1),L.input?L.input.enabled=!0:this.setHitArea(L,F,D),L.input&&B&&!L.input.dropZone&&(L.input.dropZone=B),this},"enable"),hitTestPointer:r(function(L){for(var F=this.cameras.getCamerasBelowPointer(L),D=0;D<F.length;D++){for(var B=F[D],V=this.manager.hitTest(L,this._list,B),U=0;U<V.length;U++){var W=V[U];W.input.dropZone&&this._tempZones.push(W)}if(V.length>0)return L.camera=B,V}return L.camera=F[0],[]},"hitTestPointer"),processDownEvents:r(function(L){var F=0,D=this._temp,B=this._eventData,V=this._eventContainer;B.cancelled=!1;for(var U=0;U<D.length;U++){var W=D[U];if(!(!W.input||!W.input.enabled)&&(F++,W.emit(p.GAMEOBJECT_POINTER_DOWN,L,W.input.localX,W.input.localY,V),B.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(p.GAMEOBJECT_DOWN,L,W,V),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&(L.downElement===this.manager.game.canvas?this.emit(p.POINTER_DOWN,L,D):this.emit(p.POINTER_DOWN_OUTSIDE,L)),F},"processDownEvents"),getDragState:r(function(L){return this._dragState[L.id]},"getDragState"),setDragState:r(function(L,F){this._dragState[L.id]=F},"setDragState"),processDragThresholdEvent:r(function(L,F){var D=!1,B=this.dragTimeThreshold,V=this.dragDistanceThreshold;if((V>0&&d(L.x,L.y,L.downX,L.downY)>=V||B>0&&F>=L.downTime+B)&&(D=!0),D)return this.setDragState(L,3),this.processDragStartList(L)},"processDragThresholdEvent"),processDragStartList:r(function(L){if(this.getDragState(L)!==3)return 0;var F=this._drag[L.id];F.length>1&&(F=F.slice(0));for(var D=0;D<F.length;D++){var B=F[D],V=B.input;V.dragState=2,V.dragStartX=B.x,V.dragStartY=B.y,V.dragStartXGlobal=L.worldX,V.dragStartYGlobal=L.worldY,V.dragStartCamera=L.camera,V.dragX=V.dragStartXGlobal-V.dragStartX,V.dragY=V.dragStartYGlobal-V.dragStartY,B.emit(p.GAMEOBJECT_DRAG_START,L,V.dragX,V.dragY),this.emit(p.DRAG_START,L,B)}return this.setDragState(L,4),F.length},"processDragStartList"),processDragDownEvent:r(function(L){var F=this._temp;if(this._draggable.length===0||F.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var D=[],B=0;B<F.length;B++){var V=F[B];V.input.draggable&&V.input.dragState===0&&D.push(V)}return D.length===0?(this.setDragState(L,0),0):(D.length>1&&(this.sortGameObjects(D,L),this.topOnly&&D.splice(1)),this._drag[L.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},"processDragDownEvent"),processDragMoveEvent:r(function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;var F=this._tempZones,D=this._drag[L.id];D.length>1&&(D=D.slice(0));for(var B=0;B<D.length;B++){var V=D[B],U=V.input,W=U.target;if(W){var Y=F.indexOf(W);Y===0?(V.emit(p.GAMEOBJECT_DRAG_OVER,L,W),this.emit(p.DRAG_OVER,L,V,W)):Y>0?(V.emit(p.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(p.DRAG_LEAVE,L,V,W),U.target=F[0],W=U.target,V.emit(p.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(p.DRAG_ENTER,L,V,W)):(V.emit(p.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(p.DRAG_LEAVE,L,V,W),F[0]?(U.target=F[0],W=U.target,V.emit(p.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(p.DRAG_ENTER,L,V,W)):U.target=null)}else!W&&F[0]&&(U.target=F[0],W=U.target,V.emit(p.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(p.DRAG_ENTER,L,V,W));var N,z,G=L.positionToCamera(U.dragStartCamera);if(!V.parentContainer)N=G.x-U.dragX,z=G.y-U.dragY;else{var X=G.x-U.dragStartXGlobal,k=G.y-U.dragStartYGlobal,H=V.getParentRotation(),$=X*Math.cos(H)+k*Math.sin(H),K=k*Math.cos(H)-X*Math.sin(H);$*=1/V.parentContainer.scaleX,K*=1/V.parentContainer.scaleY,N=$+U.dragStartX,z=K+U.dragStartY}V.emit(p.GAMEOBJECT_DRAG,L,N,z),this.emit(p.DRAG,L,V,N,z)}return D.length},"processDragMoveEvent"),processDragUpEvent:r(function(L){var F=this._drag[L.id];F.length>1&&(F=F.slice(0));for(var D=0;D<F.length;D++){var B=F[D],V=B.input;if(V&&V.dragState===2){V.dragState=0,V.dragX=V.localX-B.displayOriginX,V.dragY=V.localY-B.displayOriginY,V.dragStartCamera=null;var U=!1,W=V.target;W&&(B.emit(p.GAMEOBJECT_DROP,L,W),this.emit(p.DROP,L,B,W),V.target=null,U=!0),B.input&&B.input.enabled&&(B.emit(p.GAMEOBJECT_DRAG_END,L,V.dragX,V.dragY,U),this.emit(p.DRAG_END,L,B,U))}}return this.setDragState(L,0),F.splice(0),0},"processDragUpEvent"),processMoveEvents:r(function(L){var F=0,D=this._temp,B=this._eventData,V=this._eventContainer;B.cancelled=!1;for(var U=0;U<D.length;U++){var W=D[U];if(!(!W.input||!W.input.enabled)&&(F++,W.emit(p.GAMEOBJECT_POINTER_MOVE,L,W.input.localX,W.input.localY,V),B.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(p.GAMEOBJECT_MOVE,L,W,V),B.cancelled||!this.isActive()||this.topOnly)))break}return!B.cancelled&&this.isActive()&&this.emit(p.POINTER_MOVE,L,D),F},"processMoveEvents"),processWheelEvent:r(function(L){var F=0,D=this._temp,B=this._eventData,V=this._eventContainer;B.cancelled=!1;for(var U=L.deltaX,W=L.deltaY,Y=L.deltaZ,N=0;N<D.length;N++){var z=D[N];if(!(!z.input||!z.input.enabled)&&(F++,z.emit(p.GAMEOBJECT_POINTER_WHEEL,L,U,W,Y,V),B.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(p.GAMEOBJECT_WHEEL,L,z,U,W,Y,V),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&this.emit(p.POINTER_WHEEL,L,D,U,W,Y),F},"processWheelEvent"),processOverEvents:r(function(L){var F=this._temp,D=0,B=F.length,V=[];if(B>0){var U=this.manager,W=this._eventData,Y=this._eventContainer;W.cancelled=!1;for(var N=0;N<B;N++){var z=F[N];if(!(!z.input||!z.input.enabled)&&(V.push(z),U.setCursor(z.input),z.emit(p.GAMEOBJECT_POINTER_OVER,L,z.input.localX,z.input.localY,Y),D++,W.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(p.GAMEOBJECT_OVER,L,z,Y),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(p.POINTER_OVER,L,V)}return this._over[L.id]=V,D},"processOverEvents"),processOutEvents:r(function(L){var F=this._over[L.id],D=0,B=F.length;if(B>0){var V=this.manager,U=this._eventData,W=this._eventContainer;U.cancelled=!1,this.sortGameObjects(F,L);for(var Y=0;Y<B;Y++){var N=F[Y];if(N=F[Y],!(!N.input||!N.input.enabled)&&(V.resetCursor(N.input),N.emit(p.GAMEOBJECT_POINTER_OUT,L,W),D++,U.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(p.GAMEOBJECT_OUT,L,N,W),U.cancelled||!this.isActive())))break}!U.cancelled&&this.isActive()&&this.emit(p.POINTER_OUT,L,F),this._over[L.id]=[]}return D},"processOutEvents"),processOverOutEvents:r(function(L){var F=this._temp,D,B,V=[],U=[],W=[],Y=this._over[L.id],N=this._drag[L.id],z=this.manager;for(D=0;D<Y.length;D++)B=Y[D],F.indexOf(B)===-1&&N.indexOf(B)===-1?V.push(B):W.push(B);for(D=0;D<F.length;D++)B=F[D],Y.indexOf(B)===-1&&U.push(B);var G=V.length,X=0,k=this._eventData,H=this._eventContainer;if(k.cancelled=!1,G>0){for(this.sortGameObjects(V,L),D=0;D<G&&(B=V[D],!(!(!B.input||!B.input.enabled)&&(z.resetCursor(B.input),B.emit(p.GAMEOBJECT_POINTER_OUT,L,H),X++,k.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(p.GAMEOBJECT_OUT,L,B,H),k.cancelled||!this.isActive()))));D++);(!k.cancelled||this.isActive())&&this.emit(p.POINTER_OUT,L,V)}if(G=U.length,k.cancelled=!1,G>0){for(this.sortGameObjects(U,L),D=0;D<G&&(B=U[D],!(!(!B.input||!B.input.enabled)&&(z.setCursor(B.input),B.emit(p.GAMEOBJECT_POINTER_OVER,L,B.input.localX,B.input.localY,H),X++,k.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(p.GAMEOBJECT_OVER,L,B,H),k.cancelled||!this.isActive()))));D++);!k.cancelled&&this.isActive()&&this.emit(p.POINTER_OVER,L,U)}return Y=W.concat(U),this._over[L.id]=this.sortGameObjects(Y,L),X},"processOverOutEvents"),processUpEvents:r(function(L){var F=this._temp,D=this._eventData,B=this._eventContainer;D.cancelled=!1;for(var V=0;V<F.length;V++){var U=F[V];if(!(!U.input||!U.input.enabled)&&(U.emit(p.GAMEOBJECT_POINTER_UP,L,U.input.localX,U.input.localY,B),D.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(p.GAMEOBJECT_UP,L,U,B),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(L.upElement===this.manager.game.canvas?this.emit(p.POINTER_UP,L,F):this.emit(p.POINTER_UP_OUTSIDE,L)),F.length},"processUpEvents"),forceDownState:r(function(L,F){this.forceState(L,F,p.GAMEOBJECT_POINTER_DOWN,p.GAMEOBJECT_DOWN,!1)},"forceDownState"),forceUpState:r(function(L,F){this.forceState(L,F,p.GAMEOBJECT_POINTER_UP,p.GAMEOBJECT_UP,!1)},"forceUpState"),forceOverState:r(function(L,F){this.forceState(L,F,p.GAMEOBJECT_POINTER_OVER,p.GAMEOBJECT_OVER,!0)},"forceOverState"),forceOutState:r(function(L,F){this.forceState(L,F,p.GAMEOBJECT_POINTER_OUT,p.GAMEOBJECT_OUT,!1)},"forceOutState"),forceState:r(function(L,F,D,B,V){var U=this._eventData,W=this._eventContainer;U.cancelled=!1,F.input&&F.input.enabled&&(F.emit(D,L,F.input.localX,F.input.localY,W),V&&this.setCursor(F.input),!U.cancelled&&this.isActive()&&F.input&&F.input.enabled&&this.emit(B,L,F,W))},"forceState"),queueForInsertion:r(function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},"queueForInsertion"),queueForRemoval:r(function(L){return this._pendingRemoval.push(L),this},"queueForRemoval"),setDraggable:r(function(L,F){F===void 0&&(F=!0),Array.isArray(L)||(L=[L]);for(var D=0;D<L.length;D++){var B=L[D];B.input.draggable=F;var V=this._draggable.indexOf(B);F&&V===-1?this._draggable.push(B):!F&&V>-1&&this._draggable.splice(V,1)}return this},"setDraggable"),makePixelPerfect:r(function(L){L===void 0&&(L=1);var F=this.systems.textures;return o(F,L)},"makePixelPerfect"),setHitArea:r(function(L,F,D){if(F===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var B=!1,V=!1,U=!1,W=!1,Y=!1,N=!0;if(E(F)&&Object.keys(F).length){var z=F,G=L.some(function(K){return K.hasOwnProperty("faces")});if(!G){F=y(z,"hitArea",null),D=y(z,"hitAreaCallback",null),Y=y(z,"pixelPerfect",!1);var X=y(z,"alphaTolerance",1);Y&&(F={},D=this.makePixelPerfect(X))}B=y(z,"draggable",!1),V=y(z,"dropZone",!1),U=y(z,"cursor",!1),W=y(z,"useHandCursor",!1),(!F||!D)&&(this.setHitAreaFromTexture(L),N=!1)}else typeof F=="function"&&!D&&(D=F,F={});for(var k=0;k<L.length;k++){var H=L[k];if(Y&&H.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var $=H.input?H.input:l(H,F,D);$.customHitArea=N,$.dropZone=V,$.cursor=W?"pointer":U,H.input=$,B&&this.setDraggable(H),this.queueForInsertion(H)}return this},"setHitArea"),setHitAreaCircle:r(function(L,F,D,B,V){V===void 0&&(V=m);var U=new h(F,D,B);return this.setHitArea(L,U,V)},"setHitAreaCircle"),setHitAreaEllipse:r(function(L,F,D,B,V,U){U===void 0&&(U=f);var W=new v(F,D,B,V);return this.setHitArea(L,W,U)},"setHitAreaEllipse"),setHitAreaFromTexture:r(function(L,F){F===void 0&&(F=R),Array.isArray(L)||(L=[L]);for(var D=0;D<L.length;D++){var B=L[D],V=B.frame,U=0,W=0;if(B.width?(U=B.width,W=B.height):V&&(U=V.realWidth,W=V.realHeight),B.type==="Container"&&(U===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}U!==0&&W!==0&&(B.input=l(B,new M(0,0,U,W),F),this.queueForInsertion(B))}return this},"setHitAreaFromTexture"),setHitAreaRectangle:r(function(L,F,D,B,V,U){U===void 0&&(U=R);var W=new M(F,D,B,V);return this.setHitArea(L,W,U)},"setHitAreaRectangle"),setHitAreaTriangle:r(function(L,F,D,B,V,U,W,Y){Y===void 0&&(Y=A);var N=new b(F,D,B,V,U,W);return this.setHitArea(L,N,Y)},"setHitAreaTriangle"),enableDebug:r(function(L,F){F===void 0&&(F=65280);var D=L.input;if(!D||!D.hitArea)return this;var B=D.hitArea,V=B.type,U=D.hitAreaDebug,W=this.systems.add,Y=this.systems.updateList;U&&(Y.remove(U),U.destroy(),U=null);var N=0,z=0;switch(V){case C.CIRCLE:U=W.arc(0,0,B.radius),N=B.x-B.radius,z=B.y-B.radius;break;case C.ELLIPSE:U=W.ellipse(0,0,B.width,B.height),N=B.x-B.width/2,z=B.y-B.height/2;break;case C.LINE:U=W.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case C.POLYGON:U=W.polygon(0,0,B.points);break;case C.RECTANGLE:U=W.rectangle(0,0,B.width,B.height),N=B.x,z=B.y;break;case C.TRIANGLE:U=W.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return U&&(U.isFilled=!1,U.strokeColor=F,U.preUpdate=function(){U.setVisible(L.visible),U.setStrokeStyle(1/L.scale,U.strokeColor),U.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var G=L.x,X=L.y,k=L.rotation,H=L.scaleX,$=L.scaleY;if(L.parentContainer){var K=L.getWorldTransformMatrix();G=K.tx,X=K.ty,k=K.rotation,H=K.scaleX,$=K.scaleY}U.setRotation(k),U.setScale(H,$),U.setPosition(G+N*H,X+z*$),U.setScrollFactor(L.scrollFactorX,L.scrollFactorY),U.setDepth(L.depth)},Y.add(U),D.hitAreaDebug=U),this},"enableDebug"),removeDebug:r(function(L){var F=L.input;if(F&&F.hitAreaDebug){var D=F.hitAreaDebug;D.destroy(),F.hitAreaDebug=null}return this},"removeDebug"),setPollAlways:r(function(){return this.setPollRate(0)},"setPollAlways"),setPollOnMove:r(function(){return this.setPollRate(-1)},"setPollOnMove"),setPollRate:r(function(L){return this.pollRate=L,this._pollTimer=0,this},"setPollRate"),setGlobalTopOnly:r(function(L){return this.manager.globalTopOnly=L,this},"setGlobalTopOnly"),setTopOnly:r(function(L){return this.topOnly=L,this},"setTopOnly"),sortGameObjects:r(function(L,F){if(L.length<2||!F.camera)return L;var D=F.camera.renderList;return L.sort(function(B,V){var U=Math.max(D.indexOf(B),0),W=Math.max(D.indexOf(V),0);return W-U})},"sortGameObjects"),sortDropZones:r(function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},"sortDropZones"),sortDropZoneHandler:r(function(L,F){if(!L.parentContainer&&!F.parentContainer)return this.displayList.getIndex(F)-this.displayList.getIndex(L);if(L.parentContainer===F.parentContainer)return F.parentContainer.getIndex(F)-L.parentContainer.getIndex(L);if(L.parentContainer===F)return-1;if(F.parentContainer===L)return 1;for(var D=L.getIndexList(),B=F.getIndexList(),V=Math.min(D.length,B.length),U=0;U<V;U++){var W=D[U],Y=B[U];if(W!==Y)return Y-W}return B.length-D.length},"sortDropZoneHandler"),stopPropagation:r(function(){return this.manager._tempSkip=!0,this},"stopPropagation"),addPointer:r(function(L){return this.manager.addPointer(L)},"addPointer"),setDefaultCursor:r(function(L){return this.manager.setDefaultCursor(L),this},"setDefaultCursor"),transitionIn:r(function(){this.enabled=this.settings.transitionAllowInput},"transitionIn"),transitionComplete:r(function(){this.settings.transitionAllowInput||(this.enabled=!0)},"transitionComplete"),transitionOut:r(function(){this.enabled=this.settings.transitionAllowInput},"transitionOut"),shutdown:r(function(){this.pluginEvents.emit(p.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var F=this.manager;F.canvas.style.cursor=F.defaultCursor;var D=this.systems.events;D.off(O.TRANSITION_START,this.transitionIn,this),D.off(O.TRANSITION_OUT,this.transitionOut,this),D.off(O.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(O.PRE_UPDATE,this.preUpdate,this),F.events.off(p.GAME_OUT,this.onGameOut,this),F.events.off(p.GAME_OVER,this.onGameOver,this),D.off(O.SHUTDOWN,this.shutdown,this)},"shutdown"),resetPointers:r(function(){for(var L=this.manager.pointers,F=0;F<L.length;F++)L[F].reset()},"resetPointers"),destroy:r(function(){this.shutdown(),this.pluginEvents.emit(p.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(O.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},"destroy"),x:{get:r(function(){return this.manager.activePointer.x},"get")},y:{get:r(function(){return this.manager.activePointer.y},"get")},isOver:{get:r(function(){return this.manager.isOver},"get")},mousePointer:{get:r(function(){return this.manager.mousePointer},"get")},activePointer:{get:r(function(){return this.manager.activePointer},"get")},pointer1:{get:r(function(){return this.manager.pointers[1]},"get")},pointer2:{get:r(function(){return this.manager.pointers[2]},"get")},pointer3:{get:r(function(){return this.manager.pointers[3]},"get")},pointer4:{get:r(function(){return this.manager.pointers[4]},"get")},pointer5:{get:r(function(){return this.manager.pointers[5]},"get")},pointer6:{get:r(function(){return this.manager.pointers[6]},"get")},pointer7:{get:r(function(){return this.manager.pointers[7]},"get")},pointer8:{get:r(function(){return this.manager.pointers[8]},"get")},pointer9:{get:r(function(){return this.manager.pointers[9]},"get")},pointer10:{get:r(function(){return this.manager.pointers[10]},"get")}});w.register("InputPlugin",I,"input"),n.exports=I}),89639:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),m={},c={};c.register=function(u,l,o,d,v){m[u]={plugin:l,mapping:o,settingsKey:d,configKey:v}},c.getPlugin=function(u){return m[u]},c.install=function(u){var l=u.scene.sys,o=l.settings.input,d=l.game.config;for(var v in m){var f=m[v].plugin,p=m[v].mapping,g=m[v].settingsKey,y=m[v].configKey;h(o,g,d[y])&&(u[p]=new f(u))}},c.remove=function(u){m.hasOwnProperty(u)&&delete m[u]},n.exports=c}),42515:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(31040),m=i(83419),c=i(20339),u=i(43855),l=i(47235),o=i(26099),d=i(25892),v=new m({initialize:r(function(p,g){this.manager=p,this.id=g,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=g===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},"Pointer"),updateWorldPoint:r(function(f){var p=f.getWorldPoint(this.x,this.y);return this.worldX=p.x,this.worldY=p.y,this},"updateWorldPoint"),positionToCamera:r(function(f,p){return f.getWorldPoint(this.x,this.y,p)},"positionToCamera"),updateMotion:r(function(){var f=this.position.x,p=this.position.y,g=this.midPoint.x,y=this.midPoint.y;if(!(f===g&&p===y)){var C=l(this.motionFactor,g,f),S=l(this.motionFactor,y,p);u(C,f,.1)&&(C=f),u(S,p,.1)&&(S=p),this.midPoint.set(C,S);var E=f-C,w=p-S;this.velocity.set(E,w),this.angle=h(C,S,f,p),this.distance=Math.sqrt(E*E+w*w)}},"updateMotion"),up:r(function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.button=f.button,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),f.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=f.timeStamp,this.wasTouch=!1)},"up"),down:r(function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.button=f.button,this.downElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),f.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&f.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=f.timeStamp),this.wasTouch=!1},"down"),move:r(function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.manager.transformPointer(this,f.pageX,f.pageY,!0),this.locked&&(this.movementX=f.movementX||f.mozMovementX||f.webkitMovementX||0,this.movementY=f.movementY||f.mozMovementY||f.webkitMovementY||0),this.moveTime=f.timeStamp,this.wasTouch=!1},"move"),wheel:r(function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.deltaX=f.deltaX,this.deltaY=f.deltaY,this.deltaZ=f.deltaZ,this.wasTouch=!1},"wheel"),touchstart:r(function(f,p){f.pointerId&&(this.pointerId=f.pointerId),this.identifier=f.identifier,this.target=f.target,this.active=!0,this.buttons=1,this.event=p,this.downElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=p.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},"touchstart"),touchmove:r(function(f,p){this.event=p,this.manager.transformPointer(this,f.pageX,f.pageY,!0),this.moveTime=p.timeStamp,this.wasTouch=!0,this.updateMotion()},"touchmove"),touchend:r(function(f,p){this.buttons=0,this.event=p,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},"touchend"),touchcancel:r(function(f,p){this.buttons=0,this.event=p,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},"touchcancel"),noButtonDown:r(function(){return this.buttons===0},"noButtonDown"),leftButtonDown:r(function(){return!!(this.buttons&1)},"leftButtonDown"),rightButtonDown:r(function(){return!!(this.buttons&2)},"rightButtonDown"),middleButtonDown:r(function(){return!!(this.buttons&4)},"middleButtonDown"),backButtonDown:r(function(){return!!(this.buttons&8)},"backButtonDown"),forwardButtonDown:r(function(){return!!(this.buttons&16)},"forwardButtonDown"),leftButtonReleased:r(function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},"leftButtonReleased"),rightButtonReleased:r(function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},"rightButtonReleased"),middleButtonReleased:r(function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},"middleButtonReleased"),backButtonReleased:r(function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},"backButtonReleased"),forwardButtonReleased:r(function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},"forwardButtonReleased"),getDistance:r(function(){return this.isDown?c(this.downX,this.downY,this.x,this.y):c(this.downX,this.downY,this.upX,this.upY)},"getDistance"),getDistanceX:r(function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},"getDistanceX"),getDistanceY:r(function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},"getDistanceY"),getDuration:r(function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},"getDuration"),getAngle:r(function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},"getAngle"),getInterpolatedPosition:r(function(f,p){f===void 0&&(f=10),p===void 0&&(p=[]);for(var g=this.prevPosition.x,y=this.prevPosition.y,C=this.position.x,S=this.position.y,E=0;E<f;E++){var w=1/f*E;p[E]={x:l(w,g,C),y:l(w,y,S)}}return p},"getInterpolatedPosition"),reset:r(function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},"reset"),destroy:r(function(){this.camera=null,this.manager=null,this.position=null},"destroy"),x:{get:r(function(){return this.position.x},"get"),set:r(function(f){this.position.x=f},"set")},y:{get:r(function(){return this.position.y},"get"),set:r(function(f){this.position.y=f},"set")},time:{get:r(function(){return this.event?this.event.timeStamp:0},"get")}});n.exports=v}),93301:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=T}),7179:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"}),85375:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),39843:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"}),23388:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"}),16133:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"}),27829:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"}),53904:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"}),56058:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"}),2642:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"}),88171:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"}),36147:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"}),71692:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"}),96149:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"}),81285:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"}),74048:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"}),21322:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"}),49378:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"}),86754:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"}),86433:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"}),60709:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"}),24081:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"}),11172:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"}),18907:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"}),95579:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"}),35368:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"}),26972:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"}),47078:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"}),73802:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"}),56718:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"}),25936:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"}),27503:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"}),50852:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"}),96438:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"}),59152:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"}),47777:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"}),27957:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"}),19444:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"}),54251:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"}),18667:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"}),27192:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"}),24652:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"}),45132:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"}),44512:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"}),15757:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"}),41637:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),93802:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"}),8214:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}}),97421:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l){this.pad=u,this.events=u.events,this.index=l,this.value=0,this.threshold=.1},"Axis"),update:r(function(c){this.value=c},"update"),getValue:r(function(){return Math.abs(this.value)<this.threshold?0:this.value},"getValue"),destroy:r(function(){this.pad=null,this.events=null},"destroy")});n.exports=m}),28884:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(92734),c=new h({initialize:r(function(l,o){this.pad=l,this.events=l.manager,this.index=o,this.value=0,this.threshold=1,this.pressed=!1},"Button"),update:r(function(u){this.value=u;var l=this.pad,o=this.index;u>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,l,this,u),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,o,u,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,l,this,u),this.pad.emit(m.GAMEPAD_BUTTON_UP,o,u,this))},"update"),destroy:r(function(){this.pad=null,this.events=null},"destroy")});n.exports=c}),99125:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(97421),m=i(28884),c=i(83419),u=i(50792),l=i(26099),o=new c({Extends:u,initialize:r(function(v,f){u.call(this),this.manager=v,this.pad=f,this.id=f.id,this.index=f.index;for(var p=[],g=0;g<f.buttons.length;g++)p.push(new m(this,g));this.buttons=p;var y=[];for(g=0;g<f.axes.length;g++)y.push(new h(this,g));this.axes=y,this.vibration=f.vibrationActuator;var C={value:0,pressed:!1};this._LCLeft=p[14]?p[14]:C,this._LCRight=p[15]?p[15]:C,this._LCTop=p[12]?p[12]:C,this._LCBottom=p[13]?p[13]:C,this._RCLeft=p[2]?p[2]:C,this._RCRight=p[1]?p[1]:C,this._RCTop=p[3]?p[3]:C,this._RCBottom=p[0]?p[0]:C,this._FBLeftTop=p[4]?p[4]:C,this._FBLeftBottom=p[6]?p[6]:C,this._FBRightTop=p[5]?p[5]:C,this._FBRightBottom=p[7]?p[7]:C;var S={value:0};this._HAxisLeft=y[0]?y[0]:S,this._VAxisLeft=y[1]?y[1]:S,this._HAxisRight=y[2]?y[2]:S,this._VAxisRight=y[3]?y[3]:S,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},"Gamepad"),getAxisTotal:r(function(){return this.axes.length},"getAxisTotal"),getAxisValue:r(function(d){return this.axes[d].getValue()},"getAxisValue"),setAxisThreshold:r(function(d){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=d},"setAxisThreshold"),getButtonTotal:r(function(){return this.buttons.length},"getButtonTotal"),getButtonValue:r(function(d){return this.buttons[d].value},"getButtonValue"),isButtonDown:r(function(d){return this.buttons[d].pressed},"isButtonDown"),update:r(function(d){if(!(d.timestamp<this._created)){var v,f=this.buttons,p=d.buttons,g=f.length;for(v=0;v<g;v++)f[v].update(p[v].value);var y=this.axes,C=d.axes;for(g=y.length,v=0;v<g;v++)y[v].update(C[v]);g>=2&&(this.leftStick.set(y[0].getValue(),y[1].getValue()),g>=4&&this.rightStick.set(y[2].getValue(),y[3].getValue()))}},"update"),destroy:r(function(){this.removeAllListeners(),this.manager=null,this.pad=null;var d;for(d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},"destroy"),connected:{get:r(function(){return this.pad.connected},"get")},timestamp:{get:r(function(){return this.pad.timestamp},"get")},left:{get:r(function(){return this._LCLeft.pressed},"get")},right:{get:r(function(){return this._LCRight.pressed},"get")},up:{get:r(function(){return this._LCTop.pressed},"get")},down:{get:r(function(){return this._LCBottom.pressed},"get")},A:{get:r(function(){return this._RCBottom.pressed},"get")},Y:{get:r(function(){return this._RCTop.pressed},"get")},X:{get:r(function(){return this._RCLeft.pressed},"get")},B:{get:r(function(){return this._RCRight.pressed},"get")},L1:{get:r(function(){return this._FBLeftTop.value},"get")},L2:{get:r(function(){return this._FBLeftBottom.value},"get")},R1:{get:r(function(){return this._FBRightTop.value},"get")},R2:{get:r(function(){return this._FBRightBottom.value},"get")}});n.exports=o}),56654:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50792),c=i(92734),u=i(99125),l=i(35154),o=i(89639),d=i(8214),v=new h({Extends:m,initialize:r(function(p){m.call(this),this.scene=p.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=p,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,p.pluginEvents.once(d.BOOT,this.boot,this),p.pluginEvents.on(d.START,this.start,this)},"GamepadPlugin"),boot:r(function(){var f=this.scene.sys.game,p=this.settings.input,g=f.config;this.enabled=l(p,"gamepad",g.inputGamepad)&&f.device.input.gamepads,this.target=l(p,"gamepad.target",g.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},"start"),isActive:r(function(){return this.enabled&&this.scene.sys.isActive()},"isActive"),startListeners:r(function(){var f=this,p=this.target,g=r(function(y){y.defaultPrevented||!f.isActive()||(f.refreshPads(),f.queue.push(y))},"handler");this.onGamepadHandler=g,p.addEventListener("gamepadconnected",g,!1),p.addEventListener("gamepaddisconnected",g,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},"startListeners"),stopListeners:r(function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var f=0;f<this.gamepads.length;f++)this.gamepads[f].removeAllListeners()},"stopListeners"),disconnectAll:r(function(){for(var f=0;f<this.gamepads.length;f++)this.gamepads[f].pad.connected=!1},"disconnectAll"),refreshPads:r(function(){var f=navigator.getGamepads();if(!f)this.disconnectAll();else for(var p=this.gamepads,g=0;g<f.length;g++){var y=f[g];if(y){var C=y.id,S=y.index,E=p[S];if(E)E.id!==C?(E.destroy(),p[S]=new u(this,y)):E.update(y);else{var w=new u(this,y);p[S]=w,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=w):this._pad3=w:this._pad2=w:this._pad1=w}}}},"refreshPads"),getAll:r(function(){for(var f=[],p=this.gamepads,g=0;g<p.length;g++)p[g]&&f.push(p[g]);return f},"getAll"),getPad:r(function(f){for(var p=this.gamepads,g=0;g<p.length;g++)if(p[g]&&p[g].index===f)return p[g]},"getPad"),update:r(function(){if(this.enabled){this.refreshPads();var f=this.queue.length;if(f!==0)for(var p=this.queue.splice(0,f),g=0;g<f;g++){var y=p[g],C=this.getPad(y.gamepad.index);y.type==="gamepadconnected"?this.emit(c.CONNECTED,C,y):y.type==="gamepaddisconnected"&&this.emit(c.DISCONNECTED,C,y)}}},"update"),shutdown:r(function(){this.stopListeners(),this.removeAllListeners()},"shutdown"),destroy:r(function(){this.shutdown();for(var f=0;f<this.gamepads.length;f++)this.gamepads[f]&&this.gamepads[f].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},"destroy"),total:{get:r(function(){return this.gamepads.length},"get")},pad1:{get:r(function(){return this._pad1},"get")},pad2:{get:r(function(){return this._pad2},"get")},pad3:{get:r(function(){return this._pad3},"get")},pad4:{get:r(function(){return this._pad4},"get")}});o.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),n.exports=v}),89651:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}}),65294:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),90089:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),64894:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}}),46008:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"}),7629:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"}),42206:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"}),86544:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"}),94784:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"}),14325:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"}),92734:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}}),48646:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}}),14350:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(93301),m=i(79291),c={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};c=m(!1,c,h),n.exports=c}),78970:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(72905),m=i(83419),c=i(8443),u=i(8214),l=i(46032),o=i(29747),d=new m({initialize:r(function(f){this.manager=f,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=o,this.onKeyUp=o,f.events.once(u.MANAGER_BOOT,this.boot,this)},"KeyboardManager"),boot:r(function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(c.POST_STEP,this.postUpdate,this)},"boot"),startListeners:r(function(){var v=this;this.onKeyDown=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(u.MANAGER_PROCESS);var g=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!g&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}},this.onKeyUp=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(u.MANAGER_PROCESS);var g=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!g&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}};var f=this.target;f&&(f.addEventListener("keydown",this.onKeyDown,!1),f.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},"startListeners"),stopListeners:r(function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},"stopListeners"),postUpdate:r(function(){this.queue=[]},"postUpdate"),addCapture:r(function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var f=this.captures,p=0;p<v.length;p++){var g=v[p];typeof g=="string"&&(g=l[g.trim().toUpperCase()]),f.indexOf(g)===-1&&f.push(g)}this.preventDefault=f.length>0},"addCapture"),removeCapture:r(function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var f=this.captures,p=0;p<v.length;p++){var g=v[p];typeof g=="string"&&(g=l[g.toUpperCase()]),h(f,g)}this.preventDefault=f.length>0},"removeCapture"),clearCaptures:r(function(){this.captures=[],this.preventDefault=!1},"clearCaptures"),destroy:r(function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(c.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null},"destroy")});n.exports=d}),28846:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50792),c=i(95922),u=i(8443),l=i(35154),o=i(8214),d=i(89639),v=i(30472),f=i(46032),p=i(87960),g=i(74600),y=i(44594),C=i(56583),S=new h({Extends:m,initialize:r(function(w){m.call(this),this.game=w.systems.game,this.scene=w.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=w,this.manager=w.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,w.pluginEvents.once(o.BOOT,this.boot,this),w.pluginEvents.on(o.START,this.start,this)},"KeyboardPlugin"),boot:r(function(){var E=this.settings.input;this.enabled=l(E,"keyboard",!0);var w=l(E,"keyboard.capture",null);w&&this.addCaptures(w),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.sceneInputPlugin.manager.events.on(o.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this),this.game.events.on(u.BLUR,this.resetKeys,this),this.scene.sys.events.on(y.PAUSE,this.resetKeys,this),this.scene.sys.events.on(y.SLEEP,this.resetKeys,this)},"start"),isActive:r(function(){return this.enabled&&this.scene.sys.canInput()},"isActive"),addCapture:r(function(E){return this.manager.addCapture(E),this},"addCapture"),removeCapture:r(function(E){return this.manager.removeCapture(E),this},"removeCapture"),getCaptures:r(function(){return this.manager.captures},"getCaptures"),enableGlobalCapture:r(function(){return this.manager.preventDefault=!0,this},"enableGlobalCapture"),disableGlobalCapture:r(function(){return this.manager.preventDefault=!1,this},"disableGlobalCapture"),clearCaptures:r(function(){return this.manager.clearCaptures(),this},"clearCaptures"),createCursorKeys:r(function(){return this.addKeys({up:f.UP,down:f.DOWN,left:f.LEFT,right:f.RIGHT,space:f.SPACE,shift:f.SHIFT})},"createCursorKeys"),addKeys:r(function(E,w,M){w===void 0&&(w=!0),M===void 0&&(M=!1);var R={};if(typeof E=="string"){E=E.split(",");for(var O=0;O<E.length;O++){var b=E[O].trim();b&&(R[b]=this.addKey(b,w,M))}}else for(var A in E)R[A]=this.addKey(E[A],w,M);return R},"addKeys"),addKey:r(function(E,w,M){w===void 0&&(w=!0),M===void 0&&(M=!1);var R=this.keys;if(E instanceof v){var O=R.indexOf(E);return O>-1?R[O]=E:R[E.keyCode]=E,w&&this.addCapture(E.keyCode),E.setEmitOnRepeat(M),E}return typeof E=="string"&&(E=f[E.toUpperCase()]),R[E]||(R[E]=new v(this,E),w&&this.addCapture(E),R[E].setEmitOnRepeat(M)),R[E]},"addKey"),removeKey:r(function(E,w,M){w===void 0&&(w=!1),M===void 0&&(M=!1);var R=this.keys,O;if(E instanceof v){var b=R.indexOf(E);b>-1&&(O=this.keys[b],this.keys[b]=void 0)}else typeof E=="string"&&(E=f[E.toUpperCase()]);return R[E]&&(O=R[E],R[E]=void 0),O&&(O.plugin=null,M&&this.removeCapture(O.keyCode),w&&O.destroy()),this},"removeKey"),removeAllKeys:r(function(E,w){E===void 0&&(E=!1),w===void 0&&(w=!1);for(var M=this.keys,R=0;R<M.length;R++){var O=M[R];O&&(M[R]=void 0,w&&this.removeCapture(O.keyCode),E&&O.destroy())}return this},"removeAllKeys"),createCombo:r(function(E,w){return new p(this,E,w)},"createCombo"),checkDown:r(function(E,w){if(w===void 0&&(w=0),this.enabled&&E.isDown){var M=C(this.time-E.timeDown,w);if(M>E._tick)return E._tick=M,!0}return!1},"checkDown"),update:r(function(){var E=this.manager.queue,w=E.length;if(!(!this.isActive()||w===0))for(var M=this.keys,R=0;R<w;R++){var O=E[R],b=O.keyCode,A=M[b],I=!1;O.cancelled===void 0&&(O.cancelled=0,O.stopImmediatePropagation=function(){O.cancelled=1},O.stopPropagation=function(){O.cancelled=-1}),O.cancelled!==-1&&(b===this.prevCode&&O.timeStamp===this.prevTime&&O.type===this.prevType||(this.prevCode=b,this.prevTime=O.timeStamp,this.prevType=O.type,O.type==="keydown"?(A&&(I=A.isDown,A.onDown(O)),!O.cancelled&&(!A||!I)&&(g[b]&&this.emit(c.KEY_DOWN+g[b],O),O.cancelled||this.emit(c.ANY_KEY_DOWN,O))):(A&&A.onUp(O),O.cancelled||(g[b]&&this.emit(c.KEY_UP+g[b],O),O.cancelled||this.emit(c.ANY_KEY_UP,O))),O.cancelled===1&&(O.cancelled=0)))}},"update"),resetKeys:r(function(){for(var E=this.keys,w=0;w<E.length;w++)E[w]&&E[w].reset();return this},"resetKeys"),shutdown:r(function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(o.MANAGER_PROCESS,this.update,this),this.game.events.off(u.BLUR,this.resetKeys),this.scene.sys.events.off(y.PAUSE,this.resetKeys,this),this.scene.sys.events.off(y.SLEEP,this.resetKeys,this),this.queue=[]},"shutdown"),destroy:r(function(){this.shutdown();for(var E=this.keys,w=0;w<E.length;w++)E[w]&&E[w].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},"destroy"),time:{get:r(function(){return this.sceneInputPlugin.manager.time},"get")}});d.register("KeyboardPlugin",S,"keyboard","keyboard","inputKeyboard"),n.exports=S}),66970:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h.timeLastMatched=i.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)},"AdvanceKeyCombo");n.exports=T}),87960:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95922),c=i(95540),u=i(68769),l=i(92803),o=new h({initialize:r(function(v,f,p){if(p===void 0&&(p={}),f.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var g=0;g<f.length;g++){var y=f[g];typeof y=="string"?this.keyCodes.push(y.toUpperCase().charCodeAt(0)):typeof y=="number"?this.keyCodes.push(y):y.hasOwnProperty("keyCode")&&this.keyCodes.push(y.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=c(p,"resetOnWrongKey",!0),this.maxKeyDelay=c(p,"maxKeyDelay",0),this.resetOnMatch=c(p,"resetOnMatch",!1),this.deleteOnMatch=c(p,"deleteOnMatch",!1);var C=this,S=r(function(E){if(!(C.matched||!C.enabled)){var w=u(E,C);w&&(C.manager.emit(m.COMBO_MATCH,C,E),C.resetOnMatch?l(C):C.deleteOnMatch&&C.destroy())}},"onKeyDownHandler");this.onKeyDown=S,this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},"KeyCombo"),progress:{get:r(function(){return this.index/this.size},"get")},destroy:r(function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null},"destroy")});n.exports=o}),68769:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66970),m=r(function(c,u){if(u.matched)return!0;var l=!1,o=!1;if(c.keyCode===u.current)if(u.index>0&&u.maxKeyDelay>0){var d=u.timeLastMatched+u.maxKeyDelay;c.timeStamp<=d&&(o=!0,l=h(c,u))}else o=!0,l=h(c,u);return!o&&u.resetOnWrongKey&&(u.index=0,u.current=u.keyCodes[0]),l&&(u.timeLastMatched=c.timeStamp,u.matched=!0,u.timeMatched=c.timeStamp),l},"ProcessKeyCombo");n.exports=m}),92803:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.current=i.keyCodes[0],i.index=0,i.timeLastMatched=0,i.matched=!1,i.timeMatched=0,i},"ResetKeyCombo");n.exports=T}),92612:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"}),23345:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"}),21957:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"}),44743:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"}),3771:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"}),46358:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"}),75674:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"}),95922:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}}),51442:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}}),37015:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h=50);var m=i.plugin.game.loop.time-i.timeDown;return i.isDown&&m<h},"DownDuration");n.exports=T}),90229:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i._justDown?(i._justDown=!1,!0):!1},"JustDown");n.exports=T}),38796:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i._justUp?(i._justUp=!1,!0):!1},"JustUp");n.exports=T}),30472:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50792),c=i(95922),u=new h({Extends:m,initialize:r(function(o,d){m.call(this),this.plugin=o,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},"Key"),setEmitOnRepeat:r(function(l){return this.emitOnRepeat=l,this},"setEmitOnRepeat"),onDown:r(function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(c.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(c.DOWN,this,l)))},"onDown"),onUp:r(function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(c.UP,this,l))},"onUp"),reset:r(function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},"reset"),getDuration:r(function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},"getDuration"),destroy:r(function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null},"destroy")});n.exports=u}),46032:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=T}),74600:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(46032),m={};for(var c in h)m[h[c]]=c;n.exports=m}),41170:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h=50);var m=i.plugin.game.loop.time-i.timeUp;return i.isUp&&m<h},"UpDuration");n.exports=T}),85098:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(89357),c=i(8214),u=i(29747),l=new h({initialize:r(function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=u,this.onMouseDown=u,this.onMouseUp=u,this.onMouseDownWindow=u,this.onMouseUpWindow=u,this.onMouseOver=u,this.onMouseOut=u,this.onMouseWheel=u,this.pointerLockChange=u,this.isTop=!0,d.events.once(c.MANAGER_BOOT,this.boot,this)},"MouseManager"),boot:r(function(){var o=this.manager.config;this.enabled=o.inputMouse,this.target=o.inputMouseEventTarget,this.passive=o.inputMousePassive,this.preventDefaultDown=o.inputMousePreventDefaultDown,this.preventDefaultUp=o.inputMousePreventDefaultUp,this.preventDefaultMove=o.inputMousePreventDefaultMove,this.preventDefaultWheel=o.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},"boot"),disableContextMenu:r(function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},"disableContextMenu"),requestPointerLock:r(function(){if(m.pointerLock){var o=this.target;o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock,o.requestPointerLock()}},"requestPointerLock"),releasePointerLock:r(function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},"releasePointerLock"),startListeners:r(function(){var o=this.target;if(o){var d=this,v=this.manager,f=v.canvas,p=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(y){!y.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseMove(y),d.preventDefaultMove&&y.preventDefault())},this.onMouseDown=function(y){p&&window.focus(),!y.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseDown(y),d.preventDefaultDown&&y.target===f&&y.preventDefault())},this.onMouseDownWindow=function(y){y.sourceCapabilities&&y.sourceCapabilities.firesTouchEvents||!y.defaultPrevented&&d.enabled&&v&&v.enabled&&y.target!==f&&v.onMouseDown(y)},this.onMouseUp=function(y){!y.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseUp(y),d.preventDefaultUp&&y.target===f&&y.preventDefault())},this.onMouseUpWindow=function(y){y.sourceCapabilities&&y.sourceCapabilities.firesTouchEvents||!y.defaultPrevented&&d.enabled&&v&&v.enabled&&y.target!==f&&v.onMouseUp(y)},this.onMouseOver=function(y){!y.defaultPrevented&&d.enabled&&v&&v.enabled&&v.setCanvasOver(y)},this.onMouseOut=function(y){!y.defaultPrevented&&d.enabled&&v&&v.enabled&&v.setCanvasOut(y)},this.onMouseWheel=function(y){!y.defaultPrevented&&d.enabled&&v&&v.enabled&&v.onMouseWheel(y),d.preventDefaultWheel&&y.target===f&&y.preventDefault()};var g={passive:!0};if(o.addEventListener("mousemove",this.onMouseMove),o.addEventListener("mousedown",this.onMouseDown),o.addEventListener("mouseup",this.onMouseUp),o.addEventListener("mouseover",this.onMouseOver,g),o.addEventListener("mouseout",this.onMouseOut,g),this.preventDefaultWheel?o.addEventListener("wheel",this.onMouseWheel,{passive:!1}):o.addEventListener("wheel",this.onMouseWheel,g),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,g),window.top.addEventListener("mouseup",this.onMouseUpWindow,g)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,g),window.addEventListener("mouseup",this.onMouseUpWindow,g),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(y){var C=d.target;d.locked=document.pointerLockElement===C||document.mozPointerLockElement===C||document.webkitPointerLockElement===C,v.onPointerLockChange(y)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},"startListeners"),stopListeners:r(function(){var o=this.target;o.removeEventListener("mousemove",this.onMouseMove),o.removeEventListener("mousedown",this.onMouseDown),o.removeEventListener("mouseup",this.onMouseUp),o.removeEventListener("mouseover",this.onMouseOver),o.removeEventListener("mouseout",this.onMouseOut),window&&(o=this.isTop?window.top:window,o.removeEventListener("mousedown",this.onMouseDownWindow),o.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},"stopListeners"),destroy:r(function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null},"destroy")});n.exports=l}),87078:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:i(85098)}}),36210:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(8214),c=i(29747),u=new h({initialize:r(function(o){this.manager=o,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=c,this.onTouchStartWindow=c,this.onTouchMove=c,this.onTouchEnd=c,this.onTouchEndWindow=c,this.onTouchCancel=c,this.onTouchCancelWindow=c,this.isTop=!0,o.events.once(m.MANAGER_BOOT,this.boot,this)},"TouchManager"),boot:r(function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},"boot"),disableContextMenu:r(function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},"disableContextMenu"),startListeners:r(function(){var l=this.target;if(l){var o=this,d=this.manager,v=d.canvas,f=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchMove(C),o.capture&&C.cancelable&&C.preventDefault())},this.onTouchStart=function(C){f&&window.focus(),!C.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchStart(C),o.capture&&C.cancelable&&C.target===v&&C.preventDefault())},this.onTouchStartWindow=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&C.target!==v&&d.onTouchStart(C)},this.onTouchEnd=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchEnd(C),o.capture&&C.cancelable&&C.target===v&&C.preventDefault())},this.onTouchEndWindow=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&C.target!==v&&d.onTouchEnd(C)},this.onTouchCancel=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchCancel(C),o.capture&&C.preventDefault())},this.onTouchCancelWindow=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&d.onTouchCancel(C)};var p=this.capture,g={passive:!0},y={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,p?y:g),l.addEventListener("touchmove",this.onTouchMove,p?y:g),l.addEventListener("touchend",this.onTouchEnd,p?y:g),l.addEventListener("touchcancel",this.onTouchCancel,p?y:g),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,y),window.top.addEventListener("touchend",this.onTouchEndWindow,y),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,y)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,y),window.addEventListener("touchend",this.onTouchEndWindow,y),window.addEventListener("touchcancel",this.onTouchCancelWindow,y),this.isTop=!1}this.enabled=!0}},"startListeners"),stopListeners:r(function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},"stopListeners"),destroy:r(function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null},"destroy")});n.exports=u}),95618:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:i(36210)}}),41299:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(54899),u=i(95540),l=i(98356),o=i(3374),d=i(84376),v=i(92638),f=new h({initialize:r(function(g,y){if(this.loader=g,this.cache=u(y,"cache",!1),this.type=u(y,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=u(y,"key",!1);var C=this.key;if(g.prefix&&g.prefix!==""&&(this.key=g.prefix+C),!this.key)throw new Error("Invalid File key: "+this.key);var S=u(y,"url");S===void 0?S=g.path+C+"."+u(y,"extension",""):typeof S=="string"&&!S.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(S=g.path+S),this.url=S,this.src="",this.xhrSettings=v(u(y,"responseType",void 0)),u(y,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,u(y,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=u(y,"config",{}),this.multiFile,this.linkFile,this.base64=typeof S=="string"&&S.indexOf("data:")===0,this.retryAttempts=u(y,"maxRetries",g.maxRetries)},"File"),setLink:r(function(p){this.linkFile=p,p.linkFile=this},"setLink"),resetXHR:r(function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},"resetXHR"),load:r(function(){if(this.state===m.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=m.FILE_LOADING,this.src=l(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr)}},"load"),onLoad:r(function(p,g){var y=p.responseURL&&this.loader.localSchemes.some(function(E){return p.responseURL.indexOf(E)===0}),C=y&&g.target.status===0,S=!(g.target&&g.target.status!==200)||C;p.readyState===4&&p.status>=400&&p.status<=599&&(S=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,S)},"onLoad"),onBase64Load:r(function(p){this.xhrLoader=p,this.state=m.FILE_LOADED,this.percentComplete=1,this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},"onBase64Load"),onError:r(function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},"onError"),onProgress:r(function(p){p.lengthComputable&&(this.bytesLoaded=p.loaded,this.bytesTotal=p.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete))},"onProgress"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},"onProcess"),onProcessComplete:r(function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},"onProcessComplete"),onProcessError:r(function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},"onProcessError"),hasCacheConflict:r(function(){return this.cache&&this.cache.exists(this.key)},"hasCacheConflict"),addToCache:r(function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},"addToCache"),pendingDestroy:r(function(p){if(this.state!==m.FILE_PENDING_DESTROY){p===void 0&&(p=this.data);var g=this.key,y=this.type;this.loader.emit(c.FILE_COMPLETE,g,y,p),this.loader.emit(c.FILE_KEY_COMPLETE+y+"-"+g,g,y,p),this.loader.flagForRemoval(this),this.state=m.FILE_PENDING_DESTROY}},"pendingDestroy"),destroy:r(function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null},"destroy")});f.createObjectURL=function(p,g,y){if(typeof URL=="function")p.src=URL.createObjectURL(g);else{var C=new FileReader;C.onload=function(){p.removeAttribute("crossOrigin"),p.src="data:"+(g.type||y)+";base64,"+C.result.split(",")[1]},C.onerror=p.onerror,C.readAsDataURL(g)}},f.revokeObjectURL=function(p){typeof URL=="function"&&URL.revokeObjectURL(p.src)},n.exports=f}),74099:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},i={install:r(function(h){for(var m in T)h[m]=T[m]},"install"),register:r(function(h,m){T[h]=m},"register"),destroy:r(function(){T={}},"destroy")};n.exports=i}),98356:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.url?i.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?i.url:h+i.url:!1},"GetURL");n.exports=T}),74261:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(35072),u=i(50792),l=i(54899),o=i(74099),d=i(95540),v=i(35154),f=i(41212),p=i(37277),g=i(44594),y=i(92638),C=new h({Extends:u,initialize:r(function(E){u.call(this);var w=E.sys.game.config,M=E.sys.settings.loader;this.scene=E,this.systems=E.sys,this.cacheManager=E.sys.cache,this.textureManager=E.sys.textures,this.sceneManager=E.sys.game.scene,o.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(M,"baseURL",w.loaderBaseURL)),this.setPath(d(M,"path",w.loaderPath)),this.setPrefix(d(M,"prefix",w.loaderPrefix)),this.maxParallelDownloads=d(M,"maxParallelDownloads",w.loaderMaxParallelDownloads),this.xhr=y(d(M,"responseType",w.loaderResponseType),d(M,"async",w.loaderAsync),d(M,"user",w.loaderUser),d(M,"password",w.loaderPassword),d(M,"timeout",w.loaderTimeout),d(M,"withCredentials",w.loaderWithCredentials)),this.crossOrigin=d(M,"crossOrigin",w.loaderCrossOrigin),this.imageLoadType=d(M,"imageLoadType",w.loaderImageLoadType),this.localSchemes=d(M,"localScheme",w.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new c,this.inflight=new c,this.queue=new c,this._deleteQueue=new c,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=d(M,"maxRetries",w.loaderMaxRetries),E.sys.events.once(g.BOOT,this.boot,this),E.sys.events.on(g.START,this.pluginStart,this)},"LoaderPlugin"),boot:r(function(){this.systems.events.once(g.DESTROY,this.destroy,this)},"boot"),pluginStart:r(function(){this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},"pluginStart"),setBaseURL:r(function(S){return S===void 0&&(S=""),S!==""&&S.substr(-1)!=="/"&&(S=S.concat("/")),this.baseURL=S,this},"setBaseURL"),setPath:r(function(S){return S===void 0&&(S=""),S!==""&&S.substr(-1)!=="/"&&(S=S.concat("/")),this.path=S,this},"setPath"),setPrefix:r(function(S){return S===void 0&&(S=""),this.prefix=S,this},"setPrefix"),setCORS:r(function(S){return this.crossOrigin=S,this},"setCORS"),addFile:r(function(S){Array.isArray(S)||(S=[S]);for(var E=0;E<S.length;E++){var w=S[E];this.keyExists(w)||(this.list.set(w),this.emit(l.ADD,w.key,w.type,this,w),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},"addFile"),keyExists:r(function(S){var E=S.hasCacheConflict();return E||this.list.iterate(function(w){if(w.type===S.type&&w.key===S.key)return E=!0,!1}),!E&&this.isLoading()&&(this.inflight.iterate(function(w){if(w.type===S.type&&w.key===S.key)return E=!0,!1}),this.queue.iterate(function(w){if(w.type===S.type&&w.key===S.key)return E=!0,!1})),E},"keyExists"),addPack:r(function(S,E){if(typeof E=="string"){var w=v(S,E);w&&(S={packKey:w})}var M=0,R=this.baseURL,O=this.path,b=this.prefix;for(var A in S)if(Object.prototype.hasOwnProperty.call(S,A)){var I=S[A],L=d(I,"baseURL",R),F=d(I,"path",O),D=d(I,"prefix",b),B=d(I,"files",null),V=d(I,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(L),this.setPath(F),this.setPrefix(D);for(var U=0;U<B.length;U++){var W=B[U],Y=W.hasOwnProperty("type")?W.type:V;this[Y]&&(this[Y](W),M++)}}}return this.setBaseURL(R),this.setPath(O),this.setPrefix(b),M>0},"addPack"),removePack:r(function(S,E){var w=this.systems.anims,M=this.cacheManager,R=this.textureManager,O={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},b;if(f(S))b=S;else if(b=M.json.get(S),!b){console.warn("Asset Pack not found in JSON cache:",S);return}E&&(b={_:b[E]});for(var A in b){var I=b[A],L=d(I,"prefix",""),F=d(I,"files"),D=d(I,"defaultType");if(Array.isArray(F))for(var B=0;B<F.length;B++){var V=F[B],U=V.hasOwnProperty("type")?V.type:D;if(!U){console.warn("No type:",V);continue}var W=L+V.key;if(U==="animation"&&w.remove(W),!((U==="aseprite"||U==="atlas"||U==="atlasXML"||U==="htmlTexture"||U==="image"||U==="multiatlas"||U==="spritesheet"||U==="svg"||U==="texture"||U==="unityAtlas")&&(R.remove(W),!O[U]))){if(U==="pack"){this.removePack(W,V.dataKey);continue}if(U==="spine"){var Y=M.custom.spine.get(W);if(!Y)continue;var N=Y.prefix===void 0?"":Y.prefix;M.custom.spine.remove(W);var z=M.custom.spineTextures.get(W);if(!z)continue;M.custom.spineTextures.remove(W);for(var G=0;G<z.pages.length;G++){var X=z.pages[G],k=N+X.name,H=W+":"+k;R.exists(H)?R.remove(H):R.remove(k)}}var $=O[U];if($!==null){if(!$){console.warn("Unknown type:",U);continue}var K=M[$];K.remove(W)}}}}},"removePack"),isLoading:r(function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},"isLoading"),isReady:r(function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},"isReady"),start:r(function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(g.UPDATE,this.update,this)))},"start"),updateProgress:r(function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},"updateProgress"),update:r(function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},"update"),checkLoadQueue:r(function(){this.list.each(function(S){if((S.state===m.FILE_POPULATED||S.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(S),this.list.delete(S),S.crossOrigin||(S.crossOrigin=this.crossOrigin),S.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},"checkLoadQueue"),nextFile:r(function(S,E){this.inflight&&(this.inflight.delete(S),this.updateProgress(),E?(this.totalComplete++,this.queue.set(S),this.emit(l.FILE_LOAD,S),S.onProcess()):(this.totalFailed++,this._deleteQueue.set(S),this.emit(l.FILE_LOAD_ERROR,S),this.fileProcessComplete(S)))},"nextFile"),fileProcessComplete:r(function(S){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(S.state===m.FILE_ERRORED?S.multiFile&&S.multiFile.onFileFailed(S):S.state===m.FILE_COMPLETE&&(S.multiFile?S.multiFile.isReadyToProcess()&&(S.multiFile.addToCache(),S.multiFile.pendingDestroy()):(S.addToCache(),S.pendingDestroy())),this.queue.delete(S),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},"fileProcessComplete"),loadComplete:r(function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(g.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},"loadComplete"),flagForRemoval:r(function(S){this._deleteQueue.set(S)},"flagForRemoval"),saveJSON:r(function(S,E){return this.save(JSON.stringify(S),E)},"saveJSON"),save:r(function(S,E,w){E===void 0&&(E="file.json"),w===void 0&&(w="application/json");var M=new Blob([S],{type:w}),R=URL.createObjectURL(M),O=document.createElement("a");return O.download=E,O.textContent="Download "+E,O.href=R,O.click(),this},"save"),reset:r(function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var S=this.systems.game.config,E=this.systems.settings.loader;this.setBaseURL(d(E,"baseURL",S.loaderBaseURL)),this.setPath(d(E,"path",S.loaderPath)),this.setPrefix(d(E,"prefix",S.loaderPrefix)),this.state=m.LOADER_IDLE},"reset"),shutdown:r(function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null},"destroy")});p.register("Loader",C,"load"),n.exports=C}),3374:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),m=i(92638),c=r(function(u,l){var o=u===void 0?m():h({},u);if(l)for(var d in l)l[d]!==void 0&&(o[d]=l[d]);return o},"MergeXHRSettings");n.exports=c}),26430:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(54899),u=new h({initialize:r(function(o,d,v,f){var p=[];f.forEach(function(C){C&&p.push(C)}),this.loader=o,this.type=d,this.key=v;var g=this.key;o.prefix&&o.prefix!==""&&(this.key=o.prefix+g),this.multiKeyIndex=o.multiKeyIndex++,this.files=p,this.state=m.FILE_PENDING,this.complete=!1,this.pending=p.length,this.failed=0,this.config={},this.baseURL=o.baseURL,this.path=o.path,this.prefix=o.prefix;for(var y=0;y<p.length;y++)p[y].multiFile=this},"MultiFile"),isReadyToProcess:r(function(){return this.pending===0&&this.failed===0&&!this.complete},"isReadyToProcess"),addToMultiFile:r(function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},"addToMultiFile"),onFileComplete:r(function(l){var o=this.files.indexOf(l);o!==-1&&this.pending--},"onFileComplete"),onFileFailed:r(function(l){var o=this.files.indexOf(l);o!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},"onFileFailed"),pendingDestroy:r(function(){if(this.state!==m.FILE_PENDING_DESTROY){var l=this.key,o=this.type;this.loader.emit(c.FILE_COMPLETE,l,o),this.loader.emit(c.FILE_KEY_COMPLETE+o+"-"+l,l,o),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=m.FILE_PENDING_DESTROY}},"pendingDestroy"),destroy:r(function(){this.loader=null,this.files=null,this.config=null},"destroy")});n.exports=u}),84376:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(3374),m=r(function(c,u){var l=h(u,c.xhrSettings);if(c.base64){var o=c.url.split(";base64,").pop()||c.url.split(",").pop(),d;c.xhrSettings.responseType==="arraybuffer"?d={response:Uint8Array.from(atob(o),function(p){return p.charCodeAt(0)}).buffer}:d={responseText:atob(o)},c.onBase64Load(d);return}var v=new XMLHttpRequest;if(v.open("GET",c.src,l.async,l.user,l.password),v.responseType=c.xhrSettings.responseType,v.timeout=l.timeout,l.headers)for(var f in l.headers)v.setRequestHeader(f,l.headers[f]);return l.header&&l.headerValue&&v.setRequestHeader(l.header,l.headerValue),l.requestedWith&&v.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&v.overrideMimeType(l.overrideMimeType),l.withCredentials&&(v.withCredentials=!0),v.onload=c.onLoad.bind(c,v),v.onerror=c.onError.bind(c,v),v.onprogress=c.onProgress.bind(c),v.ontimeout=c.onError.bind(c,v),v.send(),v},"XHRLoader");n.exports=m}),92638:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u,l){return i===void 0&&(i=""),h===void 0&&(h=!0),m===void 0&&(m=""),c===void 0&&(c=""),u===void 0&&(u=0),l===void 0&&(l=!1),{responseType:i,async:h,user:m,password:c,timeout:u,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}},"XHRSettings");n.exports=T}),23906:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=T}),42155:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"}),38991:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),27540:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"}),87464:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"}),94486:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"}),13035:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"}),38144:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"}),97520:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"}),85595:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"}),55680:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),54899:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}}),14135:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(518),u=i(54899),l=new h({Extends:c,initialize:r(function(d,v,f,p,g){c.call(this,d,v,f,p,g),this.type="animationJSON"},"AnimationJSONFile"),onProcess:r(function(){this.loader.once(u.POST_PROCESS,this.onLoadComplete,this),c.prototype.onProcess.call(this)},"onProcess"),onLoadComplete:r(function(){this.loader.systems.anims.fromJSON(this.data)},"onLoadComplete")});m.register("animation",function(o,d,v,f){if(Array.isArray(o))for(var p=0;p<o.length;p++)this.addFile(new l(this,o[p]));else this.addFile(new l(this,o,d,f,v));return this}),n.exports=l}),76272:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(95540),u=i(19550),l=i(41212),o=i(518),d=i(26430),v=new h({Extends:d,initialize:r(function(p,g,y,C,S,E){var w,M;if(l(g)){var R=g;g=c(R,"key"),w=new u(p,{key:g,url:c(R,"textureURL"),extension:c(R,"textureExtension","png"),normalMap:c(R,"normalMap"),xhrSettings:c(R,"textureXhrSettings")}),M=new o(p,{key:g,url:c(R,"atlasURL"),extension:c(R,"atlasExtension","json"),xhrSettings:c(R,"atlasXhrSettings")})}else w=new u(p,g,y,S),M=new o(p,g,C,E);w.linkFile?d.call(this,p,"atlasjson",g,[w,M,w.linkFile]):d.call(this,p,"atlasjson",g,[w,M])},"AsepriteFile"),addToCache:r(function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(f.key,f.data,p.data,g),p.addToCache(),this.complete=!0}},"addToCache")});m.register("aseprite",function(f,p,g,y,C){var S;if(Array.isArray(f))for(var E=0;E<f.length;E++)S=new v(this,f[E]),this.addFile(S.files);else S=new v(this,f,p,g,y,C),this.addFile(S.files);return this}),n.exports=v}),38734:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(95540),u=i(19550),l=i(41212),o=i(518),d=i(26430),v=new h({Extends:d,initialize:r(function(p,g,y,C,S,E){var w,M;if(l(g)){var R=g;g=c(R,"key"),w=new u(p,{key:g,url:c(R,"textureURL"),extension:c(R,"textureExtension","png"),normalMap:c(R,"normalMap"),xhrSettings:c(R,"textureXhrSettings")}),M=new o(p,{key:g,url:c(R,"atlasURL"),extension:c(R,"atlasExtension","json"),xhrSettings:c(R,"atlasXhrSettings")})}else w=new u(p,g,y,S),M=new o(p,g,C,E);w.linkFile?d.call(this,p,"atlasjson",g,[w,M,w.linkFile]):d.call(this,p,"atlasjson",g,[w,M])},"AtlasJSONFile"),addToCache:r(function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(f.key,f.data,p.data,g),this.complete=!0}},"addToCache")});m.register("atlas",function(f,p,g,y,C){var S;if(Array.isArray(f))for(var E=0;E<f.length;E++)S=new v(this,f[E]),this.addFile(S.files);else S=new v(this,f,p,g,y,C),this.addFile(S.files);return this}),n.exports=v}),74599:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(95540),u=i(19550),l=i(41212),o=i(26430),d=i(57318),v=new h({Extends:o,initialize:r(function(p,g,y,C,S,E){var w,M;if(l(g)){var R=g;g=c(R,"key"),w=new u(p,{key:g,url:c(R,"textureURL"),extension:c(R,"textureExtension","png"),normalMap:c(R,"normalMap"),xhrSettings:c(R,"textureXhrSettings")}),M=new d(p,{key:g,url:c(R,"atlasURL"),extension:c(R,"atlasExtension","xml"),xhrSettings:c(R,"atlasXhrSettings")})}else w=new u(p,g,y,S),M=new d(p,g,C,E);w.linkFile?o.call(this,p,"atlasxml",g,[w,M,w.linkFile]):o.call(this,p,"atlasxml",g,[w,M])},"AtlasXMLFile"),addToCache:r(function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(f.key,f.data,p.data,g),this.complete=!0}},"addToCache")});m.register("atlasXML",function(f,p,g,y,C){var S;if(Array.isArray(f))for(var E=0;E<f.length;E++)S=new v(this,f[E]),this.addFile(S.files);else S=new v(this,f,p,g,y,C),this.addFile(S.files);return this}),n.exports=v}),21097:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(89749),d=i(41212),v=new h({Extends:c,initialize:r(function(p,g,y,C,S){if(d(g)){var E=g;g=l(E,"key"),C=l(E,"xhrSettings"),S=l(E,"context",S)}var w={type:"audio",cache:p.cacheManager.audio,extension:y.type,responseType:"arraybuffer",key:g,url:y.url,xhrSettings:C,config:{context:S}};c.call(this,p,w)},"AudioFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING;var f=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(p){f.data=p,f.onProcessComplete()},function(p){console.error("Error decoding audio: "+f.key+" - ",p?p.message:null),f.onProcessError()}),this.config.context=null},"onProcess")});v.create=function(f,p,g,y,C){var S=f.systems.game,E=S.config.audio,w=S.device.audio;d(p)&&(g=l(p,"url",[]),y=l(p,"config",{}));var M=v.getAudioURL(S,g);return M?w.webAudio&&!E.disableWebAudio?new v(f,p,M,C,S.sound.context):new o(f,p,M,y):(console.warn('No audio URLs for "%s" can play on this device',p),null)},v.getAudioURL=function(f,p){Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var y=l(p[g],"url",p[g]);if(y.indexOf("blob:")===0||y.indexOf("data:")===0)return{url:y,type:""};var C=y.match(/\.([a-zA-Z0-9]+)($|\?)/);if(C=l(p[g],"type",C?C[1]:"").toLowerCase(),f.device.audio[C])return{url:y,type:C}}return null},u.register("audio",function(f,p,g,y){var C=this.systems.game,S=C.config.audio,E=C.device.audio;if(S.noAudio||!E.webAudio&&!E.audioData)return this;var w;if(Array.isArray(f))for(var M=0;M<f.length;M++)w=v.create(this,f[M]),w&&this.addFile(w);else w=v.create(this,f,p,g,y),w&&this.addFile(w);return this}),n.exports=v}),89524:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(21097),m=i(83419),c=i(74099),u=i(95540),l=i(41212),o=i(518),d=i(26430),v=new m({Extends:d,initialize:r(function(p,g,y,C,S,E,w){if(l(g)){var M=g;g=u(M,"key"),y=u(M,"jsonURL"),C=u(M,"audioURL"),S=u(M,"audioConfig"),E=u(M,"audioXhrSettings"),w=u(M,"jsonXhrSettings")}var R;if(!C)R=new o(p,g,y,w),d.call(this,p,"audiosprite",g,[R]),this.config.resourceLoad=!0,this.config.audioConfig=S,this.config.audioXhrSettings=E;else{var O=h.create(p,g,C,S,E);O&&(R=new o(p,g,y,w),d.call(this,p,"audiosprite",g,[O,R]),this.config.resourceLoad=!1)}},"AudioSpriteFile"),onFileComplete:r(function(f){var p=this.files.indexOf(f);if(p!==-1&&(this.pending--,this.config.resourceLoad&&f.type==="json"&&f.data.hasOwnProperty("resources"))){var g=f.data.resources,y=u(this.config,"audioConfig"),C=u(this.config,"audioXhrSettings"),S=h.create(this.loader,f.key,g,y,C);S&&(this.addToMultiFile(S),this.loader.addFile(S))}},"onFileComplete"),addToCache:r(function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1];f.addToCache(),p.addToCache(),this.complete=!0}},"addToCache")});c.register("audioSprite",function(f,p,g,y,C,S){var E=this.systems.game,w=E.config.audio,M=E.device.audio;if(w&&w.noAudio||!M.webAudio&&!M.audioData)return this;var R;if(Array.isArray(f))for(var O=0;O<f.length;O++)R=new v(this,f[O]),R.files&&this.addFile(R.files);else R=new v(this,f,p,g,y,C,S),R.files&&this.addFile(R.files);return this})}),85722:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y,C){var S="bin";if(o(p)){var E=p;p=l(E,"key"),g=l(E,"url"),y=l(E,"xhrSettings"),S=l(E,"extension",S),C=l(E,"dataType",C)}var w={type:"binary",cache:f.cacheManager.binary,extension:S,responseType:"arraybuffer",key:p,url:g,xhrSettings:y,config:{dataType:C}};c.call(this,f,w)},"BinaryFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()},"onProcess")});u.register("binary",function(v,f,p,g){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,f,g,p));return this}),n.exports=d}),97025:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(95540),u=i(19550),l=i(41212),o=i(26430),d=i(21859),v=i(57318),f=new h({Extends:o,initialize:r(function(g,y,C,S,E,w){var M,R;if(l(y)){var O=y;y=c(O,"key"),M=new u(g,{key:y,url:c(O,"textureURL"),extension:c(O,"textureExtension","png"),normalMap:c(O,"normalMap"),xhrSettings:c(O,"textureXhrSettings")}),R=new v(g,{key:y,url:c(O,"fontDataURL"),extension:c(O,"fontDataExtension","xml"),xhrSettings:c(O,"fontDataXhrSettings")})}else M=new u(g,y,C,E),R=new v(g,y,S,w);M.linkFile?o.call(this,g,"bitmapfont",y,[M,R,M.linkFile]):o.call(this,g,"bitmapfont",y,[M,R])},"BitmapFontFile"),addToCache:r(function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1];p.addToCache();var y=p.cache.get(p.key),C=d(g.data,p.cache.getFrame(p.key),0,0,y);this.loader.cacheManager.bitmapFont.add(p.key,{data:C,texture:p.key,frame:null}),this.complete=!0}},"addToCache")});m.register("bitmapFont",function(p,g,y,C,S){var E;if(Array.isArray(p))for(var w=0;w<p.length;w++)E=new f(this,p[w]),this.addFile(E.files);else E=new f(this,p,g,y,C,S),this.addFile(E.files);return this}),n.exports=f}),16024:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y){var C="css";if(o(p)){var S=p;p=l(S,"key"),g=l(S,"url"),y=l(S,"xhrSettings"),C=l(S,"extension",C)}var E={type:"script",cache:!1,extension:C,responseType:"text",key:p,url:g,xhrSettings:y};c.call(this,f,E)},"CSSFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()},"onProcess")});u.register("css",function(v,f,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new d(this,v[g]));else this.addFile(new d(this,v,f,p));return this}),n.exports=d}),69559:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(38734),m=i(85722),c=i(83419),u=i(74099),l=i(95540),o=i(19550),d=i(41212),v=i(518),f=i(31403),p=i(46975),g=i(59327),y=i(26430),C=i(82038),S=i(55222),E=new c({Extends:y,initialize:r(function(M,R,O,b){if(O.multiAtlasURL){var A=new v(M,{key:R,url:O.multiAtlasURL,xhrSettings:b,config:O});y.call(this,M,"texture",R,[A])}else{var I=O.textureURL.substr(O.textureURL.length-3);O.type||(O.type=I.toLowerCase()==="ktx"?"KTX":"PVR");var L=new m(M,{key:R,url:O.textureURL,extension:I,xhrSettings:b,config:O});if(O.atlasURL){var F=new v(M,{key:R,url:O.atlasURL,xhrSettings:b,config:O});y.call(this,M,"texture",R,[L,F])}else y.call(this,M,"texture",R,[L])}this.config=O},"CompressedTextureFile"),onFileComplete:r(function(w){var M=this.files.indexOf(w);if(M!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(w.type==="json"&&w.data.hasOwnProperty("textures")){var R=w.data.textures,O=this.config,b=this.loader,A=b.baseURL,I=b.path,L=b.prefix,F=l(O,"multiBaseURL",this.baseURL),D=l(O,"multiPath",this.path),B=l(O,"prefix",this.prefix),V=l(O,"textureXhrSettings");F&&b.setBaseURL(F),D&&b.setPath(D),B&&b.setPrefix(B);for(var U=0;U<R.length;U++){var W=R[U].image,Y="CMA"+this.multiKeyIndex+"_"+W,N=new m(b,Y,W,V);if(this.addToMultiFile(N),b.addFile(N),R[U].normalMap){var z=new m(b,Y,R[U].normalMap,V);z.type="normalMap",N.setLink(z),this.addToMultiFile(z),b.addFile(z)}}b.setBaseURL(A),b.setPath(I),b.setPrefix(L)}}},"onFileComplete"),addToCache:r(function(){function w(F){console.warn('Compressed Texture Invalid: "'+A.key+'". '+F)}if(r(w,"compressionWarning"),this.isReadyToProcess()){var M=this.config;if(M.multiAtlasURL)this.addMultiToCache();else{var R=this.loader.systems.renderer,O=this.loader.textureManager,b,A=this.files[0],I=this.files[1];if(M.type==="PVR"?b=C(A.data):M.type==="KTX"&&(b=f(A.data),b||w("KTX file contains unsupported format.")),b&&!S(b)&&(w("Texture dimensions failed verification. Check the texture format specifications for "+M.format+" 0x"+b.internalFormat.toString(16)+"."),b=null),b&&!R.supportsCompressedTexture(M.format,b.internalFormat)&&(w("Texture format "+M.format+" with internal format "+b.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),b=null),b){b.format=R.getCompressedTextureName(M.format,b.internalFormat);var L=I&&I.data?I.data:null;O.addCompressedTexture(A.key,b,L)}}this.complete=!0}},"addToCache"),addMultiToCache:r(function(){for(var w=this.config,M=this.files[0],R=[],O=[],b=[],A=this.loader.systems.renderer,I=this.loader.textureManager,L,F=1;F<this.files.length;F++){var D=this.files[F];if(D.type!=="normalMap")for(var B=D.key.indexOf("_"),V=D.key.substr(B+1),U=D.data,W=0;W<M.data.textures.length;W++){var Y=M.data.textures[W];if(Y.image===V){w.type==="PVR"?L=C(U):w.type==="KTX"&&(L=f(U)),L&&A.supportsCompressedTexture(w.format,L.internalFormat)&&(L.format=A.getCompressedTextureName(w.format,L.internalFormat),O.push(L),R.push(Y),D.linkFile&&b.push(D.linkFile.data));break}}}b.length===0&&(b=void 0),I.addAtlasJSONArray(this.key,O,R,b),this.complete=!0},"addMultiToCache")});u.register("texture",function(w,M,R){var O=this.systems.renderer,b=r(function(I,L,F,D){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d(L)){var V=L;L=l(V,"key"),F=l(V,"url"),D=l(V,"xhrSettings")}var U=!1;for(var W in F)if(O.supportsCompressedTexture(W)){var Y=F[W];typeof Y=="string"?B.textureURL=Y:B=p(Y,B),B.format=W.toUpperCase(),U=!0;break}if(!U)console.warn("No supported compressed texture format or IMG fallback",L);else if(B.format==="IMG"){var N,z;B.multiAtlasURL?(z=new g(I,L,B.multiAtlasURL,B.multiPath,B.multiBaseURL,D),N=z.files):B.atlasURL?(z=new h(I,L,B.textureURL,B.atlasURL,D),N=z.files):N=new o(I,L,B.textureURL,D),I.addFile(N)}else{var G=new E(I,L,B,D);I.addFile(G.files)}},"AddEntry");if(Array.isArray(w))for(var A=0;A<w.length;A++)b(this,w[A]);else b(this,w,M,R);return this}),n.exports=E}),87674:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(98356),d=i(41212),v=new h({Extends:c,initialize:r(function(p,g,y,C,S,E){var w="ttf";if(d(g)){var M=g;g=l(M,"key"),y=l(M,"url"),C=l(M,"format","truetype"),S=l(M,"descriptors",null),E=l(M,"xhrSettings"),w=l(M,"extension",w)}else C===void 0&&(C="truetype");var R={type:"font",cache:!1,extension:w,responseType:"text",key:g,url:y,xhrSettings:E};c.call(this,p,R),this.data={format:C,descriptors:S},this.state=m.FILE_POPULATED},"FontFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.src=o(this,this.loader.baseURL);var f,p=this.key,g="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?f=new FontFace(p,g,this.data.descriptors):f=new FontFace(p,g);var y=this;f.load().then(function(){document.fonts.add(f),document.body.classList.add("fonts-loaded"),y.onProcessComplete()}).catch(function(){console.warn("Font failed to load",g),y.onProcessComplete()})},"onProcess")});u.register("font",function(f,p,g,y,C){if(Array.isArray(f))for(var S=0;S<f.length;S++)this.addFile(new v(this,f[S]));else this.addFile(new v(this,f,p,g,y,C));return this}),n.exports=v}),47931:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=i(73894),v=new h({Extends:c,initialize:r(function(p,g,y,C,S){var E="glsl";if(o(g)){var w=g;g=l(w,"key"),y=l(w,"url"),C=l(w,"shaderType","fragment"),S=l(w,"xhrSettings"),E=l(w,"extension",E)}else C===void 0&&(C="fragment");var M={type:"glsl",cache:p.cacheManager.shader,extension:E,responseType:"text",key:g,url:y,config:{shaderType:C},xhrSettings:S};c.call(this,p,M)},"GLSLFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess"),addToCache:r(function(){var f=this.data.split(`
`),p=this.extractBlock(f,0);if(p)for(;p;){var g=this.getShaderName(p.header),y=this.getShaderType(p.header),C=this.getShaderUniforms(p.header),S=p.shader;if(this.cache.has(g)){var E=this.cache.get(g);y==="fragment"?E.fragmentSrc=S:E.vertexSrc=S,E.uniforms||(E.uniforms=C)}else y==="fragment"?this.cache.add(g,new d(g,S,"",C)):this.cache.add(g,new d(g,"",S,C));p=this.extractBlock(f,p.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new d(this.key,this.data)):this.cache.add(this.key,new d(this.key,"",this.data))},"addToCache"),getShaderName:r(function(f){for(var p=0;p<f.length;p++){var g=f[p].trim();if(g.substring(0,5)==="name:")return g.substring(5).trim()}return this.key},"getShaderName"),getShaderType:r(function(f){for(var p=0;p<f.length;p++){var g=f[p].trim();if(g.substring(0,5)==="type:")return g.substring(5).trim()}return this.config.shaderType},"getShaderType"),getShaderUniforms:r(function(f){for(var p={},g=0;g<f.length;g++){var y=f[g].trim();if(y.substring(0,8)==="uniform."){var C=y.indexOf(":");if(C){var S=y.substring(8,C);try{p[S]=JSON.parse(y.substring(C+1))}catch{console.warn("Invalid uniform JSON: "+S)}}}}return p},"getShaderUniforms"),extractBlock:r(function(f,p){for(var g=-1,y=-1,C=-1,S=!1,E=!1,w=[],M=[],R=p;R<f.length;R++){var O=f[R].trim();if(O==="---")if(g===-1)g=R,S=!0;else if(S)y=R,S=!1,E=!0;else{E=!1;break}else S?w.push(O):E&&(M.push(O),C=R)}return!S&&y!==-1?{header:w,shader:M.join(`
`),offset:C}:null},"extractBlock")});u.register("glsl",function(f,p,g,y){if(Array.isArray(f))for(var C=0;C<f.length;C++)this.addFile(new v(this,f[C]));else this.addFile(new v(this,f,p,g,y));return this}),n.exports=v}),89749:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(54899),c=i(41299),u=i(95540),l=i(98356),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y){if(o(p)){var C=p;p=u(C,"key"),y=u(C,"config",y)}var S={type:"audio",cache:f.cacheManager.audio,extension:g.type,key:p,url:g.url,config:y};c.call(this,f,S),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},"HTML5AudioFile"),onLoad:r(function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},"onLoad"),onError:r(function(){for(var v=0;v<this.data.length;v++){var f=this.data[v];f.oncanplaythrough=null,f.onerror=null}this.loader.nextFile(this,!1)},"onError"),onProgress:r(function(v){var f=v.target;f.oncanplaythrough=null,f.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},"onProgress"),load:r(function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var f=0;f<v;f++){var p=new Audio;p.dataset||(p.dataset={}),p.dataset.name=this.key+("0"+f).slice(-2),p.dataset.used="false",this.locked?p.dataset.locked="true":(p.dataset.locked="false",p.preload="auto",p.oncanplaythrough=this.onProgress.bind(this),p.onerror=this.onError.bind(this)),this.data.push(p)}for(f=0;f<this.data.length;f++)p=this.data[f],p.src=l(this,this.loader.baseURL),this.locked||p.load();this.locked&&setTimeout(this.onLoad.bind(this))},"load")});n.exports=d}),88470:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y){var C="html";if(o(p)){var S=p;p=l(S,"key"),g=l(S,"url"),y=l(S,"xhrSettings"),C=l(S,"extension",C)}var E={type:"text",cache:f.cacheManager.html,extension:C,responseType:"text",key:p,url:g,xhrSettings:y};c.call(this,f,E)},"HTMLFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess")});u.register("html",function(v,f,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new d(this,v[g]));else this.addFile(new d(this,v,f,p));return this}),n.exports=d}),14643:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y,C,S){y===void 0&&(y=512),C===void 0&&(C=512);var E="html";if(o(p)){var w=p;p=l(w,"key"),g=l(w,"url"),S=l(w,"xhrSettings"),E=l(w,"extension",E),y=l(w,"width",y),C=l(w,"height",C)}var M={type:"html",cache:f.textureManager,extension:E,responseType:"text",key:p,url:g,xhrSettings:S,config:{width:y,height:C}};c.call(this,f,M)},"HTMLTextureFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING;var v=this.config.width,f=this.config.height,p=[];p.push('<svg width="'+v+'px" height="'+f+'px" viewBox="0 0 '+v+" "+f+'" xmlns="http://www.w3.org/2000/svg">'),p.push('<foreignObject width="100%" height="100%">'),p.push('<body xmlns="http://www.w3.org/1999/xhtml">'),p.push(this.xhrLoader.responseText),p.push("</body>"),p.push("</foreignObject>"),p.push("</svg>");var g=[p.join(`
`)],y=this;try{var C=new window.Blob(g,{type:"image/svg+xml;charset=utf-8"})}catch{y.state=m.FILE_ERRORED,y.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){c.revokeObjectURL(y.data),y.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(y.data),y.onProcessError()},c.createObjectURL(this.data,C,"image/svg+xml")},"onProcess"),addToCache:r(function(){this.cache.addImage(this.key,this.data)},"addToCache")});u.register("htmlTexture",function(v,f,p,g,y){if(Array.isArray(v))for(var C=0;C<v.length;C++)this.addFile(new d(this,v[C]));else this.addFile(new d(this,v,f,p,g,y));return this}),n.exports=d}),19550:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=i(98356),v=new h({Extends:c,initialize:r(function f(p,g,y,C,S){var E="png",w;if(o(g)){var M=g;g=l(M,"key"),y=l(M,"url"),w=l(M,"normalMap"),C=l(M,"xhrSettings"),E=l(M,"extension",E),S=l(M,"frameConfig")}Array.isArray(y)&&(w=y[1],y=y[0]);var R={type:"image",cache:p.textureManager,extension:E,responseType:"blob",key:g,url:y,xhrSettings:C,config:S};if(c.call(this,p,R),w){var O=new f(p,this.key,w,C,S);O.type="normalMap",this.setLink(O),p.addFile(O)}this.useImageElementLoad=p.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},"ImageFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){c.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(f.data),f.onProcessError()},c.createObjectURL(this.data,this.xhrLoader.response,"image/png")},"onProcess"),onProcessImage:r(function(){var f=this.state;this.state=m.FILE_PROCESSING,f===m.FILE_LOADED?this.onProcessComplete():this.onProcessError()},"onProcessImage"),loadImage:r(function(){this.state=m.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){f.state=m.FILE_LOADED,f.loader.nextFile(f,!0)},this.data.onerror=function(){f.loader.nextFile(f,!1)},this.data.src=this.src},"loadImage"),addToCache:r(function(){var f=this.linkFile;f?f.state>=m.FILE_COMPLETE&&(f.type==="spritesheet"?f.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,f.data,this.data):this.cache.addImage(this.key,this.data,f.data)):this.cache.addImage(this.key,this.data)},"addToCache")});u.register("image",function(f,p,g){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,p,g));return this}),n.exports=v}),518:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(35154),d=i(41212),v=new h({Extends:c,initialize:r(function(p,g,y,C,S){var E="json";if(d(g)){var w=g;g=l(w,"key"),y=l(w,"url"),C=l(w,"xhrSettings"),E=l(w,"extension",E),S=l(w,"dataKey",S)}var M={type:"json",cache:p.cacheManager.json,extension:E,responseType:"text",key:g,url:y,xhrSettings:C,config:S};c.call(this,p,M),d(y)&&(S?this.data=o(y,S):this.data=y,this.state=m.FILE_POPULATED)},"JSONFile"),onProcess:r(function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var f=JSON.parse(this.xhrLoader.responseText)}catch(g){throw this.onProcessError(),g}var p=this.config;typeof p=="string"?this.data=o(f,p,f):this.data=f}this.onProcessComplete()},"onProcess")});u.register("json",function(f,p,g,y){if(Array.isArray(f))for(var C=0;C<f.length;C++)this.addFile(new v(this,f[C]));else this.addFile(new v(this,f,p,y,g));return this}),n.exports=v}),59327:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(95540),u=i(19550),l=i(41212),o=i(518),d=i(26430),v=new h({Extends:d,initialize:r(function(p,g,y,C,S,E,w){if(l(g)){var M=g;g=c(M,"key"),c(M,"url",!1)?y=c(M,"url"):y=c(M,"atlasURL"),E=c(M,"xhrSettings"),C=c(M,"path"),S=c(M,"baseURL"),w=c(M,"textureXhrSettings")}var R=new o(p,g,y,E);d.call(this,p,"multiatlas",g,[R]),this.config.path=C,this.config.baseURL=S,this.config.textureXhrSettings=w},"MultiAtlasFile"),onFileComplete:r(function(f){var p=this.files.indexOf(f);if(p!==-1&&(this.pending--,f.type==="json"&&f.data.hasOwnProperty("textures"))){var g=f.data.textures,y=this.config,C=this.loader,S=C.baseURL,E=C.path,w=C.prefix,M=c(y,"baseURL",this.baseURL),R=c(y,"path",this.path),O=c(y,"prefix",this.prefix),b=c(y,"textureXhrSettings");C.setBaseURL(M),C.setPath(R),C.setPrefix(O);for(var A=0;A<g.length;A++){var I=g[A].image,L="MA"+this.multiKeyIndex+"_"+I,F=new u(C,L,I,b);if(this.addToMultiFile(F),C.addFile(F),g[A].normalMap){var D=new u(C,L,g[A].normalMap,b);D.type="normalMap",F.setLink(D),this.addToMultiFile(D),C.addFile(D)}}C.setBaseURL(S),C.setPath(E),C.setPrefix(w)}},"onFileComplete"),addToCache:r(function(){if(this.isReadyToProcess()){for(var f=this.files[0],p=[],g=[],y=[],C=1;C<this.files.length;C++){var S=this.files[C];if(S.type!=="normalMap")for(var E=S.key.indexOf("_"),w=S.key.substr(E+1),M=S.data,R=0;R<f.data.textures.length;R++){var O=f.data.textures[R];if(O.image===w){g.push(M),p.push(O),S.linkFile&&y.push(S.linkFile.data);break}}}y.length===0&&(y=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,g,p,y),this.complete=!0}},"addToCache")});m.register("multiatlas",function(f,p,g,y,C){var S;if(Array.isArray(f))for(var E=0;E<f.length;E++)S=new v(this,f[E]),this.addFile(S.files);else S=new v(this,f,p,g,y,C),this.addFile(S.files);return this}),n.exports=v}),99297:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(95540),u=i(41212),l=i(26430),o=i(34328),d=new h({Extends:l,initialize:r(function(f,p,g,y){var C="js",S=[];if(u(p)){var E=p;p=c(E,"key"),g=c(E,"url"),y=c(E,"xhrSettings"),C=c(E,"extension",C)}Array.isArray(g)||(g=[g]);for(var w=0;w<g.length;w++){var M=new o(f,{key:p+"_"+w.toString(),url:g[w],extension:C,xhrSettings:y});M.onProcess=function(){this.onProcessComplete()},S.push(M)}l.call(this,f,"scripts",p,S)},"MultiScriptFile"),addToCache:r(function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var f=this.files[v];f.data=document.createElement("script"),f.data.language="javascript",f.data.type="text/javascript",f.data.defer=!1,f.data.text=f.xhrLoader.responseText,document.head.appendChild(f.data)}this.complete=!0}},"addToCache")});m.register("scripts",function(v,f,p){var g;if(Array.isArray(v))for(var y=0;y<v.length;y++)g=new d(this,v[y]),this.addFile(g.files);else g=new d(this,v,f,p),this.addFile(g.files);return this}),n.exports=d}),41846:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(95540),u=i(41212),l=i(26430),o=i(85048),d=i(61485),v=i(78776),f=new h({Extends:l,initialize:r(function(g,y,C,S,E,w){var M,R,O=g.cacheManager.obj;if(u(y)){var b=y;y=c(b,"key"),M=new v(g,{key:y,type:"obj",cache:O,url:c(b,"url"),extension:c(b,"extension","obj"),xhrSettings:c(b,"xhrSettings"),config:{flipUV:c(b,"flipUV",E)}}),S=c(b,"matURL"),S&&(R=new v(g,{key:y,type:"mat",cache:O,url:S,extension:c(b,"matExtension","mat"),xhrSettings:c(b,"xhrSettings")}))}else M=new v(g,{key:y,url:C,type:"obj",cache:O,extension:"obj",xhrSettings:w,config:{flipUV:E}}),S&&(R=new v(g,{key:y,url:S,type:"mat",cache:O,extension:"mat",xhrSettings:w}));l.call(this,g,"obj",y,[M,R])},"OBJFile"),addToCache:r(function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1],y=o(p.data,p.config.flipUV);g&&(y.materials=d(g.data)),p.cache.add(p.key,y),this.complete=!0}},"addToCache")});m.register("obj",function(p,g,y,C,S){var E;if(Array.isArray(p))for(var w=0;w<p.length;w++)E=new f(this,p[w]),this.addFile(E.files);else E=new f(this,p,g,y,C,S),this.addFile(E.files);return this}),n.exports=f}),58610:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(74099),u=i(518),l=new h({Extends:u,initialize:r(function(d,v,f,p,g){u.call(this,d,v,f,p,g),this.type="packfile"},"PackFile"),onProcess:r(function(){if(this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var o={};o[this.config]=this.data,this.data=o}this.loader.addPack(this.data,this.config),this.onProcessComplete()},"onProcess")});c.register("pack",function(o,d,v,f){if(Array.isArray(o))for(var p=0;p<o.length;p++)this.addFile(new l(this,o[p]));else this.addFile(new l(this,o,d,f,v));return this}),n.exports=l}),48988:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y,C,S){var E="js";if(o(p)){var w=p;p=l(w,"key"),g=l(w,"url"),S=l(w,"xhrSettings"),E=l(w,"extension",E),y=l(w,"start"),C=l(w,"mapping")}var M={type:"plugin",cache:!1,extension:E,responseType:"text",key:p,url:g,xhrSettings:S,config:{start:y,mapping:C}};c.call(this,f,M),typeof g=="function"&&(this.data=g,this.state=m.FILE_POPULATED)},"PluginFile"),onProcess:r(function(){var v=this.loader.systems.plugins,f=this.config,p=l(f,"start",!1),g=l(f,"mapping",null);if(this.state===m.FILE_POPULATED)v.install(this.key,this.data,p,g);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var y=v.install(this.key,window[this.key],p,g);(p||g)&&(this.loader.systems[g]=y,this.loader.scene[g]=y)}this.onProcessComplete()},"onProcess")});u.register("plugin",function(v,f,p,g,y){if(Array.isArray(v))for(var C=0;C<v.length;C++)this.addFile(new d(this,v[C]));else this.addFile(new d(this,v,f,p,g,y));return this}),n.exports=d}),67397:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y,C){var S="svg";if(o(p)){var E=p;p=l(E,"key"),g=l(E,"url"),y=l(E,"svgConfig",{}),C=l(E,"xhrSettings"),S=l(E,"extension",S)}var w={type:"svg",cache:f.textureManager,extension:S,responseType:"text",key:p,url:g,xhrSettings:C,config:{width:l(y,"width"),height:l(y,"height"),scale:l(y,"scale")}};c.call(this,f,w)},"SVGFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING;var v=this.xhrLoader.responseText,f=[v],p=this.config.width,g=this.config.height,y=this.config.scale;t:if(p&&g||y){var C=null,S=new DOMParser;C=S.parseFromString(v,"text/xml");var E=C.getElementsByTagName("svg")[0],w=E.hasAttribute("viewBox"),M=parseFloat(E.getAttribute("width")),R=parseFloat(E.getAttribute("height"));if(!w&&M&&R)E.setAttribute("viewBox","0  0 "+M+" "+R);else if(w&&!M&&!R){var O=E.getAttribute("viewBox").split(/\s+|,/);M=O[2],R=O[3]}if(y)if(M&&R)p=M*y,g=R*y;else break t;E.setAttribute("width",p.toString()+"px"),E.setAttribute("height",g.toString()+"px"),f=[new XMLSerializer().serializeToString(E)]}try{var b=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var A=this,I=!1;this.data.onload=function(){I||c.revokeObjectURL(A.data),A.onProcessComplete()},this.data.onerror=function(){I?A.onProcessError():(I=!0,c.revokeObjectURL(A.data),A.data.src="data:image/svg+xml,"+encodeURIComponent(f.join("")))},c.createObjectURL(this.data,b,"image/svg+xml")},"onProcess"),addToCache:r(function(){this.cache.addImage(this.key,this.data)},"addToCache")});u.register("svg",function(v,f,p,g){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,f,p,g));return this}),n.exports=d}),88423:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y){var C="js";if(o(p)){var S=p;p=l(S,"key"),g=l(S,"url"),y=l(S,"xhrSettings"),C=l(S,"extension",C)}var E={type:"text",extension:C,responseType:"text",key:p,url:g,xhrSettings:y};c.call(this,f,E)},"SceneFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess"),addToCache:r(function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),f=eval;this.loader.sceneManager.add(this.key,f(v)),this.complete=!0},"addToCache")});u.register("sceneFile",function(v,f,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new d(this,v[g]));else this.addFile(new d(this,v,f,p));return this}),n.exports=d}),56812:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y,C,S){var E="js";if(o(p)){var w=p;p=l(w,"key"),g=l(w,"url"),S=l(w,"xhrSettings"),E=l(w,"extension",E),y=l(w,"systemKey"),C=l(w,"sceneKey")}var M={type:"scenePlugin",cache:!1,extension:E,responseType:"text",key:p,url:g,xhrSettings:S,config:{systemKey:y,sceneKey:C}};c.call(this,f,M),typeof g=="function"&&(this.data=g,this.state=m.FILE_POPULATED)},"ScenePluginFile"),onProcess:r(function(){var v=this.loader.systems.plugins,f=this.config,p=this.key,g=l(f,"systemKey",p),y=l(f,"sceneKey",p);this.state===m.FILE_POPULATED?v.installScenePlugin(g,this.data,y,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(g,window[this.key],y,this.loader.scene,!0)),this.onProcessComplete()},"onProcess")});u.register("scenePlugin",function(v,f,p,g,y){if(Array.isArray(v))for(var C=0;C<v.length;C++)this.addFile(new d(this,v[C]));else this.addFile(new d(this,v,f,p,g,y));return this}),n.exports=d}),34328:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y,C){var S="js";if(o(p)){var E=p;p=l(E,"key"),g=l(E,"url"),y=l(E,"type","script"),C=l(E,"xhrSettings"),S=l(E,"extension",S)}else y===void 0&&(y="script");var w={type:y,cache:!1,extension:S,responseType:"text",key:p,url:g,xhrSettings:C};c.call(this,f,w)},"ScriptFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()},"onProcess")});u.register("script",function(v,f,p,g){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,f,p,g));return this}),n.exports=d}),85035:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(74099),u=i(19550),l=new h({Extends:u,initialize:r(function(d,v,f,p,g){u.call(this,d,v,f,g,p),this.type="spritesheet"},"SpriteSheetFile"),addToCache:r(function(){var o=this.linkFile;o?o.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,o.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,o.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)},"addToCache")});c.register("spritesheet",function(o,d,v,f){if(Array.isArray(o))for(var p=0;p<o.length;p++)this.addFile(new l(this,o[p]));else this.addFile(new l(this,o,d,v,f));return this}),n.exports=l}),78776:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=new h({Extends:c,initialize:r(function(f,p,g,y){var C="text",S="txt",E=f.cacheManager.text;if(o(p)){var w=p;p=l(w,"key"),g=l(w,"url"),y=l(w,"xhrSettings"),S=l(w,"extension",S),C=l(w,"type",C),E=l(w,"cache",E)}var M={type:C,cache:E,extension:S,responseType:"text",key:p,url:g,xhrSettings:y};c.call(this,f,M)},"TextFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess")});u.register("text",function(v,f,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new d(this,v[g]));else this.addFile(new d(this,v,f,p));return this}),n.exports=d}),49477:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=i(80341),v=new h({Extends:c,initialize:r(function(p,g,y,C){var S="csv";if(o(g)){var E=g;g=l(E,"key"),y=l(E,"url"),C=l(E,"xhrSettings"),S=l(E,"extension",S)}var w={type:"tilemapCSV",cache:p.cacheManager.tilemap,extension:S,responseType:"text",key:g,url:y,xhrSettings:C};c.call(this,p,w),this.tilemapFormat=d.CSV},"TilemapCSVFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess"),addToCache:r(function(){var f={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,f)},"addToCache")});u.register("tilemapCSV",function(f,p,g){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,p,g));return this}),n.exports=v}),40807:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(518),u=i(80341),l=new h({Extends:c,initialize:r(function(d,v,f,p){c.call(this,d,v,f,p),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},"TilemapImpactFile"),addToCache:r(function(){var o={format:u.WELTMEISTER,data:this.data};this.cache.add(this.key,o)},"addToCache")});m.register("tilemapImpact",function(o,d,v){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new l(this,o[f]));else this.addFile(new l(this,o,d,v));return this}),n.exports=l}),56775:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(518),u=i(80341),l=new h({Extends:c,initialize:r(function(d,v,f,p){c.call(this,d,v,f,p),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},"TilemapJSONFile"),addToCache:r(function(){var o={format:u.TILED_JSON,data:this.data};this.cache.add(this.key,o)},"addToCache")});m.register("tilemapTiledJSON",function(o,d,v){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new l(this,o[f]));else this.addFile(new l(this,o,d,v));return this}),n.exports=l}),25771:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(74099),c=i(95540),u=i(19550),l=i(41212),o=i(26430),d=i(78776),v=new h({Extends:o,initialize:r(function(p,g,y,C,S,E){var w,M;if(l(g)){var R=g;g=c(R,"key"),w=new u(p,{key:g,url:c(R,"textureURL"),extension:c(R,"textureExtension","png"),normalMap:c(R,"normalMap"),xhrSettings:c(R,"textureXhrSettings")}),M=new d(p,{key:g,url:c(R,"atlasURL"),extension:c(R,"atlasExtension","txt"),xhrSettings:c(R,"atlasXhrSettings")})}else w=new u(p,g,y,S),M=new d(p,g,C,E);w.linkFile?o.call(this,p,"unityatlas",g,[w,M,w.linkFile]):o.call(this,p,"unityatlas",g,[w,M])},"UnityAtlasFile"),addToCache:r(function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(f.key,f.data,p.data,g),this.complete=!0}},"addToCache")});m.register("unityAtlas",function(f,p,g,y,C){var S;if(Array.isArray(f))for(var E=0;E<f.length;E++)S=new v(this,f[E]),this.addFile(S.files);else S=new v(this,f,p,g,y,C),this.addFile(S.files);return this}),n.exports=v}),33720:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(98356),o=i(95540),d=i(41212),v=new h({Extends:c,initialize:r(function(p,g,y,C){if(C===void 0&&(C=!1),d(g)){var S=g;g=o(S,"key"),y=o(S,"url",[]),C=o(S,"noAudio",!1)}var E=p.systems.game.device.video.getVideoURL(y);E||console.warn("VideoFile: No supported format for "+g);var w={type:"video",cache:p.cacheManager.video,extension:E.type,key:g,url:E.url,config:{noAudio:C}};c.call(this,p,w)},"VideoFile"),onProcess:r(function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},"onProcess"),load:r(function(){this.src=l(this,this.loader.baseURL),this.state=m.FILE_LOADED,this.loader.nextFile(this,!0)},"load")});u.register("video",function(f,p,g){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,p,g));return this}),n.exports=v}),57318:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(23906),c=i(41299),u=i(74099),l=i(95540),o=i(41212),d=i(56836),v=new h({Extends:c,initialize:r(function(p,g,y,C){var S="xml";if(o(g)){var E=g;g=l(E,"key"),y=l(E,"url"),C=l(E,"xhrSettings"),S=l(E,"extension",S)}var w={type:"xml",cache:p.cacheManager.xml,extension:S,responseType:"text",key:g,url:y,xhrSettings:C};c.call(this,p,w)},"XMLFile"),onProcess:r(function(){this.state=m.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()},"onProcess")});u.register("xml",function(f,p,g){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,p,g));return this}),n.exports=v}),64589:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),FontFile:i(87674),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}}),57777:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23906),m=i(79291),c={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};c=m(!1,c,h),n.exports=c}),53307:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var h=0,m=0;m<i.length;m++)h+=+i[m];return h/i.length},"Average");n.exports=T}),85710:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6411),m=r(function(c,u){return h(c)/h(u)/h(c-u)},"Bernstein");n.exports=m}),30976:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return Math.floor(Math.random()*(h-i+1)+i)},"Between");n.exports=T}),87842:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u){var l=(c-h)*.5,o=(u-m)*.5,d=i*i,v=i*d;return(2*m-2*c+l+o)*v+(-3*m+3*c-2*l-o)*d+l*i+m},"CatmullRom");n.exports=T}),26302:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){h===void 0&&(h=0),m===void 0&&(m=10);var c=Math.pow(m,-h);return Math.ceil(i*c)/c},"CeilTo");n.exports=T}),45319:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return Math.max(h,Math.min(m,i))},"Clamp");n.exports=T}),39506:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=r(function(c){return c*h.DEG_TO_RAD},"DegToRad");n.exports=m}),61241:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return Math.abs(i-h)},"Difference");n.exports=T}),38857:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(37867),u=i(29747),l=new c,o=new m({initialize:r(function d(v,f,p,g){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=d.DefaultOrder),this._x=v,this._y=f,this._z=p,this._order=g,this.onChangeCallback=u},"Euler"),x:{get:r(function(){return this._x},"get"),set:r(function(d){this._x=d,this.onChangeCallback(this)},"set")},y:{get:r(function(){return this._y},"get"),set:r(function(d){this._y=d,this.onChangeCallback(this)},"set")},z:{get:r(function(){return this._z},"get"),set:r(function(d){this._z=d,this.onChangeCallback(this)},"set")},order:{get:r(function(){return this._order},"get"),set:r(function(d){this._order=d,this.onChangeCallback(this)},"set")},set:r(function(d,v,f,p){return p===void 0&&(p=this._order),this._x=d,this._y=v,this._z=f,this._order=p,this.onChangeCallback(this),this},"set"),copy:r(function(d){return this.set(d.x,d.y,d.z,d.order)},"copy"),setFromQuaternion:r(function(d,v,f){return v===void 0&&(v=this._order),f===void 0&&(f=!1),l.fromQuat(d),this.setFromRotationMatrix(l,v,f)},"setFromQuaternion"),setFromRotationMatrix:r(function(d,v,f){v===void 0&&(v=this._order),f===void 0&&(f=!1);var p=d.val,g=p[0],y=p[4],C=p[8],S=p[1],E=p[5],w=p[9],M=p[2],R=p[6],O=p[10],b=0,A=0,I=0,L=.99999;switch(v){case"XYZ":{A=Math.asin(h(C,-1,1)),Math.abs(C)<L?(b=Math.atan2(-w,O),I=Math.atan2(-y,g)):b=Math.atan2(R,E);break}case"YXZ":{b=Math.asin(-h(w,-1,1)),Math.abs(w)<L?(A=Math.atan2(C,O),I=Math.atan2(S,E)):A=Math.atan2(-M,g);break}case"ZXY":{b=Math.asin(h(R,-1,1)),Math.abs(R)<L?(A=Math.atan2(-M,O),I=Math.atan2(-y,E)):I=Math.atan2(S,g);break}case"ZYX":{A=Math.asin(-h(M,-1,1)),Math.abs(M)<L?(b=Math.atan2(R,O),I=Math.atan2(S,g)):I=Math.atan2(-y,E);break}case"YZX":{I=Math.asin(h(S,-1,1)),Math.abs(S)<L?(b=Math.atan2(-w,E),A=Math.atan2(-M,g)):A=Math.atan2(C,O);break}case"XZY":{I=Math.asin(-h(y,-1,1)),Math.abs(y)<L?(b=Math.atan2(R,E),A=Math.atan2(C,g)):b=Math.atan2(-w,O);break}}return this._x=b,this._y=A,this._z=I,this._order=v,f&&this.onChangeCallback(this),this},"setFromRotationMatrix")});o.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],o.DefaultOrder="XYZ",n.exports=o}),6411:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){if(i===0)return 1;for(var h=i;--i;)h*=i;return h},"Factorial");n.exports=T}),99472:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return Math.random()*(h-i)+i},"FloatBetween");n.exports=T}),77623:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){h===void 0&&(h=0),m===void 0&&(m=10);var c=Math.pow(m,-h);return Math.floor(i*c)/c},"FloorTo");n.exports=T}),62945:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=r(function(c,u,l){return c=h(c,0,1),(l-u)*c+u},"FromPercent");n.exports=m}),38265:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i/h/1e3},"GetSpeed");n.exports=T}),78702:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i==parseFloat(i)?!(i%2):void 0},"IsEven");n.exports=T}),94883:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i===parseFloat(i)?!(i%2):void 0},"IsEvenStrict");n.exports=T}),28915:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return(h-i)*m+i},"Linear");n.exports=T}),94908:(n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return m===void 0&&(m=0),i.clone().lerp(h,m)},"LinearXY");n.exports=T}),94434:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u){this.val=new Float32Array(9),u?this.copy(u):this.identity()},"Matrix3"),clone:r(function(){return new m(this)},"clone"),set:r(function(c){return this.copy(c)},"set"),copy:r(function(c){var u=this.val,l=c.val;return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],this},"copy"),fromMat4:r(function(c){var u=c.val,l=this.val;return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[4],l[4]=u[5],l[5]=u[6],l[6]=u[8],l[7]=u[9],l[8]=u[10],this},"fromMat4"),fromArray:r(function(c){var u=this.val;return u[0]=c[0],u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=c[6],u[7]=c[7],u[8]=c[8],this},"fromArray"),identity:r(function(){var c=this.val;return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=1,c[5]=0,c[6]=0,c[7]=0,c[8]=1,this},"identity"),transpose:r(function(){var c=this.val,u=c[1],l=c[2],o=c[5];return c[1]=c[3],c[2]=c[6],c[3]=u,c[5]=c[7],c[6]=l,c[7]=o,this},"transpose"),invert:r(function(){var c=this.val,u=c[0],l=c[1],o=c[2],d=c[3],v=c[4],f=c[5],p=c[6],g=c[7],y=c[8],C=y*v-f*g,S=-y*d+f*p,E=g*d-v*p,w=u*C+l*S+o*E;return w?(w=1/w,c[0]=C*w,c[1]=(-y*l+o*g)*w,c[2]=(f*l-o*v)*w,c[3]=S*w,c[4]=(y*u-o*p)*w,c[5]=(-f*u+o*d)*w,c[6]=E*w,c[7]=(-g*u+l*p)*w,c[8]=(v*u-l*d)*w,this):null},"invert"),adjoint:r(function(){var c=this.val,u=c[0],l=c[1],o=c[2],d=c[3],v=c[4],f=c[5],p=c[6],g=c[7],y=c[8];return c[0]=v*y-f*g,c[1]=o*g-l*y,c[2]=l*f-o*v,c[3]=f*p-d*y,c[4]=u*y-o*p,c[5]=o*d-u*f,c[6]=d*g-v*p,c[7]=l*p-u*g,c[8]=u*v-l*d,this},"adjoint"),determinant:r(function(){var c=this.val,u=c[0],l=c[1],o=c[2],d=c[3],v=c[4],f=c[5],p=c[6],g=c[7],y=c[8];return u*(y*v-f*g)+l*(-y*d+f*p)+o*(g*d-v*p)},"determinant"),multiply:r(function(c){var u=this.val,l=u[0],o=u[1],d=u[2],v=u[3],f=u[4],p=u[5],g=u[6],y=u[7],C=u[8],S=c.val,E=S[0],w=S[1],M=S[2],R=S[3],O=S[4],b=S[5],A=S[6],I=S[7],L=S[8];return u[0]=E*l+w*v+M*g,u[1]=E*o+w*f+M*y,u[2]=E*d+w*p+M*C,u[3]=R*l+O*v+b*g,u[4]=R*o+O*f+b*y,u[5]=R*d+O*p+b*C,u[6]=A*l+I*v+L*g,u[7]=A*o+I*f+L*y,u[8]=A*d+I*p+L*C,this},"multiply"),translate:r(function(c){var u=this.val,l=c.x,o=c.y;return u[6]=l*u[0]+o*u[3]+u[6],u[7]=l*u[1]+o*u[4]+u[7],u[8]=l*u[2]+o*u[5]+u[8],this},"translate"),rotate:r(function(c){var u=this.val,l=u[0],o=u[1],d=u[2],v=u[3],f=u[4],p=u[5],g=Math.sin(c),y=Math.cos(c);return u[0]=y*l+g*v,u[1]=y*o+g*f,u[2]=y*d+g*p,u[3]=y*v-g*l,u[4]=y*f-g*o,u[5]=y*p-g*d,this},"rotate"),scale:r(function(c){var u=this.val,l=c.x,o=c.y;return u[0]=l*u[0],u[1]=l*u[1],u[2]=l*u[2],u[3]=o*u[3],u[4]=o*u[4],u[5]=o*u[5],this},"scale"),fromQuat:r(function(c){var u=c.x,l=c.y,o=c.z,d=c.w,v=u+u,f=l+l,p=o+o,g=u*v,y=u*f,C=u*p,S=l*f,E=l*p,w=o*p,M=d*v,R=d*f,O=d*p,b=this.val;return b[0]=1-(S+w),b[3]=y+O,b[6]=C-R,b[1]=y-O,b[4]=1-(g+w),b[7]=E+M,b[2]=C+R,b[5]=E-M,b[8]=1-(g+S),this},"fromQuat"),normalFromMat4:r(function(c){var u=c.val,l=this.val,o=u[0],d=u[1],v=u[2],f=u[3],p=u[4],g=u[5],y=u[6],C=u[7],S=u[8],E=u[9],w=u[10],M=u[11],R=u[12],O=u[13],b=u[14],A=u[15],I=o*g-d*p,L=o*y-v*p,F=o*C-f*p,D=d*y-v*g,B=d*C-f*g,V=v*C-f*y,U=S*O-E*R,W=S*b-w*R,Y=S*A-M*R,N=E*b-w*O,z=E*A-M*O,G=w*A-M*b,X=I*G-L*z+F*N+D*Y-B*W+V*U;return X?(X=1/X,l[0]=(g*G-y*z+C*N)*X,l[1]=(y*Y-p*G-C*W)*X,l[2]=(p*z-g*Y+C*U)*X,l[3]=(v*z-d*G-f*N)*X,l[4]=(o*G-v*Y+f*W)*X,l[5]=(d*Y-o*z-f*U)*X,l[6]=(O*V-b*B+A*D)*X,l[7]=(b*F-R*V-A*L)*X,l[8]=(R*B-O*F+A*I)*X,this):null},"normalFromMat4")});n.exports=m}),37867:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(25836),c=1e-6,u=new h({initialize:r(function(g){this.val=new Float32Array(16),g?this.copy(g):this.identity()},"Matrix4"),clone:r(function(){return new u(this)},"clone"),set:r(function(p){return this.copy(p)},"set"),setValues:r(function(p,g,y,C,S,E,w,M,R,O,b,A,I,L,F,D){var B=this.val;return B[0]=p,B[1]=g,B[2]=y,B[3]=C,B[4]=S,B[5]=E,B[6]=w,B[7]=M,B[8]=R,B[9]=O,B[10]=b,B[11]=A,B[12]=I,B[13]=L,B[14]=F,B[15]=D,this},"setValues"),copy:r(function(p){var g=p.val;return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},"copy"),fromArray:r(function(p){return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},"fromArray"),zero:r(function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},"zero"),transform:r(function(p,g,y){var C=l.fromQuat(y),S=C.val,E=g.x,w=g.y,M=g.z;return this.setValues(S[0]*E,S[1]*E,S[2]*E,0,S[4]*w,S[5]*w,S[6]*w,0,S[8]*M,S[9]*M,S[10]*M,0,p.x,p.y,p.z,1)},"transform"),xyz:r(function(p,g,y){this.identity();var C=this.val;return C[12]=p,C[13]=g,C[14]=y,this},"xyz"),scaling:r(function(p,g,y){this.zero();var C=this.val;return C[0]=p,C[5]=g,C[10]=y,C[15]=1,this},"scaling"),identity:r(function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},"identity"),transpose:r(function(){var p=this.val,g=p[1],y=p[2],C=p[3],S=p[6],E=p[7],w=p[11];return p[1]=p[4],p[2]=p[8],p[3]=p[12],p[4]=g,p[6]=p[9],p[7]=p[13],p[8]=y,p[9]=S,p[11]=p[14],p[12]=C,p[13]=E,p[14]=w,this},"transpose"),getInverse:r(function(p){return this.copy(p),this.invert()},"getInverse"),invert:r(function(){var p=this.val,g=p[0],y=p[1],C=p[2],S=p[3],E=p[4],w=p[5],M=p[6],R=p[7],O=p[8],b=p[9],A=p[10],I=p[11],L=p[12],F=p[13],D=p[14],B=p[15],V=g*w-y*E,U=g*M-C*E,W=g*R-S*E,Y=y*M-C*w,N=y*R-S*w,z=C*R-S*M,G=O*F-b*L,X=O*D-A*L,k=O*B-I*L,H=b*D-A*F,$=b*B-I*F,K=A*B-I*D,Z=V*K-U*$+W*H+Y*k-N*X+z*G;return Z?(Z=1/Z,this.setValues((w*K-M*$+R*H)*Z,(C*$-y*K-S*H)*Z,(F*z-D*N+B*Y)*Z,(A*N-b*z-I*Y)*Z,(M*k-E*K-R*X)*Z,(g*K-C*k+S*X)*Z,(D*W-L*z-B*U)*Z,(O*z-A*W+I*U)*Z,(E*$-w*k+R*G)*Z,(y*k-g*$-S*G)*Z,(L*N-F*W+B*V)*Z,(b*W-O*N-I*V)*Z,(w*X-E*H-M*G)*Z,(g*H-y*X+C*G)*Z,(F*U-L*Y-D*V)*Z,(O*Y-b*U+A*V)*Z)):this},"invert"),adjoint:r(function(){var p=this.val,g=p[0],y=p[1],C=p[2],S=p[3],E=p[4],w=p[5],M=p[6],R=p[7],O=p[8],b=p[9],A=p[10],I=p[11],L=p[12],F=p[13],D=p[14],B=p[15];return this.setValues(w*(A*B-I*D)-b*(M*B-R*D)+F*(M*I-R*A),-(y*(A*B-I*D)-b*(C*B-S*D)+F*(C*I-S*A)),y*(M*B-R*D)-w*(C*B-S*D)+F*(C*R-S*M),-(y*(M*I-R*A)-w*(C*I-S*A)+b*(C*R-S*M)),-(E*(A*B-I*D)-O*(M*B-R*D)+L*(M*I-R*A)),g*(A*B-I*D)-O*(C*B-S*D)+L*(C*I-S*A),-(g*(M*B-R*D)-E*(C*B-S*D)+L*(C*R-S*M)),g*(M*I-R*A)-E*(C*I-S*A)+O*(C*R-S*M),E*(b*B-I*F)-O*(w*B-R*F)+L*(w*I-R*b),-(g*(b*B-I*F)-O*(y*B-S*F)+L*(y*I-S*b)),g*(w*B-R*F)-E*(y*B-S*F)+L*(y*R-S*w),-(g*(w*I-R*b)-E*(y*I-S*b)+O*(y*R-S*w)),-(E*(b*D-A*F)-O*(w*D-M*F)+L*(w*A-M*b)),g*(b*D-A*F)-O*(y*D-C*F)+L*(y*A-C*b),-(g*(w*D-M*F)-E*(y*D-C*F)+L*(y*M-C*w)),g*(w*A-M*b)-E*(y*A-C*b)+O*(y*M-C*w))},"adjoint"),determinant:r(function(){var p=this.val,g=p[0],y=p[1],C=p[2],S=p[3],E=p[4],w=p[5],M=p[6],R=p[7],O=p[8],b=p[9],A=p[10],I=p[11],L=p[12],F=p[13],D=p[14],B=p[15],V=g*w-y*E,U=g*M-C*E,W=g*R-S*E,Y=y*M-C*w,N=y*R-S*w,z=C*R-S*M,G=O*F-b*L,X=O*D-A*L,k=O*B-I*L,H=b*D-A*F,$=b*B-I*F,K=A*B-I*D;return V*K-U*$+W*H+Y*k-N*X+z*G},"determinant"),multiply:r(function(p){var g=this.val,y=g[0],C=g[1],S=g[2],E=g[3],w=g[4],M=g[5],R=g[6],O=g[7],b=g[8],A=g[9],I=g[10],L=g[11],F=g[12],D=g[13],B=g[14],V=g[15],U=p.val,W=U[0],Y=U[1],N=U[2],z=U[3];return g[0]=W*y+Y*w+N*b+z*F,g[1]=W*C+Y*M+N*A+z*D,g[2]=W*S+Y*R+N*I+z*B,g[3]=W*E+Y*O+N*L+z*V,W=U[4],Y=U[5],N=U[6],z=U[7],g[4]=W*y+Y*w+N*b+z*F,g[5]=W*C+Y*M+N*A+z*D,g[6]=W*S+Y*R+N*I+z*B,g[7]=W*E+Y*O+N*L+z*V,W=U[8],Y=U[9],N=U[10],z=U[11],g[8]=W*y+Y*w+N*b+z*F,g[9]=W*C+Y*M+N*A+z*D,g[10]=W*S+Y*R+N*I+z*B,g[11]=W*E+Y*O+N*L+z*V,W=U[12],Y=U[13],N=U[14],z=U[15],g[12]=W*y+Y*w+N*b+z*F,g[13]=W*C+Y*M+N*A+z*D,g[14]=W*S+Y*R+N*I+z*B,g[15]=W*E+Y*O+N*L+z*V,this},"multiply"),multiplyLocal:r(function(p){var g=this.val,y=p.val;return this.setValues(g[0]*y[0]+g[1]*y[4]+g[2]*y[8]+g[3]*y[12],g[0]*y[1]+g[1]*y[5]+g[2]*y[9]+g[3]*y[13],g[0]*y[2]+g[1]*y[6]+g[2]*y[10]+g[3]*y[14],g[0]*y[3]+g[1]*y[7]+g[2]*y[11]+g[3]*y[15],g[4]*y[0]+g[5]*y[4]+g[6]*y[8]+g[7]*y[12],g[4]*y[1]+g[5]*y[5]+g[6]*y[9]+g[7]*y[13],g[4]*y[2]+g[5]*y[6]+g[6]*y[10]+g[7]*y[14],g[4]*y[3]+g[5]*y[7]+g[6]*y[11]+g[7]*y[15],g[8]*y[0]+g[9]*y[4]+g[10]*y[8]+g[11]*y[12],g[8]*y[1]+g[9]*y[5]+g[10]*y[9]+g[11]*y[13],g[8]*y[2]+g[9]*y[6]+g[10]*y[10]+g[11]*y[14],g[8]*y[3]+g[9]*y[7]+g[10]*y[11]+g[11]*y[15],g[12]*y[0]+g[13]*y[4]+g[14]*y[8]+g[15]*y[12],g[12]*y[1]+g[13]*y[5]+g[14]*y[9]+g[15]*y[13],g[12]*y[2]+g[13]*y[6]+g[14]*y[10]+g[15]*y[14],g[12]*y[3]+g[13]*y[7]+g[14]*y[11]+g[15]*y[15])},"multiplyLocal"),premultiply:r(function(p){return this.multiplyMatrices(p,this)},"premultiply"),multiplyMatrices:r(function(p,g){var y=p.val,C=g.val,S=y[0],E=y[4],w=y[8],M=y[12],R=y[1],O=y[5],b=y[9],A=y[13],I=y[2],L=y[6],F=y[10],D=y[14],B=y[3],V=y[7],U=y[11],W=y[15],Y=C[0],N=C[4],z=C[8],G=C[12],X=C[1],k=C[5],H=C[9],$=C[13],K=C[2],Z=C[6],J=C[10],j=C[14],q=C[3],Q=C[7],tt=C[11],st=C[15];return this.setValues(S*Y+E*X+w*K+M*q,R*Y+O*X+b*K+A*q,I*Y+L*X+F*K+D*q,B*Y+V*X+U*K+W*q,S*N+E*k+w*Z+M*Q,R*N+O*k+b*Z+A*Q,I*N+L*k+F*Z+D*Q,B*N+V*k+U*Z+W*Q,S*z+E*H+w*J+M*tt,R*z+O*H+b*J+A*tt,I*z+L*H+F*J+D*tt,B*z+V*H+U*J+W*tt,S*G+E*$+w*j+M*st,R*G+O*$+b*j+A*st,I*G+L*$+F*j+D*st,B*G+V*$+U*j+W*st)},"multiplyMatrices"),translate:r(function(p){return this.translateXYZ(p.x,p.y,p.z)},"translate"),translateXYZ:r(function(p,g,y){var C=this.val;return C[12]=C[0]*p+C[4]*g+C[8]*y+C[12],C[13]=C[1]*p+C[5]*g+C[9]*y+C[13],C[14]=C[2]*p+C[6]*g+C[10]*y+C[14],C[15]=C[3]*p+C[7]*g+C[11]*y+C[15],this},"translateXYZ"),scale:r(function(p){return this.scaleXYZ(p.x,p.y,p.z)},"scale"),scaleXYZ:r(function(p,g,y){var C=this.val;return C[0]=C[0]*p,C[1]=C[1]*p,C[2]=C[2]*p,C[3]=C[3]*p,C[4]=C[4]*g,C[5]=C[5]*g,C[6]=C[6]*g,C[7]=C[7]*g,C[8]=C[8]*y,C[9]=C[9]*y,C[10]=C[10]*y,C[11]=C[11]*y,this},"scaleXYZ"),makeRotationAxis:r(function(p,g){var y=Math.cos(g),C=Math.sin(g),S=1-y,E=p.x,w=p.y,M=p.z,R=S*E,O=S*w;return this.setValues(R*E+y,R*w-C*M,R*M+C*w,0,R*w+C*M,O*w+y,O*M-C*E,0,R*M-C*w,O*M+C*E,S*M*M+y,0,0,0,0,1)},"makeRotationAxis"),rotate:r(function(p,g){var y=this.val,C=g.x,S=g.y,E=g.z,w=Math.sqrt(C*C+S*S+E*E);if(Math.abs(w)<c)return this;w=1/w,C*=w,S*=w,E*=w;var M=Math.sin(p),R=Math.cos(p),O=1-R,b=y[0],A=y[1],I=y[2],L=y[3],F=y[4],D=y[5],B=y[6],V=y[7],U=y[8],W=y[9],Y=y[10],N=y[11],z=y[12],G=y[13],X=y[14],k=y[15],H=C*C*O+R,$=S*C*O+E*M,K=E*C*O-S*M,Z=C*S*O-E*M,J=S*S*O+R,j=E*S*O+C*M,q=C*E*O+S*M,Q=S*E*O-C*M,tt=E*E*O+R;return this.setValues(b*H+F*$+U*K,A*H+D*$+W*K,I*H+B*$+Y*K,L*H+V*$+N*K,b*Z+F*J+U*j,A*Z+D*J+W*j,I*Z+B*J+Y*j,L*Z+V*J+N*j,b*q+F*Q+U*tt,A*q+D*Q+W*tt,I*q+B*Q+Y*tt,L*q+V*Q+N*tt,z,G,X,k)},"rotate"),rotateX:r(function(p){var g=this.val,y=Math.sin(p),C=Math.cos(p),S=g[4],E=g[5],w=g[6],M=g[7],R=g[8],O=g[9],b=g[10],A=g[11];return g[4]=S*C+R*y,g[5]=E*C+O*y,g[6]=w*C+b*y,g[7]=M*C+A*y,g[8]=R*C-S*y,g[9]=O*C-E*y,g[10]=b*C-w*y,g[11]=A*C-M*y,this},"rotateX"),rotateY:r(function(p){var g=this.val,y=Math.sin(p),C=Math.cos(p),S=g[0],E=g[1],w=g[2],M=g[3],R=g[8],O=g[9],b=g[10],A=g[11];return g[0]=S*C-R*y,g[1]=E*C-O*y,g[2]=w*C-b*y,g[3]=M*C-A*y,g[8]=S*y+R*C,g[9]=E*y+O*C,g[10]=w*y+b*C,g[11]=M*y+A*C,this},"rotateY"),rotateZ:r(function(p){var g=this.val,y=Math.sin(p),C=Math.cos(p),S=g[0],E=g[1],w=g[2],M=g[3],R=g[4],O=g[5],b=g[6],A=g[7];return g[0]=S*C+R*y,g[1]=E*C+O*y,g[2]=w*C+b*y,g[3]=M*C+A*y,g[4]=R*C-S*y,g[5]=O*C-E*y,g[6]=b*C-w*y,g[7]=A*C-M*y,this},"rotateZ"),fromRotationTranslation:r(function(p,g){var y=p.x,C=p.y,S=p.z,E=p.w,w=y+y,M=C+C,R=S+S,O=y*w,b=y*M,A=y*R,I=C*M,L=C*R,F=S*R,D=E*w,B=E*M,V=E*R;return this.setValues(1-(I+F),b+V,A-B,0,b-V,1-(O+F),L+D,0,A+B,L-D,1-(O+I),0,g.x,g.y,g.z,1)},"fromRotationTranslation"),fromQuat:r(function(p){var g=p.x,y=p.y,C=p.z,S=p.w,E=g+g,w=y+y,M=C+C,R=g*E,O=g*w,b=g*M,A=y*w,I=y*M,L=C*M,F=S*E,D=S*w,B=S*M;return this.setValues(1-(A+L),O+B,b-D,0,O-B,1-(R+L),I+F,0,b+D,I-F,1-(R+A),0,0,0,0,1)},"fromQuat"),frustum:r(function(p,g,y,C,S,E){var w=1/(g-p),M=1/(C-y),R=1/(S-E);return this.setValues(S*2*w,0,0,0,0,S*2*M,0,0,(g+p)*w,(C+y)*M,(E+S)*R,-1,0,0,E*S*2*R,0)},"frustum"),perspective:r(function(p,g,y,C){var S=1/Math.tan(p/2),E=1/(y-C);return this.setValues(S/g,0,0,0,0,S,0,0,0,0,(C+y)*E,-1,0,0,2*C*y*E,0)},"perspective"),perspectiveLH:r(function(p,g,y,C){return this.setValues(2*y/p,0,0,0,0,2*y/g,0,0,0,0,-C/(y-C),1,0,0,y*C/(y-C),0)},"perspectiveLH"),ortho:r(function(p,g,y,C,S,E){var w=p-g,M=y-C,R=S-E;return w=w===0?w:1/w,M=M===0?M:1/M,R=R===0?R:1/R,this.setValues(-2*w,0,0,0,0,-2*M,0,0,0,0,2*R,0,(p+g)*w,(C+y)*M,(E+S)*R,1)},"ortho"),lookAtRH:r(function(p,g,y){var C=this.val;return f.subVectors(p,g),f.lengthSq()===0&&(f.z=1),f.normalize(),d.crossVectors(y,f),d.lengthSq()===0&&(Math.abs(y.z)===1?f.x+=1e-4:f.z+=1e-4,f.normalize(),d.crossVectors(y,f)),d.normalize(),v.crossVectors(f,d),C[0]=d.x,C[1]=d.y,C[2]=d.z,C[4]=v.x,C[5]=v.y,C[6]=v.z,C[8]=f.x,C[9]=f.y,C[10]=f.z,this},"lookAtRH"),lookAt:r(function(p,g,y){var C=p.x,S=p.y,E=p.z,w=y.x,M=y.y,R=y.z,O=g.x,b=g.y,A=g.z;if(Math.abs(C-O)<c&&Math.abs(S-b)<c&&Math.abs(E-A)<c)return this.identity();var I=C-O,L=S-b,F=E-A,D=1/Math.sqrt(I*I+L*L+F*F);I*=D,L*=D,F*=D;var B=M*F-R*L,V=R*I-w*F,U=w*L-M*I;D=Math.sqrt(B*B+V*V+U*U),D?(D=1/D,B*=D,V*=D,U*=D):(B=0,V=0,U=0);var W=L*U-F*V,Y=F*B-I*U,N=I*V-L*B;return D=Math.sqrt(W*W+Y*Y+N*N),D?(D=1/D,W*=D,Y*=D,N*=D):(W=0,Y=0,N=0),this.setValues(B,W,I,0,V,Y,L,0,U,N,F,0,-(B*C+V*S+U*E),-(W*C+Y*S+N*E),-(I*C+L*S+F*E),1)},"lookAt"),yawPitchRoll:r(function(p,g,y){this.zero(),l.zero(),o.zero();var C=this.val,S=l.val,E=o.val,w=Math.sin(y),M=Math.cos(y);return C[10]=1,C[15]=1,C[0]=M,C[1]=w,C[4]=-w,C[5]=M,w=Math.sin(g),M=Math.cos(g),S[0]=1,S[15]=1,S[5]=M,S[10]=M,S[9]=-w,S[6]=w,w=Math.sin(p),M=Math.cos(p),E[5]=1,E[15]=1,E[0]=M,E[2]=-w,E[8]=w,E[10]=M,this.multiplyLocal(l),this.multiplyLocal(o),this},"yawPitchRoll"),setWorldMatrix:r(function(p,g,y,C,S){return this.yawPitchRoll(p.y,p.x,p.z),l.scaling(y.x,y.y,y.z),o.xyz(g.x,g.y,g.z),this.multiplyLocal(l),this.multiplyLocal(o),C&&this.multiplyLocal(C),S&&this.multiplyLocal(S),this},"setWorldMatrix"),multiplyToMat4:r(function(p,g){var y=this.val,C=p.val,S=y[0],E=y[1],w=y[2],M=y[3],R=y[4],O=y[5],b=y[6],A=y[7],I=y[8],L=y[9],F=y[10],D=y[11],B=y[12],V=y[13],U=y[14],W=y[15],Y=C[0],N=C[1],z=C[2],G=C[3],X=C[4],k=C[5],H=C[6],$=C[7],K=C[8],Z=C[9],J=C[10],j=C[11],q=C[12],Q=C[13],tt=C[14],st=C[15];return g.setValues(Y*S+N*R+z*I+G*B,N*E+N*O+z*L+G*V,z*w+N*b+z*F+G*U,G*M+N*A+z*D+G*W,X*S+k*R+H*I+$*B,X*E+k*O+H*L+$*V,X*w+k*b+H*F+$*U,X*M+k*A+H*D+$*W,K*S+Z*R+J*I+j*B,K*E+Z*O+J*L+j*V,K*w+Z*b+J*F+j*U,K*M+Z*A+J*D+j*W,q*S+Q*R+tt*I+st*B,q*E+Q*O+tt*L+st*V,q*w+Q*b+tt*F+st*U,q*M+Q*A+tt*D+st*W)},"multiplyToMat4"),fromRotationXYTranslation:r(function(p,g,y){var C=g.x,S=g.y,E=g.z,w=Math.sin(p.x),M=Math.cos(p.x),R=Math.sin(p.y),O=Math.cos(p.y),b=C,A=S,I=E,L=-w,F=0-L*R,D=0-M*R,B=L*O,V=M*O;return y||(b=O*C+R*E,A=F*C+M*S+B*E,I=D*C+w*S+V*E),this.setValues(O,F,D,0,0,M,w,0,R,B,V,0,b,A,I,1)},"fromRotationXYTranslation"),getMaxScaleOnAxis:r(function(){var p=this.val,g=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],y=p[4]*p[4]+p[5]*p[5]+p[6]*p[6],C=p[8]*p[8]+p[9]*p[9]+p[10]*p[10];return Math.sqrt(Math.max(g,y,C))},"getMaxScaleOnAxis")}),l=new u,o=new u,d=new m,v=new m,f=new m;n.exports=u}),86883:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return Math.min(i+h,m)},"MaxAdd");n.exports=T}),50040:(n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h=i.length;if(h===0)return 0;i.sort(function(c,u){return c-u});var m=Math.floor(h/2);return h%2===0?(i[m]+i[m-1])/2:i[m]},"Median");n.exports=T}),37204:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return Math.max(i-h,m)},"MinSub");n.exports=T}),65201:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){m===void 0&&(m=h+1);var u=(i-h)/(m-h);return u>1?c!==void 0?(u=(c-i)/(c-m),u<0&&(u=0)):u=1:u<0&&(u=0),u},"Percent");n.exports=T}),15746:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(94434),c=i(29747),u=i(25836),l=1e-6,o=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),v=new u(1,0,0),f=new u(0,1,0),p=new u,g=new m,y=new h({initialize:r(function(S,E,w,M){this.onChangeCallback=c,this.set(S,E,w,M)},"Quaternion"),x:{get:r(function(){return this._x},"get"),set:r(function(C){this._x=C,this.onChangeCallback(this)},"set")},y:{get:r(function(){return this._y},"get"),set:r(function(C){this._y=C,this.onChangeCallback(this)},"set")},z:{get:r(function(){return this._z},"get"),set:r(function(C){this._z=C,this.onChangeCallback(this)},"set")},w:{get:r(function(){return this._w},"get"),set:r(function(C){this._w=C,this.onChangeCallback(this)},"set")},copy:r(function(C){return this.set(C)},"copy"),set:r(function(C,S,E,w,M){return M===void 0&&(M=!0),typeof C=="object"?(this._x=C.x||0,this._y=C.y||0,this._z=C.z||0,this._w=C.w||0):(this._x=C||0,this._y=S||0,this._z=E||0,this._w=w||0),M&&this.onChangeCallback(this),this},"set"),add:r(function(C){return this._x+=C.x,this._y+=C.y,this._z+=C.z,this._w+=C.w,this.onChangeCallback(this),this},"add"),subtract:r(function(C){return this._x-=C.x,this._y-=C.y,this._z-=C.z,this._w-=C.w,this.onChangeCallback(this),this},"subtract"),scale:r(function(C){return this._x*=C,this._y*=C,this._z*=C,this._w*=C,this.onChangeCallback(this),this},"scale"),length:r(function(){var C=this.x,S=this.y,E=this.z,w=this.w;return Math.sqrt(C*C+S*S+E*E+w*w)},"length"),lengthSq:r(function(){var C=this.x,S=this.y,E=this.z,w=this.w;return C*C+S*S+E*E+w*w},"lengthSq"),normalize:r(function(){var C=this.x,S=this.y,E=this.z,w=this.w,M=C*C+S*S+E*E+w*w;return M>0&&(M=1/Math.sqrt(M),this._x=C*M,this._y=S*M,this._z=E*M,this._w=w*M),this.onChangeCallback(this),this},"normalize"),dot:r(function(C){return this.x*C.x+this.y*C.y+this.z*C.z+this.w*C.w},"dot"),lerp:r(function(C,S){S===void 0&&(S=0);var E=this.x,w=this.y,M=this.z,R=this.w;return this.set(E+S*(C.x-E),w+S*(C.y-w),M+S*(C.z-M),R+S*(C.w-R))},"lerp"),rotationTo:r(function(C,S){var E=C.x*S.x+C.y*S.y+C.z*S.z;return E<-.999999?(p.copy(v).cross(C).length()<l&&p.copy(f).cross(C),p.normalize(),this.setAxisAngle(p,Math.PI)):E>.999999?this.set(0,0,0,1):(p.copy(C).cross(S),this._x=p.x,this._y=p.y,this._z=p.z,this._w=1+E,this.normalize())},"rotationTo"),setAxes:r(function(C,S,E){var w=g.val;return w[0]=S.x,w[3]=S.y,w[6]=S.z,w[1]=E.x,w[4]=E.y,w[7]=E.z,w[2]=-C.x,w[5]=-C.y,w[8]=-C.z,this.fromMat3(g).normalize()},"setAxes"),identity:r(function(){return this.set(0,0,0,1)},"identity"),setAxisAngle:r(function(C,S){S=S*.5;var E=Math.sin(S);return this.set(E*C.x,E*C.y,E*C.z,Math.cos(S))},"setAxisAngle"),multiply:r(function(C){var S=this.x,E=this.y,w=this.z,M=this.w,R=C.x,O=C.y,b=C.z,A=C.w;return this.set(S*A+M*R+E*b-w*O,E*A+M*O+w*R-S*b,w*A+M*b+S*O-E*R,M*A-S*R-E*O-w*b)},"multiply"),slerp:r(function(C,S){var E=this.x,w=this.y,M=this.z,R=this.w,O=C.x,b=C.y,A=C.z,I=C.w,L=E*O+w*b+M*A+R*I;L<0&&(L=-L,O=-O,b=-b,A=-A,I=-I);var F=1-S,D=S;if(1-L>l){var B=Math.acos(L),V=Math.sin(B);F=Math.sin((1-S)*B)/V,D=Math.sin(S*B)/V}return this.set(F*E+D*O,F*w+D*b,F*M+D*A,F*R+D*I)},"slerp"),invert:r(function(){var C=this.x,S=this.y,E=this.z,w=this.w,M=C*C+S*S+E*E+w*w,R=M?1/M:0;return this.set(-C*R,-S*R,-E*R,w*R)},"invert"),conjugate:r(function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},"conjugate"),rotateX:r(function(C){C*=.5;var S=this.x,E=this.y,w=this.z,M=this.w,R=Math.sin(C),O=Math.cos(C);return this.set(S*O+M*R,E*O+w*R,w*O-E*R,M*O-S*R)},"rotateX"),rotateY:r(function(C){C*=.5;var S=this.x,E=this.y,w=this.z,M=this.w,R=Math.sin(C),O=Math.cos(C);return this.set(S*O-w*R,E*O+M*R,w*O+S*R,M*O-E*R)},"rotateY"),rotateZ:r(function(C){C*=.5;var S=this.x,E=this.y,w=this.z,M=this.w,R=Math.sin(C),O=Math.cos(C);return this.set(S*O+E*R,E*O-S*R,w*O+M*R,M*O-w*R)},"rotateZ"),calculateW:r(function(){var C=this.x,S=this.y,E=this.z;return this.w=-Math.sqrt(1-C*C-S*S-E*E),this},"calculateW"),setFromEuler:r(function(C,S){var E=C.x/2,w=C.y/2,M=C.z/2,R=Math.cos(E),O=Math.cos(w),b=Math.cos(M),A=Math.sin(E),I=Math.sin(w),L=Math.sin(M);switch(C.order){case"XYZ":{this.set(A*O*b+R*I*L,R*I*b-A*O*L,R*O*L+A*I*b,R*O*b-A*I*L,S);break}case"YXZ":{this.set(A*O*b+R*I*L,R*I*b-A*O*L,R*O*L-A*I*b,R*O*b+A*I*L,S);break}case"ZXY":{this.set(A*O*b-R*I*L,R*I*b+A*O*L,R*O*L+A*I*b,R*O*b-A*I*L,S);break}case"ZYX":{this.set(A*O*b-R*I*L,R*I*b+A*O*L,R*O*L-A*I*b,R*O*b+A*I*L,S);break}case"YZX":{this.set(A*O*b+R*I*L,R*I*b+A*O*L,R*O*L-A*I*b,R*O*b-A*I*L,S);break}case"XZY":{this.set(A*O*b-R*I*L,R*I*b-A*O*L,R*O*L+A*I*b,R*O*b+A*I*L,S);break}}return this},"setFromEuler"),setFromRotationMatrix:r(function(C){var S=C.val,E=S[0],w=S[4],M=S[8],R=S[1],O=S[5],b=S[9],A=S[2],I=S[6],L=S[10],F=E+O+L,D;return F>0?(D=.5/Math.sqrt(F+1),this.set((I-b)*D,(M-A)*D,(R-w)*D,.25/D)):E>O&&E>L?(D=2*Math.sqrt(1+E-O-L),this.set(.25*D,(w+R)/D,(M+A)/D,(I-b)/D)):O>L?(D=2*Math.sqrt(1+O-E-L),this.set((w+R)/D,.25*D,(b+I)/D,(M-A)/D)):(D=2*Math.sqrt(1+L-E-O),this.set((M+A)/D,(b+I)/D,.25*D,(R-w)/D)),this},"setFromRotationMatrix"),fromMat3:r(function(C){var S=C.val,E=S[0]+S[4]+S[8],w;if(E>0)w=Math.sqrt(E+1),this.w=.5*w,w=.5/w,this._x=(S[7]-S[5])*w,this._y=(S[2]-S[6])*w,this._z=(S[3]-S[1])*w;else{var M=0;S[4]>S[0]&&(M=1),S[8]>S[M*3+M]&&(M=2);var R=o[M],O=o[R];w=Math.sqrt(S[M*3+M]-S[R*3+R]-S[O*3+O]+1),d[M]=.5*w,w=.5/w,d[R]=(S[R*3+M]+S[M*3+R])*w,d[O]=(S[O*3+M]+S[M*3+O])*w,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(S[O*3+R]-S[R*3+O])*w}return this.onChangeCallback(this),this},"fromMat3")});n.exports=y}),43396:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=r(function(c){return c*h.RAD_TO_DEG},"RadToDeg");n.exports=m}),74362:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h=1);var m=Math.random()*2*Math.PI;return i.x=Math.cos(m)*h,i.y=Math.sin(m)*h,i},"RandomXY");n.exports=T}),60706:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h=1);var m=Math.random()*2*Math.PI,c=Math.random()*2-1,u=Math.sqrt(1-c*c)*h;return i.x=Math.cos(m)*u,i.y=Math.sin(m)*u,i.z=c*h,i},"RandomXYZ");n.exports=T}),67421:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h=1),i.x=(Math.random()*2-1)*h,i.y=(Math.random()*2-1)*h,i.z=(Math.random()*2-1)*h,i.w=(Math.random()*2-1)*h,i},"RandomXYZW");n.exports=T}),36305:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.x,c=i.y;return i.x=m*Math.cos(h)-c*Math.sin(h),i.y=m*Math.sin(h)+c*Math.cos(h),i},"Rotate");n.exports=T}),11520:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=Math.cos(c),l=Math.sin(c),o=i.x-h,d=i.y-m;return i.x=o*u-d*l+h,i.y=o*l+d*u+m,i},"RotateAround");n.exports=T}),1163:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u){var l=c+Math.atan2(i.y-m,i.x-h);return i.x=h+u*Math.cos(l),i.y=m+u*Math.sin(l),i},"RotateAroundDistance");n.exports=T}),70336:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u){return i.x=h+u*Math.cos(c),i.y=m+u*Math.sin(c),i},"RotateTo");n.exports=T}),72678:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25836),m=i(37867),c=i(15746),u=new m,l=new c,o=new h,d=r(function(v,f,p){return l.setAxisAngle(f,p),u.fromRotationTranslation(l,o.set(0,0,0)),v.transformMat4(u)},"RotateVec3");n.exports=d}),2284:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i>0?Math.ceil(i):Math.floor(i)},"RoundAwayFromZero");n.exports=T}),41013:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){h===void 0&&(h=0),m===void 0&&(m=10);var c=Math.pow(m,-h);return Math.round(i*c)/c},"RoundTo");n.exports=T}),16922:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){h===void 0&&(h=1),m===void 0&&(m=1),c===void 0&&(c=1),c*=Math.PI/i;for(var u=[],l=[],o=0;o<i;o++)m-=h*c,h+=m*c,u[o]=m,l[o]=h;return{sin:l,cos:u,length:i}},"SinCosTableGenerator");n.exports=T}),7602:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i<=h?0:i>=m?1:(i=(i-h)/(m-h),i*i*(3-2*i))},"SmoothStep");n.exports=T}),54261:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i=Math.max(0,Math.min(1,(i-h)/(m-h))),i*i*i*(i*(i*6-15)+10)},"SmootherStep");n.exports=T}),44408:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o){o===void 0&&(o=new h);var d=0,v=0,f=u*l;return c>0&&c<=f&&(c>u-1?(v=Math.floor(c/u),d=c-v*u):d=c),o.set(d,v)},"ToXY");n.exports=m}),85955:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o,d,v,f,p){p===void 0&&(p=new h);var g=Math.sin(d),y=Math.cos(d),C=y*v,S=g*v,E=-g*f,w=y*f,M=1/(C*w+E*-S);return p.x=w*M*c+-E*M*u+(o*E-l*w)*M,p.y=C*M*u+-S*M*c+(-o*C+l*S)*M,p},"TransformXY");n.exports=m}),26099:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(43855),c=new h({initialize:r(function(l,o){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(o===void 0&&(o=l),this.x=l||0,this.y=o||0)},"Vector2"),clone:r(function(){return new c(this.x,this.y)},"clone"),copy:r(function(u){return this.x=u.x||0,this.y=u.y||0,this},"copy"),setFromObject:r(function(u){return this.x=u.x||0,this.y=u.y||0,this},"setFromObject"),set:r(function(u,l){return l===void 0&&(l=u),this.x=u,this.y=l,this},"set"),setTo:r(function(u,l){return this.set(u,l)},"setTo"),setToPolar:r(function(u,l){return l==null&&(l=1),this.x=Math.cos(u)*l,this.y=Math.sin(u)*l,this},"setToPolar"),equals:r(function(u){return this.x===u.x&&this.y===u.y},"equals"),fuzzyEquals:r(function(u,l){return m(this.x,u.x,l)&&m(this.y,u.y,l)},"fuzzyEquals"),angle:r(function(){var u=Math.atan2(this.y,this.x);return u<0&&(u+=2*Math.PI),u},"angle"),setAngle:r(function(u){return this.setToPolar(u,this.length())},"setAngle"),add:r(function(u){return this.x+=u.x,this.y+=u.y,this},"add"),subtract:r(function(u){return this.x-=u.x,this.y-=u.y,this},"subtract"),multiply:r(function(u){return this.x*=u.x,this.y*=u.y,this},"multiply"),scale:r(function(u){return isFinite(u)?(this.x*=u,this.y*=u):(this.x=0,this.y=0),this},"scale"),divide:r(function(u){return this.x/=u.x,this.y/=u.y,this},"divide"),negate:r(function(){return this.x=-this.x,this.y=-this.y,this},"negate"),distance:r(function(u){var l=u.x-this.x,o=u.y-this.y;return Math.sqrt(l*l+o*o)},"distance"),distanceSq:r(function(u){var l=u.x-this.x,o=u.y-this.y;return l*l+o*o},"distanceSq"),length:r(function(){var u=this.x,l=this.y;return Math.sqrt(u*u+l*l)},"length"),setLength:r(function(u){return this.normalize().scale(u)},"setLength"),lengthSq:r(function(){var u=this.x,l=this.y;return u*u+l*l},"lengthSq"),normalize:r(function(){var u=this.x,l=this.y,o=u*u+l*l;return o>0&&(o=1/Math.sqrt(o),this.x=u*o,this.y=l*o),this},"normalize"),normalizeRightHand:r(function(){var u=this.x;return this.x=this.y*-1,this.y=u,this},"normalizeRightHand"),normalizeLeftHand:r(function(){var u=this.x;return this.x=this.y,this.y=u*-1,this},"normalizeLeftHand"),dot:r(function(u){return this.x*u.x+this.y*u.y},"dot"),cross:r(function(u){return this.x*u.y-this.y*u.x},"cross"),lerp:r(function(u,l){l===void 0&&(l=0);var o=this.x,d=this.y;return this.x=o+l*(u.x-o),this.y=d+l*(u.y-d),this},"lerp"),transformMat3:r(function(u){var l=this.x,o=this.y,d=u.val;return this.x=d[0]*l+d[3]*o+d[6],this.y=d[1]*l+d[4]*o+d[7],this},"transformMat3"),transformMat4:r(function(u){var l=this.x,o=this.y,d=u.val;return this.x=d[0]*l+d[4]*o+d[12],this.y=d[1]*l+d[5]*o+d[13],this},"transformMat4"),reset:r(function(){return this.x=0,this.y=0,this},"reset"),limit:r(function(u){var l=this.length();return l&&l>u&&this.scale(u/l),this},"limit"),reflect:r(function(u){return u=u.clone().normalize(),this.subtract(u.scale(2*this.dot(u)))},"reflect"),mirror:r(function(u){return this.reflect(u).negate()},"mirror"),rotate:r(function(u){var l=Math.cos(u),o=Math.sin(u);return this.set(l*this.x-o*this.y,o*this.x+l*this.y)},"rotate"),project:r(function(u){var l=this.dot(u)/u.dot(u);return this.copy(u).scale(l)},"project")});c.ZERO=new c,c.RIGHT=new c(1,0),c.LEFT=new c(-1,0),c.UP=new c(0,-1),c.DOWN=new c(0,1),c.ONE=new c(1,1),n.exports=c}),25836:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o){this.x=0,this.y=0,this.z=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=l||0,this.z=o||0)},"Vector3"),up:r(function(){return this.x=0,this.y=1,this.z=0,this},"up"),min:r(function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},"min"),max:r(function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},"max"),clone:r(function(){return new m(this.x,this.y,this.z)},"clone"),addVectors:r(function(c,u){return this.x=c.x+u.x,this.y=c.y+u.y,this.z=c.z+u.z,this},"addVectors"),subVectors:r(function(c,u){return this.x=c.x-u.x,this.y=c.y-u.y,this.z=c.z-u.z,this},"subVectors"),crossVectors:r(function(c,u){var l=c.x,o=c.y,d=c.z,v=u.x,f=u.y,p=u.z;return this.x=o*p-d*f,this.y=d*v-l*p,this.z=l*f-o*v,this},"crossVectors"),equals:r(function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z},"equals"),copy:r(function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this},"copy"),set:r(function(c,u,l){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=u||0,this.z=l||0),this},"set"),setFromMatrixPosition:r(function(c){return this.fromArray(c.val,12)},"setFromMatrixPosition"),setFromMatrixColumn:r(function(c,u){return this.fromArray(c.val,u*4)},"setFromMatrixColumn"),fromArray:r(function(c,u){return u===void 0&&(u=0),this.x=c[u],this.y=c[u+1],this.z=c[u+2],this},"fromArray"),add:r(function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this},"add"),addScalar:r(function(c){return this.x+=c,this.y+=c,this.z+=c,this},"addScalar"),addScale:r(function(c,u){return this.x+=c.x*u,this.y+=c.y*u,this.z+=c.z*u||0,this},"addScale"),subtract:r(function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this},"subtract"),multiply:r(function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this},"multiply"),scale:r(function(c){return isFinite(c)?(this.x*=c,this.y*=c,this.z*=c):(this.x=0,this.y=0,this.z=0),this},"scale"),divide:r(function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this},"divide"),negate:r(function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},"negate"),distance:r(function(c){var u=c.x-this.x,l=c.y-this.y,o=c.z-this.z||0;return Math.sqrt(u*u+l*l+o*o)},"distance"),distanceSq:r(function(c){var u=c.x-this.x,l=c.y-this.y,o=c.z-this.z||0;return u*u+l*l+o*o},"distanceSq"),length:r(function(){var c=this.x,u=this.y,l=this.z;return Math.sqrt(c*c+u*u+l*l)},"length"),lengthSq:r(function(){var c=this.x,u=this.y,l=this.z;return c*c+u*u+l*l},"lengthSq"),normalize:r(function(){var c=this.x,u=this.y,l=this.z,o=c*c+u*u+l*l;return o>0&&(o=1/Math.sqrt(o),this.x=c*o,this.y=u*o,this.z=l*o),this},"normalize"),dot:r(function(c){return this.x*c.x+this.y*c.y+this.z*c.z},"dot"),cross:r(function(c){var u=this.x,l=this.y,o=this.z,d=c.x,v=c.y,f=c.z;return this.x=l*f-o*v,this.y=o*d-u*f,this.z=u*v-l*d,this},"cross"),lerp:r(function(c,u){u===void 0&&(u=0);var l=this.x,o=this.y,d=this.z;return this.x=l+u*(c.x-l),this.y=o+u*(c.y-o),this.z=d+u*(c.z-d),this},"lerp"),applyMatrix3:r(function(c){var u=this.x,l=this.y,o=this.z,d=c.val;return this.x=d[0]*u+d[3]*l+d[6]*o,this.y=d[1]*u+d[4]*l+d[7]*o,this.z=d[2]*u+d[5]*l+d[8]*o,this},"applyMatrix3"),applyMatrix4:r(function(c){var u=this.x,l=this.y,o=this.z,d=c.val,v=1/(d[3]*u+d[7]*l+d[11]*o+d[15]);return this.x=(d[0]*u+d[4]*l+d[8]*o+d[12])*v,this.y=(d[1]*u+d[5]*l+d[9]*o+d[13])*v,this.z=(d[2]*u+d[6]*l+d[10]*o+d[14])*v,this},"applyMatrix4"),transformMat3:r(function(c){var u=this.x,l=this.y,o=this.z,d=c.val;return this.x=u*d[0]+l*d[3]+o*d[6],this.y=u*d[1]+l*d[4]+o*d[7],this.z=u*d[2]+l*d[5]+o*d[8],this},"transformMat3"),transformMat4:r(function(c){var u=this.x,l=this.y,o=this.z,d=c.val;return this.x=d[0]*u+d[4]*l+d[8]*o+d[12],this.y=d[1]*u+d[5]*l+d[9]*o+d[13],this.z=d[2]*u+d[6]*l+d[10]*o+d[14],this},"transformMat4"),transformCoordinates:r(function(c){var u=this.x,l=this.y,o=this.z,d=c.val,v=u*d[0]+l*d[4]+o*d[8]+d[12],f=u*d[1]+l*d[5]+o*d[9]+d[13],p=u*d[2]+l*d[6]+o*d[10]+d[14],g=u*d[3]+l*d[7]+o*d[11]+d[15];return this.x=v/g,this.y=f/g,this.z=p/g,this},"transformCoordinates"),transformQuat:r(function(c){var u=this.x,l=this.y,o=this.z,d=c.x,v=c.y,f=c.z,p=c.w,g=p*u+v*o-f*l,y=p*l+f*u-d*o,C=p*o+d*l-v*u,S=-d*u-v*l-f*o;return this.x=g*p+S*-d+y*-f-C*-v,this.y=y*p+S*-v+C*-d-g*-f,this.z=C*p+S*-f+g*-v-y*-d,this},"transformQuat"),project:r(function(c){var u=this.x,l=this.y,o=this.z,d=c.val,v=d[0],f=d[1],p=d[2],g=d[3],y=d[4],C=d[5],S=d[6],E=d[7],w=d[8],M=d[9],R=d[10],O=d[11],b=d[12],A=d[13],I=d[14],L=d[15],F=1/(u*g+l*E+o*O+L);return this.x=(u*v+l*y+o*w+b)*F,this.y=(u*f+l*C+o*M+A)*F,this.z=(u*p+l*S+o*R+I)*F,this},"project"),projectViewMatrix:r(function(c,u){return this.applyMatrix4(c).applyMatrix4(u)},"projectViewMatrix"),unprojectViewMatrix:r(function(c,u){return this.applyMatrix4(c).applyMatrix4(u)},"unprojectViewMatrix"),unproject:r(function(c,u){var l=c.x,o=c.y,d=c.z,v=c.w,f=this.x-l,p=v-this.y-1-o,g=this.z;return this.x=2*f/d-1,this.y=2*p/v-1,this.z=2*g-1,this.project(u)},"unproject"),reset:r(function(){return this.x=0,this.y=0,this.z=0,this},"reset")});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),n.exports=m}),61369:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o,d){this.x=0,this.y=0,this.z=0,this.w=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=l||0,this.z=o||0,this.w=d||0)},"Vector4"),clone:r(function(){return new m(this.x,this.y,this.z,this.w)},"clone"),copy:r(function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this.w=c.w||0,this},"copy"),equals:r(function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z&&this.w===c.w},"equals"),set:r(function(c,u,l,o){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=u||0,this.z=l||0,this.w=o||0),this},"set"),add:r(function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this.w+=c.w||0,this},"add"),subtract:r(function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this.w-=c.w||0,this},"subtract"),scale:r(function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},"scale"),length:r(function(){var c=this.x,u=this.y,l=this.z,o=this.w;return Math.sqrt(c*c+u*u+l*l+o*o)},"length"),lengthSq:r(function(){var c=this.x,u=this.y,l=this.z,o=this.w;return c*c+u*u+l*l+o*o},"lengthSq"),normalize:r(function(){var c=this.x,u=this.y,l=this.z,o=this.w,d=c*c+u*u+l*l+o*o;return d>0&&(d=1/Math.sqrt(d),this.x=c*d,this.y=u*d,this.z=l*d,this.w=o*d),this},"normalize"),dot:r(function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},"dot"),lerp:r(function(c,u){u===void 0&&(u=0);var l=this.x,o=this.y,d=this.z,v=this.w;return this.x=l+u*(c.x-l),this.y=o+u*(c.y-o),this.z=d+u*(c.z-d),this.w=v+u*(c.w-v),this},"lerp"),multiply:r(function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this.w*=c.w||1,this},"multiply"),divide:r(function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this.w/=c.w||1,this},"divide"),distance:r(function(c){var u=c.x-this.x,l=c.y-this.y,o=c.z-this.z||0,d=c.w-this.w||0;return Math.sqrt(u*u+l*l+o*o+d*d)},"distance"),distanceSq:r(function(c){var u=c.x-this.x,l=c.y-this.y,o=c.z-this.z||0,d=c.w-this.w||0;return u*u+l*l+o*o+d*d},"distanceSq"),negate:r(function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},"negate"),transformMat4:r(function(c){var u=this.x,l=this.y,o=this.z,d=this.w,v=c.val;return this.x=v[0]*u+v[4]*l+v[8]*o+v[12]*d,this.y=v[1]*u+v[5]*l+v[9]*o+v[13]*d,this.z=v[2]*u+v[6]*l+v[10]*o+v[14]*d,this.w=v[3]*u+v[7]*l+v[11]*o+v[15]*d,this},"transformMat4"),transformQuat:r(function(c){var u=this.x,l=this.y,o=this.z,d=c.x,v=c.y,f=c.z,p=c.w,g=p*u+v*o-f*l,y=p*l+f*u-d*o,C=p*o+d*l-v*u,S=-d*u-v*l-f*o;return this.x=g*p+S*-d+y*-f-C*-v,this.y=y*p+S*-v+C*-d-g*-f,this.z=C*p+S*-f+g*-v-y*-d,this},"transformQuat"),reset:r(function(){return this.x=0,this.y=0,this.z=0,this.w=0,this},"reset")});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,n.exports=m}),60417:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return Math.abs(i-h)<=m},"Within");n.exports=T}),15994:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=m-h;return h+((i-h)%c+c)%c},"Wrap");n.exports=T}),31040:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){return Math.atan2(c-h,m-i)},"Between");n.exports=T}),55495:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return Math.atan2(h.y-i.y,h.x-i.x)},"BetweenPoints");n.exports=T}),128:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return Math.atan2(h.x-i.x,h.y-i.y)},"BetweenPointsY");n.exports=T}),41273:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){return Math.atan2(m-i,c-h)},"BetweenY");n.exports=T}),1432:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=r(function(c){return c>Math.PI&&(c-=h.PI2),Math.abs(((c+h.TAU)%h.PI2-h.PI2)%h.PI2)},"CounterClockwise");n.exports=m}),49127:((n,T,i)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(12407),m=r(function(c,u){return h(u-c)},"GetClockwiseDistance");n.exports=m}),52285:((n,T,i)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(12407),m=2*Math.PI,c=r(function(u,l){var o=h(l-u);return o>0&&(o-=m),o},"GetCounterClockwiseDistance");n.exports=c}),67317:((n,T,i)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(86554),m=r(function(c,u){return h(u-c)},"GetShortestDistance");n.exports=m}),12407:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i=i%(2*Math.PI),i>=0?i:i+2*Math.PI},"Normalize");n.exports=T}),53993:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99472),m=r(function(){return h(-Math.PI,Math.PI)},"Random");n.exports=m}),86564:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99472),m=r(function(){return h(-180,180)},"RandomDegrees");n.exports=m}),90154:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(12407),m=r(function(c){return h(c+Math.PI)},"Reverse");n.exports=m}),48736:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=r(function(c,u,l){return l===void 0&&(l=.05),c===u||(Math.abs(u-c)<=l||Math.abs(u-c)>=h.PI2-l?c=u:(Math.abs(u-c)>Math.PI&&(u<c?u+=h.PI2:u-=h.PI2),u>c?c+=l:u<c&&(c-=l))),c},"RotateTo");n.exports=m}),61430:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=h-i;if(m===0)return 0;var c=Math.floor((m- -180)/360);return m-c*360},"ShortestBetween");n.exports=T}),86554:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15994),m=r(function(c){return h(c,-Math.PI,Math.PI)},"Wrap");n.exports=m}),30954:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15994),m=r(function(c){return h(c,-180,180)},"WrapDegrees");n.exports=m}),25588:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),GetClockwiseDistance:i(49127),GetCounterClockwiseDistance:i(52285),GetShortestDistance:i(67317),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}}),36383:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=T}),20339:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=i-m,l=h-c;return Math.sqrt(u*u+l*l)},"DistanceBetween");n.exports=T}),52816:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.x-h.x,c=i.y-h.y;return Math.sqrt(m*m+c*c)},"DistanceBetweenPoints");n.exports=T}),64559:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.x-h.x,c=i.y-h.y;return m*m+c*c},"DistanceBetweenPointsSquared");n.exports=T}),82340:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){return Math.max(Math.abs(i-m),Math.abs(h-c))},"ChebyshevDistance");n.exports=T}),14390:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u){return u===void 0&&(u=2),Math.sqrt(Math.pow(m-i,u)+Math.pow(c-h,u))},"DistancePower");n.exports=T}),2243:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){return Math.abs(i-m)+Math.abs(h-c)},"SnakeDistance");n.exports=T}),89774:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=i-m,l=h-c;return u*u+l*l},"DistanceSquared");n.exports=T}),50994:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}}),62640:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54178),m=i(41521),c=i(79980),u=i(85433),l=i(99140),o=i(48857),d=i(81596),v=i(59133),f=i(98516),p=i(35248),g=i(82500),y=i(49752);n.exports={Power0:d,Power1:v.Out,Power2:u.Out,Power3:f.Out,Power4:p.Out,Linear:d,Quad:v.Out,Cubic:u.Out,Quart:f.Out,Quint:p.Out,Sine:g.Out,Expo:o.Out,Circ:c.Out,Elastic:l.Out,Back:h.Out,Bounce:m.Out,Stepped:y,"Quad.easeIn":v.In,"Cubic.easeIn":u.In,"Quart.easeIn":f.In,"Quint.easeIn":p.In,"Sine.easeIn":g.In,"Expo.easeIn":o.In,"Circ.easeIn":c.In,"Elastic.easeIn":l.In,"Back.easeIn":h.In,"Bounce.easeIn":m.In,"Quad.easeOut":v.Out,"Cubic.easeOut":u.Out,"Quart.easeOut":f.Out,"Quint.easeOut":p.Out,"Sine.easeOut":g.Out,"Expo.easeOut":o.Out,"Circ.easeOut":c.Out,"Elastic.easeOut":l.Out,"Back.easeOut":h.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":u.InOut,"Quart.easeInOut":f.InOut,"Quint.easeInOut":p.InOut,"Sine.easeInOut":g.InOut,"Expo.easeInOut":o.InOut,"Circ.easeInOut":c.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":m.InOut}}),1639:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h=1.70158),i*i*((h+1)*i-h)},"In");n.exports=T}),50099:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h=1.70158);var m=h*1.525;return(i*=2)<1?.5*(i*i*((m+1)*i-m)):.5*((i-=2)*i*((m+1)*i+m)+2)},"InOut");n.exports=T}),41286:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h=1.70158),--i*i*((h+1)*i+h)+1},"Out");n.exports=T}),54178:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(1639),Out:i(41286),InOut:i(50099)}}),59590:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i=1-i,i<.36363636363636365?1-7.5625*i*i:i<.7272727272727273?1-(7.5625*(i-=.5454545454545454)*i+.75):i<.9090909090909091?1-(7.5625*(i-=.8181818181818182)*i+.9375):1-(7.5625*(i-=.9545454545454546)*i+.984375)},"In");n.exports=T}),41788:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h=!1;return i<.5?(i=1-i*2,h=!0):i=i*2-1,i<.36363636363636365?i=7.5625*i*i:i<.7272727272727273?i=7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?i=7.5625*(i-=.8181818181818182)*i+.9375:i=7.5625*(i-=.9545454545454546)*i+.984375,h?(1-i)*.5:i*.5+.5},"InOut");n.exports=T}),69905:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375},"Out");n.exports=T}),41521:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(59590),Out:i(69905),InOut:i(41788)}}),91861:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 1-Math.sqrt(1-i*i)},"In");n.exports=T}),4177:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)},"InOut");n.exports=T}),57512:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.sqrt(1- --i*i)},"Out");n.exports=T}),79980:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(91861),Out:i(57512),InOut:i(4177)}}),51150:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*i*i},"In");n.exports=T}),82820:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},"InOut");n.exports=T}),35033:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return--i*i*i+1},"Out");n.exports=T}),85433:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(51150),Out:i(35033),InOut:i(82820)}}),69965:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(h===void 0&&(h=.1),m===void 0&&(m=.1),i===0)return 0;if(i===1)return 1;var c=m/4;return h<1?h=1:c=m*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/m))},"In");n.exports=T}),50665:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(h===void 0&&(h=.1),m===void 0&&(m=.1),i===0)return 0;if(i===1)return 1;var c=m/4;return h<1?h=1:c=m*Math.asin(1/h)/(2*Math.PI),(i*=2)<1?-.5*(h*Math.pow(2,10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/m)):h*Math.pow(2,-10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/m)*.5+1},"InOut");n.exports=T}),7744:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(h===void 0&&(h=.1),m===void 0&&(m=.1),i===0)return 0;if(i===1)return 1;var c=m/4;return h<1?h=1:c=m*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*i)*Math.sin((i-c)*(2*Math.PI)/m)+1},"Out");n.exports=T}),99140:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(69965),Out:i(7744),InOut:i(50665)}}),24590:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.pow(2,10*(i-1))-.001},"In");n.exports=T}),87844:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*Math.pow(2,10*(i-1)):.5*(2-Math.pow(2,-10*(i-1)))},"InOut");n.exports=T}),89433:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 1-Math.pow(2,-10*i)},"Out");n.exports=T}),48857:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(24590),Out:i(89433),InOut:i(87844)}}),48820:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}}),7147:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i},"Linear");n.exports=T}),81596:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=i(7147)}),34826:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*i},"In");n.exports=T}),20544:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},"InOut");n.exports=T}),92029:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*(2-i)},"Out");n.exports=T}),59133:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(34826),Out:i(92029),InOut:i(20544)}}),64413:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*i*i*i},"In");n.exports=T}),78137:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)},"InOut");n.exports=T}),45840:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 1- --i*i*i*i},"Out");n.exports=T}),98516:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(64413),Out:i(45840),InOut:i(78137)}}),87745:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*i*i*i*i},"In");n.exports=T}),16509:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)},"InOut");n.exports=T}),17868:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return--i*i*i*i*i+1},"Out");n.exports=T}),35248:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(87745),Out:i(17868),InOut:i(16509)}}),80461:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i===0?0:i===1?1:1-Math.cos(i*Math.PI/2)},"In");n.exports=T}),34025:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i===0?0:i===1?1:.5*(1-Math.cos(Math.PI*i))},"InOut");n.exports=T}),52768:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i===0?0:i===1?1:Math.sin(i*Math.PI/2)},"Out");n.exports=T}),82500:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(80461),Out:i(52768),InOut:i(34025)}}),72251:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h=1),i<=0?0:i>=1?1:((h*i|0)+1)*(1/h)},"Stepped");n.exports=T}),49752:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=i(72251)}),75698:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h=1e-4),Math.ceil(i-h)},"Ceil");n.exports=T}),43855:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return m===void 0&&(m=1e-4),Math.abs(i-h)<m},"Equal");n.exports=T}),25777:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h=1e-4),Math.floor(i+h)},"Floor");n.exports=T}),5470:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return m===void 0&&(m=1e-4),i>h-m},"GreaterThan");n.exports=T}),94977:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return m===void 0&&(m=1e-4),i<h+m},"LessThan");n.exports=T}),48379:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}}),75508:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),m=i(79291),c={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};c=m(!1,c,h),n.exports=c}),89318:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85710),m=r(function(c,u){for(var l=0,o=c.length-1,d=0;d<=o;d++)l+=Math.pow(1-u,o-d)*Math.pow(u,d)*c[d]*h(o,d);return l},"BezierInterpolation");n.exports=m}),77259:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87842),m=r(function(c,u){var l=c.length-1,o=l*u,d=Math.floor(o);return c[0]===c[l]?(u<0&&(d=Math.floor(o=l*(1+u))),h(o-d,c[(d-1+l)%l],c[d],c[(d+1)%l],c[(d+2)%l])):u<0?c[0]-(h(-o,c[0],c[0],c[1],c[1])-c[0]):u>1?c[l]-(h(o-l,c[l],c[l],c[l-1],c[l-1])-c[l]):h(o-d,c[d?d-1:0],c[d],c[l<d+1?l:d+1],c[l<d+2?l:d+2])},"CatmullRomInterpolation");n.exports=m}),36316:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(u,l){var o=1-u;return o*o*o*l}r(T,"P0");function i(u,l){var o=1-u;return 3*o*o*u*l}r(i,"P1");function h(u,l){return 3*(1-u)*u*u*l}r(h,"P2");function m(u,l){return u*u*u*l}r(m,"P3");var c=r(function(u,l,o,d,v){return T(u,l)+i(u,o)+h(u,d)+m(u,v)},"CubicBezierInterpolation");n.exports=c}),28392:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28915),m=r(function(c,u){var l=c.length-1,o=l*u,d=Math.floor(o);return u<0?h(c[0],c[1],o):u>1?h(c[l],c[l-1],l-o):h(c[d],c[d+1>l?l:d+1],o-d)},"LinearInterpolation");n.exports=m}),32112:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(c,u){var l=1-c;return l*l*u}r(T,"P0");function i(c,u){return 2*(1-c)*c*u}r(i,"P1");function h(c,u){return c*c*u}r(h,"P2");var m=r(function(c,u,l,o){return T(c,u)+i(c,l)+h(c,o)},"QuadraticBezierInterpolation");n.exports=m}),47235:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7602),m=r(function(c,u,l){return u+(l-u)*h(c,0,1)},"SmoothStepInterpolation");n.exports=m}),50178:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54261),m=r(function(c,u,l){return u+(l-u)*h(c,0,1)},"SmootherStepInterpolation");n.exports=m}),38289:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}}),98439:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h=Math.log(i)/.6931471805599453;return 1<<Math.ceil(h)},"GetPowerOfTwo");n.exports=T}),50030:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i>0&&(i&i-1)===0&&h>0&&(h&h-1)===0},"IsSizePowerOfTwo");n.exports=T}),81230:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i>0&&(i&i-1)===0},"IsValuePowerOfTwo");n.exports=T}),49001:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}}),28453:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u){u===void 0&&(u=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],u&&this.init(u)},"RandomDataGenerator"),rnd:r(function(){var c=2091639*this.s0+this.c*23283064365386963e-26;return this.c=c|0,this.s0=this.s1,this.s1=this.s2,this.s2=c-this.c,this.s2},"rnd"),hash:r(function(c){var u,l=this.n;c=c.toString();for(var o=0;o<c.length;o++)l+=c.charCodeAt(o),u=.02519603282416938*l,l=u>>>0,u-=l,u*=l,l=u>>>0,u-=l,l+=u*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},"hash"),init:r(function(c){typeof c=="string"?this.state(c):this.sow(c)},"init"),sow:r(function(c){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!c)for(var u=0;u<c.length&&c[u]!=null;u++){var l=c[u];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},"sow"),integer:r(function(){return this.rnd()*4294967296},"integer"),frac:r(function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},"frac"),real:r(function(){return this.integer()+this.frac()},"real"),integerInRange:r(function(c,u){return Math.floor(this.realInRange(0,u-c+1)+c)},"integerInRange"),between:r(function(c,u){return Math.floor(this.realInRange(0,u-c+1)+c)},"between"),realInRange:r(function(c,u){return this.frac()*(u-c)+c},"realInRange"),normal:r(function(){return 1-2*this.frac()},"normal"),uuid:r(function(){var c="",u="";for(u=c="";c++<36;u+=~c%5|c*3&4?(c^15?8^this.frac()*(c^20?16:4):4).toString(16):"-");return u},"uuid"),pick:r(function(c){return c[this.integerInRange(0,c.length-1)]},"pick"),sign:r(function(){return this.pick(this.signs)},"sign"),weightedPick:r(function(c){return c[~~(Math.pow(this.frac(),2)*(c.length-.5)+.5)]},"weightedPick"),timestamp:r(function(c,u){return this.realInRange(c||9466848e5,u||1577862e6)},"timestamp"),angle:r(function(){return this.integerInRange(-180,180)},"angle"),rotation:r(function(){return this.realInRange(-3.1415926,3.1415926)},"rotation"),state:r(function(c){return typeof c=="string"&&c.match(/^!rnd/)&&(c=c.split(","),this.c=parseFloat(c[1]),this.s0=parseFloat(c[2]),this.s1=parseFloat(c[3]),this.s2=parseFloat(c[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},"state"),shuffle:r(function(c){for(var u=c.length-1,l=u;l>0;l--){var o=Math.floor(this.frac()*(l+1)),d=c[o];c[o]=c[l],c[l]=d}return c},"shuffle")});n.exports=m}),63448:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){return m===void 0&&(m=0),h===0?i:(i-=m,i=h*Math.ceil(i/h),c?(m+i)/h:m+i)},"SnapCeil");n.exports=T}),56583:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){return m===void 0&&(m=0),h===0?i:(i-=m,i=h*Math.floor(i/h),c?(m+i)/h:m+i)},"SnapFloor");n.exports=T}),77720:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){return m===void 0&&(m=0),h===0?i:(i-=m,i=h*Math.round(i/h),c?(m+i)/h:m+i)},"SnapTo");n.exports=T}),73697:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}}),85454:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i(63595);var h=i(8054),m=i(79291),c={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};c.Sound=i(23717),c=m(!1,c,h),n.exports=c,i.g.Phaser=c}),71289:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(92209),c=i(88571),u=new h({Extends:c,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:r(function(o,d,v,f,p){c.call(this,o,d,v,f,p),this.body=null},"ArcadeImage")});n.exports=u}),86689:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(39506),c=i(20339),u=i(89774),l=i(66022),o=i(95540),d=i(46975),v=i(72441),f=i(47956),p=i(37277),g=i(44594),y=i(26099),C=i(82248),S=new h({initialize:r(function(w){this.scene=w,this.systems=w.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,w.sys.events.once(g.BOOT,this.boot,this),w.sys.events.on(g.START,this.start,this)},"ArcadePhysics"),boot:r(function(){this.world=new C(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(g.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.world||(this.world=new C(this.scene,this.config),this.add=new l(this.world));var E=this.systems.events;o(this.config,"customUpdate",!1)||E.on(g.UPDATE,this.world.update,this.world),E.on(g.POST_UPDATE,this.world.postUpdate,this.world),E.once(g.SHUTDOWN,this.shutdown,this)},"start"),enableUpdate:r(function(){this.systems.events.on(g.UPDATE,this.world.update,this.world)},"enableUpdate"),disableUpdate:r(function(){this.systems.events.off(g.UPDATE,this.world.update,this.world)},"disableUpdate"),getConfig:r(function(){var E=this.systems.game.config.physics,w=this.systems.settings.physics,M=d(o(w,"arcade",{}),o(E,"arcade",{}));return M},"getConfig"),nextCategory:r(function(){return this._category=this._category<<1,this._category},"nextCategory"),overlap:r(function(E,w,M,R,O){return M===void 0&&(M=null),R===void 0&&(R=null),O===void 0&&(O=M),this.world.collideObjects(E,w,M,R,O,!0)},"overlap"),collide:r(function(E,w,M,R,O){return M===void 0&&(M=null),R===void 0&&(R=null),O===void 0&&(O=M),this.world.collideObjects(E,w,M,R,O,!1)},"collide"),collideTiles:r(function(E,w,M,R,O){return this.world.collideTiles(E,w,M,R,O)},"collideTiles"),overlapTiles:r(function(E,w,M,R,O){return this.world.overlapTiles(E,w,M,R,O)},"overlapTiles"),pause:r(function(){return this.world.pause()},"pause"),resume:r(function(){return this.world.resume()},"resume"),accelerateTo:r(function(E,w,M,R,O,b){R===void 0&&(R=60);var A=Math.atan2(M-E.y,w-E.x);return E.body.acceleration.setToPolar(A,R),O!==void 0&&b!==void 0&&E.body.maxVelocity.set(O,b),A},"accelerateTo"),accelerateToObject:r(function(E,w,M,R,O){return this.accelerateTo(E,w.x,w.y,M,R,O)},"accelerateToObject"),closest:r(function(E,w){w||(w=this.world.bodies.entries);for(var M=Number.MAX_VALUE,R=null,O=E.x,b=E.y,A=w.length,I=0;I<A;I++){var L=w[I],F=L.body||L;if(!(E===L||E===F||E===F.gameObject||E===F.center)){var D=u(O,b,F.center.x,F.center.y);D<M&&(R=L,M=D)}}return R},"closest"),furthest:r(function(E,w){w||(w=this.world.bodies.entries);for(var M=-1,R=null,O=E.x,b=E.y,A=w.length,I=0;I<A;I++){var L=w[I],F=L.body||L;if(!(E===L||E===F||E===F.gameObject||E===F.center)){var D=u(O,b,F.center.x,F.center.y);D>M&&(R=L,M=D)}}return R},"furthest"),moveTo:r(function(E,w,M,R,O){R===void 0&&(R=60),O===void 0&&(O=0);var b=Math.atan2(M-E.y,w-E.x);return O>0&&(R=c(E.x,E.y,w,M)/(O/1e3)),E.body.velocity.setToPolar(b,R),b},"moveTo"),moveToObject:r(function(E,w,M,R){return this.moveTo(E,w.x,w.y,M,R)},"moveToObject"),velocityFromAngle:r(function(E,w,M){return w===void 0&&(w=60),M===void 0&&(M=new y),M.setToPolar(m(E),w)},"velocityFromAngle"),velocityFromRotation:r(function(E,w,M){return w===void 0&&(w=60),M===void 0&&(M=new y),M.setToPolar(E,w)},"velocityFromRotation"),overlapRect:r(function(E,w,M,R,O,b){return f(this.world,E,w,M,R,O,b)},"overlapRect"),overlapCirc:r(function(E,w,M,R,O){return v(this.world,E,w,M,R,O)},"overlapCirc"),shutdown:r(function(){if(this.world){var E=this.systems.events;E.off(g.UPDATE,this.world.update,this.world),E.off(g.POST_UPDATE,this.world.postUpdate,this.world),E.off(g.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null},"destroy")});p.register("ArcadePhysics",S,"arcadePhysics"),n.exports=S}),13759:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(92209),c=i(68287),u=new h({Extends:c,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:r(function(o,d,v,f,p){c.call(this,o,d,v,f,p),this.body=null},"ArcadeSprite")});n.exports=u}),37742:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(78389),c=i(37747),u=i(63012),l=i(43396),o=i(87841),d=i(37303),v=i(95829),f=i(26099),p=new h({Mixins:[m],initialize:r(function(y,C){var S=64,E=64,w={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},M=C!==void 0;M&&C.displayWidth&&(S=C.displayWidth,E=C.displayHeight),M||(C=w),this.world=y,this.gameObject=M?C:void 0,this.isBody=!0,this.transform={x:C.x,y:C.y,rotation:C.angle,scaleX:C.scaleX,scaleY:C.scaleY,displayOriginX:C.displayOriginX,displayOriginY:C.displayOriginY},this.debugShowBody=y.defaults.debugShowBody,this.debugShowVelocity=y.defaults.debugShowVelocity,this.debugBodyColor=y.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(C.x-C.scaleX*C.displayOriginX,C.y-C.scaleY*C.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=C.angle,this.preRotation=C.angle,this.width=S,this.height=E,this.sourceWidth=S,this.sourceHeight=E,C.frame&&(this.sourceWidth=C.frame.realWidth,this.sourceHeight=C.frame.realHeight),this.halfWidth=Math.abs(S/2),this.halfHeight=Math.abs(E/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new f,this.newVelocity=new f,this.deltaMax=new f,this.acceleration=new f,this.allowDrag=!0,this.drag=new f,this.allowGravity=!0,this.gravity=new f,this.bounce=new f,this.worldBounce=null,this.customBoundsRectangle=y.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new f(1e4,1e4),this.maxSpeed=-1,this.friction=new f(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new f(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=C.scaleX,this._sy=C.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new o,this.directControl=!1,this.autoFrame=this.position.clone()},"Body"),updateBounds:r(function(){var g=this.gameObject,y=this.transform;if(g.parentContainer){var C=g.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);y.x=C.tx,y.y=C.ty,y.rotation=l(C.rotation),y.scaleX=C.scaleX,y.scaleY=C.scaleY,y.displayOriginX=g.displayOriginX,y.displayOriginY=g.displayOriginY}else y.x=g.x,y.y=g.y,y.rotation=g.angle,y.scaleX=g.scaleX,y.scaleY=g.scaleY,y.displayOriginX=g.displayOriginX,y.displayOriginY=g.displayOriginY;var S=!1;if(this.syncBounds){var E=g.getBounds(this._bounds);this.width=E.width,this.height=E.height,S=!0}else{var w=Math.abs(y.scaleX),M=Math.abs(y.scaleY);(this._sx!==w||this._sy!==M)&&(this.width=this.sourceWidth*w,this.height=this.sourceHeight*M,this._sx=w,this._sy=M,S=!0)}S&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},"updateBounds"),updateCenter:r(function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},"updateCenter"),updateFromGameObject:r(function(){this.updateBounds();var g=this.transform;this.position.x=g.x+g.scaleX*(this.offset.x-g.displayOriginX),this.position.y=g.y+g.scaleY*(this.offset.y-g.displayOriginY),this.updateCenter()},"updateFromGameObject"),resetFlags:r(function(g){g===void 0&&(g=!1);var y=this.wasTouching,C=this.touching,S=this.blocked;g?v(!0,y):(y.none=C.none,y.up=C.up,y.down=C.down,y.left=C.left,y.right=C.right),v(!0,C),v(!0,S),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},"resetFlags"),preUpdate:r(function(g,y){if(g&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var C=this.position;this.prev.x=C.x,this.prev.y=C.y,this.prevFrame.x=C.x,this.prevFrame.y=C.y}g&&this.update(y)},"preUpdate"),update:r(function(g){var y=this.prev,C=this.position,S=this.velocity;if(y.set(C.x,C.y),!this.moves){this._dx=C.x-y.x,this._dy=C.y-y.y;return}if(this.directControl){var E=this.autoFrame;S.set((C.x-E.x)/g,(C.y-E.y)/g),this.world.updateMotion(this,g),this._dx=C.x-E.x,this._dy=C.y-E.y}else this.world.updateMotion(this,g),this.newVelocity.set(S.x*g,S.y*g),C.add(this.newVelocity),this._dx=C.x-y.x,this._dy=C.y-y.y;var w=S.x,M=S.y;if(this.updateCenter(),this.angle=Math.atan2(M,w),this.speed=Math.sqrt(w*w+M*M),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var R=this.blocked;this.world.emit(u.WORLD_BOUNDS,this,R.up,R.down,R.left,R.right)}},"update"),postUpdate:r(function(){var g=this.position,y=g.x-this.prevFrame.x,C=g.y-this.prevFrame.y,S=this.gameObject;if(this.moves){var E=this.deltaMax.x,w=this.deltaMax.y;E!==0&&y!==0&&(y<0&&y<-E?y=-E:y>0&&y>E&&(y=E)),w!==0&&C!==0&&(C<0&&C<-w?C=-w:C>0&&C>w&&(C=w)),S&&(S.x+=y,S.y+=C)}y<0?this.facing=c.FACING_LEFT:y>0&&(this.facing=c.FACING_RIGHT),C<0?this.facing=c.FACING_UP:C>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&S&&(S.angle+=this.deltaZ()),this._tx=y,this._ty=C,this.autoFrame.set(g.x,g.y)},"postUpdate"),setBoundsRectangle:r(function(g){return this.customBoundsRectangle=g||this.world.bounds,this},"setBoundsRectangle"),checkWorldBounds:r(function(){var g=this.position,y=this.velocity,C=this.blocked,S=this.customBoundsRectangle,E=this.world.checkCollision,w=this.worldBounce?-this.worldBounce.x:-this.bounce.x,M=this.worldBounce?-this.worldBounce.y:-this.bounce.y,R=!1;return g.x<S.x&&E.left?(g.x=S.x,y.x*=w,C.left=!0,R=!0):this.right>S.right&&E.right&&(g.x=S.right-this.width,y.x*=w,C.right=!0,R=!0),g.y<S.y&&E.up?(g.y=S.y,y.y*=M,C.up=!0,R=!0):this.bottom>S.bottom&&E.down&&(g.y=S.bottom-this.height,y.y*=M,C.down=!0,R=!0),R&&(this.blocked.none=!1,this.updateCenter()),R},"checkWorldBounds"),setOffset:r(function(g,y){return y===void 0&&(y=g),this.offset.set(g,y),this},"setOffset"),setGameObject:r(function(g,y){if(y===void 0&&(y=!0),!g||!g.hasTransformComponent)return this;var C=this.world;return this.gameObject&&this.gameObject.body&&(C.disable(this.gameObject),this.gameObject.body=null),g.body&&C.disable(g),this.gameObject=g,g.body=this,this.setSize(),this.enable=y,this},"setGameObject"),setSize:r(function(g,y,C){C===void 0&&(C=!0);var S=this.gameObject;if(S&&(!g&&S.frame&&(g=S.frame.realWidth),!y&&S.frame&&(y=S.frame.realHeight)),this.sourceWidth=g,this.sourceHeight=y,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),C&&S&&S.getCenter){var E=(S.width-g)/2,w=(S.height-y)/2;this.offset.set(E,w)}return this.isCircle=!1,this.radius=0,this},"setSize"),setCircle:r(function(g,y,C){return y===void 0&&(y=this.offset.x),C===void 0&&(C=this.offset.y),g>0?(this.isCircle=!0,this.radius=g,this.sourceWidth=g*2,this.sourceHeight=g*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(y,C),this.updateCenter()):this.isCircle=!1,this},"setCircle"),reset:r(function(g,y){this.stop();var C=this.gameObject;C&&(C.setPosition(g,y),this.rotation=C.angle,this.preRotation=C.angle);var S=this.position;C&&C.getTopLeft?C.getTopLeft(S):S.set(g,y),this.prev.copy(S),this.prevFrame.copy(S),this.autoFrame.copy(S),C&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},"reset"),stop:r(function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},"stop"),getBounds:r(function(g){return g.x=this.x,g.y=this.y,g.right=this.right,g.bottom=this.bottom,g},"getBounds"),hitTest:r(function(g,y){if(!this.isCircle)return d(this,g,y);if(this.radius>0&&g>=this.left&&g<=this.right&&y>=this.top&&y<=this.bottom){var C=(this.center.x-g)*(this.center.x-g),S=(this.center.y-y)*(this.center.y-y);return C+S<=this.radius*this.radius}return!1},"hitTest"),onFloor:r(function(){return this.blocked.down},"onFloor"),onCeiling:r(function(){return this.blocked.up},"onCeiling"),onWall:r(function(){return this.blocked.left||this.blocked.right},"onWall"),deltaAbsX:r(function(){return this._dx>0?this._dx:-this._dx},"deltaAbsX"),deltaAbsY:r(function(){return this._dy>0?this._dy:-this._dy},"deltaAbsY"),deltaX:r(function(){return this._dx},"deltaX"),deltaY:r(function(){return this._dy},"deltaY"),deltaXFinal:r(function(){return this._tx},"deltaXFinal"),deltaYFinal:r(function(){return this._ty},"deltaYFinal"),deltaZ:r(function(){return this.rotation-this.preRotation},"deltaZ"),destroy:r(function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},"destroy"),drawDebug:r(function(g){var y=this.position,C=y.x+this.halfWidth,S=y.y+this.halfHeight;this.debugShowBody&&(g.lineStyle(g.defaultStrokeWidth,this.debugBodyColor),this.isCircle?g.strokeCircle(C,S,this.width/2):(this.checkCollision.up&&g.lineBetween(y.x,y.y,y.x+this.width,y.y),this.checkCollision.right&&g.lineBetween(y.x+this.width,y.y,y.x+this.width,y.y+this.height),this.checkCollision.down&&g.lineBetween(y.x,y.y+this.height,y.x+this.width,y.y+this.height),this.checkCollision.left&&g.lineBetween(y.x,y.y,y.x,y.y+this.height))),this.debugShowVelocity&&(g.lineStyle(g.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),g.lineBetween(C,S,C+this.velocity.x/2,S+this.velocity.y/2))},"drawDebug"),willDrawDebug:r(function(){return this.debugShowBody||this.debugShowVelocity},"willDrawDebug"),setDirectControl:r(function(g){return g===void 0&&(g=!0),this.directControl=g,this},"setDirectControl"),setCollideWorldBounds:r(function(g,y,C,S){g===void 0&&(g=!0),this.collideWorldBounds=g;var E=y!==void 0,w=C!==void 0;return(E||w)&&(this.worldBounce||(this.worldBounce=new f),E&&(this.worldBounce.x=y),w&&(this.worldBounce.y=C)),S!==void 0&&(this.onWorldBounds=S),this},"setCollideWorldBounds"),setVelocity:r(function(g,y){return this.velocity.set(g,y),g=this.velocity.x,y=this.velocity.y,this.speed=Math.sqrt(g*g+y*y),this},"setVelocity"),setVelocityX:r(function(g){return this.setVelocity(g,this.velocity.y)},"setVelocityX"),setVelocityY:r(function(g){return this.setVelocity(this.velocity.x,g)},"setVelocityY"),setMaxVelocity:r(function(g,y){return this.maxVelocity.set(g,y),this},"setMaxVelocity"),setMaxVelocityX:r(function(g){return this.maxVelocity.x=g,this},"setMaxVelocityX"),setMaxVelocityY:r(function(g){return this.maxVelocity.y=g,this},"setMaxVelocityY"),setMaxSpeed:r(function(g){return this.maxSpeed=g,this},"setMaxSpeed"),setSlideFactor:r(function(g,y){return this.slideFactor.set(g,y),this},"setSlideFactor"),setBounce:r(function(g,y){return this.bounce.set(g,y),this},"setBounce"),setBounceX:r(function(g){return this.bounce.x=g,this},"setBounceX"),setBounceY:r(function(g){return this.bounce.y=g,this},"setBounceY"),setAcceleration:r(function(g,y){return this.acceleration.set(g,y),this},"setAcceleration"),setAccelerationX:r(function(g){return this.acceleration.x=g,this},"setAccelerationX"),setAccelerationY:r(function(g){return this.acceleration.y=g,this},"setAccelerationY"),setAllowDrag:r(function(g){return g===void 0&&(g=!0),this.allowDrag=g,this},"setAllowDrag"),setAllowGravity:r(function(g){return g===void 0&&(g=!0),this.allowGravity=g,this},"setAllowGravity"),setAllowRotation:r(function(g){return g===void 0&&(g=!0),this.allowRotation=g,this},"setAllowRotation"),setDrag:r(function(g,y){return this.drag.set(g,y),this},"setDrag"),setDamping:r(function(g){return this.useDamping=g,this},"setDamping"),setDragX:r(function(g){return this.drag.x=g,this},"setDragX"),setDragY:r(function(g){return this.drag.y=g,this},"setDragY"),setGravity:r(function(g,y){return this.gravity.set(g,y),this},"setGravity"),setGravityX:r(function(g){return this.gravity.x=g,this},"setGravityX"),setGravityY:r(function(g){return this.gravity.y=g,this},"setGravityY"),setFriction:r(function(g,y){return this.friction.set(g,y),this},"setFriction"),setFrictionX:r(function(g){return this.friction.x=g,this},"setFrictionX"),setFrictionY:r(function(g){return this.friction.y=g,this},"setFrictionY"),setAngularVelocity:r(function(g){return this.angularVelocity=g,this},"setAngularVelocity"),setAngularAcceleration:r(function(g){return this.angularAcceleration=g,this},"setAngularAcceleration"),setAngularDrag:r(function(g){return this.angularDrag=g,this},"setAngularDrag"),setMass:r(function(g){return this.mass=g,this},"setMass"),setImmovable:r(function(g){return g===void 0&&(g=!0),this.immovable=g,this},"setImmovable"),setEnable:r(function(g){return g===void 0&&(g=!0),this.enable=g,this},"setEnable"),processX:r(function(g,y,C,S){this.x+=g,this.updateCenter(),y!==null&&(this.velocity.x=y*this.slideFactor.x);var E=this.blocked;C&&(E.left=!0,E.none=!1),S&&(E.right=!0,E.none=!1)},"processX"),processY:r(function(g,y,C,S){this.y+=g,this.updateCenter(),y!==null&&(this.velocity.y=y*this.slideFactor.y);var E=this.blocked;C&&(E.up=!0,E.none=!1),S&&(E.down=!0,E.none=!1)},"processY"),x:{get:r(function(){return this.position.x},"get"),set:r(function(g){this.position.x=g},"set")},y:{get:r(function(){return this.position.y},"get"),set:r(function(g){this.position.y=g},"set")},left:{get:r(function(){return this.position.x},"get")},right:{get:r(function(){return this.position.x+this.width},"get")},top:{get:r(function(){return this.position.y},"get")},bottom:{get:r(function(){return this.position.y+this.height},"get")}});n.exports=p}),79342:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o,d,v,f,p){this.world=u,this.name="",this.active=!0,this.overlapOnly=l,this.object1=o,this.object2=d,this.collideCallback=v,this.processCallback=f,this.callbackContext=p},"Collider"),setName:r(function(c){return this.name=c,this},"setName"),update:r(function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},"update"),destroy:r(function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null},"destroy")});n.exports=m}),66022:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71289),m=i(13759),c=i(37742),u=i(83419),l=i(37747),o=i(60758),d=i(72624),v=i(71464),f=new u({initialize:r(function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},"Factory"),collider:r(function(p,g,y,C,S){return this.world.addCollider(p,g,y,C,S)},"collider"),overlap:r(function(p,g,y,C,S){return this.world.addOverlap(p,g,y,C,S)},"overlap"),existing:r(function(p,g){var y=g?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(p,y),p},"existing"),staticImage:r(function(p,g,y,C){var S=new h(this.scene,p,g,y,C);return this.sys.displayList.add(S),this.world.enableBody(S,l.STATIC_BODY),S},"staticImage"),image:r(function(p,g,y,C){var S=new h(this.scene,p,g,y,C);return this.sys.displayList.add(S),this.world.enableBody(S,l.DYNAMIC_BODY),S},"image"),staticSprite:r(function(p,g,y,C){var S=new m(this.scene,p,g,y,C);return this.sys.displayList.add(S),this.sys.updateList.add(S),this.world.enableBody(S,l.STATIC_BODY),S},"staticSprite"),sprite:r(function(p,g,y,C){var S=new m(this.scene,p,g,y,C);return this.sys.displayList.add(S),this.sys.updateList.add(S),this.world.enableBody(S,l.DYNAMIC_BODY),S},"sprite"),staticGroup:r(function(p,g){return this.sys.updateList.add(new v(this.world,this.world.scene,p,g))},"staticGroup"),group:r(function(p,g){return this.sys.updateList.add(new o(this.world,this.world.scene,p,g))},"group"),body:r(function(p,g,y,C){var S=new c(this.world);return S.position.set(p,g),y&&C&&S.setSize(y,C),this.world.add(S,l.DYNAMIC_BODY),S},"body"),staticBody:r(function(p,g,y,C){var S=new d(this.world);return S.position.set(p,g),y&&C&&S.setSize(y,C),this.world.add(S,l.STATIC_BODY),S},"staticBody"),destroy:r(function(){this.world=null,this.scene=null,this.sys=null},"destroy")});n.exports=f}),79599:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h=0;if(!Array.isArray(i))h=i;else for(var m=0;m<i.length;m++)h|=i[m];return h},"GetCollidesWith");n.exports=T}),64897:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37747),m=r(function(c,u,l,o){var d=0,v=c.deltaAbsX()+u.deltaAbsX()+o;return c._dx===0&&u._dx===0?(c.embedded=!0,u.embedded=!0):c._dx>u._dx?(d=c.right-u.x,d>v&&!l||c.checkCollision.right===!1||u.checkCollision.left===!1?d=0:(c.touching.none=!1,c.touching.right=!0,u.touching.none=!1,u.touching.left=!0,u.physicsType===h.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.right=!0),c.physicsType===h.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.left=!0))):c._dx<u._dx&&(d=c.x-u.width-u.x,-d>v&&!l||c.checkCollision.left===!1||u.checkCollision.right===!1?d=0:(c.touching.none=!1,c.touching.left=!0,u.touching.none=!1,u.touching.right=!0,u.physicsType===h.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.left=!0),c.physicsType===h.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.right=!0))),c.overlapX=d,u.overlapX=d,d},"GetOverlapX");n.exports=m}),45170:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37747),m=r(function(c,u,l,o){var d=0,v=c.deltaAbsY()+u.deltaAbsY()+o;return c._dy===0&&u._dy===0?(c.embedded=!0,u.embedded=!0):c._dy>u._dy?(d=c.bottom-u.y,d>v&&!l||c.checkCollision.down===!1||u.checkCollision.up===!1?d=0:(c.touching.none=!1,c.touching.down=!0,u.touching.none=!1,u.touching.up=!0,u.physicsType===h.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.down=!0),c.physicsType===h.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.up=!0))):c._dy<u._dy&&(d=c.y-u.bottom,-d>v&&!l||c.checkCollision.up===!1||u.checkCollision.down===!1?d=0:(c.touching.none=!1,c.touching.up=!0,u.touching.none=!1,u.touching.down=!0,u.physicsType===h.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.up=!0),c.physicsType===h.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.down=!0))),c.overlapY=d,u.overlapY=d,d},"GetOverlapY");n.exports=m}),60758:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13759),m=i(83419),c=i(78389),u=i(37747),l=i(95540),o=i(26479),d=i(41212),v=new m({Extends:o,Mixins:[c],initialize:r(function(p,g,y,C){if(!y&&!C)C={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(d(y))C=y,y=null,C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(y)&&d(y[0])){var S=this;y.forEach(function(E){E.internalCreateCallback=S.createCallbackHandler,E.internalRemoveCallback=S.removeCallbackHandler,E.classType=l(E,"classType",h)}),C=null}else C={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=p,C&&(C.classType=l(C,"classType",h)),this.physicsType=u.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:l(C,"collideWorldBounds",!1),setBoundsRectangle:l(C,"customBoundsRectangle",null),setAccelerationX:l(C,"accelerationX",0),setAccelerationY:l(C,"accelerationY",0),setAllowDrag:l(C,"allowDrag",!0),setAllowGravity:l(C,"allowGravity",!0),setAllowRotation:l(C,"allowRotation",!0),setDamping:l(C,"useDamping",!1),setBounceX:l(C,"bounceX",0),setBounceY:l(C,"bounceY",0),setDragX:l(C,"dragX",0),setDragY:l(C,"dragY",0),setEnable:l(C,"enable",!0),setGravityX:l(C,"gravityX",0),setGravityY:l(C,"gravityY",0),setFrictionX:l(C,"frictionX",0),setFrictionY:l(C,"frictionY",0),setMaxSpeed:l(C,"maxSpeed",-1),setMaxVelocityX:l(C,"maxVelocityX",1e4),setMaxVelocityY:l(C,"maxVelocityY",1e4),setVelocityX:l(C,"velocityX",0),setVelocityY:l(C,"velocityY",0),setAngularVelocity:l(C,"angularVelocity",0),setAngularAcceleration:l(C,"angularAcceleration",0),setAngularDrag:l(C,"angularDrag",0),setMass:l(C,"mass",1),setImmovable:l(C,"immovable",!1)},o.call(this,g,y,C),this.type="PhysicsGroup"},"PhysicsGroup"),createCallbackHandler:r(function(f){f.body||this.world.enableBody(f,u.DYNAMIC_BODY);var p=f.body;for(var g in this.defaults)p[g](this.defaults[g])},"createCallbackHandler"),removeCallbackHandler:r(function(f){f.body&&this.world.disableBody(f)},"removeCallbackHandler"),setVelocity:r(function(f,p,g){g===void 0&&(g=0);for(var y=this.getChildren(),C=0;C<y.length;C++)y[C].body.velocity.set(f+C*g,p+C*g);return this},"setVelocity"),setVelocityX:r(function(f,p){p===void 0&&(p=0);for(var g=this.getChildren(),y=0;y<g.length;y++)g[y].body.velocity.x=f+y*p;return this},"setVelocityX"),setVelocityY:r(function(f,p){p===void 0&&(p=0);for(var g=this.getChildren(),y=0;y<g.length;y++)g[y].body.velocity.y=f+y*p;return this},"setVelocityY")});n.exports=v}),3017:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,i,h,m,c,u,l,o,d,v,f,p,g,y,C,S,E,w=r(function(I,L,F){T=I,i=L;var D=T.velocity.x,B=i.velocity.x;return h=T.pushable,d=T._dx<0,v=T._dx>0,f=T._dx===0,C=Math.abs(T.right-i.x)<=Math.abs(i.right-T.x),l=B-D*T.bounce.x,m=i.pushable,p=i._dx<0,g=i._dx>0,y=i._dx===0,S=!C,o=D-B*i.bounce.x,E=Math.abs(F),M()},"Set"),M=r(function(){return v&&C&&i.blocked.right?(T.processX(-E,l,!1,!0),1):d&&S&&i.blocked.left?(T.processX(E,l,!0),1):g&&S&&T.blocked.right?(i.processX(-E,o,!1,!0),2):p&&C&&T.blocked.left?(i.processX(E,o,!0),2):0},"BlockCheck"),R=r(function(){var I=T.velocity.x,L=i.velocity.x,F=Math.sqrt(L*L*i.mass/T.mass)*(L>0?1:-1),D=Math.sqrt(I*I*T.mass/i.mass)*(I>0?1:-1),B=(F+D)*.5;return F-=B,D-=B,c=B+F*T.bounce.x,u=B+D*i.bounce.x,d&&S?O(0):p&&C?O(1):v&&C?O(2):g&&S?O(3):!1},"Check"),O=r(function(I){if(h&&m)E*=.5,I===0||I===3?(T.processX(E,c),i.processX(-E,u)):(T.processX(-E,c),i.processX(E,u));else if(h&&!m)I===0||I===3?T.processX(E,l,!0):T.processX(-E,l,!1,!0);else if(!h&&m)I===0||I===3?i.processX(-E,o,!1,!0):i.processX(E,o,!0);else{var L=E*.5;I===0?y?(T.processX(E,0,!0),i.processX(0,null,!1,!0)):g?(T.processX(L,0,!0),i.processX(-L,0,!1,!0)):(T.processX(L,i.velocity.x,!0),i.processX(-L,null,!1,!0)):I===1?f?(T.processX(0,null,!1,!0),i.processX(E,0,!0)):v?(T.processX(-L,0,!1,!0),i.processX(L,0,!0)):(T.processX(-L,null,!1,!0),i.processX(L,T.velocity.x,!0)):I===2?y?(T.processX(-E,0,!1,!0),i.processX(0,null,!0)):p?(T.processX(-L,0,!1,!0),i.processX(L,0,!0)):(T.processX(-L,i.velocity.x,!1,!0),i.processX(L,null,!0)):I===3&&(f?(T.processX(0,null,!0),i.processX(-E,0,!1,!0)):d?(T.processX(L,0,!0),i.processX(-L,0,!1,!0)):(T.processX(L,i.velocity.y,!0),i.processX(-L,null,!1,!0)))}return!0},"Run"),b=r(function(I){if(I===1?i.velocity.x=0:C?i.processX(E,o,!0):i.processX(-E,o,!1,!0),T.moves){var L=T.directControl?T.y-T.autoFrame.y:T.y-T.prev.y;i.y+=L*T.friction.y,i._dy=i.y-i.prev.y}},"RunImmovableBody1"),A=r(function(I){if(I===2?T.velocity.x=0:S?T.processX(E,l,!0):T.processX(-E,l,!1,!0),i.moves){var L=i.directControl?i.y-i.autoFrame.y:i.y-i.prev.y;T.y+=L*i.friction.y,T._dy=T.y-T.prev.y}},"RunImmovableBody2");n.exports={BlockCheck:M,Check:R,Set:w,Run:O,RunImmovableBody1:b,RunImmovableBody2:A}}),47962:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,i,h,m,c,u,l,o,d,v,f,p,g,y,C,S,E,w=r(function(I,L,F){T=I,i=L;var D=T.velocity.y,B=i.velocity.y;return h=T.pushable,d=T._dy<0,v=T._dy>0,f=T._dy===0,C=Math.abs(T.bottom-i.y)<=Math.abs(i.bottom-T.y),l=B-D*T.bounce.y,m=i.pushable,p=i._dy<0,g=i._dy>0,y=i._dy===0,S=!C,o=D-B*i.bounce.y,E=Math.abs(F),M()},"Set"),M=r(function(){return v&&C&&i.blocked.down?(T.processY(-E,l,!1,!0),1):d&&S&&i.blocked.up?(T.processY(E,l,!0),1):g&&S&&T.blocked.down?(i.processY(-E,o,!1,!0),2):p&&C&&T.blocked.up?(i.processY(E,o,!0),2):0},"BlockCheck"),R=r(function(){var I=T.velocity.y,L=i.velocity.y,F=Math.sqrt(L*L*i.mass/T.mass)*(L>0?1:-1),D=Math.sqrt(I*I*T.mass/i.mass)*(I>0?1:-1),B=(F+D)*.5;return F-=B,D-=B,c=B+F*T.bounce.y,u=B+D*i.bounce.y,d&&S?O(0):p&&C?O(1):v&&C?O(2):g&&S?O(3):!1},"Check"),O=r(function(I){if(h&&m)E*=.5,I===0||I===3?(T.processY(E,c),i.processY(-E,u)):(T.processY(-E,c),i.processY(E,u));else if(h&&!m)I===0||I===3?T.processY(E,l,!0):T.processY(-E,l,!1,!0);else if(!h&&m)I===0||I===3?i.processY(-E,o,!1,!0):i.processY(E,o,!0);else{var L=E*.5;I===0?y?(T.processY(E,0,!0),i.processY(0,null,!1,!0)):g?(T.processY(L,0,!0),i.processY(-L,0,!1,!0)):(T.processY(L,i.velocity.y,!0),i.processY(-L,null,!1,!0)):I===1?f?(T.processY(0,null,!1,!0),i.processY(E,0,!0)):v?(T.processY(-L,0,!1,!0),i.processY(L,0,!0)):(T.processY(-L,null,!1,!0),i.processY(L,T.velocity.y,!0)):I===2?y?(T.processY(-E,0,!1,!0),i.processY(0,null,!0)):p?(T.processY(-L,0,!1,!0),i.processY(L,0,!0)):(T.processY(-L,i.velocity.y,!1,!0),i.processY(L,null,!0)):I===3&&(f?(T.processY(0,null,!0),i.processY(-E,0,!1,!0)):d?(T.processY(L,0,!0),i.processY(-L,0,!1,!0)):(T.processY(L,i.velocity.y,!0),i.processY(-L,null,!1,!0)))}return!0},"Run"),b=r(function(I){if(I===1?i.velocity.y=0:C?i.processY(E,o,!0):i.processY(-E,o,!1,!0),T.moves){var L=T.directControl?T.x-T.autoFrame.x:T.x-T.prev.x;i.x+=L*T.friction.x,i._dx=i.x-i.prev.x}},"RunImmovableBody1"),A=r(function(I){if(I===2?T.velocity.y=0:S?T.processY(E,l,!0):T.processY(-E,l,!1,!0),i.moves){var L=i.directControl?i.x-i.autoFrame.x:i.x-i.prev.x;T.x+=L*i.friction.x,T._dx=T.x-T.prev.x}},"RunImmovableBody2");n.exports={BlockCheck:M,Check:R,Set:w,Run:O,RunImmovableBody1:b,RunImmovableBody2:A}}),14087:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(64897),m=i(3017),c=r(function(u,l,o,d,v){v===void 0&&(v=h(u,l,o,d));var f=u.immovable,p=l.immovable;if(o||v===0||f&&p||u.customSeparateX||l.customSeparateX)return v!==0||u.embedded&&l.embedded;var g=m.Set(u,l,v);return!f&&!p?g>0?!0:m.Check():(f?m.RunImmovableBody1(g):p&&m.RunImmovableBody2(g),!0)},"SeparateX");n.exports=c}),89936:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45170),m=i(47962),c=r(function(u,l,o,d,v){v===void 0&&(v=h(u,l,o,d));var f=u.immovable,p=l.immovable;if(o||v===0||f&&p||u.customSeparateY||l.customSeparateY)return v!==0||u.embedded&&l.embedded;var g=m.Set(u,l,v);return!f&&!p?g>0?!0:m.Check():(f?m.RunImmovableBody1(g):p&&m.RunImmovableBody2(g),!0)},"SeparateY");n.exports=c}),95829:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===void 0&&(h={}),h.none=i,h.up=!1,h.down=!1,h.left=!1,h.right=!1,i||(h.up=!0,h.down=!0,h.left=!0,h.right=!0),h},"SetCollisionObject");n.exports=T}),72624:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87902),m=i(83419),c=i(78389),u=i(37747),l=i(37303),o=i(95829),d=i(26099),v=new m({Mixins:[c],initialize:r(function(p,g){var y=64,C=64,S={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=g!==void 0;E&&g.displayWidth&&(y=g.displayWidth,C=g.displayHeight),E||(g=S),this.world=p,this.gameObject=E?g:void 0,this.isBody=!0,this.debugShowBody=p.defaults.debugShowStaticBody,this.debugBodyColor=p.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(g.x-y*g.originX,g.y-C*g.originY),this.width=y,this.height=C,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},"StaticBody"),setGameObject:r(function(f,p,g){if(p===void 0&&(p=!0),g===void 0&&(g=!0),!f||!f.hasTransformComponent)return this;var y=this.world;return this.gameObject&&this.gameObject.body&&(y.disable(this.gameObject),this.gameObject.body=null),f.body&&y.disable(f),this.gameObject=f,f.body=this,this.setSize(),p&&this.updateFromGameObject(),this.enable=g,this},"setGameObject"),updateFromGameObject:r(function(){this.world.staticTree.remove(this);var f=this.gameObject;return f.getTopLeft(this.position),this.width=f.displayWidth,this.height=f.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},"updateFromGameObject"),setOffset:r(function(f,p){return p===void 0&&(p=f),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f,p),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},"setOffset"),setSize:r(function(f,p,g){g===void 0&&(g=!0);var y=this.gameObject;if(y&&y.frame&&(f||(f=y.frame.realWidth),p||(p=y.frame.realHeight)),this.world.staticTree.remove(this),this.width=f,this.height=p,this.halfWidth=Math.floor(f/2),this.halfHeight=Math.floor(p/2),g&&y&&y.getCenter){var C=y.displayWidth/2,S=y.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(C-this.halfWidth,S-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},"setSize"),setCircle:r(function(f,p,g){return p===void 0&&(p=this.offset.x),g===void 0&&(g=this.offset.y),f>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=f,this.width=f*2,this.height=f*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(p,g),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},"setCircle"),updateCenter:r(function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},"updateCenter"),reset:r(function(f,p){var g=this.gameObject;f===void 0&&(f=g.x),p===void 0&&(p=g.y),this.world.staticTree.remove(this),g.setPosition(f,p),g.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},"reset"),stop:r(function(){return this},"stop"),getBounds:r(function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},"getBounds"),hitTest:r(function(f,p){return this.isCircle?h(this,f,p):l(this,f,p)},"hitTest"),postUpdate:r(function(){},"postUpdate"),deltaAbsX:r(function(){return 0},"deltaAbsX"),deltaAbsY:r(function(){return 0},"deltaAbsY"),deltaX:r(function(){return 0},"deltaX"),deltaY:r(function(){return 0},"deltaY"),deltaZ:r(function(){return 0},"deltaZ"),destroy:r(function(){this.enable=!1,this.world.pendingDestroy.set(this)},"destroy"),drawDebug:r(function(f){var p=this.position,g=p.x+this.halfWidth,y=p.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?f.strokeCircle(g,y,this.width/2):f.strokeRect(p.x,p.y,this.width,this.height))},"drawDebug"),willDrawDebug:r(function(){return this.debugShowBody},"willDrawDebug"),setMass:r(function(f){return f<=0&&(f=.1),this.mass=f,this},"setMass"),x:{get:r(function(){return this.position.x},"get"),set:r(function(f){this.world.staticTree.remove(this),this.position.x=f,this.world.staticTree.insert(this)},"set")},y:{get:r(function(){return this.position.y},"get"),set:r(function(f){this.world.staticTree.remove(this),this.position.y=f,this.world.staticTree.insert(this)},"set")},left:{get:r(function(){return this.position.x},"get")},right:{get:r(function(){return this.position.x+this.width},"get")},top:{get:r(function(){return this.position.y},"get")},bottom:{get:r(function(){return this.position.y+this.height},"get")}});n.exports=v}),71464:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13759),m=i(83419),c=i(78389),u=i(37747),l=i(95540),o=i(26479),d=i(41212),v=new m({Extends:o,Mixins:[c],initialize:r(function(p,g,y,C){!y&&!C?C={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:d(y)?(C=y,y=null,C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=l(C,"classType",h)):Array.isArray(y)&&d(y[0])?(C=y,y=null,C.forEach(function(S){S.internalCreateCallback=this.createCallbackHandler,S.internalRemoveCallback=this.removeCallbackHandler,S.createMultipleCallback=this.createMultipleCallbackHandler,S.classType=l(S,"classType",h)})):C={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=p,this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,o.call(this,g,y,C),this.type="StaticPhysicsGroup"},"StaticPhysicsGroup"),createCallbackHandler:r(function(f){f.body||this.world.enableBody(f,u.STATIC_BODY)},"createCallbackHandler"),removeCallbackHandler:r(function(f){f.body&&this.world.disableBody(f)},"removeCallbackHandler"),createMultipleCallbackHandler:r(function(){this.refresh()},"createMultipleCallbackHandler"),refresh:r(function(){for(var f=this.children.entries,p=0;p<f.length;p++)f[p].body.reset();return this},"refresh")});n.exports=v}),82248:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(55495),m=i(37742),c=i(45319),u=i(83419),l=i(79342),o=i(37747),d=i(20339),v=i(52816),f=i(50792),p=i(63012),g=i(43855),y=i(5470),C=i(94977),S=i(64897),E=i(45170),w=i(96523),M=i(35154),R=i(36383),O=i(25774),b=i(96602),A=i(87841),I=i(59542),L=i(40012),F=i(14087),D=i(89936),B=i(35072),V=i(72624),U=i(2483),W=i(61340),Y=i(26099),N=i(15994),z=new u({Extends:f,initialize:r(function(X,k){f.call(this),this.scene=X,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new O,this.gravity=new Y(M(k,"gravity.x",0),M(k,"gravity.y",0)),this.bounds=new A(M(k,"x",0),M(k,"y",0),M(k,"width",X.sys.scale.width),M(k,"height",X.sys.scale.height)),this.checkCollision={up:M(k,"checkCollision.up",!0),down:M(k,"checkCollision.down",!0),left:M(k,"checkCollision.left",!0),right:M(k,"checkCollision.right",!0)},this.fps=M(k,"fps",60),this.fixedStep=M(k,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=M(k,"timeScale",1),this.OVERLAP_BIAS=M(k,"overlapBias",4),this.TILE_BIAS=M(k,"tileBias",16),this.forceX=M(k,"forceX",!1),this.isPaused=M(k,"isPaused",!1),this._total=0,this.drawDebug=M(k,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:M(k,"debugShowBody",!0),debugShowStaticBody:M(k,"debugShowStaticBody",!0),debugShowVelocity:M(k,"debugShowVelocity",!0),bodyDebugColor:M(k,"debugBodyColor",16711935),staticBodyDebugColor:M(k,"debugStaticBodyColor",255),velocityDebugColor:M(k,"debugVelocityColor",65280)},this.maxEntries=M(k,"maxEntries",16),this.useTree=M(k,"useTree",!0),this.tree=new I(this.maxEntries),this.staticTree=new I(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},"World"),enable:r(function(G,X){X===void 0&&(X=o.DYNAMIC_BODY),Array.isArray(G)||(G=[G]);for(var k=0;k<G.length;k++){var H=G[k];if(H.isParent)for(var $=H.getChildren(),K=0;K<$.length;K++){var Z=$[K];Z.isParent?this.enable(Z,X):this.enableBody(Z,X)}else this.enableBody(H,X)}},"enable"),enableBody:r(function(G,X){return X===void 0&&(X=o.DYNAMIC_BODY),G.hasTransformComponent&&(G.body||(X===o.DYNAMIC_BODY?G.body=new m(this,G):X===o.STATIC_BODY&&(G.body=new V(this,G))),this.add(G.body)),G},"enableBody"),add:r(function(G){return G.physicsType===o.DYNAMIC_BODY?this.bodies.set(G):G.physicsType===o.STATIC_BODY&&(this.staticBodies.set(G),this.staticTree.insert(G)),G.enable=!0,G},"add"),disable:r(function(G){Array.isArray(G)||(G=[G]);for(var X=0;X<G.length;X++){var k=G[X];if(k.isParent)for(var H=k.getChildren(),$=0;$<H.length;$++){var K=H[$];K.isParent?this.disable(K):this.disableBody(K.body)}else this.disableBody(k.body)}},"disable"),disableBody:r(function(G){this.remove(G),G.enable=!1},"disableBody"),remove:r(function(G){G.physicsType===o.DYNAMIC_BODY?(this.tree.remove(G),this.bodies.delete(G)):G.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(G),this.staticTree.remove(G))},"remove"),createDebugGraphic:r(function(){var G=this.scene.sys.add.graphics({x:0,y:0});return G.setDepth(Number.MAX_VALUE),this.debugGraphic=G,this.drawDebug=!0,G},"createDebugGraphic"),setBounds:r(function(G,X,k,H,$,K,Z,J){return this.bounds.setTo(G,X,k,H),$!==void 0&&this.setBoundsCollision($,K,Z,J),this},"setBounds"),setBoundsCollision:r(function(G,X,k,H){return G===void 0&&(G=!0),X===void 0&&(X=!0),k===void 0&&(k=!0),H===void 0&&(H=!0),this.checkCollision.left=G,this.checkCollision.right=X,this.checkCollision.up=k,this.checkCollision.down=H,this},"setBoundsCollision"),pause:r(function(){return this.isPaused=!0,this.emit(p.PAUSE),this},"pause"),resume:r(function(){return this.isPaused=!1,this.emit(p.RESUME),this},"resume"),addCollider:r(function(G,X,k,H,$){k===void 0&&(k=null),H===void 0&&(H=null),$===void 0&&($=k);var K=new l(this,!1,G,X,k,H,$);return this.colliders.add(K),K},"addCollider"),addOverlap:r(function(G,X,k,H,$){k===void 0&&(k=null),H===void 0&&(H=null),$===void 0&&($=k);var K=new l(this,!0,G,X,k,H,$);return this.colliders.add(K),K},"addOverlap"),removeCollider:r(function(G){return this.colliders.remove(G),this},"removeCollider"),setFPS:r(function(G){return this.fps=G,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},"setFPS"),update:r(function(G,X){if(!(this.isPaused||this.bodies.size===0)){var k,H=this._frameTime,$=this._frameTimeMS*this.timeScale;this._elapsed+=X;var K,Z=this.bodies.entries,J=this._elapsed>=$;for(this.fixedStep||(H=X*.001,J=!0,this._elapsed=0),k=0;k<Z.length;k++)K=Z[k],K.enable&&K.preUpdate(J,H);if(J){this._elapsed-=$,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Z));var j=this.colliders.update();for(k=0;k<j.length;k++){var q=j[k];q.active&&q.update()}this.emit(p.WORLD_STEP,H)}for(;this._elapsed>=$;)this._elapsed-=$,this.step(H)}},"update"),step:r(function(G){var X,k,H=this.bodies.entries,$=H.length;for(X=0;X<$;X++)k=H[X],k.enable&&k.update(G);this.useTree&&(this.tree.clear(),this.tree.load(H));var K=this.colliders.update();for(X=0;X<K.length;X++){var Z=K[X];Z.active&&Z.update()}this.emit(p.WORLD_STEP,G),this.stepsLastFrame++},"step"),singleStep:r(function(){this.update(0,this._frameTimeMS),this.postUpdate()},"singleStep"),postUpdate:r(function(){var G,X,k=this.bodies.entries,H=k.length,$=this.bodies,K=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,G=0;G<H;G++)X=k[G],X.enable&&X.postUpdate();if(this.drawDebug){var Z=this.debugGraphic;for(Z.clear(),G=0;G<H;G++)X=k[G],X.willDrawDebug()&&X.drawDebug(Z);for(k=K.entries,H=k.length,G=0;G<H;G++)X=k[G],X.willDrawDebug()&&X.drawDebug(Z)}var J=this.pendingDestroy;if(J.size>0){var j=this.tree,q=this.staticTree;for(k=J.entries,H=k.length,G=0;G<H;G++)X=k[G],X.physicsType===o.DYNAMIC_BODY?(j.remove(X),$.delete(X)):X.physicsType===o.STATIC_BODY&&(q.remove(X),K.delete(X)),X.world=void 0,X.gameObject=void 0;J.clear()}},"postUpdate"),updateMotion:r(function(G,X){G.allowRotation&&this.computeAngularVelocity(G,X),this.computeVelocity(G,X)},"updateMotion"),computeAngularVelocity:r(function(G,X){var k=G.angularVelocity,H=G.angularAcceleration,$=G.angularDrag,K=G.maxAngular;H?k+=H*X:G.allowDrag&&$&&($*=X,y(k-$,0,.1)?k-=$:C(k+$,0,.1)?k+=$:k=0),k=c(k,-K,K);var Z=k-G.angularVelocity;G.angularVelocity+=Z,G.rotation+=G.angularVelocity*X},"computeAngularVelocity"),computeVelocity:r(function(G,X){var k=G.velocity.x,H=G.acceleration.x,$=G.drag.x,K=G.maxVelocity.x,Z=G.velocity.y,J=G.acceleration.y,j=G.drag.y,q=G.maxVelocity.y,Q=G.speed,tt=G.maxSpeed,st=G.allowDrag,_=G.useDamping;G.allowGravity&&(k+=(this.gravity.x+G.gravity.x)*X,Z+=(this.gravity.y+G.gravity.y)*X),H?k+=H*X:st&&$&&(_?($=Math.pow($,X),k*=$,Q=Math.sqrt(k*k+Z*Z),g(Q,0,.001)&&(k=0)):($*=X,y(k-$,0,.01)?k-=$:C(k+$,0,.01)?k+=$:k=0)),J?Z+=J*X:st&&j&&(_?(j=Math.pow(j,X),Z*=j,Q=Math.sqrt(k*k+Z*Z),g(Q,0,.001)&&(Z=0)):(j*=X,y(Z-j,0,.01)?Z-=j:C(Z+j,0,.01)?Z+=j:Z=0)),k=c(k,-K,K),Z=c(Z,-q,q),G.velocity.set(k,Z),tt>-1&&G.velocity.length()>tt&&(G.velocity.normalize().scale(tt),Q=tt),G.speed=Q},"computeVelocity"),separate:r(function(G,X,k,H,$){var K,Z,J=!1,j=!0;if(!G.enable||!X.enable||G.checkCollision.none||X.checkCollision.none||!this.intersects(G,X)||(G.collisionMask&X.collisionCategory)===0||(X.collisionMask&G.collisionCategory)===0||k&&k.call(H,G.gameObject||G,X.gameObject||X)===!1)return J;if(G.isCircle||X.isCircle){var q=this.separateCircle(G,X,$);q.result?(J=!0,j=!1):(K=q.x,Z=q.y,j=!0)}if(j){var Q=!1,tt=!1,st=this.OVERLAP_BIAS;$?(Q=F(G,X,$,st,K),tt=D(G,X,$,st,Z)):this.forceX||Math.abs(this.gravity.y+G.gravity.y)<Math.abs(this.gravity.x+G.gravity.x)?(Q=F(G,X,$,st,K),this.intersects(G,X)&&(tt=D(G,X,$,st,Z))):(tt=D(G,X,$,st,Z),this.intersects(G,X)&&(Q=F(G,X,$,st,K))),J=Q||tt}return J&&($?(G.onOverlap||X.onOverlap)&&this.emit(p.OVERLAP,G.gameObject,X.gameObject,G,X):(G.onCollide||X.onCollide)&&this.emit(p.COLLIDE,G.gameObject,X.gameObject,G,X)),J},"separate"),separateCircle:r(function(G,X,k){S(G,X,!1,0),E(G,X,!1,0);var H=G.isCircle,$=X.isCircle,K=G.center,Z=X.center,J=G.immovable,j=X.immovable,q=G.velocity,Q=X.velocity,tt=0,st=!0;if(H!==$){st=!1;var _=K.x,ot=K.y,ht=G.halfWidth,lt=X.position.x,et=X.position.y,nt=X.right,at=X.bottom;$&&(_=Z.x,ot=Z.y,ht=X.halfWidth,lt=G.position.x,et=G.position.y,nt=G.right,at=G.bottom),ot<et?_<lt?tt=d(_,ot,lt,et)-ht:_>nt&&(tt=d(_,ot,nt,et)-ht):ot>at&&(_<lt?tt=d(_,ot,lt,at)-ht:_>nt&&(tt=d(_,ot,nt,at)-ht)),tt*=-1}else tt=G.halfWidth+X.halfWidth-v(K,Z);G.overlapR=tt,X.overlapR=tt;var ct=h(K,Z),St=(tt+R.EPSILON)*Math.cos(ct),It=(tt+R.EPSILON)*Math.sin(ct),Ct={overlap:tt,result:!1,x:St,y:It};if(k&&(!st||st&&tt!==0))return Ct.result=!0,Ct;if(!st&&tt===0||J&&j||G.customSeparateX||X.customSeparateX)return Ct.x=void 0,Ct.y=void 0,Ct;var Pt=!G.pushable&&!X.pushable;if(st){var Vt=K.x-Z.x,le=K.y-Z.y,Ft=Math.sqrt(Math.pow(Vt,2)+Math.pow(le,2)),zt=(Z.x-K.x)/Ft||0,Kt=(Z.y-K.y)/Ft||0,we=2*(q.x*zt+q.y*Kt-Q.x*zt-Q.y*Kt)/(G.mass+X.mass);(J||j||!G.pushable||!X.pushable)&&(we*=2),!J&&G.pushable&&(q.x=q.x-we/G.mass*zt,q.y=q.y-we/G.mass*Kt,q.multiply(G.bounce)),!j&&X.pushable&&(Q.x=Q.x+we/X.mass*zt,Q.y=Q.y+we/X.mass*Kt,Q.multiply(X.bounce)),!J&&!j&&(St*=.5,It*=.5),(!J||G.pushable||Pt)&&(G.x-=St,G.y-=It,G.updateCenter()),(!j||X.pushable||Pt)&&(X.x+=St,X.y+=It,X.updateCenter()),Ct.result=!0}else!J&&(G.pushable||Pt)&&(G.x-=St,G.y-=It,G.updateCenter()),!j&&(X.pushable||Pt)&&(X.x+=St,X.y+=It,X.updateCenter()),Ct.x=void 0,Ct.y=void 0;return Ct},"separateCircle"),intersects:r(function(G,X){return G===X?!1:!G.isCircle&&!X.isCircle?!(G.right<=X.left||G.bottom<=X.top||G.left>=X.right||G.top>=X.bottom):G.isCircle?X.isCircle?v(G.center,X.center)<=G.halfWidth+X.halfWidth:this.circleBodyIntersects(G,X):this.circleBodyIntersects(X,G)},"intersects"),circleBodyIntersects:r(function(G,X){var k=c(G.center.x,X.left,X.right),H=c(G.center.y,X.top,X.bottom),$=(G.center.x-k)*(G.center.x-k),K=(G.center.y-H)*(G.center.y-H);return $+K<=G.halfWidth*G.halfWidth},"circleBodyIntersects"),overlap:r(function(G,X,k,H,$){return k===void 0&&(k=null),H===void 0&&(H=null),$===void 0&&($=k),this.collideObjects(G,X,k,H,$,!0)},"overlap"),collide:r(function(G,X,k,H,$){return k===void 0&&(k=null),H===void 0&&(H=null),$===void 0&&($=k),this.collideObjects(G,X,k,H,$,!1)},"collide"),collideObjects:r(function(G,X,k,H,$,K){var Z,J;G.isParent&&(G.physicsType===void 0||X===void 0||G===X)&&(G=G.children.entries),X&&X.isParent&&X.physicsType===void 0&&(X=X.children.entries);var j=Array.isArray(G),q=Array.isArray(X);if(this._total=0,!j&&!q)this.collideHandler(G,X,k,H,$,K);else if(!j&&q)for(Z=0;Z<X.length;Z++)this.collideHandler(G,X[Z],k,H,$,K);else if(j&&!q)if(X)for(Z=0;Z<G.length;Z++)this.collideHandler(G[Z],X,k,H,$,K);else for(Z=0;Z<G.length;Z++){var Q=G[Z];for(J=Z+1;J<G.length;J++)Z!==J&&this.collideHandler(Q,G[J],k,H,$,K)}else for(Z=0;Z<G.length;Z++)for(J=0;J<X.length;J++)this.collideHandler(G[Z],X[J],k,H,$,K);return this._total>0},"collideObjects"),collideHandler:r(function(G,X,k,H,$,K){if(X===void 0&&G.isParent)return this.collideGroupVsGroup(G,G,k,H,$,K);if(!G||!X)return!1;if(G.body||G.isBody){if(X.body||X.isBody)return this.collideSpriteVsSprite(G,X,k,H,$,K);if(X.isParent)return this.collideSpriteVsGroup(G,X,k,H,$,K);if(X.isTilemap)return this.collideSpriteVsTilemapLayer(G,X,k,H,$,K)}else if(G.isParent){if(X.body||X.isBody)return this.collideSpriteVsGroup(X,G,k,H,$,K);if(X.isParent)return this.collideGroupVsGroup(G,X,k,H,$,K);if(X.isTilemap)return this.collideGroupVsTilemapLayer(G,X,k,H,$,K)}else if(G.isTilemap){if(X.body||X.isBody)return this.collideSpriteVsTilemapLayer(X,G,k,H,$,K);if(X.isParent)return this.collideGroupVsTilemapLayer(X,G,k,H,$,K)}},"collideHandler"),canCollide:r(function(G,X){return G&&X&&(G.collisionMask&X.collisionCategory)!==0&&(X.collisionMask&G.collisionCategory)!==0},"canCollide"),collideSpriteVsSprite:r(function(G,X,k,H,$,K){var Z=G.isBody?G:G.body,J=X.isBody?X:X.body;return this.canCollide(Z,J)?(this.separate(Z,J,H,$,K)&&(k&&k.call($,G,X),this._total++),!0):!1},"collideSpriteVsSprite"),collideSpriteVsGroup:r(function(G,X,k,H,$,K){var Z=G.isBody?G:G.body;if(!(X.getLength()===0||!Z||!Z.enable||Z.checkCollision.none||!this.canCollide(Z,X))){var J,j,q;if(this.useTree||X.physicsType===o.STATIC_BODY){var Q=this.treeMinMax;Q.minX=Z.left,Q.minY=Z.top,Q.maxX=Z.right,Q.maxY=Z.bottom;var tt=X.physicsType===o.DYNAMIC_BODY?this.tree.search(Q):this.staticTree.search(Q);for(j=tt.length,J=0;J<j;J++)q=tt[J],!(Z===q||!q.enable||q.checkCollision.none||!X.contains(q.gameObject))&&this.separate(Z,q,H,$,K)&&(k&&k.call($,Z.gameObject,q.gameObject),this._total++)}else{var st=X.getChildren(),_=X.children.entries.indexOf(G);for(j=st.length,J=0;J<j;J++)q=st[J].body,!(!q||J===_||!q.enable)&&this.separate(Z,q,H,$,K)&&(k&&k.call($,Z.gameObject,q.gameObject),this._total++)}}},"collideSpriteVsGroup"),collideGroupVsTilemapLayer:r(function(G,X,k,H,$,K){if(!this.canCollide(G,X))return!1;var Z=G.getChildren();if(Z.length===0)return!1;for(var J=!1,j=0;j<Z.length;j++)(Z[j].body||Z[j].isBody)&&this.collideSpriteVsTilemapLayer(Z[j],X,k,H,$,K)&&(J=!0);return J},"collideGroupVsTilemapLayer"),collideTiles:r(function(G,X,k,H,$){return X.length===0||G.body&&!G.body.enable||G.isBody&&!G.enable?!1:this.collideSpriteVsTilesHandler(G,X,k,H,$,!1,!1)},"collideTiles"),overlapTiles:r(function(G,X,k,H,$){return X.length===0||G.body&&!G.body.enable||G.isBody&&!G.enable?!1:this.collideSpriteVsTilesHandler(G,X,k,H,$,!0,!1)},"overlapTiles"),collideSpriteVsTilemapLayer:r(function(G,X,k,H,$,K){var Z=G.isBody?G:G.body;if(!Z.enable||Z.checkCollision.none||!this.canCollide(Z,X))return!1;var J=X.layer,j=Z.x-J.tileWidth*X.scaleX,q=Z.y-J.tileHeight*X.scaleY,Q=Z.width+J.tileWidth*X.scaleX,tt=Z.height+J.tileHeight*X.scaleY,st=K?null:this.tileFilterOptions,_=w(j,q,Q,tt,st,X.scene.cameras.main,X.layer);return _.length===0?!1:this.collideSpriteVsTilesHandler(G,_,k,H,$,K,!0)},"collideSpriteVsTilemapLayer"),collideSpriteVsTilesHandler:r(function(G,X,k,H,$,K,Z){for(var J=G.isBody?G:G.body,j,q={left:0,right:0,top:0,bottom:0},Q,tt=!1,st=0;st<X.length;st++){j=X[st],Q=j.tilemapLayer;var _=Q.tileToWorldXY(j.x,j.y);q.left=_.x,q.top=_.y,q.right=q.left+j.width*Q.scaleX,q.bottom=q.top+j.height*Q.scaleY,U(q,J)&&(!H||H.call($,G,j))&&b(j,G)&&(K||L(st,J,j,q,Q,this.TILE_BIAS,Z))&&(this._total++,tt=!0,k&&k.call($,G,j),K&&J.onOverlap?this.emit(p.TILE_OVERLAP,G,j,J):J.onCollide&&this.emit(p.TILE_COLLIDE,G,j,J))}return tt},"collideSpriteVsTilesHandler"),collideGroupVsGroup:r(function(G,X,k,H,$,K){if(!(G.getLength()===0||X.getLength()===0||!this.canCollide(G,X)))for(var Z=G.getChildren(),J=0;J<Z.length;J++)this.collideSpriteVsGroup(Z[J],X,k,H,$,K)},"collideGroupVsGroup"),wrap:r(function(G,X){G.body?this.wrapObject(G,X):G.getChildren?this.wrapArray(G.getChildren(),X):Array.isArray(G)?this.wrapArray(G,X):this.wrapObject(G,X)},"wrap"),wrapArray:r(function(G,X){for(var k=0;k<G.length;k++)this.wrapObject(G[k],X)},"wrapArray"),wrapObject:r(function(G,X){X===void 0&&(X=0),G.x=N(G.x,this.bounds.left-X,this.bounds.right+X),G.y=N(G.y,this.bounds.top-X,this.bounds.bottom+X)},"wrapObject"),shutdown:r(function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},"shutdown"),destroy:r(function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)},"destroy")});n.exports=z}),1093:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:r(function(i,h){return this.body.acceleration.set(i,h),this},"setAcceleration"),setAccelerationX:r(function(i){return this.body.acceleration.x=i,this},"setAccelerationX"),setAccelerationY:r(function(i){return this.body.acceleration.y=i,this},"setAccelerationY")};n.exports=T}),59023:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:r(function(i){return this.body.angularVelocity=i,this},"setAngularVelocity"),setAngularAcceleration:r(function(i){return this.body.angularAcceleration=i,this},"setAngularAcceleration"),setAngularDrag:r(function(i){return this.body.angularDrag=i,this},"setAngularDrag")};n.exports=T}),62069:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:r(function(i,h){return this.body.bounce.set(i,h),this},"setBounce"),setBounceX:r(function(i){return this.body.bounce.x=i,this},"setBounceX"),setBounceY:r(function(i){return this.body.bounce.y=i,this},"setBounceY"),setCollideWorldBounds:r(function(i,h,m,c){return this.body.setCollideWorldBounds(i,h,m,c),this},"setCollideWorldBounds")};n.exports=T}),78389:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79599),m={setCollisionCategory:r(function(c){var u=this.body?this.body:this;return u.collisionCategory=c,this},"setCollisionCategory"),willCollideWith:r(function(c){var u=this.body?this.body:this;return(u.collisionMask&c)!==0},"willCollideWith"),addCollidesWith:r(function(c){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask|c,this},"addCollidesWith"),removeCollidesWith:r(function(c){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask&~c,this},"removeCollidesWith"),setCollidesWith:r(function(c){var u=this.body?this.body:this;return u.collisionMask=h(c),this},"setCollidesWith"),resetCollisionCategory:r(function(){var c=this.body?this.body:this;return c.collisionCategory=1,c.collisionMask=2147483647,this},"resetCollisionCategory")};n.exports=m}),87118:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:r(function(i,h,m){return this.debugShowBody=i,this.debugShowVelocity=h,this.debugBodyColor=m,this},"setDebug"),setDebugBodyColor:r(function(i){return this.body.debugBodyColor=i,this},"setDebugBodyColor"),debugShowBody:{get:r(function(){return this.body.debugShowBody},"get"),set:r(function(i){this.body.debugShowBody=i},"set")},debugShowVelocity:{get:r(function(){return this.body.debugShowVelocity},"get"),set:r(function(i){this.body.debugShowVelocity=i},"set")},debugBodyColor:{get:r(function(){return this.body.debugBodyColor},"get"),set:r(function(i){this.body.debugBodyColor=i},"set")}};n.exports=T}),52819:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:r(function(i,h){return this.body.drag.set(i,h),this},"setDrag"),setDragX:r(function(i){return this.body.drag.x=i,this},"setDragX"),setDragY:r(function(i){return this.body.drag.y=i,this},"setDragY"),setDamping:r(function(i){return this.body.useDamping=i,this},"setDamping")};n.exports=T}),4074:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:r(function(i){return this.body.setDirectControl(i),this},"setDirectControl"),enableBody:r(function(i,h,m,c,u){return i&&this.body.reset(h,m),c&&(this.body.gameObject.active=!0),u&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},"enableBody"),disableBody:r(function(i,h){return i===void 0&&(i=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,i&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},"disableBody"),refreshBody:r(function(){return this.body.updateFromGameObject(),this},"refreshBody")};n.exports=T}),40831:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:r(function(i,h){return this.body.friction.set(i,h),this},"setFriction"),setFrictionX:r(function(i){return this.body.friction.x=i,this},"setFrictionX"),setFrictionY:r(function(i){return this.body.friction.y=i,this},"setFrictionY")};n.exports=T}),26775:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:r(function(i,h){return this.body.gravity.set(i,h),this},"setGravity"),setGravityX:r(function(i){return this.body.gravity.x=i,this},"setGravityX"),setGravityY:r(function(i){return this.body.gravity.y=i,this},"setGravityY")};n.exports=T}),9437:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:r(function(i){return i===void 0&&(i=!0),this.body.immovable=i,this},"setImmovable")};n.exports=T}),30621:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:r(function(i){return this.body.mass=i,this},"setMass")};n.exports=T}),72441:((n,T,i)=>{var h=i(47956),m=i(96503),c=i(2044),u=i(81491),l=r(function(o,d,v,f,p,g){var y=h(o,d-f,v-f,2*f,2*f,p,g);if(y.length===0)return y;for(var C=new m(d,v,f),S=new m,E=[],w=0;w<y.length;w++){var M=y[w];M.isCircle?(S.setTo(M.center.x,M.center.y,M.halfWidth),c(C,S)&&E.push(M)):u(C,M)&&E.push(M)}return E},"OverlapCirc");n.exports=l}),47956:(n=>{var T=r(function(i,h,m,c,u,l,o){l===void 0&&(l=!0),o===void 0&&(o=!1);var d=[],v=[],f=i.treeMinMax;if(f.minX=h,f.minY=m,f.maxX=h+c,f.maxY=m+u,o&&(v=i.staticTree.search(f)),l&&i.useTree)d=i.tree.search(f);else if(l){var p=i.bodies,g={position:{x:h,y:m},left:h,top:m,right:h+c,bottom:m+u,isCircle:!1},y=i.intersects;p.iterate(function(C){y(C,g)&&d.push(C)})}return v.concat(d)},"OverlapRect");n.exports=T}),62121:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:r(function(i){return i===void 0&&(i=!0),this.body.pushable=i,this},"setPushable")};n.exports=T}),29384:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:r(function(i,h){return this.body.setOffset(i,h),this},"setOffset"),setSize:r(function(i,h,m){return this.body.setSize(i,h,m),this},"setSize"),setBodySize:r(function(i,h,m){return this.body.setSize(i,h,m),this},"setBodySize"),setCircle:r(function(i,h,m){return this.body.setCircle(i,h,m),this},"setCircle")};n.exports=T}),15098:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:r(function(i,h){return this.body.setVelocity(i,h),this},"setVelocity"),setVelocityX:r(function(i){return this.body.setVelocityX(i),this},"setVelocityX"),setVelocityY:r(function(i){return this.body.setVelocityY(i),this},"setVelocityY"),setMaxVelocity:r(function(i,h){return this.body.maxVelocity.set(i,h),this},"setMaxVelocity")};n.exports=T}),92209:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}}),37747:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=T}),20009:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"}),36768:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"}),60473:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),89954:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),61804:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"}),7161:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"}),34689:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"}),16006:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"}),63012:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}}),27064:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37747),m=i(79291),c={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};c=m(!1,c,h),n.exports=c}),96602:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.collisionCallback?!i.collisionCallback.call(i.collisionCallbackContext,h,i):i.layer.callbacks[i.index]?!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,h,i):!0},"ProcessTileCallbacks");n.exports=T}),36294:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h<0?(i.blocked.none=!1,i.blocked.left=!0):h>0&&(i.blocked.none=!1,i.blocked.right=!0),i.position.x-=h,i.updateCenter(),i.bounce.x===0?i.velocity.x=0:i.velocity.x=-i.velocity.x*i.bounce.x},"ProcessTileSeparationX");n.exports=T}),67013:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h<0?(i.blocked.none=!1,i.blocked.up=!0):h>0&&(i.blocked.none=!1,i.blocked.down=!0),i.position.y-=h,i.updateCenter(),i.bounce.y===0?i.velocity.y=0:i.velocity.y=-i.velocity.y*i.bounce.y},"ProcessTileSeparationY");n.exports=T}),40012:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(21329),m=i(53442),c=i(2483),u=r(function(l,o,d,v,f,p,g){var y=v.left,C=v.top,S=v.right,E=v.bottom,w=d.faceLeft||d.faceRight,M=d.faceTop||d.faceBottom;if(g||(w=!0,M=!0),!w&&!M)return!1;var R=0,O=0,b=0,A=1;if(o.deltaAbsX()>o.deltaAbsY()?b=-1:o.deltaAbsX()<o.deltaAbsY()&&(A=-1),o.deltaX()!==0&&o.deltaY()!==0&&w&&M&&(b=Math.min(Math.abs(o.position.x-S),Math.abs(o.right-y)),A=Math.min(Math.abs(o.position.y-E),Math.abs(o.bottom-C))),b<A){if(w&&(R=h(o,d,y,S,p,g),R!==0&&!c(v,o)))return!0;M&&(O=m(o,d,C,E,p,g))}else{if(M&&(O=m(o,d,C,E,p,g),O!==0&&!c(v,o)))return!0;w&&(R=h(o,d,y,S,p,g))}return R!==0||O!==0},"SeparateTile");n.exports=u}),21329:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36294),m=r(function(c,u,l,o,d,v){var f=0,p=u.faceLeft,g=u.faceRight,y=u.collideLeft,C=u.collideRight;return v||(p=!0,g=!0,y=!0,C=!0),c.deltaX()<0&&C&&c.checkCollision.left?g&&c.x<o&&(f=c.x-o,f<-d&&(f=0)):c.deltaX()>0&&y&&c.checkCollision.right&&p&&c.right>l&&(f=c.right-l,f>d&&(f=0)),f!==0&&(c.customSeparateX?c.overlapX=f:h(c,f)),f},"TileCheckX");n.exports=m}),53442:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(67013),m=r(function(c,u,l,o,d,v){var f=0,p=u.faceTop,g=u.faceBottom,y=u.collideUp,C=u.collideDown;return v||(p=!0,g=!0,y=!0,C=!0),c.deltaY()<0&&C&&c.checkCollision.up?g&&c.y<o&&(f=c.y-o,f<-d&&(f=0)):c.deltaY()>0&&y&&c.checkCollision.down&&p&&c.bottom>l&&(f=c.bottom-l,f>d&&(f=0)),f!==0&&(c.customSeparateY?c.overlapY=f:h(c,f)),f},"TileCheckY");n.exports=m}),2483:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return!(h.right<=i.left||h.bottom<=i.top||h.position.x>=i.right||h.position.y>=i.bottom)},"TileIntersectsBody");n.exports=T}),55173:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};n.exports=h}),44563:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:i(27064),Matter:i(3875)}}),68174:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(26099),c=new h({initialize:r(function(){this.boundsCenter=new m,this.centerDiff=new m},"BodyBounds"),parseBody:r(function(u){if(u=u.hasOwnProperty("body")?u.body:u,!u.hasOwnProperty("bounds")||!u.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,o=this.centerDiff,d=u.bounds.max.x-u.bounds.min.x,v=u.bounds.max.y-u.bounds.min.y,f=d*u.centerOfMass.x,p=v*u.centerOfMass.y;return l.set(d/2,v/2),o.set(f-l.x,p-l.y),!0},"parseBody"),getTopLeft:r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new m(l+d.x+v.x,o+d.y+v.y)}return!1},"getTopLeft"),getTopCenter:r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new m(l+v.x,o+d.y+v.y)}return!1},"getTopCenter"),getTopRight:r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new m(l-(d.x-v.x),o+d.y+v.y)}return!1},"getTopRight"),getLeftCenter:r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new m(l+d.x+v.x,o+v.y)}return!1},"getLeftCenter"),getCenter:r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.centerDiff;return new m(l+d.x,o+d.y)}return!1},"getCenter"),getRightCenter:r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new m(l-(d.x-v.x),o+v.y)}return!1},"getRightCenter"),getBottomLeft:r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new m(l+d.x+v.x,o-(d.y-v.y))}return!1},"getBottomLeft"),getBottomCenter:r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new m(l+v.x,o-(d.y-v.y))}return!1},"getBottomCenter"),getBottomRight:r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new m(l-(d.x-v.x),o-(d.y-v.y))}return!1},"getBottomRight")});n.exports=c}),19933:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6790);h.Body=i(22562),h.Composite=i(69351),h.World=i(4372),h.Collision=i(52284),h.Detector=i(81388),h.Pairs=i(99561),h.Pair=i(4506),h.Query=i(73296),h.Resolver=i(66272),h.Constraint=i(48140),h.Common=i(53402),h.Engine=i(48413),h.Events=i(35810),h.Sleeping=i(53614),h.Plugin=i(73832),h.Bodies=i(66280),h.Composites=i(74116),h.Axes=i(66615),h.Bounds=i(15647),h.Svg=i(74058),h.Vector=i(31725),h.Vertices=i(41598),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,n.exports=h}),28137:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),m=i(83419),c=i(74116),u=i(48140),l=i(74058),o=i(75803),d=i(23181),v=i(34803),f=i(73834),p=i(19496),g=i(85791),y=i(98713),C=i(41598),S=new m({initialize:r(function(w){this.world=w,this.scene=w.scene,this.sys=w.scene.sys},"Factory"),rectangle:r(function(E,w,M,R,O){var b=h.rectangle(E,w,M,R,O);return this.world.add(b),b},"rectangle"),trapezoid:r(function(E,w,M,R,O,b){var A=h.trapezoid(E,w,M,R,O,b);return this.world.add(A),A},"trapezoid"),circle:r(function(E,w,M,R,O){var b=h.circle(E,w,M,R,O);return this.world.add(b),b},"circle"),polygon:r(function(E,w,M,R,O){var b=h.polygon(E,w,M,R,O);return this.world.add(b),b},"polygon"),fromVertices:r(function(E,w,M,R,O,b,A){typeof M=="string"&&(M=C.fromPath(M));var I=h.fromVertices(E,w,M,R,O,b,A);return this.world.add(I),I},"fromVertices"),fromPhysicsEditor:r(function(E,w,M,R,O){O===void 0&&(O=!0);var b=p.parseBody(E,w,M,R);return O&&!this.world.has(b)&&this.world.add(b),b},"fromPhysicsEditor"),fromSVG:r(function(E,w,M,R,O,b){R===void 0&&(R=1),O===void 0&&(O={}),b===void 0&&(b=!0);for(var A=M.getElementsByTagName("path"),I=[],L=0;L<A.length;L++){var F=l.pathToVertices(A[L],30);R!==1&&C.scale(F,R,R),I.push(F)}var D=h.fromVertices(E,w,I,O);return b&&this.world.add(D),D},"fromSVG"),fromJSON:r(function(E,w,M,R,O){R===void 0&&(R={}),O===void 0&&(O=!0);var b=g.parseBody(E,w,M,R);return b&&O&&this.world.add(b),b},"fromJSON"),imageStack:r(function(E,w,M,R,O,b,A,I,L){A===void 0&&(A=0),I===void 0&&(I=0),L===void 0&&(L={});var F=this.world,D=this.sys.displayList;L.addToWorld=!1;var B=c.stack(M,R,O,b,A,I,function(V,U){var W=new d(F,V,U,E,w,L);return D.add(W),W.body});return F.add(B),B},"imageStack"),stack:r(function(E,w,M,R,O,b,A){var I=c.stack(E,w,M,R,O,b,A);return this.world.add(I),I},"stack"),pyramid:r(function(E,w,M,R,O,b,A){var I=c.pyramid(E,w,M,R,O,b,A);return this.world.add(I),I},"pyramid"),chain:r(function(E,w,M,R,O,b){return c.chain(E,w,M,R,O,b)},"chain"),mesh:r(function(E,w,M,R,O){return c.mesh(E,w,M,R,O)},"mesh"),newtonsCradle:r(function(E,w,M,R,O){var b=c.newtonsCradle(E,w,M,R,O);return this.world.add(b),b},"newtonsCradle"),car:r(function(E,w,M,R,O){var b=c.car(E,w,M,R,O);return this.world.add(b),b},"car"),softBody:r(function(E,w,M,R,O,b,A,I,L,F){var D=c.softBody(E,w,M,R,O,b,A,I,L,F);return this.world.add(D),D},"softBody"),joint:r(function(E,w,M,R,O){return this.constraint(E,w,M,R,O)},"joint"),spring:r(function(E,w,M,R,O){return this.constraint(E,w,M,R,O)},"spring"),constraint:r(function(E,w,M,R,O){R===void 0&&(R=1),O===void 0&&(O={}),O.bodyA=E.type==="body"?E:E.body,O.bodyB=w.type==="body"?w:w.body,isNaN(M)||(O.length=M),O.stiffness=R;var b=u.create(O);return this.world.add(b),b},"constraint"),worldConstraint:r(function(E,w,M,R){M===void 0&&(M=1),R===void 0&&(R={}),R.bodyB=E.type==="body"?E:E.body,isNaN(w)||(R.length=w),R.stiffness=M;var O=u.create(R);return this.world.add(O),O},"worldConstraint"),mouseSpring:r(function(E){return this.pointerConstraint(E)},"mouseSpring"),pointerConstraint:r(function(E){E===void 0&&(E={}),E.hasOwnProperty("render")||(E.render={visible:!1});var w=new y(this.scene,this.world,E);return this.world.add(w.constraint),w},"pointerConstraint"),image:r(function(E,w,M,R,O){var b=new d(this.world,E,w,M,R,O);return this.sys.displayList.add(b),b},"image"),tileBody:r(function(E,w){return new f(this.world,E,w)},"tileBody"),sprite:r(function(E,w,M,R,O){var b=new v(this.world,E,w,M,R,O);return this.sys.displayList.add(b),this.sys.updateList.add(b),b},"sprite"),gameObject:r(function(E,w,M){return o(this.world,E,w,M)},"gameObject"),destroy:r(function(){this.world=null,this.scene=null,this.sys=null},"destroy")});n.exports=S}),75803:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(31884),m=i(95540),c=i(26099);function u(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}r(u,"hasGetterOrSetter");var l=r(function(o,d,v,f){v===void 0&&(v={}),f===void 0&&(f=!0);var p=d.x,g=d.y;d.body={temp:!0,position:{x:p,y:g}};var y=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(y.forEach(function(S){for(var E in S)u(S[E])?Object.defineProperty(d,E,{get:S[E].get,set:S[E].set}):Object.defineProperty(d,E,{value:S[E]})}),d.world=o,d._tempVec2=new c(p,g),v.hasOwnProperty("type")&&v.type==="body")d.setExistingBody(v,f);else{var C=m(v,"shape",null);C||(C="rectangle"),v.addToWorld=f,d.setBody(C,v)}return d},"MatterGameObject");n.exports=l}),23181:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31884),c=i(95643),u=i(95540),l=i(88571),o=i(72699),d=i(26099),v=new h({Extends:l,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,o],initialize:r(function(p,g,y,C,S,E){c.call(this,p.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(C,S),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new d(g,y);var w=u(E,"shape",null);w?this.setBody(w,E):this.setRectangle(this.width,this.height,E),this.setPosition(g,y),this.initPipeline(),this.initPostPipeline(!0)},"MatterImage")});n.exports=v}),42045:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60461),m=i(66615),c=i(66280),u=i(22562),l=i(68174),o=i(15647),d=i(83419),v=i(52284),f=i(53402),p=i(69351),g=i(74116),y=i(48140),C=i(81388),S=i(20339),E=i(28137),w=i(95540),M=i(35154),R=i(46975),O=i(4506),b=i(99561),A=i(37277),I=i(73296),L=i(66272),F=i(44594),D=i(74058),B=i(31725),V=i(41598),U=i(68243);f.setDecomp(i(55973));var W=new d({initialize:r(function(N){this.scene=N,this.systems=N.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=u,this.composite=p,this.collision=v,this.detector=C,this.pair=O,this.pairs=b,this.query=I,this.resolver=L,this.constraint=y,this.bodies=c,this.composites=g,this.axes=m,this.bounds=o,this.svg=D,this.vector=B,this.vertices=V,this.verts=V,this._tempVec2=B.create(),L._restingThresh=M(this.config,"restingThresh",4),L._restingThreshTangent=M(this.config,"restingThreshTangent",6),L._positionDampen=M(this.config,"positionDampen",.9),L._positionWarming=M(this.config,"positionWarming",.8),L._frictionNormalMultiplier=M(this.config,"frictionNormalMultiplier",5),N.sys.events.once(F.BOOT,this.boot,this),N.sys.events.on(F.START,this.start,this)},"MatterPhysics"),boot:r(function(){this.world=new U(this.scene,this.config),this.add=new E(this.world),this.bodyBounds=new l,this.systems.events.once(F.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.world||(this.world=new U(this.scene,this.config),this.add=new E(this.world));var Y=this.systems.events;Y.on(F.UPDATE,this.world.update,this.world),Y.on(F.POST_UPDATE,this.world.postUpdate,this.world),Y.once(F.SHUTDOWN,this.shutdown,this)},"start"),getConfig:r(function(){var Y=this.systems.game.config.physics,N=this.systems.settings.physics,z=R(w(N,"matter",{}),w(Y,"matter",{}));return z},"getConfig"),pause:r(function(){return this.world.pause()},"pause"),resume:r(function(){return this.world.resume()},"resume"),set60Hz:r(function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},"set60Hz"),set30Hz:r(function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},"set30Hz"),step:r(function(Y,N){this.world.step(Y,N)},"step"),containsPoint:r(function(Y,N,z){Y=this.getMatterBodies(Y);var G=B.create(N,z),X=I.point(Y,G);return X.length>0},"containsPoint"),intersectPoint:r(function(Y,N,z){z=this.getMatterBodies(z);var G=B.create(Y,N),X=[],k=I.point(z,G);return k.forEach(function(H){X.indexOf(H)===-1&&X.push(H)}),X},"intersectPoint"),intersectRect:r(function(Y,N,z,G,X,k){X===void 0&&(X=!1),k=this.getMatterBodies(k);var H={min:{x:Y,y:N},max:{x:Y+z,y:N+G}},$=[],K=I.region(k,H,X);return K.forEach(function(Z){$.indexOf(Z)===-1&&$.push(Z)}),$},"intersectRect"),intersectRay:r(function(Y,N,z,G,X,k){X===void 0&&(X=1),k=this.getMatterBodies(k);for(var H=[],$=I.ray(k,B.create(Y,N),B.create(z,G),X),K=0;K<$.length;K++)H.push($[K].body);return H},"intersectRay"),intersectBody:r(function(Y,N){N=this.getMatterBodies(N);for(var z=[],G=I.collides(Y,N),X=0;X<G.length;X++){var k=G[X];k.bodyA===Y?z.push(k.bodyB):z.push(k.bodyA)}return z},"intersectBody"),overlap:r(function(Y,N,z,G,X){z===void 0&&(z=null),G===void 0&&(G=null),X===void 0&&(X=z),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),N=this.getMatterBodies(N);for(var k=!1,H=0;H<Y.length;H++)for(var $=Y[H],K=I.collides($,N),Z=0;Z<K.length;Z++){var J=K[Z],j=J.bodyA.id===$.id?J.bodyB:J.bodyA;if(!G||G.call(X,$,j,J)){if(k=!0,z)z.call(X,$,j,J);else if(!G)return!0}}return k},"overlap"),setCollisionCategory:r(function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(z){z.collisionFilter.category=N}),this},"setCollisionCategory"),setCollisionGroup:r(function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(z){z.collisionFilter.group=N}),this},"setCollisionGroup"),setCollidesWith:r(function(Y,N){Y=this.getMatterBodies(Y);var z=0;if(!Array.isArray(N))z=N;else for(var G=0;G<N.length;G++)z|=N[G];return Y.forEach(function(X){X.collisionFilter.mask=z}),this},"setCollidesWith"),getMatterBodies:r(function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var N=[],z=0;z<Y.length;z++){var G=Y[z].hasOwnProperty("body")?Y[z].body:Y[z];N.push(G)}return N},"getMatterBodies"),setVelocity:r(function(Y,N,z){Y=this.getMatterBodies(Y);var G=this._tempVec2;return G.x=N,G.y=z,Y.forEach(function(X){u.setVelocity(X,G)}),this},"setVelocity"),setVelocityX:r(function(Y,N){Y=this.getMatterBodies(Y);var z=this._tempVec2;return z.x=N,Y.forEach(function(G){z.y=G.velocity.y,u.setVelocity(G,z)}),this},"setVelocityX"),setVelocityY:r(function(Y,N){Y=this.getMatterBodies(Y);var z=this._tempVec2;return z.y=N,Y.forEach(function(G){z.x=G.velocity.x,u.setVelocity(G,z)}),this},"setVelocityY"),setAngularVelocity:r(function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(z){u.setAngularVelocity(z,N)}),this},"setAngularVelocity"),applyForce:r(function(Y,N){Y=this.getMatterBodies(Y);var z=this._tempVec2;return Y.forEach(function(G){z.x=G.position.x,z.y=G.position.y,u.applyForce(G,z,N)}),this},"applyForce"),applyForceFromPosition:r(function(Y,N,z,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return Y.forEach(function(k){G===void 0&&(G=k.angle),X.x=z*Math.cos(G),X.y=z*Math.sin(G),u.applyForce(k,N,X)}),this},"applyForceFromPosition"),applyForceFromAngle:r(function(Y,N,z){Y=this.getMatterBodies(Y);var G=this._tempVec2;return Y.forEach(function(X){z===void 0&&(z=X.angle),G.x=N*Math.cos(z),G.y=N*Math.sin(z),u.applyForce(X,{x:X.position.x,y:X.position.y},G)}),this},"applyForceFromAngle"),getConstraintLength:r(function(Y){var N=Y.pointA.x,z=Y.pointA.y,G=Y.pointB.x,X=Y.pointB.y;return Y.bodyA&&(N+=Y.bodyA.position.x,z+=Y.bodyA.position.y),Y.bodyB&&(G+=Y.bodyB.position.x,X+=Y.bodyB.position.y),S(N,z,G,X)},"getConstraintLength"),alignBody:r(function(Y,N,z,G){Y=Y.hasOwnProperty("body")?Y.body:Y;var X;switch(G){case h.TOP_LEFT:case h.LEFT_TOP:X=this.bodyBounds.getTopLeft(Y,N,z);break;case h.TOP_CENTER:X=this.bodyBounds.getTopCenter(Y,N,z);break;case h.TOP_RIGHT:case h.RIGHT_TOP:X=this.bodyBounds.getTopRight(Y,N,z);break;case h.LEFT_CENTER:X=this.bodyBounds.getLeftCenter(Y,N,z);break;case h.CENTER:X=this.bodyBounds.getCenter(Y,N,z);break;case h.RIGHT_CENTER:X=this.bodyBounds.getRightCenter(Y,N,z);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:X=this.bodyBounds.getBottomLeft(Y,N,z);break;case h.BOTTOM_CENTER:X=this.bodyBounds.getBottomCenter(Y,N,z);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:X=this.bodyBounds.getBottomRight(Y,N,z);break}return X&&u.setPosition(Y,X),this},"alignBody"),shutdown:r(function(){var Y=this.systems.events;this.world&&(Y.off(F.UPDATE,this.world.update,this.world),Y.off(F.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(F.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(F.START,this.start,this),this.scene=null,this.systems=null},"destroy")});A.register("MatterPhysics",W,"matterPhysics"),n.exports=W}),34803:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),m=i(83419),c=i(31884),u=i(95643),l=i(95540),o=i(72699),d=i(68287),v=i(26099),f=new m({Extends:d,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,o],initialize:r(function(g,y,C,S,E,w){u.call(this,g.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(S,E),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new v(y,C);var M=l(w,"shape",null);M?this.setBody(M,w):this.setRectangle(this.width,this.height,w),this.setPosition(y,C),this.initPipeline(),this.initPostPipeline(!0)},"MatterSprite")});n.exports=f}),73834:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),m=i(22562),c=i(83419),u=i(31884),l=i(62644),o=i(50792),d=i(95540),v=i(97022),f=i(41598),p=new c({Extends:o,Mixins:[u.Bounce,u.Collision,u.Friction,u.Gravity,u.Mass,u.Sensor,u.Sleep,u.Static],initialize:r(function(y,C,S){o.call(this),this.tile=C,this.world=y,C.physics.matterBody&&C.physics.matterBody.destroy(),C.physics.matterBody=this;var E=d(S,"body",null),w=d(S,"addToWorld",!0);if(E)this.setBody(E,w);else{var M=C.getCollisionGroup(),R=d(M,"objects",[]);R.length>0?this.setFromTileCollision(S):this.setFromTileRectangle(S)}if(C.flipX||C.flipY){var O={x:C.getCenterX(),y:C.getCenterY()},b=C.flipX?-1:1,A=C.flipY?-1:1;m.scale(E,b,A,O)}},"MatterTileBody"),setFromTileRectangle:r(function(g){g===void 0&&(g={}),v(g,"isStatic")||(g.isStatic=!0),v(g,"addToWorld")||(g.addToWorld=!0);var y=this.tile.getBounds(),C=y.x+y.width/2,S=y.y+y.height/2,E=h.rectangle(C,S,y.width,y.height,g);return this.setBody(E,g.addToWorld),this},"setFromTileRectangle"),setFromTileCollision:r(function(g){g===void 0&&(g={}),v(g,"isStatic")||(g.isStatic=!0),v(g,"addToWorld")||(g.addToWorld=!0);for(var y=this.tile.tilemapLayer.scaleX,C=this.tile.tilemapLayer.scaleY,S=this.tile.getLeft(),E=this.tile.getTop(),w=this.tile.getCollisionGroup(),M=d(w,"objects",[]),R=[],O=0;O<M.length;O++){var b=M[O],A=S+b.x*y,I=E+b.y*C,L=b.width*y,F=b.height*C,D=null;if(b.rectangle)D=h.rectangle(A+L/2,I+F/2,L,F,g);else if(b.ellipse)D=h.circle(A+L/2,I+F/2,L/2,g);else if(b.polygon||b.polyline){var B=b.polygon?b.polygon:b.polyline,V=B.map(function(N){return{x:N.x*y,y:N.y*C}}),U=f.create(V),W=f.centre(U);A+=W.x,I+=W.y,D=h.fromVertices(A,I,U,g)}D&&R.push(D)}if(R.length===1)this.setBody(R[0],g.addToWorld);else if(R.length>1){var Y=l(g);Y.parts=R,this.setBody(m.create(Y),Y.addToWorld)}return this},"setFromTileCollision"),setBody:r(function(g,y){return y===void 0&&(y=!0),this.body&&this.removeBody(),this.body=g,this.body.gameObject=this,y&&this.world.add(this.body),this},"setBody"),removeBody:r(function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},"removeBody"),destroy:r(function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()},"destroy")});n.exports=p}),19496:((n,T,i)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),m=i(22562),c=i(53402),u=i(95540),l=i(41598),o={parseBody:r(function(d,v,f,p){p===void 0&&(p={});for(var g=u(f,"fixtures",[]),y=[],C=0;C<g.length;C++)for(var S=this.parseFixture(g[C]),E=0;E<S.length;E++)y.push(S[E]);var w=c.clone(f,!0);c.extend(w,p,!0),delete w.fixtures,delete w.type;var M=m.create(w);return m.setParts(M,y),m.setPosition(M,{x:d,y:v}),M},"parseBody"),parseFixture:r(function(d){var v=c.extend({},!1,d);delete v.circle,delete v.vertices;var f;if(d.circle){var p=u(d.circle,"x"),g=u(d.circle,"y"),y=u(d.circle,"radius");f=[h.circle(p,g,y,v)]}else d.vertices&&(f=this.parseVertices(d.vertices,v));return f},"parseFixture"),parseVertices:r(function(d,v){v===void 0&&(v={});for(var f=[],p=0;p<d.length;p++)l.clockwiseSort(d[p]),f.push(m.create(c.extend({position:l.centre(d[p]),vertices:d[p]},v)));return h.flagCoincidentParts(f)},"parseVertices")};n.exports=o}),85791:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),m=i(22562),c={parseBody:r(function(u,l,o,d){d===void 0&&(d={});var v,f=o.vertices;if(f.length===1)d.vertices=f[0],v=m.create(d),h.flagCoincidentParts(v.parts);else{for(var p=[],g=0;g<f.length;g++){var y=m.create({vertices:f[g]});p.push(y)}h.flagCoincidentParts(p),d.parts=p,v=m.create(d)}return v.label=o.label,m.setPosition(v,{x:u,y:l}),v},"parseBody")};n.exports=c}),98713:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15647),m=i(83419),c=i(69351),u=i(48140),l=i(81388),o=i(1121),d=i(8214),v=i(46975),f=i(53614),p=i(26099),g=i(41598),y=new m({initialize:r(function(S,E,w){w===void 0&&(w={});var M={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=S,this.world=E,this.camera=null,this.pointer=null,this.active=!0,this.position=new p,this.body=null,this.part=null,this.constraint=u.create(v(w,M)),this.world.on(o.BEFORE_UPDATE,this.update,this),S.sys.input.on(d.POINTER_DOWN,this.onDown,this),S.sys.input.on(d.POINTER_UP,this.onUp,this)},"PointerConstraint"),onDown:r(function(C){this.pointer||(this.pointer=C,this.camera=C.camera)},"onDown"),onUp:r(function(C){C===this.pointer&&(this.pointer=null)},"onUp"),getBody:r(function(C){var S=this.position,E=this.constraint;this.camera.getWorldPoint(C.x,C.y,S);for(var w=c.allBodies(this.world.localWorld),M=0;M<w.length;M++){var R=w[M];if(!R.ignorePointer&&h.contains(R.bounds,S)&&l.canCollide(R.collisionFilter,E.collisionFilter)&&this.hitTestBody(R,S))return this.world.emit(o.DRAG_START,R,this.part,this),!0}return!1},"getBody"),hitTestBody:r(function(C,S){for(var E=this.constraint,w=C.parts.length,M=w>1?1:0,R=M;R<w;R++){var O=C.parts[R];if(g.contains(O.vertices,S))return E.pointA=S,E.pointB={x:S.x-C.position.x,y:S.y-C.position.y},E.bodyB=C,E.angleB=C.angle,f.set(C,!1),this.part=O,this.body=C,!0}return!1},"hitTestBody"),update:r(function(){var C=this.pointer,S=this.body;if(!this.active||!C){S&&this.stopDrag();return}if(!C.isDown&&S){this.stopDrag();return}else if(C.isDown){if(!this.camera||!S&&!this.getBody(C))return;S=this.body;var E=this.position,w=this.constraint;this.camera.getWorldPoint(C.x,C.y,E),w.pointA.x=E.x,w.pointA.y=E.y,f.set(S,!1),this.world.emit(o.DRAG,S,this)}},"update"),stopDrag:r(function(){var C=this.body,S=this.constraint;S.bodyB=null,S.pointB=null,this.pointer=null,this.body=null,this.part=null,C&&this.world.emit(o.DRAG_END,C,this)},"stopDrag"),destroy:r(function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(o.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)},"destroy")});n.exports=y}),68243:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),m=i(22562),c=i(83419),u=i(53402),l=i(69351),o=i(48413),d=i(50792),v=i(1121),f=i(95540),p=i(35154),g=i(22562),y=i(35810),C=i(73834),S=i(4372),E=i(13037),w=i(31725),M=new c({Extends:d,initialize:r(function(O,b){d.call(this),this.scene=O,this.engine=o.create(b),this.localWorld=this.engine.world;var A=p(b,"gravity",null);A?this.setGravity(A.x,A.y,A.scale):A===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=p(b,"enabled",!0),this.getDelta=p(b,"getDelta",this.update60Hz);var I=f(b,"runner",{}),L=f(I,"fps",!1);L&&(I.delta=1e3/f(I,"fps",60)),this.runner=E.create(I),this.autoUpdate=p(b,"autoUpdate",!0);var F=p(b,"debug",!1);if(this.drawDebug=typeof F=="object"?!0:F,this.debugGraphic,this.debugConfig={showAxes:f(F,"showAxes",!1),showAngleIndicator:f(F,"showAngleIndicator",!1),angleColor:f(F,"angleColor",15208787),showBroadphase:f(F,"showBroadphase",!1),broadphaseColor:f(F,"broadphaseColor",16757760),showBounds:f(F,"showBounds",!1),boundsColor:f(F,"boundsColor",16777215),showVelocity:f(F,"showVelocity",!1),velocityColor:f(F,"velocityColor",44783),showCollisions:f(F,"showCollisions",!1),collisionColor:f(F,"collisionColor",16094476),showSeparations:f(F,"showSeparations",!1),separationColor:f(F,"separationColor",16753920),showBody:f(F,"showBody",!0),showStaticBody:f(F,"showStaticBody",!0),showInternalEdges:f(F,"showInternalEdges",!1),renderFill:f(F,"renderFill",!1),renderLine:f(F,"renderLine",!0),fillColor:f(F,"fillColor",1075465),fillOpacity:f(F,"fillOpacity",1),lineColor:f(F,"lineColor",2678297),lineOpacity:f(F,"lineOpacity",1),lineThickness:f(F,"lineThickness",1),staticFillColor:f(F,"staticFillColor",857979),staticLineColor:f(F,"staticLineColor",1255396),showSleeping:f(F,"showSleeping",!1),staticBodySleepOpacity:f(F,"staticBodySleepOpacity",.7),sleepFillColor:f(F,"sleepFillColor",4605510),sleepLineColor:f(F,"sleepLineColor",10066585),showSensors:f(F,"showSensors",!0),sensorFillColor:f(F,"sensorFillColor",857979),sensorLineColor:f(F,"sensorLineColor",1255396),showPositions:f(F,"showPositions",!0),positionSize:f(F,"positionSize",4),positionColor:f(F,"positionColor",14697178),showJoint:f(F,"showJoint",!0),jointColor:f(F,"jointColor",14737474),jointLineOpacity:f(F,"jointLineOpacity",1),jointLineThickness:f(F,"jointLineThickness",2),pinSize:f(F,"pinSize",4),pinColor:f(F,"pinColor",4382944),springColor:f(F,"springColor",14697184),anchorColor:f(F,"anchorColor",15724527),anchorSize:f(F,"anchorSize",4),showConvexHulls:f(F,"showConvexHulls",!1),hullColor:f(F,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),f(b,"setBounds",!1)){var D=b.setBounds;if(typeof D=="boolean")this.setBounds();else{var B=f(D,"x",0),V=f(D,"y",0),U=f(D,"width",O.sys.scale.width),W=f(D,"height",O.sys.scale.height),Y=f(D,"thickness",64),N=f(D,"left",!0),z=f(D,"right",!0),G=f(D,"top",!0),X=f(D,"bottom",!0);this.setBounds(B,V,U,W,Y,N,z,G,X)}}},"World"),setCompositeRenderStyle:r(function(R){var O=R.bodies,b=R.constraints,A=R.composites,I,L,F;for(I=0;I<O.length;I++)L=O[I],F=L.render,this.setBodyRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(I=0;I<b.length;I++)L=b[I],F=L.render,this.setConstraintRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(I=0;I<A.length;I++)L=A[I],this.setCompositeRenderStyle(L);return this},"setCompositeRenderStyle"),setBodyRenderStyle:r(function(R,O,b,A,I,L){var F=R.render,D=this.debugConfig;return F?(O==null&&(O=R.isStatic?D.staticLineColor:D.lineColor),b==null&&(b=D.lineOpacity),A==null&&(A=D.lineThickness),I==null&&(I=R.isStatic?D.staticFillColor:D.fillColor),L==null&&(L=D.fillOpacity),O!==!1&&(F.lineColor=O),b!==!1&&(F.lineOpacity=b),A!==!1&&(F.lineThickness=A),I!==!1&&(F.fillColor=I),L!==!1&&(F.fillOpacity=L),this):this},"setBodyRenderStyle"),setConstraintRenderStyle:r(function(R,O,b,A,I,L,F){var D=R.render,B=this.debugConfig;if(!D)return this;if(O==null){var V=D.type;V==="line"?O=B.jointColor:V==="pin"?O=B.pinColor:V==="spring"&&(O=B.springColor)}return b==null&&(b=B.jointLineOpacity),A==null&&(A=B.jointLineThickness),I==null&&(I=B.pinSize),L==null&&(L=B.anchorColor),F==null&&(F=B.anchorSize),O!==!1&&(D.lineColor=O),b!==!1&&(D.lineOpacity=b),A!==!1&&(D.lineThickness=A),I!==!1&&(D.pinSize=I),L!==!1&&(D.anchorColor=L),F!==!1&&(D.anchorSize=F),this},"setConstraintRenderStyle"),setEventsProxy:r(function(){var R=this,O=this.engine,b=this.localWorld;this.drawDebug&&(y.on(b,"compositeModified",function(A){R.setCompositeRenderStyle(A)}),y.on(b,"beforeAdd",function(A){for(var I=[].concat(A.object),L=0;L<I.length;L++){var F=I[L],D=F.render;F.type==="body"?R.setBodyRenderStyle(F,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):F.type==="composite"?R.setCompositeRenderStyle(F):F.type==="constraint"&&R.setConstraintRenderStyle(F,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),y.on(b,"beforeAdd",function(A){R.emit(v.BEFORE_ADD,A)}),y.on(b,"afterAdd",function(A){R.emit(v.AFTER_ADD,A)}),y.on(b,"beforeRemove",function(A){R.emit(v.BEFORE_REMOVE,A)}),y.on(b,"afterRemove",function(A){R.emit(v.AFTER_REMOVE,A)}),y.on(O,"beforeUpdate",function(A){R.emit(v.BEFORE_UPDATE,A)}),y.on(O,"afterUpdate",function(A){R.emit(v.AFTER_UPDATE,A)}),y.on(O,"collisionStart",function(A){var I=A.pairs,L,F;I.length>0&&I.map(function(D){L=D.bodyA,F=D.bodyB,L.gameObject&&L.gameObject.emit("collide",L,F,D),F.gameObject&&F.gameObject.emit("collide",F,L,D),y.trigger(L,"onCollide",{pair:D}),y.trigger(F,"onCollide",{pair:D}),L.onCollideCallback&&L.onCollideCallback(D),F.onCollideCallback&&F.onCollideCallback(D),L.onCollideWith[F.id]&&L.onCollideWith[F.id](F,D),F.onCollideWith[L.id]&&F.onCollideWith[L.id](L,D)}),R.emit(v.COLLISION_START,A,L,F)}),y.on(O,"collisionActive",function(A){var I=A.pairs,L,F;I.length>0&&I.map(function(D){L=D.bodyA,F=D.bodyB,L.gameObject&&L.gameObject.emit("collideActive",L,F,D),F.gameObject&&F.gameObject.emit("collideActive",F,L,D),y.trigger(L,"onCollideActive",{pair:D}),y.trigger(F,"onCollideActive",{pair:D}),L.onCollideActiveCallback&&L.onCollideActiveCallback(D),F.onCollideActiveCallback&&F.onCollideActiveCallback(D)}),R.emit(v.COLLISION_ACTIVE,A,L,F)}),y.on(O,"collisionEnd",function(A){var I=A.pairs,L,F;I.length>0&&I.map(function(D){L=D.bodyA,F=D.bodyB,L.gameObject&&L.gameObject.emit("collideEnd",L,F,D),F.gameObject&&F.gameObject.emit("collideEnd",F,L,D),y.trigger(L,"onCollideEnd",{pair:D}),y.trigger(F,"onCollideEnd",{pair:D}),L.onCollideEndCallback&&L.onCollideEndCallback(D),F.onCollideEndCallback&&F.onCollideEndCallback(D)}),R.emit(v.COLLISION_END,A,L,F)})},"setEventsProxy"),setBounds:r(function(R,O,b,A,I,L,F,D,B){return R===void 0&&(R=0),O===void 0&&(O=0),b===void 0&&(b=this.scene.sys.scale.width),A===void 0&&(A=this.scene.sys.scale.height),I===void 0&&(I=64),L===void 0&&(L=!0),F===void 0&&(F=!0),D===void 0&&(D=!0),B===void 0&&(B=!0),this.updateWall(L,"left",R-I,O-I,I,A+I*2),this.updateWall(F,"right",R+b,O-I,I,A+I*2),this.updateWall(D,"top",R,O-I,b,I),this.updateWall(B,"bottom",R,O+A,b,I),this},"setBounds"),updateWall:r(function(R,O,b,A,I,L){var F=this.walls[O];R?(F&&S.remove(this.localWorld,F),b+=I/2,A+=L/2,this.walls[O]=this.create(b,A,I,L,{isStatic:!0,friction:0,frictionStatic:0})):(F&&S.remove(this.localWorld,F),this.walls[O]=null)},"updateWall"),createDebugGraphic:r(function(){var R=this.scene.sys.add.graphics({x:0,y:0});return R.setDepth(Number.MAX_VALUE),this.debugGraphic=R,this.drawDebug=!0,R},"createDebugGraphic"),disableGravity:r(function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},"disableGravity"),setGravity:r(function(R,O,b){return R===void 0&&(R=0),O===void 0&&(O=1),b===void 0&&(b=.001),this.localWorld.gravity.x=R,this.localWorld.gravity.y=O,this.localWorld.gravity.scale=b,this},"setGravity"),create:r(function(R,O,b,A,I){var L=h.rectangle(R,O,b,A,I);return S.add(this.localWorld,L),L},"create"),add:r(function(R){return S.add(this.localWorld,R),this},"add"),remove:r(function(R,O){Array.isArray(R)||(R=[R]);for(var b=0;b<R.length;b++){var A=R[b],I=A.body?A.body:A;l.remove(this.localWorld,I,O)}return this},"remove"),removeConstraint:r(function(R,O){return l.remove(this.localWorld,R,O),this},"removeConstraint"),convertTilemapLayer:r(function(R,O){var b=R.layer,A=R.getTilesWithin(0,0,b.width,b.height,{isColliding:!0});return this.convertTiles(A,O),this},"convertTilemapLayer"),convertTiles:r(function(R,O){if(R.length===0)return this;for(var b=0;b<R.length;b++)new C(this,R[b],O);return this},"convertTiles"),nextGroup:r(function(R){return g.nextGroup(R)},"nextGroup"),nextCategory:r(function(){return g.nextCategory()},"nextCategory"),pause:r(function(){return this.enabled=!1,this.emit(v.PAUSE),this},"pause"),resume:r(function(){return this.enabled=!0,this.runner.timeLastTick=u.now(),this.emit(v.RESUME),this},"resume"),update:r(function(R){if(!(!this.enabled||!this.autoUpdate)){var O=this.engine,b=this.runner,A=u.now(),I=b.delta,L=0,F=R-b.timeLastTick;if((!F||!b.timeLastTick||F>Math.max(E._maxFrameDelta,b.maxFrameTime))&&(F=b.frameDelta||E._frameDeltaFallback),b.frameDeltaSmoothing){b.frameDeltaHistory.push(F),b.frameDeltaHistory=b.frameDeltaHistory.slice(-b.frameDeltaHistorySize);var D=b.frameDeltaHistory.slice(0).sort(),B=b.frameDeltaHistory.slice(D.length*E._smoothingLowerBound,D.length*E._smoothingUpperBound),V=E._mean(B);F=V||F}b.frameDeltaSnapping&&(F=1e3/Math.round(1e3/F)),b.frameDelta=F,b.timeLastTick=R,b.timeBuffer+=b.frameDelta,b.timeBuffer=u.clamp(b.timeBuffer,0,b.frameDelta+I*E._timeBufferMargin),b.lastUpdatesDeferred=0;for(var U=b.maxUpdates||Math.ceil(b.maxFrameTime/I),W=u.now();I>0&&b.timeBuffer>=I*E._timeBufferMargin;){o.update(O,I),b.timeBuffer-=I,L+=1;var Y=u.now()-A,N=u.now()-W,z=Y+E._elapsedNextEstimate*N/L;if(L>=U||z>b.maxFrameTime){b.lastUpdatesDeferred=Math.round(Math.max(0,b.timeBuffer/I-E._timeBufferMargin));break}}}},"update"),step:r(function(R){o.update(this.engine,R)},"step"),update60Hz:r(function(){return 1e3/60},"update60Hz"),update30Hz:r(function(){return 1e3/30},"update30Hz"),has:r(function(R){var O=R.hasOwnProperty("body")?R.body:R;return l.get(this.localWorld,O.id,O.type)!==null},"has"),getAllBodies:r(function(){return l.allBodies(this.localWorld)},"getAllBodies"),getAllConstraints:r(function(){return l.allConstraints(this.localWorld)},"getAllConstraints"),getAllComposites:r(function(){return l.allComposites(this.localWorld)},"getAllComposites"),postUpdate:r(function(){if(this.drawDebug){var R=this.debugConfig,O=this.engine,b=this.debugGraphic,A=l.allBodies(this.localWorld);this.debugGraphic.clear(),R.showBroadphase&&O.broadphase.controller&&this.renderGrid(O.broadphase,b,R.broadphaseColor,.5),R.showBounds&&this.renderBodyBounds(A,b,R.boundsColor,.5),(R.showBody||R.showStaticBody)&&this.renderBodies(A),R.showJoint&&this.renderJoints(),(R.showAxes||R.showAngleIndicator)&&this.renderBodyAxes(A,b,R.showAxes,R.angleColor,.5),R.showVelocity&&this.renderBodyVelocity(A,b,R.velocityColor,1,2),R.showSeparations&&this.renderSeparations(O.pairs.list,b,R.separationColor),R.showCollisions&&this.renderCollisions(O.pairs.list,b,R.collisionColor)}},"postUpdate"),renderGrid:r(function(R,O,b,A){O.lineStyle(1,b,A);for(var I=u.keys(R.buckets),L=0;L<I.length;L++){var F=I[L];if(!(R.buckets[F].length<2)){var D=F.split(/C|R/);O.strokeRect(parseInt(D[1],10)*R.bucketWidth,parseInt(D[2],10)*R.bucketHeight,R.bucketWidth,R.bucketHeight)}}return this},"renderGrid"),renderSeparations:r(function(R,O,b){O.lineStyle(1,b,1);for(var A=0;A<R.length;A++){var I=R[A];if(I.isActive){var L=I.collision,F=L.bodyA,D=L.bodyB,B=F.position,V=D.position,U=L.penetration,W=!F.isStatic&&!D.isStatic?4:1;D.isStatic&&(W=0),O.lineBetween(V.x,V.y,V.x-U.x*W,V.y-U.y*W),W=!F.isStatic&&!D.isStatic?4:1,F.isStatic&&(W=0),O.lineBetween(B.x,B.y,B.x-U.x*W,B.y-U.y*W)}}return this},"renderSeparations"),renderCollisions:r(function(R,O,b){O.lineStyle(1,b,.5),O.fillStyle(b,1);var A,I;for(A=0;A<R.length;A++)if(I=R[A],!!I.isActive)for(var L=0;L<I.contactCount;L++){var F=I.contacts[L],D=F.vertex;D&&O.fillRect(D.x-2,D.y-2,5,5)}for(A=0;A<R.length;A++)if(I=R[A],!!I.isActive){var B=I.collision,V=I.contacts;if(I.contactCount>0){var U=V[0].vertex.x,W=V[0].vertex.y;I.contactCount===2&&(U=(V[0].vertex.x+V[1].vertex.x)/2,W=(V[0].vertex.y+V[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?O.lineBetween(U-B.normal.x*8,W-B.normal.y*8,U,W):O.lineBetween(U+B.normal.x*8,W+B.normal.y*8,U,W)}}return this},"renderCollisions"),renderBodyBounds:r(function(R,O,b,A){O.lineStyle(1,b,A);for(var I=0;I<R.length;I++){var L=R[I];if(L.render.visible){var F=L.bounds;if(F)O.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var D=L.parts,B=D.length>1?1:0;B<D.length;B++){var V=D[B];O.strokeRect(V.bounds.min.x,V.bounds.min.y,V.bounds.max.x-V.bounds.min.x,V.bounds.max.y-V.bounds.min.y)}}}return this},"renderBodyBounds"),renderBodyAxes:r(function(R,O,b,A,I){O.lineStyle(1,A,I);for(var L=0;L<R.length;L++){var F=R[L],D=F.parts;if(F.render.visible){var B,V,U;if(b)for(V=D.length>1?1:0;V<D.length;V++)for(B=D[V],U=0;U<B.axes.length;U++){var W=B.axes[U];O.lineBetween(B.position.x,B.position.y,B.position.x+W.x*20,B.position.y+W.y*20)}else for(V=D.length>1?1:0;V<D.length;V++)for(B=D[V],U=0;U<B.axes.length;U++)O.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},"renderBodyAxes"),renderBodyVelocity:r(function(R,O,b,A,I){O.lineStyle(I,b,A);for(var L=0;L<R.length;L++){var F=R[L];F.render.visible&&O.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},"renderBodyVelocity"),renderBodies:r(function(R){for(var O=this.debugGraphic,b=this.debugConfig,A=b.showBody,I=b.showStaticBody,L=b.showSleeping,F=b.showInternalEdges,D=b.showConvexHulls,B=b.renderFill,V=b.renderLine,U=b.staticBodySleepOpacity,W=b.sleepFillColor,Y=b.sleepLineColor,N=b.hullColor,z=0;z<R.length;z++){var G=R[z];if(G.render.visible&&!(!I&&G.isStatic||!A&&!G.isStatic)){var X=G.render.lineColor,k=G.render.lineOpacity,H=G.render.lineThickness,$=G.render.fillColor,K=G.render.fillOpacity;L&&G.isSleeping&&(G.isStatic?(k*=U,K*=U):(X=Y,$=W)),B||($=null),V||(X=null),this.renderBody(G,O,F,X,k,H,$,K);var Z=G.parts.length;D&&Z>1&&this.renderConvexHull(G,O,N,H)}}},"renderBodies"),renderBody:r(function(R,O,b,A,I,L,F,D){A===void 0&&(A=null),I===void 0&&(I=null),L===void 0&&(L=1),F===void 0&&(F=null),D===void 0&&(D=null);for(var B=this.debugConfig,V=B.sensorFillColor,U=B.sensorLineColor,W=R.parts,Y=W.length,N=Y>1?1:0;N<Y;N++){var z=W[N],G=z.render,X=G.opacity;if(!(!G.visible||X===0||z.isSensor&&!B.showSensors)){var k=z.circleRadius;if(O.beginPath(),z.isSensor?(F!==null&&O.fillStyle(V,D*X),A!==null&&O.lineStyle(L,U,I*X)):(F!==null&&O.fillStyle(F,D*X),A!==null&&O.lineStyle(L,A,I*X)),k)O.arc(z.position.x,z.position.y,k,0,2*Math.PI);else{var H=z.vertices,$=H.length;O.moveTo(H[0].x,H[0].y);for(var K=1;K<$;K++){var Z=H[K];if(!H[K-1].isInternal||b?O.lineTo(Z.x,Z.y):O.moveTo(Z.x,Z.y),K<$&&Z.isInternal&&!b){var J=(K+1)%$;O.moveTo(H[J].x,H[J].y)}}O.closePath()}F!==null&&O.fillPath(),A!==null&&O.strokePath()}}if(B.showPositions&&!R.isStatic){var j=R.position.x,q=R.position.y,Q=Math.ceil(B.positionSize/2);O.fillStyle(B.positionColor,1),O.fillRect(j-Q,q-Q,B.positionSize,B.positionSize)}return this},"renderBody"),renderConvexHull:r(function(R,O,b,A){A===void 0&&(A=1);var I=R.parts,L=I.length;if(L>1){var F=R.vertices;O.lineStyle(A,b),O.beginPath(),O.moveTo(F[0].x,F[0].y);for(var D=1;D<F.length;D++)O.lineTo(F[D].x,F[D].y);O.lineTo(F[0].x,F[0].y),O.strokePath()}return this},"renderConvexHull"),renderJoints:r(function(){for(var R=this.debugGraphic,O=l.allConstraints(this.localWorld),b=0;b<O.length;b++){var A=O[b].render,I=A.lineColor,L=A.lineOpacity,F=A.lineThickness,D=A.pinSize,B=A.anchorColor,V=A.anchorSize;this.renderConstraint(O[b],R,I,L,F,D,B,V)}},"renderJoints"),renderConstraint:r(function(R,O,b,A,I,L,F,D){var B=R.render;if(!B.visible||!R.pointA||!R.pointB)return this;O.lineStyle(I,b,A);var V=R.bodyA,U=R.bodyB,W,Y;if(V?W=w.add(V.position,R.pointA):W=R.pointA,B.type==="pin")O.strokeCircle(W.x,W.y,L);else{if(U?Y=w.add(U.position,R.pointB):Y=R.pointB,O.beginPath(),O.moveTo(W.x,W.y),B.type==="spring")for(var N=w.sub(Y,W),z=w.perp(w.normalise(N)),G=Math.ceil(u.clamp(R.length/5,12,20)),X,k=1;k<G;k+=1)X=k%2===0?1:-1,O.lineTo(W.x+N.x*(k/G)+z.x*X*4,W.y+N.y*(k/G)+z.y*X*4);O.lineTo(Y.x,Y.y)}return O.strokePath(),B.anchors&&D>0&&(O.fillStyle(F),O.fillCircle(W.x,W.y,D),O.fillCircle(Y.x,Y.y,D)),this},"renderConstraint"),resetCollisionIDs:r(function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},"resetCollisionIDs"),shutdown:r(function(){y.off(this.engine),this.removeAllListeners(),S.clear(this.localWorld,!1),o.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},"shutdown"),destroy:r(function(){this.shutdown()},"destroy")});n.exports=M}),70410:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:r(function(i){return this.body.restitution=i,this},"setBounce")};n.exports=T}),66968:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:r(function(i){return this.body.collisionFilter.category=i,this},"setCollisionCategory"),setCollisionGroup:r(function(i){return this.body.collisionFilter.group=i,this},"setCollisionGroup"),setCollidesWith:r(function(i){var h=0;if(!Array.isArray(i))h=i;else for(var m=0;m<i.length;m++)h|=i[m];return this.body.collisionFilter.mask=h,this},"setCollidesWith"),setOnCollide:r(function(i){return this.body.onCollideCallback=i,this},"setOnCollide"),setOnCollideEnd:r(function(i){return this.body.onCollideEndCallback=i,this},"setOnCollideEnd"),setOnCollideActive:r(function(i){return this.body.onCollideActiveCallback=i,this},"setOnCollideActive"),setOnCollideWith:r(function(i,h){Array.isArray(i)||(i=[i]);for(var m=0;m<i.length;m++){var c=i[m].hasOwnProperty("body")?i[m].body:i[m];this.body.setOnCollideWith(c,h)}return this},"setOnCollideWith")};n.exports=T}),51607:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),m={applyForce:r(function(c){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,c),this},"applyForce"),applyForceFrom:r(function(c,u){return h.applyForce(this.body,c,u),this},"applyForceFrom"),thrust:r(function(c){var u=this.body.angle;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrust"),thrustLeft:r(function(c){var u=this.body.angle-Math.PI/2;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrustLeft"),thrustRight:r(function(c){var u=this.body.angle+Math.PI/2;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrustRight"),thrustBack:r(function(c){var u=this.body.angle-Math.PI;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrustBack")};n.exports=m}),5436:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:r(function(i,h,m){return this.body.friction=i,h!==void 0&&(this.body.frictionAir=h),m!==void 0&&(this.body.frictionStatic=m),this},"setFriction"),setFrictionAir:r(function(i){return this.body.frictionAir=i,this},"setFrictionAir"),setFrictionStatic:r(function(i){return this.body.frictionStatic=i,this},"setFrictionStatic")};n.exports=T}),39858:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:r(function(i){return this.body.ignoreGravity=i,this},"setIgnoreGravity")};n.exports=T}),37302:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),m=i(26099),c={setMass:r(function(u){return h.setMass(this.body,u),this},"setMass"),setDensity:r(function(u){return h.setDensity(this.body,u),this},"setDensity"),centerOfMass:{get:r(function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)},"get")}};n.exports=c}),39132:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:r(function(i){return this.body.isSensor=i,this},"setSensor"),isSensor:r(function(){return this.body.isSensor},"isSensor")};n.exports=T}),57772:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),m=i(22562),c=i(43855),u=i(95540),l=i(19496),o=i(85791),d=i(41598),v={setRectangle:r(function(f,p,g){return this.setBody({type:"rectangle",width:f,height:p},g)},"setRectangle"),setCircle:r(function(f,p){return this.setBody({type:"circle",radius:f},p)},"setCircle"),setPolygon:r(function(f,p,g){return this.setBody({type:"polygon",sides:p,radius:f},g)},"setPolygon"),setTrapezoid:r(function(f,p,g,y){return this.setBody({type:"trapezoid",width:f,height:p,slope:g},y)},"setTrapezoid"),setExistingBody:r(function(f,p){p===void 0&&(p=!0),this.body&&this.world.remove(this.body,!0),this.body=f;for(var g=0;g<f.parts.length;g++)f.parts[g].gameObject=this;var y=this;if(f.destroy=r(function(){y.world.remove(y.body,!0),y.body.gameObject=null},"destroy"),p&&(this.world.has(f)&&this.world.remove(f,!0),this.world.add(f)),this._originComponent){var C=f.render.sprite.xOffset,S=f.render.sprite.yOffset,E=f.centerOfMass.x,w=f.centerOfMass.y;if(c(E,.5)&&c(w,.5))this.setOrigin(C+.5,S+.5);else{var M=f.centerOffset.x,R=f.centerOffset.y;this.setOrigin(C+M/this.displayWidth,S+R/this.displayHeight)}}return this},"setExistingBody"),setBody:r(function(f,p){if(!f)return this;var g;typeof f=="string"&&(f={type:f});var y=u(f,"type","rectangle"),C=u(f,"x",this._tempVec2.x),S=u(f,"y",this._tempVec2.y),E=u(f,"width",this.width),w=u(f,"height",this.height);switch(y){case"rectangle":g=h.rectangle(C,S,E,w,p);break;case"circle":var M=u(f,"radius",Math.max(E,w)/2),R=u(f,"maxSides",25);g=h.circle(C,S,M,p,R);break;case"trapezoid":var O=u(f,"slope",.5);g=h.trapezoid(C,S,E,w,O,p);break;case"polygon":var b=u(f,"sides",5),A=u(f,"radius",Math.max(E,w)/2);g=h.polygon(C,S,b,A,p);break;case"fromVertices":case"fromVerts":var I=u(f,"verts",null);if(I)if(typeof I=="string"&&(I=d.fromPath(I)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,I),g=this.body;else{var L=u(f,"flagInternal",!1),F=u(f,"removeCollinear",.01),D=u(f,"minimumArea",10);g=h.fromVertices(C,S,I,p,L,F,D)}break;case"fromPhysicsEditor":g=l.parseBody(C,S,f,p);break;case"fromPhysicsTracer":g=o.parseBody(C,S,f,p);break}return g&&this.setExistingBody(g,f.addToWorld),this},"setBody")};n.exports=v}),38083:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(1121),m=i(53614),c=i(35810),u={setToSleep:r(function(){return m.set(this.body,!0),this},"setToSleep"),setAwake:r(function(){return m.set(this.body,!1),this},"setAwake"),setSleepThreshold:r(function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},"setSleepThreshold"),setSleepEvents:r(function(l,o){return this.setSleepStartEvent(l),this.setSleepEndEvent(o),this},"setSleepEvents"),setSleepStartEvent:r(function(l){if(l){var o=this.world;c.on(this.body,"sleepStart",function(d){o.emit(h.SLEEP_START,d,this)})}else c.off(this.body,"sleepStart");return this},"setSleepStartEvent"),setSleepEndEvent:r(function(l){if(l){var o=this.world;c.on(this.body,"sleepEnd",function(d){o.emit(h.SLEEP_END,d,this)})}else c.off(this.body,"sleepEnd");return this},"setSleepEndEvent")};n.exports=u}),90556:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),m={setStatic:r(function(c){return h.setStatic(this.body,c),this},"setStatic"),isStatic:r(function(){return this.body.isStatic},"isStatic")};n.exports=m}),85436:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),m=i(36383),c=i(86554),u=i(30954),l=4,o={x:{get:r(function(){return this.body.position.x},"get"),set:r(function(d){this._tempVec2.set(d,this.y),h.setPosition(this.body,this._tempVec2)},"set")},y:{get:r(function(){return this.body.position.y},"get"),set:r(function(d){this._tempVec2.set(this.x,d),h.setPosition(this.body,this._tempVec2)},"set")},scale:{get:r(function(){return(this._scaleX+this._scaleY)/2},"get"),set:r(function(d){this.setScale(d,d)},"set")},scaleX:{get:r(function(){return this._scaleX},"get"),set:r(function(d){var v=1/this._scaleX,f=1/this._scaleY;this._scaleX=d,this._scaleX===0?this.renderFlags&=~l:this.renderFlags|=l,h.scale(this.body,v,f),h.scale(this.body,d,this._scaleY)},"set")},scaleY:{get:r(function(){return this._scaleY},"get"),set:r(function(d){var v=1/this._scaleX,f=1/this._scaleY;this._scaleY=d,this._scaleY===0?this.renderFlags&=~l:this.renderFlags|=l,h.scale(this.body,v,f),h.scale(this.body,this._scaleX,d)},"set")},angle:{get:r(function(){return u(this.body.angle*m.RAD_TO_DEG)},"get"),set:r(function(d){this.rotation=u(d)*m.DEG_TO_RAD},"set")},rotation:{get:r(function(){return this.body.angle},"get"),set:r(function(d){this._rotation=c(d),h.setAngle(this.body,this._rotation)},"set")},setPosition:r(function(d,v){return d===void 0&&(d=0),v===void 0&&(v=d),this._tempVec2.set(d,v),h.setPosition(this.body,this._tempVec2),this},"setPosition"),setRotation:r(function(d){return d===void 0&&(d=0),this._rotation=c(d),h.setAngle(this.body,d),this},"setRotation"),setFixedRotation:r(function(){return h.setInertia(this.body,1/0),this},"setFixedRotation"),setAngle:r(function(d){return d===void 0&&(d=0),this.angle=d,h.setAngle(this.body,this.rotation),this},"setAngle"),setScale:r(function(d,v,f){d===void 0&&(d=1),v===void 0&&(v=d);var p=1/this._scaleX,g=1/this._scaleY;return this._scaleX=d,this._scaleY=v,h.scale(this.body,p,g,f),h.scale(this.body,d,v,f),this},"setScale")};n.exports=o}),42081:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),m={setVelocityX:r(function(c){return this._tempVec2.set(c,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},"setVelocityX"),setVelocityY:r(function(c){return this._tempVec2.set(this.body.velocity.x,c),h.setVelocity(this.body,this._tempVec2),this},"setVelocityY"),setVelocity:r(function(c,u){return this._tempVec2.set(c,u),h.setVelocity(this.body,this._tempVec2),this},"setVelocity"),getVelocity:r(function(){return h.getVelocity(this.body)},"getVelocity"),setAngularVelocity:r(function(c){return h.setAngularVelocity(this.body,c),this},"setAngularVelocity"),getAngularVelocity:r(function(){return h.getAngularVelocity(this.body)},"getAngularVelocity"),setAngularSpeed:r(function(c){return h.setAngularSpeed(this.body,c),this},"setAngularSpeed"),getAngularSpeed:r(function(){return h.getAngularSpeed(this.body)},"getAngularSpeed")};n.exports=m}),31884:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}}),85608:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"}),1213:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"}),25968:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"}),67205:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"}),39438:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"}),44823:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"}),92593:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"}),60128:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"}),76861:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"}),92362:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"}),76408:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"}),93971:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"}),5656:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),47861:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),79099:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"}),35906:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"}),1121:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}}),3875:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}}),22562:((n,T,i)=>{var h={};n.exports=h;var m=i(41598),c=i(31725),u=i(53614),l=i(53402),o=i(15647),d=i(66615);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(f){var p={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:f.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!f.hasOwnProperty("position")&&f.hasOwnProperty("vertices")?f.position=m.centre(f.vertices):f.hasOwnProperty("vertices")||(p.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var g=l.extend(p,f);return v(g,f),g.setOnCollideWith=function(y,C){return C?this.onCollideWith[y.id]=C:delete this.onCollideWith[y.id],this},g},h.nextGroup=function(f){return f?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var v=r(function(f,p){if(p=p||{},h.set(f,{bounds:f.bounds||o.create(f.vertices),positionPrev:f.positionPrev||c.clone(f.position),anglePrev:f.anglePrev||f.angle,vertices:f.vertices,parts:f.parts||[f],isStatic:f.isStatic,isSleeping:f.isSleeping,parent:f.parent||f}),m.rotate(f.vertices,f.angle,f.position),d.rotate(f.axes,f.angle),o.update(f.bounds,f.vertices,f.velocity),h.set(f,{axes:p.axes||f.axes,area:p.area||f.area,mass:p.mass||f.mass,inertia:p.inertia||f.inertia}),f.parts.length===1){var g=f.bounds,y=f.centerOfMass,C=f.centerOffset,S=g.max.x-g.min.x,E=g.max.y-g.min.y;y.x=-(g.min.x-f.position.x)/S,y.y=-(g.min.y-f.position.y)/E,C.x=S*y.x,C.y=E*y.y}},"_initProperties");h.set=function(f,p,g){var y;typeof p=="string"&&(y=p,p={},p[y]=g);for(y in p)if(Object.prototype.hasOwnProperty.call(p,y))switch(g=p[y],y){case"isStatic":h.setStatic(f,g);break;case"isSleeping":u.set(f,g);break;case"mass":h.setMass(f,g);break;case"density":h.setDensity(f,g);break;case"inertia":h.setInertia(f,g);break;case"vertices":h.setVertices(f,g);break;case"position":h.setPosition(f,g);break;case"angle":h.setAngle(f,g);break;case"velocity":h.setVelocity(f,g);break;case"angularVelocity":h.setAngularVelocity(f,g);break;case"speed":h.setSpeed(f,g);break;case"angularSpeed":h.setAngularSpeed(f,g);break;case"parts":h.setParts(f,g);break;case"centre":h.setCentre(f,g);break;default:f[y]=g}},h.setStatic=function(f,p){for(var g=0;g<f.parts.length;g++){var y=f.parts[g];p?(y.isStatic||(y._original={restitution:y.restitution,friction:y.friction,mass:y.mass,inertia:y.inertia,density:y.density,inverseMass:y.inverseMass,inverseInertia:y.inverseInertia}),y.restitution=0,y.friction=1,y.mass=y.inertia=y.density=1/0,y.inverseMass=y.inverseInertia=0,y.positionPrev.x=y.position.x,y.positionPrev.y=y.position.y,y.anglePrev=y.angle,y.angularVelocity=0,y.speed=0,y.angularSpeed=0,y.motion=0):y._original&&(y.restitution=y._original.restitution,y.friction=y._original.friction,y.mass=y._original.mass,y.inertia=y._original.inertia,y.density=y._original.density,y.inverseMass=y._original.inverseMass,y.inverseInertia=y._original.inverseInertia,y._original=null),y.isStatic=p}},h.setMass=function(f,p){var g=f.inertia/(f.mass/6);f.inertia=g*(p/6),f.inverseInertia=1/f.inertia,f.mass=p,f.inverseMass=1/f.mass,f.density=f.mass/f.area},h.setDensity=function(f,p){h.setMass(f,p*f.area),f.density=p},h.setInertia=function(f,p){f.inertia=p,f.inverseInertia=1/f.inertia},h.setVertices=function(f,p){p[0].body===f?f.vertices=p:f.vertices=m.create(p,f),f.axes=d.fromVertices(f.vertices),f.area=m.area(f.vertices),h.setMass(f,f.density*f.area);var g=m.centre(f.vertices);m.translate(f.vertices,g,-1),h.setInertia(f,h._inertiaScale*m.inertia(f.vertices,f.mass)),m.translate(f.vertices,f.position),o.update(f.bounds,f.vertices,f.velocity)},h.setParts=function(f,p,g){var y;for(p=p.slice(0),f.parts.length=0,f.parts.push(f),f.parent=f,y=0;y<p.length;y++){var C=p[y];C!==f&&(C.parent=f,f.parts.push(C))}if(f.parts.length!==1){if(g=typeof g<"u"?g:!0,g){var S=[];for(y=0;y<p.length;y++)S=S.concat(p[y].vertices);m.clockwiseSort(S);var E=m.hull(S),w=m.centre(E);h.setVertices(f,E),m.translate(f.vertices,w)}var M=h._totalProperties(f),R=M.centre.x,O=M.centre.y,b=f.bounds,A=f.centerOfMass,I=f.centerOffset;o.update(b,f.vertices,f.velocity),A.x=-(b.min.x-R)/(b.max.x-b.min.x),A.y=-(b.min.y-O)/(b.max.y-b.min.y),I.x=R,I.y=O,f.area=M.area,f.parent=f,f.position.x=R,f.position.y=O,f.positionPrev.x=R,f.positionPrev.y=O,h.setMass(f,M.mass),h.setInertia(f,M.inertia),h.setPosition(f,M.centre)}},h.setCentre=function(f,p,g){g?(f.positionPrev.x+=p.x,f.positionPrev.y+=p.y,f.position.x+=p.x,f.position.y+=p.y):(f.positionPrev.x=p.x-(f.position.x-f.positionPrev.x),f.positionPrev.y=p.y-(f.position.y-f.positionPrev.y),f.position.x=p.x,f.position.y=p.y)},h.setPosition=function(f,p,g){var y=c.sub(p,f.position);g?(f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.velocity.x=y.x,f.velocity.y=y.y,f.speed=c.magnitude(y)):(f.positionPrev.x+=y.x,f.positionPrev.y+=y.y);for(var C=0;C<f.parts.length;C++){var S=f.parts[C];S.position.x+=y.x,S.position.y+=y.y,m.translate(S.vertices,y),o.update(S.bounds,S.vertices,f.velocity)}},h.setAngle=function(f,p,g){var y=p-f.angle;g?(f.anglePrev=f.angle,f.angularVelocity=y,f.angularSpeed=Math.abs(y)):f.anglePrev+=y;for(var C=0;C<f.parts.length;C++){var S=f.parts[C];S.angle+=y,m.rotate(S.vertices,y,f.position),d.rotate(S.axes,y),o.update(S.bounds,S.vertices,f.velocity),C>0&&c.rotateAbout(S.position,y,f.position,S.position)}},h.setVelocity=function(f,p){var g=f.deltaTime/h._baseDelta;f.positionPrev.x=f.position.x-p.x*g,f.positionPrev.y=f.position.y-p.y*g,f.velocity.x=(f.position.x-f.positionPrev.x)/g,f.velocity.y=(f.position.y-f.positionPrev.y)/g,f.speed=c.magnitude(f.velocity)},h.getVelocity=function(f){var p=h._baseDelta/f.deltaTime;return{x:(f.position.x-f.positionPrev.x)*p,y:(f.position.y-f.positionPrev.y)*p}},h.getSpeed=function(f){return c.magnitude(h.getVelocity(f))},h.setSpeed=function(f,p){h.setVelocity(f,c.mult(c.normalise(h.getVelocity(f)),p))},h.setAngularVelocity=function(f,p){var g=f.deltaTime/h._baseDelta;f.anglePrev=f.angle-p*g,f.angularVelocity=(f.angle-f.anglePrev)/g,f.angularSpeed=Math.abs(f.angularVelocity)},h.getAngularVelocity=function(f){return(f.angle-f.anglePrev)*h._baseDelta/f.deltaTime},h.getAngularSpeed=function(f){return Math.abs(h.getAngularVelocity(f))},h.setAngularSpeed=function(f,p){h.setAngularVelocity(f,l.sign(h.getAngularVelocity(f))*p)},h.translate=function(f,p,g){h.setPosition(f,c.add(f.position,p),g)},h.rotate=function(f,p,g,y){if(!g)h.setAngle(f,f.angle+p,y);else{var C=Math.cos(p),S=Math.sin(p),E=f.position.x-g.x,w=f.position.y-g.y;h.setPosition(f,{x:g.x+(E*C-w*S),y:g.y+(E*S+w*C)},y),h.setAngle(f,f.angle+p,y)}},h.scale=function(f,p,g,y){var C=0,S=0;y=y||f.position;for(var E=f.inertia===1/0,w=0;w<f.parts.length;w++){var M=f.parts[w];M.scale.x=p,M.scale.y=g,m.scale(M.vertices,p,g,y),M.axes=d.fromVertices(M.vertices),M.area=m.area(M.vertices),h.setMass(M,f.density*M.area),m.translate(M.vertices,{x:-M.position.x,y:-M.position.y}),h.setInertia(M,h._inertiaScale*m.inertia(M.vertices,M.mass)),m.translate(M.vertices,{x:M.position.x,y:M.position.y}),w>0&&(C+=M.area,S+=M.inertia),M.position.x=y.x+(M.position.x-y.x)*p,M.position.y=y.y+(M.position.y-y.y)*g,o.update(M.bounds,M.vertices,f.velocity)}f.parts.length>1&&(f.area=C,f.isStatic||(h.setMass(f,f.density*C),h.setInertia(f,S))),f.circleRadius&&(p===g?f.circleRadius*=p:f.circleRadius=null),E&&h.setInertia(f,1/0)},h.update=function(f,p){p=(typeof p<"u"?p:16.666666666666668)*f.timeScale;var g=p*p,y=h._timeCorrection?p/(f.deltaTime||p):1,C=1-f.frictionAir*(p/l._baseDelta),S=(f.position.x-f.positionPrev.x)*y,E=(f.position.y-f.positionPrev.y)*y;f.velocity.x=S*C+f.force.x/f.mass*g,f.velocity.y=E*C+f.force.y/f.mass*g,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.position.x+=f.velocity.x,f.position.y+=f.velocity.y,f.deltaTime=p,f.angularVelocity=(f.angle-f.anglePrev)*C*y+f.torque/f.inertia*g,f.anglePrev=f.angle,f.angle+=f.angularVelocity,f.speed=c.magnitude(f.velocity),f.angularSpeed=Math.abs(f.angularVelocity);for(var w=0;w<f.parts.length;w++){var M=f.parts[w];m.translate(M.vertices,f.velocity),w>0&&(M.position.x+=f.velocity.x,M.position.y+=f.velocity.y),f.angularVelocity!==0&&(m.rotate(M.vertices,f.angularVelocity,f.position),d.rotate(M.axes,f.angularVelocity),w>0&&c.rotateAbout(M.position,f.angularVelocity,f.position,M.position)),o.update(M.bounds,M.vertices,f.velocity)}},h.updateVelocities=function(f){var p=h._baseDelta/f.deltaTime,g=f.velocity;g.x=(f.position.x-f.positionPrev.x)*p,g.y=(f.position.y-f.positionPrev.y)*p,f.speed=Math.sqrt(g.x*g.x+g.y*g.y),f.angularVelocity=(f.angle-f.anglePrev)*p,f.angularSpeed=Math.abs(f.angularVelocity)},h.applyForce=function(f,p,g){var y={x:p.x-f.position.x,y:p.y-f.position.y};f.force.x+=g.x,f.force.y+=g.y,f.torque+=y.x*g.y-y.y*g.x},h._totalProperties=function(f){for(var p={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=f.parts.length===1?0:1;g<f.parts.length;g++){var y=f.parts[g],C=y.mass!==1/0?y.mass:1;p.mass+=C,p.area+=y.area,p.inertia+=y.inertia,p.centre=c.add(p.centre,c.mult(y.position,C))}return p.centre=c.div(p.centre,p.mass),p},h.wrap=function(f,p){var g=o.wrap(f.bounds,p);return g&&h.translate(f,g),g}})()}),69351:((n,T,i)=>{var h={};n.exports=h;var m=i(35810),c=i(53402),u=i(15647),l=i(22562);(function(){h.create=function(o){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},h.setModified=function(o,d,v,f){if(m.trigger(o,"compositeModified",o),o.isModified=d,d&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),v&&o.parent&&h.setModified(o.parent,d,v,f),f)for(var p=0;p<o.composites.length;p++){var g=o.composites[p];h.setModified(g,d,v,f)}},h.add=function(o,d){var v=[].concat(d);m.trigger(o,"beforeAdd",{object:d});for(var f=0;f<v.length;f++){var p=v[f];switch(p.type){case"body":if(p.parent!==p){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(o,p);break;case"constraint":h.addConstraint(o,p);break;case"composite":h.addComposite(o,p);break;case"mouseConstraint":h.addConstraint(o,p.constraint);break}}return m.trigger(o,"afterAdd",{object:d}),o},h.remove=function(o,d,v){var f=[].concat(d);m.trigger(o,"beforeRemove",{object:d});for(var p=0;p<f.length;p++){var g=f[p];switch(g.type){case"body":h.removeBody(o,g,v);break;case"constraint":h.removeConstraint(o,g,v);break;case"composite":h.removeComposite(o,g,v);break;case"mouseConstraint":h.removeConstraint(o,g.constraint);break}}return m.trigger(o,"afterRemove",{object:d}),o},h.addComposite=function(o,d){return o.composites.push(d),d.parent=o,h.setModified(o,!0,!0,!1),o},h.removeComposite=function(o,d,v){var f=c.indexOf(o.composites,d);if(f!==-1){var p=h.allBodies(d);h.removeCompositeAt(o,f);for(var g=0;g<p.length;g++)p[g].sleepCounter=0}if(v)for(var g=0;g<o.composites.length;g++)h.removeComposite(o.composites[g],d,!0);return o},h.removeCompositeAt=function(o,d){return o.composites.splice(d,1),h.setModified(o,!0,!0,!1),o},h.addBody=function(o,d){return o.bodies.push(d),h.setModified(o,!0,!0,!1),o},h.removeBody=function(o,d,v){var f=c.indexOf(o.bodies,d);if(f!==-1&&(h.removeBodyAt(o,f),d.sleepCounter=0),v)for(var p=0;p<o.composites.length;p++)h.removeBody(o.composites[p],d,!0);return o},h.removeBodyAt=function(o,d){return o.bodies.splice(d,1),h.setModified(o,!0,!0,!1),o},h.addConstraint=function(o,d){return o.constraints.push(d),h.setModified(o,!0,!0,!1),o},h.removeConstraint=function(o,d,v){var f=c.indexOf(o.constraints,d);if(f!==-1&&h.removeConstraintAt(o,f),v)for(var p=0;p<o.composites.length;p++)h.removeConstraint(o.composites[p],d,!0);return o},h.removeConstraintAt=function(o,d){return o.constraints.splice(d,1),h.setModified(o,!0,!0,!1),o},h.clear=function(o,d,v){if(v)for(var f=0;f<o.composites.length;f++)h.clear(o.composites[f],d,!0);return d?o.bodies=o.bodies.filter(function(p){return p.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,h.setModified(o,!0,!0,!1),o},h.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var d=[].concat(o.bodies),v=0;v<o.composites.length;v++)d=d.concat(h.allBodies(o.composites[v]));return o.cache&&(o.cache.allBodies=d),d},h.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var d=[].concat(o.constraints),v=0;v<o.composites.length;v++)d=d.concat(h.allConstraints(o.composites[v]));return o.cache&&(o.cache.allConstraints=d),d},h.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var d=[].concat(o.composites),v=0;v<o.composites.length;v++)d=d.concat(h.allComposites(o.composites[v]));return o.cache&&(o.cache.allComposites=d),d},h.get=function(o,d,v){var f,p;switch(v){case"body":f=h.allBodies(o);break;case"constraint":f=h.allConstraints(o);break;case"composite":f=h.allComposites(o).concat(o);break}return f?(p=f.filter(function(g){return g.id.toString()===d.toString()}),p.length===0?null:p[0]):null},h.move=function(o,d,v){return h.remove(o,d),h.add(v,d),o},h.rebase=function(o){for(var d=h.allBodies(o).concat(h.allConstraints(o)).concat(h.allComposites(o)),v=0;v<d.length;v++)d[v].id=c.nextId();return o},h.translate=function(o,d,v){for(var f=v?h.allBodies(o):o.bodies,p=0;p<f.length;p++)l.translate(f[p],d);return o},h.rotate=function(o,d,v,f){for(var p=Math.cos(d),g=Math.sin(d),y=f?h.allBodies(o):o.bodies,C=0;C<y.length;C++){var S=y[C],E=S.position.x-v.x,w=S.position.y-v.y;l.setPosition(S,{x:v.x+(E*p-w*g),y:v.y+(E*g+w*p)}),l.rotate(S,d)}return o},h.scale=function(o,d,v,f,p){for(var g=p?h.allBodies(o):o.bodies,y=0;y<g.length;y++){var C=g[y],S=C.position.x-f.x,E=C.position.y-f.y;l.setPosition(C,{x:f.x+S*d,y:f.y+E*v}),l.scale(C,d,v)}return o},h.bounds=function(o){for(var d=h.allBodies(o),v=[],f=0;f<d.length;f+=1){var p=d[f];v.push(p.bounds.min,p.bounds.max)}return u.create(v)},h.wrap=function(o,d){var v=u.wrap(h.bounds(o),d);return v&&h.translate(o,v),v}})()}),4372:((n,T,i)=>{var h={};n.exports=h;var m=i(69351);(function(){h.create=m.create,h.add=m.add,h.remove=m.remove,h.clear=m.clear,h.addComposite=m.addComposite,h.addBody=m.addBody,h.addConstraint=m.addConstraint})()}),52284:((n,T,i)=>{var h={};n.exports=h;var m=i(41598),c=i(4506);(function(){var u=[],l={overlap:0,axis:null},o={overlap:0,axis:null};h.create=function(d,v){return{pair:null,collided:!1,bodyA:d,bodyB:v,parentA:d.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},h.collides=function(d,v,f){if(h._overlapAxes(l,d.vertices,v.vertices,d.axes),l.overlap<=0||(h._overlapAxes(o,v.vertices,d.vertices,v.axes),o.overlap<=0))return null;var p=f&&f.table[c.id(d,v)],g;p?g=p.collision:(g=h.create(d,v),g.collided=!0,g.bodyA=d.id<v.id?d:v,g.bodyB=d.id<v.id?v:d,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),d=g.bodyA,v=g.bodyB;var y;l.overlap<o.overlap?y=l:y=o;var C=g.normal,S=g.tangent,E=g.penetration,w=g.supports,M=y.overlap,R=y.axis,O=R.x,b=R.y,A=v.position.x-d.position.x,I=v.position.y-d.position.y;O*A+b*I>=0&&(O=-O,b=-b),C.x=O,C.y=b,S.x=-b,S.y=O,E.x=O*M,E.y=b*M,g.depth=M;var L=h._findSupports(d,v,C,1),F=0;if(m.contains(d.vertices,L[0])&&(w[F++]=L[0]),m.contains(d.vertices,L[1])&&(w[F++]=L[1]),F<2){var D=h._findSupports(v,d,C,-1);m.contains(v.vertices,D[0])&&(w[F++]=D[0]),F<2&&m.contains(v.vertices,D[1])&&(w[F++]=D[1])}return F===0&&(w[F++]=L[0]),g.supportCount=F,g},h._overlapAxes=function(d,v,f,p){var g=v.length,y=f.length,C=v[0].x,S=v[0].y,E=f[0].x,w=f[0].y,M=p.length,R=Number.MAX_VALUE,O=0,b,A,I,L,F,D;for(F=0;F<M;F++){var B=p[F],V=B.x,U=B.y,W=C*V+S*U,Y=E*V+w*U,N=W,z=Y;for(D=1;D<g;D+=1)L=v[D].x*V+v[D].y*U,L>N?N=L:L<W&&(W=L);for(D=1;D<y;D+=1)L=f[D].x*V+f[D].y*U,L>z?z=L:L<Y&&(Y=L);if(A=N-Y,I=z-W,b=A<I?A:I,b<R&&(R=b,O=F,b<=0))break}d.axis=p[O],d.overlap=R},h._findSupports=function(d,v,f,p){var g=v.vertices,y=g.length,C=d.position.x,S=d.position.y,E=f.x*p,w=f.y*p,M=g[0],R=M,O=E*(C-R.x)+w*(S-R.y),b,A,I;for(I=1;I<y;I+=1)R=g[I],A=E*(C-R.x)+w*(S-R.y),A<O&&(O=A,M=R);return b=g[(y+M.index-1)%y],O=E*(C-b.x)+w*(S-b.y),R=g[(M.index+1)%y],E*(C-R.x)+w*(S-R.y)<O?(u[0]=M,u[1]=R,u):(u[0]=M,u[1]=b,u)}})()}),43424:(n=>{var T={};n.exports=T,(function(){T.create=function(i){return{vertex:i,normalImpulse:0,tangentImpulse:0}}})()}),81388:((n,T,i)=>{var h={};n.exports=h;var m=i(53402),c=i(52284);(function(){h.create=function(u){var l={bodies:[],collisions:[],pairs:null};return m.extend(l,u)},h.setBodies=function(u,l){u.bodies=l.slice(0)},h.clear=function(u){u.bodies=[],u.collisions=[]},h.collisions=function(u){var l=u.pairs,o=u.bodies,d=o.length,v=h.canCollide,f=c.collides,p=u.collisions,g=0,y,C;for(o.sort(h._compareBoundsX),y=0;y<d;y++){var S=o[y],E=S.bounds,w=S.bounds.max.x,M=S.bounds.max.y,R=S.bounds.min.y,O=S.isStatic||S.isSleeping,b=S.parts.length,A=b===1;for(C=y+1;C<d;C++){var I=o[C],L=I.bounds;if(L.min.x>w)break;if(!(M<L.min.y||R>L.max.y)&&!(O&&(I.isStatic||I.isSleeping))&&v(S.collisionFilter,I.collisionFilter)){var F=I.parts.length;if(A&&F===1){var D=f(S,I,l);D&&(p[g++]=D)}else for(var B=b>1?1:0,V=F>1?1:0,U=B;U<b;U++)for(var W=S.parts[U],E=W.bounds,Y=V;Y<F;Y++){var N=I.parts[Y],L=N.bounds;if(!(E.min.x>L.max.x||E.max.x<L.min.x||E.max.y<L.min.y||E.min.y>L.max.y)){var D=f(W,N,l);D&&(p[g++]=D)}}}}}return p.length!==g&&(p.length=g),p},h.canCollide=function(u,l){return u.group===l.group&&u.group!==0?u.group>0:(u.mask&l.category)!==0&&(l.mask&u.category)!==0},h._compareBoundsX=function(u,l){return u.bounds.min.x-l.bounds.min.x}})()}),4506:((n,T,i)=>{var h={};n.exports=h;var m=i(43424);(function(){h.create=function(c,u){var l=c.bodyA,o=c.bodyB,d={id:h.id(l,o),bodyA:l,bodyB:o,collision:c,contacts:[m.create(),m.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||o.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(d,c,u),d},h.update=function(c,u,l){var o=u.supports,d=u.supportCount,v=c.contacts,f=u.parentA,p=u.parentB;c.isActive=!0,c.timeUpdated=l,c.collision=u,c.separation=u.depth,c.inverseMass=f.inverseMass+p.inverseMass,c.friction=f.friction<p.friction?f.friction:p.friction,c.frictionStatic=f.frictionStatic>p.frictionStatic?f.frictionStatic:p.frictionStatic,c.restitution=f.restitution>p.restitution?f.restitution:p.restitution,c.slop=f.slop>p.slop?f.slop:p.slop,c.contactCount=d,u.pair=c;var g=o[0],y=v[0],C=o[1],S=v[1];(S.vertex===g||y.vertex===C)&&(v[1]=y,v[0]=y=S,S=v[1]),y.vertex=g,S.vertex=C},h.setActive=function(c,u,l){u?(c.isActive=!0,c.timeUpdated=l):(c.isActive=!1,c.contactCount=0)},h.id=function(c,u){return c.id<u.id?c.id.toString(36)+":"+u.id.toString(36):u.id.toString(36)+":"+c.id.toString(36)}})()}),99561:((n,T,i)=>{var h={};n.exports=h;var m=i(4506),c=i(53402);(function(){h.create=function(u){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},h.update=function(u,l,o){var d=m.update,v=m.create,f=m.setActive,p=u.table,g=u.list,y=g.length,C=y,S=u.collisionStart,E=u.collisionEnd,w=u.collisionActive,M=l.length,R=0,O=0,b=0,A,I,L;for(L=0;L<M;L++)A=l[L],I=A.pair,I?(I.isActive&&(w[b++]=I),d(I,A,o)):(I=v(A,o),p[I.id]=I,S[R++]=I,g[C++]=I);for(C=0,y=g.length,L=0;L<y;L++)I=g[L],I.timeUpdated>=o?g[C++]=I:(f(I,!1,o),I.collision.bodyA.sleepCounter>0&&I.collision.bodyB.sleepCounter>0?g[C++]=I:(E[O++]=I,delete p[I.id]));g.length!==C&&(g.length=C),S.length!==R&&(S.length=R),E.length!==O&&(E.length=O),w.length!==b&&(w.length=b)},h.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}})()}),73296:((n,T,i)=>{var h={};n.exports=h;var m=i(31725),c=i(52284),u=i(15647),l=i(66280),o=i(41598);(function(){h.collides=function(d,v){for(var f=[],p=v.length,g=d.bounds,y=c.collides,C=u.overlaps,S=0;S<p;S++){var E=v[S],w=E.parts.length,M=w===1?0:1;if(d!==E&&C(E.bounds,g))for(var R=M;R<w;R++){var O=E.parts[R];if(C(O.bounds,g)){var b=y(O,d);if(b){f.push(b);break}}}}return f},h.ray=function(d,v,f,p){p=p||1e-100;for(var g=m.angle(v,f),y=m.magnitude(m.sub(v,f)),C=(f.x+v.x)*.5,S=(f.y+v.y)*.5,E=l.rectangle(C,S,y,p,{angle:g}),w=h.collides(E,d),M=0;M<w.length;M+=1){var R=w[M];R.body=R.bodyB=R.bodyA}return w},h.region=function(d,v,f){for(var p=[],g=0;g<d.length;g++){var y=d[g],C=u.overlaps(y.bounds,v);(C&&!f||!C&&f)&&p.push(y)}return p},h.point=function(d,v){for(var f=[],p=0;p<d.length;p++){var g=d[p];if(u.contains(g.bounds,v))for(var y=g.parts.length===1?0:1;y<g.parts.length;y++){var C=g.parts[y];if(u.contains(C.bounds,v)&&o.contains(C.vertices,v)){f.push(g);break}}}return f}})()}),66272:((n,T,i)=>{var h={};n.exports=h;var m=i(41598),c=i(53402),u=i(15647);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(l){var o,d,v,f=l.length;for(o=0;o<f;o++)d=l[o],d.isActive&&(v=d.contactCount,d.collision.parentA.totalContacts+=v,d.collision.parentB.totalContacts+=v)},h.solvePosition=function(l,o,d){var v,f,p,g,y,C,S,E,w=h._positionDampen*(d||1),M=c.clamp(o/c._baseDelta,0,1),R=l.length;for(v=0;v<R;v++)f=l[v],!(!f.isActive||f.isSensor)&&(p=f.collision,g=p.parentA,y=p.parentB,C=p.normal,f.separation=p.depth+C.x*(y.positionImpulse.x-g.positionImpulse.x)+C.y*(y.positionImpulse.y-g.positionImpulse.y));for(v=0;v<R;v++)f=l[v],!(!f.isActive||f.isSensor)&&(p=f.collision,g=p.parentA,y=p.parentB,C=p.normal,E=f.separation-f.slop*M,(g.isStatic||y.isStatic)&&(E*=2),g.isStatic||g.isSleeping||(S=w/g.totalContacts,g.positionImpulse.x+=C.x*E*S,g.positionImpulse.y+=C.y*E*S),y.isStatic||y.isSleeping||(S=w/y.totalContacts,y.positionImpulse.x-=C.x*E*S,y.positionImpulse.y-=C.y*E*S))},h.postSolvePosition=function(l){for(var o=h._positionWarming,d=l.length,v=m.translate,f=u.update,p=0;p<d;p++){var g=l[p],y=g.positionImpulse,C=y.x,S=y.y,E=g.velocity;if(g.totalContacts=0,C!==0||S!==0){for(var w=0;w<g.parts.length;w++){var M=g.parts[w];v(M.vertices,y),f(M.bounds,M.vertices,E),M.position.x+=C,M.position.y+=S}g.positionPrev.x+=C,g.positionPrev.y+=S,C*E.x+S*E.y<0?(y.x=0,y.y=0):(y.x*=o,y.y*=o)}}},h.preSolveVelocity=function(l){var o=l.length,d,v;for(d=0;d<o;d++){var f=l[d];if(!(!f.isActive||f.isSensor)){var p=f.contacts,g=f.contactCount,y=f.collision,C=y.parentA,S=y.parentB,E=y.normal,w=y.tangent;for(v=0;v<g;v++){var M=p[v],R=M.vertex,O=M.normalImpulse,b=M.tangentImpulse;if(O!==0||b!==0){var A=E.x*O+w.x*b,I=E.y*O+w.y*b;C.isStatic||C.isSleeping||(C.positionPrev.x+=A*C.inverseMass,C.positionPrev.y+=I*C.inverseMass,C.anglePrev+=C.inverseInertia*((R.x-C.position.x)*I-(R.y-C.position.y)*A)),S.isStatic||S.isSleeping||(S.positionPrev.x-=A*S.inverseMass,S.positionPrev.y-=I*S.inverseMass,S.anglePrev-=S.inverseInertia*((R.x-S.position.x)*I-(R.y-S.position.y)*A))}}}}},h.solveVelocity=function(l,o){var d=o/c._baseDelta,v=d*d,f=v*d,p=-h._restingThresh*d,g=h._restingThreshTangent,y=h._frictionNormalMultiplier*d,C=h._frictionMaxStatic,S=l.length,E,w,M,R;for(M=0;M<S;M++){var O=l[M];if(!(!O.isActive||O.isSensor)){var b=O.collision,A=b.parentA,I=b.parentB,L=b.normal.x,F=b.normal.y,D=b.tangent.x,B=b.tangent.y,V=O.inverseMass,U=O.friction*O.frictionStatic*y,W=O.contacts,Y=O.contactCount,N=1/Y,z=A.position.x-A.positionPrev.x,G=A.position.y-A.positionPrev.y,X=A.angle-A.anglePrev,k=I.position.x-I.positionPrev.x,H=I.position.y-I.positionPrev.y,$=I.angle-I.anglePrev;for(R=0;R<Y;R++){var K=W[R],Z=K.vertex,J=Z.x-A.position.x,j=Z.y-A.position.y,q=Z.x-I.position.x,Q=Z.y-I.position.y,tt=z-j*X,st=G+J*X,_=k-Q*$,ot=H+q*$,ht=tt-_,lt=st-ot,et=L*ht+F*lt,nt=D*ht+B*lt,at=O.separation+et,ct=Math.min(at,1);ct=at<0?0:ct;var St=ct*U;nt<-St||nt>St?(w=nt>0?nt:-nt,E=O.friction*(nt>0?1:-1)*f,E<-w?E=-w:E>w&&(E=w)):(E=nt,w=C);var It=J*F-j*L,Ct=q*F-Q*L,Pt=N/(V+A.inverseInertia*It*It+I.inverseInertia*Ct*Ct),Vt=(1+O.restitution)*et*Pt;if(E*=Pt,et<p)K.normalImpulse=0;else{var le=K.normalImpulse;K.normalImpulse+=Vt,K.normalImpulse>0&&(K.normalImpulse=0),Vt=K.normalImpulse-le}if(nt<-g||nt>g)K.tangentImpulse=0;else{var Ft=K.tangentImpulse;K.tangentImpulse+=E,K.tangentImpulse<-w&&(K.tangentImpulse=-w),K.tangentImpulse>w&&(K.tangentImpulse=w),E=K.tangentImpulse-Ft}var zt=L*Vt+D*E,Kt=F*Vt+B*E;A.isStatic||A.isSleeping||(A.positionPrev.x+=zt*A.inverseMass,A.positionPrev.y+=Kt*A.inverseMass,A.anglePrev+=(J*Kt-j*zt)*A.inverseInertia),I.isStatic||I.isSleeping||(I.positionPrev.x-=zt*I.inverseMass,I.positionPrev.y-=Kt*I.inverseMass,I.anglePrev-=(q*Kt-Q*zt)*I.inverseInertia)}}}}})()}),48140:((n,T,i)=>{var h={};n.exports=h;var m=i(41598),c=i(31725),u=i(53614),l=i(15647),o=i(66615),d=i(53402);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(v){var f=v;f.bodyA&&!f.pointA&&(f.pointA={x:0,y:0}),f.bodyB&&!f.pointB&&(f.pointB={x:0,y:0});var p=f.bodyA?c.add(f.bodyA.position,f.pointA):f.pointA,g=f.bodyB?c.add(f.bodyB.position,f.pointB):f.pointB,y=c.magnitude(c.sub(p,g));f.length=typeof f.length<"u"?f.length:y,f.id=f.id||d.nextId(),f.label=f.label||"Constraint",f.type="constraint",f.stiffness=f.stiffness||(f.length>0?1:.7),f.damping=f.damping||0,f.angularStiffness=f.angularStiffness||0,f.angleA=f.bodyA?f.bodyA.angle:f.angleA,f.angleB=f.bodyB?f.bodyB.angle:f.angleB,f.plugin={};var C={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return f.length===0&&f.stiffness>.1?(C.type="pin",C.anchors=!1):f.stiffness<.9&&(C.type="spring"),f.render=d.extend(C,f.render),f},h.preSolveAll=function(v){for(var f=0;f<v.length;f+=1){var p=v[f],g=p.constraintImpulse;p.isStatic||g.x===0&&g.y===0&&g.angle===0||(p.position.x+=g.x,p.position.y+=g.y,p.angle+=g.angle)}},h.solveAll=function(v,f){for(var p=d.clamp(f/d._baseDelta,0,1),g=0;g<v.length;g+=1){var y=v[g],C=!y.bodyA||y.bodyA&&y.bodyA.isStatic,S=!y.bodyB||y.bodyB&&y.bodyB.isStatic;(C||S)&&h.solve(v[g],p)}for(g=0;g<v.length;g+=1)y=v[g],C=!y.bodyA||y.bodyA&&y.bodyA.isStatic,S=!y.bodyB||y.bodyB&&y.bodyB.isStatic,!C&&!S&&h.solve(v[g],p)},h.solve=function(v,f){var p=v.bodyA,g=v.bodyB,y=v.pointA,C=v.pointB;if(!(!p&&!g)){p&&!p.isStatic&&(c.rotate(y,p.angle-v.angleA,y),v.angleA=p.angle),g&&!g.isStatic&&(c.rotate(C,g.angle-v.angleB,C),v.angleB=g.angle);var S=y,E=C;if(p&&(S=c.add(p.position,y)),g&&(E=c.add(g.position,C)),!(!S||!E)){var w=c.sub(S,E),M=c.magnitude(w);M<h._minLength&&(M=h._minLength);var R=(M-v.length)/M,O=v.stiffness>=1||v.length===0,b=O?v.stiffness*f:v.stiffness*f*f,A=v.damping*f,I=c.mult(w,R*b),L=(p?p.inverseMass:0)+(g?g.inverseMass:0),F=(p?p.inverseInertia:0)+(g?g.inverseInertia:0),D=L+F,B,V,U,W,Y;if(A>0){var N=c.create();U=c.div(w,M),Y=c.sub(g&&c.sub(g.position,g.positionPrev)||N,p&&c.sub(p.position,p.positionPrev)||N),W=c.dot(U,Y)}p&&!p.isStatic&&(V=p.inverseMass/L,p.constraintImpulse.x-=I.x*V,p.constraintImpulse.y-=I.y*V,p.position.x-=I.x*V,p.position.y-=I.y*V,A>0&&(p.positionPrev.x-=A*U.x*W*V,p.positionPrev.y-=A*U.y*W*V),B=c.cross(y,I)/D*h._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle-=B,p.angle-=B),g&&!g.isStatic&&(V=g.inverseMass/L,g.constraintImpulse.x+=I.x*V,g.constraintImpulse.y+=I.y*V,g.position.x+=I.x*V,g.position.y+=I.y*V,A>0&&(g.positionPrev.x+=A*U.x*W*V,g.positionPrev.y+=A*U.y*W*V),B=c.cross(C,I)/D*h._torqueDampen*g.inverseInertia*(1-v.angularStiffness),g.constraintImpulse.angle+=B,g.angle+=B)}}},h.postSolveAll=function(v){for(var f=0;f<v.length;f++){var p=v[f],g=p.constraintImpulse;if(!(p.isStatic||g.x===0&&g.y===0&&g.angle===0)){u.set(p,!1);for(var y=0;y<p.parts.length;y++){var C=p.parts[y];m.translate(C.vertices,g),y>0&&(C.position.x+=g.x,C.position.y+=g.y),g.angle!==0&&(m.rotate(C.vertices,g.angle,p.position),o.rotate(C.axes,g.angle),y>0&&c.rotateAbout(C.position,g.angle,p.position,C.position)),l.update(C.bounds,C.vertices,p.velocity)}g.angle*=h._warming,g.x*=h._warming,g.y*=h._warming}}},h.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},h.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},h.currentLength=function(v){var f=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),p=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),g=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),C=f-g,S=p-y;return Math.sqrt(C*C+S*S)}})()}),53402:((n,T,i)=>{var h={};n.exports=h,(function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(c,u){var l,o;typeof u=="boolean"?(l=2,o=u):(l=1,o=!0);for(var d=l;d<arguments.length;d++){var v=arguments[d];if(v)for(var f in v)o&&v[f]&&v[f].constructor===Object&&(!c[f]||c[f].constructor===Object)?(c[f]=c[f]||{},h.extend(c[f],o,v[f])):c[f]=v[f]}return c},h.clone=function(c,u){return h.extend({},u,c)},h.keys=function(c){if(Object.keys)return Object.keys(c);var u=[];for(var l in c)u.push(l);return u},h.values=function(c){var u=[];if(Object.keys){for(var l=Object.keys(c),o=0;o<l.length;o++)u.push(c[l[o]]);return u}for(var d in c)u.push(c[d]);return u},h.get=function(c,u,l,o){u=u.split(".").slice(l,o);for(var d=0;d<u.length;d+=1)c=c[u[d]];return c},h.set=function(c,u,l,o,d){var v=u.split(".").slice(o,d);return h.get(c,u,0,-1)[v[v.length-1]]=l,l},h.shuffle=function(c){for(var u=c.length-1;u>0;u--){var l=Math.floor(h.random()*(u+1)),o=c[u];c[u]=c[l],c[l]=o}return c},h.choose=function(c){return c[Math.floor(h.random()*c.length)]},h.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},h.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},h.isFunction=function(c){return typeof c=="function"},h.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},h.isString=function(c){return toString.call(c)==="[object String]"},h.clamp=function(c,u,l){return c<u?u:c>l?l:c},h.sign=function(c){return c<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(c,u){return c=typeof c<"u"?c:0,u=typeof u<"u"?u:1,c+m()*(u-c)};var m=r(function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280},"_seededRandom");h.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[c]||(h.warn(c),h._warnedOnce[c]=!0)},h.deprecated=function(c,u,l){c[u]=h.chain(function(){h.warnOnce("ð deprecated ð",l)},c[u])},h.nextId=function(){return h._nextId++},h.indexOf=function(c,u){if(c.indexOf)return c.indexOf(u);for(var l=0;l<c.length;l++)if(c[l]===u)return l;return-1},h.map=function(c,u){if(c.map)return c.map(u);for(var l=[],o=0;o<c.length;o+=1)l.push(u(c[o]));return l},h.topologicalSort=function(c){var u=[],l=[],o=[];for(var d in c)!l[d]&&!o[d]&&h._topologicalSort(d,l,o,c,u);return u},h._topologicalSort=function(c,u,l,o,d){var v=o[c]||[];l[c]=!0;for(var f=0;f<v.length;f+=1){var p=v[f];l[p]||u[p]||h._topologicalSort(p,u,l,o,d)}l[c]=!1,u[c]=!0,d.push(c)},h.chain=function(){for(var c=[],u=0;u<arguments.length;u+=1){var l=arguments[u];l._chained?c.push.apply(c,l._chained):c.push(l)}var o=r(function(){for(var d,v=new Array(arguments.length),f=0,p=arguments.length;f<p;f++)v[f]=arguments[f];for(f=0;f<c.length;f+=1){var g=c[f].apply(d,v);typeof g<"u"&&(d=g)}return d},"chain");return o._chained=c,o},h.chainPathBefore=function(c,u,l){return h.set(c,u,h.chain(l,h.get(c,u)))},h.chainPathAfter=function(c,u,l){return h.set(c,u,h.chain(h.get(c,u),l))},h.setDecomp=function(c){h._decomp=c},h.getDecomp=function(){var c=h._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof i.g<"u"&&(c=i.g.decomp)}catch{c=null}return c}})()}),48413:((n,T,i)=>{var h={};n.exports=h;var m=i(53614),c=i(66272),u=i(81388),l=i(99561),o=i(35810),d=i(69351),v=i(48140),f=i(53402),p=i(22562);(function(){h._deltaMax=16.666666666666668,h.create=function(g){g=g||{};var y={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},C=f.extend(y,g);return C.world=g.world||d.create({label:"World"}),C.pairs=g.pairs||l.create(),C.detector=g.detector||u.create(),C.detector.pairs=C.pairs,C.grid={buckets:[]},C.world.gravity=C.gravity,C.broadphase=C.grid,C.metrics={},C},h.update=function(g,y){var C=f.now(),S=g.world,E=g.detector,w=g.pairs,M=g.timing,R=M.timestamp,O;y>h._deltaMax&&f.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",h._deltaMax.toFixed(3),"ms."),y=typeof y<"u"?y:f._baseDelta,y*=M.timeScale,M.timestamp+=y,M.lastDelta=y;var b={timestamp:M.timestamp,delta:y};o.trigger(g,"beforeUpdate",b);var A=d.allBodies(S),I=d.allConstraints(S),L=d.allComposites(S);for(S.isModified&&(u.setBodies(E,A),d.setModified(S,!1,!1,!0)),g.enableSleeping&&m.update(A,y),h._bodiesApplyGravity(A,g.gravity),h.wrap(A,L),h.attractors(A),y>0&&h._bodiesUpdate(A,y),o.trigger(g,"beforeSolve",b),v.preSolveAll(A),O=0;O<g.constraintIterations;O++)v.solveAll(I,y);v.postSolveAll(A);var F=u.collisions(E);l.update(w,F,R),g.enableSleeping&&m.afterCollisions(w.list),w.collisionStart.length>0&&o.trigger(g,"collisionStart",{pairs:w.collisionStart,timestamp:M.timestamp,delta:y});var D=f.clamp(20/g.positionIterations,0,1);for(c.preSolvePosition(w.list),O=0;O<g.positionIterations;O++)c.solvePosition(w.list,y,D);for(c.postSolvePosition(A),v.preSolveAll(A),O=0;O<g.constraintIterations;O++)v.solveAll(I,y);for(v.postSolveAll(A),c.preSolveVelocity(w.list),O=0;O<g.velocityIterations;O++)c.solveVelocity(w.list,y);return h._bodiesUpdateVelocities(A),w.collisionActive.length>0&&o.trigger(g,"collisionActive",{pairs:w.collisionActive,timestamp:M.timestamp,delta:y}),w.collisionEnd.length>0&&o.trigger(g,"collisionEnd",{pairs:w.collisionEnd,timestamp:M.timestamp,delta:y}),h._bodiesClearForces(A),o.trigger(g,"afterUpdate",b),g.timing.lastElapsed=f.now()-C,g},h.merge=function(g,y){if(f.extend(g,y),y.world){g.world=y.world,h.clear(g);for(var C=d.allBodies(g.world),S=0;S<C.length;S++){var E=C[S];m.set(E,!1),E.id=f.nextId()}}},h.clear=function(g){l.clear(g.pairs),u.clear(g.detector)},h._bodiesClearForces=function(g){for(var y=g.length,C=0;C<y;C++){var S=g[C];S.force.x=0,S.force.y=0,S.torque=0}},h._bodiesApplyGravity=function(g,y){var C=typeof y.scale<"u"?y.scale:.001,S=g.length;if(!(y.x===0&&y.y===0||C===0))for(var E=0;E<S;E++){var w=g[E];w.ignoreGravity||w.isStatic||w.isSleeping||(w.force.y+=w.mass*y.y*C,w.force.x+=w.mass*y.x*C)}},h._bodiesUpdate=function(g,y){for(var C=g.length,S=0;S<C;S++){var E=g[S];E.isStatic||E.isSleeping||p.update(E,y)}},h._bodiesUpdateVelocities=function(g){for(var y=g.length,C=0;C<y;C++)p.updateVelocities(g[C])},h.wrap=function(g,y){for(var C=0;C<g.length;C+=1){var S=g[C];S.wrapBounds!==null&&p.wrap(S,S.wrapBounds)}for(C=0;C<y.length;C+=1){var E=y[C];E.wrapBounds!==null&&d.wrap(E,E.wrapBounds)}},h.attractors=function(g){for(var y=0;y<g.length;y++){var C=g[y],S=C.attractors;if(S&&S.length>0)for(var E=0;E<g.length;E++){var w=g[E];if(y!==E)for(var M=0;M<S.length;M++){var R=S[M],O=R;f.isFunction(R)&&(O=R(C,w)),O&&p.applyForce(w,w.position,O)}}}}})()}),35810:((n,T,i)=>{var h={};n.exports=h;var m=i(53402);(function(){h.on=function(c,u,l){for(var o=u.split(" "),d,v=0;v<o.length;v++)d=o[v],c.events=c.events||{},c.events[d]=c.events[d]||[],c.events[d].push(l);return l},h.off=function(c,u,l){if(!u){c.events={};return}typeof u=="function"&&(l=u,u=m.keys(c.events).join(" "));for(var o=u.split(" "),d=0;d<o.length;d++){var v=c.events[o[d]],f=[];if(l&&v)for(var p=0;p<v.length;p++)v[p]!==l&&f.push(v[p]);c.events[o[d]]=f}},h.trigger=function(c,u,l){var o,d,v,f,p=c.events;if(p&&m.keys(p).length>0){l||(l={}),o=u.split(" ");for(var g=0;g<o.length;g++)if(d=o[g],v=p[d],v){f=m.clone(l,!1),f.name=d,f.source=c;for(var y=0;y<v.length;y++)v[y].apply(c,[f])}}}})()}),6790:((n,T,i)=>{var h={};n.exports=h;var m=i(73832),c=i(53402);(function(){h.name="matter-js",h.version="0.20.0",h.uses=[],h.used=[],h.use=function(){m.use(h,Array.prototype.slice.call(arguments))},h.before=function(u,l){return u=u.replace(/^Matter./,""),c.chainPathBefore(h,u,l)},h.after=function(u,l){return u=u.replace(/^Matter./,""),c.chainPathAfter(h,u,l)}})()}),73832:((n,T,i)=>{var h={};n.exports=h;var m=i(53402);(function(){h._registry={},h.register=function(c){if(h.isPlugin(c)||m.warn("Plugin.register:",h.toString(c),"does not implement all required fields."),c.name in h._registry){var u=h._registry[c.name],l=h.versionParse(c.version).number,o=h.versionParse(u.version).number;l>o?(m.warn("Plugin.register:",h.toString(u),"was upgraded to",h.toString(c)),h._registry[c.name]=c):l<o?m.warn("Plugin.register:",h.toString(u),"can not be downgraded to",h.toString(c)):c!==u&&m.warn("Plugin.register:",h.toString(c),"is already registered to different plugin object")}else h._registry[c.name]=c;return c},h.resolve=function(c){return h._registry[h.dependencyParse(c).name]},h.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},h.isPlugin=function(c){return c&&c.name&&c.version&&c.install},h.isUsed=function(c,u){return c.used.indexOf(u)>-1},h.isFor=function(c,u){var l=c.for&&h.dependencyParse(c.for);return!c.for||u.name===l.name&&h.versionSatisfies(u.version,l.range)},h.use=function(c,u){if(c.uses=(c.uses||[]).concat(u||[]),c.uses.length===0){m.warn("Plugin.use:",h.toString(c),"does not specify any dependencies to install.");return}for(var l=h.dependencies(c),o=m.topologicalSort(l),d=[],v=0;v<o.length;v+=1)if(o[v]!==c.name){var f=h.resolve(o[v]);if(!f){d.push("â "+o[v]);continue}h.isUsed(c,f.name)||(h.isFor(f,c)||(m.warn("Plugin.use:",h.toString(f),"is for",f.for,"but installed on",h.toString(c)+"."),f._warned=!0),f.install?f.install(c):(m.warn("Plugin.use:",h.toString(f),"does not specify an install function."),f._warned=!0),f._warned?(d.push("ð¶ "+h.toString(f)),delete f._warned):d.push("â "+h.toString(f)),c.used.push(f.name))}d.length>0&&!f.silent&&m.info(d.join("  "))},h.dependencies=function(c,u){var l=h.dependencyParse(c),o=l.name;if(u=u||{},!(o in u)){c=h.resolve(c)||c,u[o]=m.map(c.uses||[],function(v){h.isPlugin(v)&&h.register(v);var f=h.dependencyParse(v),p=h.resolve(v);return p&&!h.versionSatisfies(p.version,f.range)?(m.warn("Plugin.dependencies:",h.toString(p),"does not satisfy",h.toString(f),"used by",h.toString(l)+"."),p._warned=!0,c._warned=!0):p||(m.warn("Plugin.dependencies:",h.toString(v),"used by",h.toString(l),"could not be resolved."),c._warned=!0),f.name});for(var d=0;d<u[o].length;d+=1)h.dependencies(u[o][d],u);return u}},h.dependencyParse=function(c){if(m.isString(c)){var u=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return u.test(c)||m.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},h.versionParse=function(c){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(c)||m.warn("Plugin.versionParse:",c,"is not a valid version or range.");var l=u.exec(c),o=Number(l[4]),d=Number(l[5]),v=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:c,operator:l[1]||l[2]||"",major:o,minor:d,patch:v,parts:[o,d,v],prerelease:l[7],number:o*1e8+d*1e4+v}},h.versionSatisfies=function(c,u){u=u||"*";var l=h.versionParse(u),o=h.versionParse(c);if(l.isRange){if(l.operator==="*"||c==="*")return!0;if(l.operator===">")return o.number>l.number;if(l.operator===">=")return o.number>=l.number;if(l.operator==="~")return o.major===l.major&&o.minor===l.minor&&o.patch>=l.patch;if(l.operator==="^")return l.major>0?o.major===l.major&&o.number>=l.number:l.minor>0?o.minor===l.minor&&o.patch>=l.patch:o.patch===l.patch}return c===u||c==="*"}})()}),13037:((n,T,i)=>{var h={};n.exports=h;var m=i(35810),c=i(48413),u=i(53402);(function(){h._maxFrameDelta=66.66666666666667,h._frameDeltaFallback=16.666666666666668,h._timeBufferMargin=1.5,h._elapsedNextEstimate=1,h._smoothingLowerBound=.1,h._smoothingUpperBound=.9,h.create=function(o){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},v=u.extend(d,o);return v.fps=0,v},h.run=function(o,d){return o.timeBuffer=h._frameDeltaFallback,r((function v(f){o.frameRequestId=h._onNextFrame(o,v),f&&o.enabled&&h.tick(o,d,f)}),"onFrame")(),o},h.tick=function(o,d,v){var f=u.now(),p=o.delta,g=0,y=v-o.timeLastTick;if((!y||!o.timeLastTick||y>Math.max(h._maxFrameDelta,o.maxFrameTime))&&(y=o.frameDelta||h._frameDeltaFallback),o.frameDeltaSmoothing){o.frameDeltaHistory.push(y),o.frameDeltaHistory=o.frameDeltaHistory.slice(-o.frameDeltaHistorySize);var C=o.frameDeltaHistory.slice(0).sort(),S=o.frameDeltaHistory.slice(C.length*h._smoothingLowerBound,C.length*h._smoothingUpperBound),E=l(S);y=E||y}o.frameDeltaSnapping&&(y=1e3/Math.round(1e3/y)),o.frameDelta=y,o.timeLastTick=v,o.timeBuffer+=o.frameDelta,o.timeBuffer=u.clamp(o.timeBuffer,0,o.frameDelta+p*h._timeBufferMargin),o.lastUpdatesDeferred=0;var w=o.maxUpdates||Math.ceil(o.maxFrameTime/p),M={timestamp:d.timing.timestamp};m.trigger(o,"beforeTick",M),m.trigger(o,"tick",M);for(var R=u.now();p>0&&o.timeBuffer>=p*h._timeBufferMargin;){m.trigger(o,"beforeUpdate",M),c.update(d,p),m.trigger(o,"afterUpdate",M),o.timeBuffer-=p,g+=1;var O=u.now()-f,b=u.now()-R,A=O+h._elapsedNextEstimate*b/g;if(g>=w||A>o.maxFrameTime){o.lastUpdatesDeferred=Math.round(Math.max(0,o.timeBuffer/p-h._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=g,m.trigger(o,"afterTick",M),o.frameDeltaHistory.length>=100&&(o.lastUpdatesDeferred&&Math.round(o.frameDelta/p)>w?u.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):o.lastUpdatesDeferred&&u.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof o.isFixed<"u"&&u.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(o.deltaMin||o.deltaMax)&&u.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),o.fps!==0&&u.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},h.stop=function(o){h._cancelNextFrame(o)},h._onNextFrame=function(o,d){if(typeof window<"u"&&window.requestAnimationFrame)o.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return o.frameRequestId},h._cancelNextFrame=function(o){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(o.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=r(function(o){for(var d=0,v=o.length,f=0;f<v;f+=1)d+=o[f];return d/v||0},"_mean");h._mean=l})()}),53614:((n,T,i)=>{var h={};n.exports=h;var m=i(22562),c=i(35810),u=i(53402);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(l,o){for(var d=o/u._baseDelta,v=h._motionSleepThreshold,f=0;f<l.length;f++){var p=l[f],g=m.getSpeed(p),y=m.getAngularSpeed(p),C=g*g+y*y;if(p.force.x!==0||p.force.y!==0){h.set(p,!1);continue}var S=Math.min(p.motion,C),E=Math.max(p.motion,C);p.motion=h._minBias*S+(1-h._minBias)*E,p.sleepThreshold>0&&p.motion<v?(p.sleepCounter+=1,p.sleepCounter>=p.sleepThreshold/d&&h.set(p,!0)):p.sleepCounter>0&&(p.sleepCounter-=1)}},h.afterCollisions=function(l){for(var o=h._motionSleepThreshold,d=0;d<l.length;d++){var v=l[d];if(v.isActive){var f=v.collision,p=f.bodyA.parent,g=f.bodyB.parent;if(!(p.isSleeping&&g.isSleeping||p.isStatic||g.isStatic)&&(p.isSleeping||g.isSleeping)){var y=p.isSleeping&&!p.isStatic?p:g,C=y===p?g:p;!y.isStatic&&C.motion>o&&h.set(y,!1)}}}},h.set=function(l,o){var d=l.isSleeping;o?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,d||c.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,d&&c.trigger(l,"sleepEnd"))}})()}),66280:((n,T,i)=>{var h={};n.exports=h;var m=i(41598),c=i(53402),u=i(22562),l=i(15647),o=i(31725);(function(){h.rectangle=function(d,v,f,p,g){g=g||{};var y={label:"Rectangle Body",position:{x:d,y:v},vertices:m.fromPath("L 0 0 L "+f+" 0 L "+f+" "+p+" L 0 "+p)};if(g.chamfer){var C=g.chamfer;y.vertices=m.chamfer(y.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete g.chamfer}return u.create(c.extend({},y,g))},h.trapezoid=function(d,v,f,p,g,y){y=y||{},g>=1&&c.warn("Bodies.trapezoid: slope parameter must be < 1."),g*=.5;var C=(1-g*2)*f,S=f*g,E=S+C,w=E+S,M;g<.5?M="L 0 0 L "+S+" "+-p+" L "+E+" "+-p+" L "+w+" 0":M="L 0 0 L "+E+" "+-p+" L "+w+" 0";var R={label:"Trapezoid Body",position:{x:d,y:v},vertices:m.fromPath(M)};if(y.chamfer){var O=y.chamfer;R.vertices=m.chamfer(R.vertices,O.radius,O.quality,O.qualityMin,O.qualityMax),delete y.chamfer}return u.create(c.extend({},R,y))},h.circle=function(d,v,f,p,g){p=p||{};var y={label:"Circle Body",circleRadius:f};g=g||25;var C=Math.ceil(Math.max(10,Math.min(g,f)));return C%2===1&&(C+=1),h.polygon(d,v,C,f,c.extend({},y,p))},h.polygon=function(d,v,f,p,g){if(g=g||{},f<3)return h.circle(d,v,p,g);for(var y=2*Math.PI/f,C="",S=y*.5,E=0;E<f;E+=1){var w=S+E*y,M=Math.cos(w)*p,R=Math.sin(w)*p;C+="L "+M.toFixed(3)+" "+R.toFixed(3)+" "}var O={label:"Polygon Body",position:{x:d,y:v},vertices:m.fromPath(C)};if(g.chamfer){var b=g.chamfer;O.vertices=m.chamfer(O.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete g.chamfer}return u.create(c.extend({},O,g))},h.fromVertices=function(d,v,f,p,g,y,C,S){var E=c.getDecomp(),w,M,R,O,b,A,I,L,F,D,B;for(w=!!(E&&E.quickDecomp),p=p||{},R=[],g=typeof g<"u"?g:!1,y=typeof y<"u"?y:.01,C=typeof C<"u"?C:10,S=typeof S<"u"?S:.01,c.isArray(f[0])||(f=[f]),D=0;D<f.length;D+=1)if(A=f[D],O=m.isConvex(A),b=!O,b&&!w&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),O||!w)O?A=m.clockwiseSort(A):A=m.hull(A),R.push({position:{x:d,y:v},vertices:A});else{var V=A.map(function(K){return[K.x,K.y]});E.makeCCW(V),y!==!1&&E.removeCollinearPoints(V,y),S!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(V,S);var U=E.quickDecomp(V);for(I=0;I<U.length;I++){var W=U[I],Y=W.map(function(K){return{x:K[0],y:K[1]}});C>0&&m.area(Y)<C||R.push({position:m.centre(Y),vertices:Y})}}for(I=0;I<R.length;I++)R[I]=u.create(c.extend(R[I],p));if(g){var N=5;for(I=0;I<R.length;I++){var z=R[I];for(L=I+1;L<R.length;L++){var G=R[L];if(l.overlaps(z.bounds,G.bounds)){var X=z.vertices,k=G.vertices;for(F=0;F<z.vertices.length;F++)for(B=0;B<G.vertices.length;B++){var H=o.magnitudeSquared(o.sub(X[(F+1)%X.length],k[B])),$=o.magnitudeSquared(o.sub(X[F],k[(B+1)%k.length]));H<N&&$<N&&(X[F].isInternal=!0,k[B].isInternal=!0)}}}}}return R.length>1?(M=u.create(c.extend({parts:R.slice(0)},p)),u.setPosition(M,{x:d,y:v}),M):R[0]},h.flagCoincidentParts=function(d,v){v===void 0&&(v=5);for(var f=0;f<d.length;f++)for(var p=d[f],g=f+1;g<d.length;g++){var y=d[g];if(l.overlaps(p.bounds,y.bounds))for(var C=p.vertices,S=y.vertices,E=0;E<p.vertices.length;E++)for(var w=0;w<y.vertices.length;w++){var M=o.magnitudeSquared(o.sub(C[(E+1)%C.length],S[w])),R=o.magnitudeSquared(o.sub(C[E],S[(w+1)%S.length]));M<v&&R<v&&(C[E].isInternal=!0,S[w].isInternal=!0)}}return d}})()}),74116:((n,T,i)=>{var h={};n.exports=h;var m=i(69351),c=i(48140),u=i(53402),l=i(22562),o=i(66280);(function(){h.stack=function(d,v,f,p,g,y,C){for(var S=m.create({label:"Stack"}),E=d,w=v,M,R=0,O=0;O<p;O++){for(var b=0,A=0;A<f;A++){var I=C(E,w,A,O,M,R);if(I){var L=I.bounds.max.y-I.bounds.min.y,F=I.bounds.max.x-I.bounds.min.x;L>b&&(b=L),l.translate(I,{x:F*.5,y:L*.5}),E=I.bounds.max.x+g,m.addBody(S,I),M=I,R+=1}else E+=g}w+=b+y,E=d}return S},h.chain=function(d,v,f,p,g,y){for(var C=d.bodies,S=1;S<C.length;S++){var E=C[S-1],w=C[S],M=E.bounds.max.y-E.bounds.min.y,R=E.bounds.max.x-E.bounds.min.x,O=w.bounds.max.y-w.bounds.min.y,b=w.bounds.max.x-w.bounds.min.x,A={bodyA:E,pointA:{x:R*v,y:M*f},bodyB:w,pointB:{x:b*p,y:O*g}},I=u.extend(A,y);m.addConstraint(d,c.create(I))}return d.label+=" Chain",d},h.mesh=function(d,v,f,p,g){var y=d.bodies,C,S,E,w,M;for(C=0;C<f;C++){for(S=1;S<v;S++)E=y[S-1+C*v],w=y[S+C*v],m.addConstraint(d,c.create(u.extend({bodyA:E,bodyB:w},g)));if(C>0)for(S=0;S<v;S++)E=y[S+(C-1)*v],w=y[S+C*v],m.addConstraint(d,c.create(u.extend({bodyA:E,bodyB:w},g))),p&&S>0&&(M=y[S-1+(C-1)*v],m.addConstraint(d,c.create(u.extend({bodyA:M,bodyB:w},g)))),p&&S<v-1&&(M=y[S+1+(C-1)*v],m.addConstraint(d,c.create(u.extend({bodyA:M,bodyB:w},g))))}return d.label+=" Mesh",d},h.pyramid=function(d,v,f,p,g,y,C){return h.stack(d,v,f,p,g,y,function(S,E,w,M,R,O){var b=Math.min(p,Math.ceil(f/2)),A=R?R.bounds.max.x-R.bounds.min.x:0;if(!(M>b)){M=b-M;var I=M,L=f-1-M;if(!(w<I||w>L)){O===1&&l.translate(R,{x:(w+(f%2===1?1:-1))*A,y:0});var F=R?w*A:0;return C(d+F+w*g,E,w,M,R,O)}}})},h.newtonsCradle=function(d,v,f,p,g){for(var y=m.create({label:"Newtons Cradle"}),C=0;C<f;C++){var S=1.9,E=o.circle(d+C*(p*S),v+g,p,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),w=c.create({pointA:{x:d+C*(p*S),y:v},bodyB:E});m.addBody(y,E),m.addConstraint(y,w)}return y},h.car=function(d,v,f,p,g){var y=l.nextGroup(!0),C=20,S=-f*.5+C,E=f*.5-C,w=0,M=m.create({label:"Car"}),R=o.rectangle(d,v,f,p,{collisionFilter:{group:y},chamfer:{radius:p*.5},density:2e-4}),O=o.circle(d+S,v+w,g,{collisionFilter:{group:y},friction:.8}),b=o.circle(d+E,v+w,g,{collisionFilter:{group:y},friction:.8}),A=c.create({bodyB:R,pointB:{x:S,y:w},bodyA:O,stiffness:1,length:0}),I=c.create({bodyB:R,pointB:{x:E,y:w},bodyA:b,stiffness:1,length:0});return m.addBody(M,R),m.addBody(M,O),m.addBody(M,b),m.addConstraint(M,A),m.addConstraint(M,I),M},h.softBody=function(d,v,f,p,g,y,C,S,E,w){E=u.extend({inertia:1/0},E),w=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},w);var M=h.stack(d,v,f,p,g,y,function(R,O){return o.circle(R,O,S,E)});return h.mesh(M,f,p,C,w),M.label="Soft Body",M}})()}),66615:((n,T,i)=>{var h={};n.exports=h;var m=i(31725),c=i(53402);(function(){h.fromVertices=function(u){for(var l={},o=0;o<u.length;o++){var d=(o+1)%u.length,v=m.normalise({x:u[d].y-u[o].y,y:u[o].x-u[d].x}),f=v.y===0?1/0:v.x/v.y;f=f.toFixed(3).toString(),l[f]=v}return c.values(l)},h.rotate=function(u,l){if(l!==0)for(var o=Math.cos(l),d=Math.sin(l),v=0;v<u.length;v++){var f=u[v],p;p=f.x*o-f.y*d,f.y=f.x*d+f.y*o,f.x=p}}})()}),15647:(n=>{var T={};n.exports=T,(function(){T.create=function(i){var h={min:{x:0,y:0},max:{x:0,y:0}};return i&&T.update(h,i),h},T.update=function(i,h,m){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var c=0;c<h.length;c++){var u=h[c];u.x>i.max.x&&(i.max.x=u.x),u.x<i.min.x&&(i.min.x=u.x),u.y>i.max.y&&(i.max.y=u.y),u.y<i.min.y&&(i.min.y=u.y)}m&&(m.x>0?i.max.x+=m.x:i.min.x+=m.x,m.y>0?i.max.y+=m.y:i.min.y+=m.y)},T.contains=function(i,h){return h.x>=i.min.x&&h.x<=i.max.x&&h.y>=i.min.y&&h.y<=i.max.y},T.overlaps=function(i,h){return i.min.x<=h.max.x&&i.max.x>=h.min.x&&i.max.y>=h.min.y&&i.min.y<=h.max.y},T.translate=function(i,h){i.min.x+=h.x,i.max.x+=h.x,i.min.y+=h.y,i.max.y+=h.y},T.shift=function(i,h){var m=i.max.x-i.min.x,c=i.max.y-i.min.y;i.min.x=h.x,i.max.x=h.x+m,i.min.y=h.y,i.max.y=h.y+c},T.wrap=function(i,h,m){var c=null,u=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(i.min.x>h.max.x?c=h.min.x-i.max.x:i.max.x<h.min.x&&(c=h.max.x-i.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(i.min.y>h.max.y?u=h.min.y-i.max.y:i.max.y<h.min.y&&(u=h.max.y-i.min.y)),c!==null||u!==null)return{x:c||0,y:u||0}}})()}),74058:((n,T,i)=>{var h={};n.exports=h,i(15647);var m=i(53402);(function(){h.pathToVertices=function(c,u){typeof window<"u"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,o,d,v,f,p,g,y,C,S,E=[],w,M,R=0,O=0,b=0;u=u||15;var A=r(function(L,F,D){var B=D%2===1&&D>1;if(!C||L!=C.x||F!=C.y){C&&B?(w=C.x,M=C.y):(w=0,M=0);var V={x:w+L,y:M+F};(B||!C)&&(C=V),E.push(V),O=w+L,b=M+F}},"addPoint"),I=r(function(L){var F=L.pathSegTypeAsLetter.toUpperCase();if(F!=="Z"){switch(F){case"M":case"L":case"T":case"C":case"S":case"Q":O=L.x,b=L.y;break;case"H":O=L.x;break;case"V":b=L.y;break}A(O,b,L.pathSegType)}},"addSegmentPoint");for(h._svgPathToAbsolute(c),d=c.getTotalLength(),p=[],l=0;l<c.pathSegList.numberOfItems;l+=1)p.push(c.pathSegList.getItem(l));for(g=p.concat();R<d;){if(S=c.getPathSegAtLength(R),f=p[S],f!=y){for(;g.length&&g[0]!=f;)I(g.shift());y=f}switch(f.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=c.getPointAtLength(R),A(v.x,v.y,0);break}R+=u}for(l=0,o=g.length;l<o;++l)I(g[l]);return E},h._svgPathToAbsolute=function(c){for(var u,l,o,d,v,f,p=c.pathSegList,g=0,y=0,C=p.numberOfItems,S=0;S<C;++S){var E=p.getItem(S),w=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(w))"x"in E&&(g=E.x),"y"in E&&(y=E.y);else switch("x1"in E&&(o=g+E.x1),"x2"in E&&(v=g+E.x2),"y1"in E&&(d=y+E.y1),"y2"in E&&(f=y+E.y2),"x"in E&&(g+=E.x),"y"in E&&(y+=E.y),w){case"m":p.replaceItem(c.createSVGPathSegMovetoAbs(g,y),S);break;case"l":p.replaceItem(c.createSVGPathSegLinetoAbs(g,y),S);break;case"h":p.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(g),S);break;case"v":p.replaceItem(c.createSVGPathSegLinetoVerticalAbs(y),S);break;case"c":p.replaceItem(c.createSVGPathSegCurvetoCubicAbs(g,y,o,d,v,f),S);break;case"s":p.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(g,y,v,f),S);break;case"q":p.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(g,y,o,d),S);break;case"t":p.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(g,y),S);break;case"a":p.replaceItem(c.createSVGPathSegArcAbs(g,y,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),S);break;case"z":case"Z":g=u,y=l;break}(w=="M"||w=="m")&&(u=g,l=y)}}})()}),31725:(n=>{var T={};n.exports=T,(function(){T.create=function(i,h){return{x:i||0,y:h||0}},T.clone=function(i){return{x:i.x,y:i.y}},T.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},T.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},T.rotate=function(i,h,m){var c=Math.cos(h),u=Math.sin(h);m||(m={});var l=i.x*c-i.y*u;return m.y=i.x*u+i.y*c,m.x=l,m},T.rotateAbout=function(i,h,m,c){var u=Math.cos(h),l=Math.sin(h);c||(c={});var o=m.x+((i.x-m.x)*u-(i.y-m.y)*l);return c.y=m.y+((i.x-m.x)*l+(i.y-m.y)*u),c.x=o,c},T.normalise=function(i){var h=T.magnitude(i);return h===0?{x:0,y:0}:{x:i.x/h,y:i.y/h}},T.dot=function(i,h){return i.x*h.x+i.y*h.y},T.cross=function(i,h){return i.x*h.y-i.y*h.x},T.cross3=function(i,h,m){return(h.x-i.x)*(m.y-i.y)-(h.y-i.y)*(m.x-i.x)},T.add=function(i,h,m){return m||(m={}),m.x=i.x+h.x,m.y=i.y+h.y,m},T.sub=function(i,h,m){return m||(m={}),m.x=i.x-h.x,m.y=i.y-h.y,m},T.mult=function(i,h){return{x:i.x*h,y:i.y*h}},T.div=function(i,h){return{x:i.x/h,y:i.y/h}},T.perp=function(i,h){return h=h===!0?-1:1,{x:h*-i.y,y:h*i.x}},T.neg=function(i){return{x:-i.x,y:-i.y}},T.angle=function(i,h){return Math.atan2(h.y-i.y,h.x-i.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]})()}),41598:((n,T,i)=>{var h={};n.exports=h;var m=i(31725),c=i(53402);(function(){h.create=function(u,l){for(var o=[],d=0;d<u.length;d++){var v=u[d],f={x:v.x,y:v.y,index:d,body:l,isInternal:!1};o.push(f)}return o},h.fromPath=function(u,l){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return u.replace(o,function(v,f,p){d.push({x:parseFloat(f),y:parseFloat(p)})}),h.create(d,l)},h.centre=function(u){for(var l=h.area(u,!0),o={x:0,y:0},d,v,f,p=0;p<u.length;p++)f=(p+1)%u.length,d=m.cross(u[p],u[f]),v=m.mult(m.add(u[p],u[f]),d),o=m.add(o,v);return m.div(o,6*l)},h.mean=function(u){for(var l={x:0,y:0},o=0;o<u.length;o++)l.x+=u[o].x,l.y+=u[o].y;return m.div(l,u.length)},h.area=function(u,l){for(var o=0,d=u.length-1,v=0;v<u.length;v++)o+=(u[d].x-u[v].x)*(u[d].y+u[v].y),d=v;return l?o/2:Math.abs(o)/2},h.inertia=function(u,l){for(var o=0,d=0,v=u,f,p,g=0;g<v.length;g++)p=(g+1)%v.length,f=Math.abs(m.cross(v[p],v[g])),o+=f*(m.dot(v[p],v[p])+m.dot(v[p],v[g])+m.dot(v[g],v[g])),d+=f;return l/6*(o/d)},h.translate=function(u,l,o){o=typeof o<"u"?o:1;var d=u.length,v=l.x*o,f=l.y*o,p;for(p=0;p<d;p++)u[p].x+=v,u[p].y+=f;return u},h.rotate=function(u,l,o){if(l!==0){var d=Math.cos(l),v=Math.sin(l),f=o.x,p=o.y,g=u.length,y,C,S,E;for(E=0;E<g;E++)y=u[E],C=y.x-f,S=y.y-p,y.x=f+(C*d-S*v),y.y=p+(C*v+S*d);return u}},h.contains=function(u,l){for(var o=l.x,d=l.y,v=u.length,f=u[v-1],p,g=0;g<v;g++){if(p=u[g],(o-f.x)*(p.y-f.y)+(d-f.y)*(f.x-p.x)>0)return!1;f=p}return!0},h.scale=function(u,l,o,d){if(l===1&&o===1)return u;d=d||h.centre(u);for(var v,f,p=0;p<u.length;p++)v=u[p],f=m.sub(v,d),u[p].x=d.x+f.x*l,u[p].y=d.y+f.y*o;return u},h.chamfer=function(u,l,o,d,v){typeof l=="number"?l=[l]:l=l||[8],o=typeof o<"u"?o:-1,d=d||2,v=v||14;for(var f=[],p=0;p<u.length;p++){var g=u[p-1>=0?p-1:u.length-1],y=u[p],C=u[(p+1)%u.length],S=l[p<l.length?p:l.length-1];if(S===0){f.push(y);continue}var E=m.normalise({x:y.y-g.y,y:g.x-y.x}),w=m.normalise({x:C.y-y.y,y:y.x-C.x}),M=Math.sqrt(2*Math.pow(S,2)),R=m.mult(c.clone(E),S),O=m.normalise(m.mult(m.add(E,w),.5)),b=m.sub(y,m.mult(O,M)),A=o;o===-1&&(A=Math.pow(S,.32)*1.75),A=c.clamp(A,d,v),A%2===1&&(A+=1);for(var I=Math.acos(m.dot(E,w)),L=I/A,F=0;F<A;F++)f.push(m.add(m.rotate(R,L*F),b))}return f},h.clockwiseSort=function(u){var l=h.mean(u);return u.sort(function(o,d){return m.angle(l,o)-m.angle(l,d)}),u},h.isConvex=function(u){var l=0,o=u.length,d,v,f,p;if(o<3)return null;for(d=0;d<o;d++)if(v=(d+1)%o,f=(d+2)%o,p=(u[v].x-u[d].x)*(u[f].y-u[v].y),p-=(u[v].y-u[d].y)*(u[f].x-u[v].x),p<0?l|=1:p>0&&(l|=2),l===3)return!1;return l!==0?!0:null},h.hull=function(u){var l=[],o=[],d,v;for(u=u.slice(0),u.sort(function(f,p){var g=f.x-p.x;return g!==0?g:f.y-p.y}),v=0;v<u.length;v+=1){for(d=u[v];o.length>=2&&m.cross3(o[o.length-2],o[o.length-1],d)<=0;)o.pop();o.push(d)}for(v=u.length-1;v>=0;v-=1){for(d=u[v];l.length>=2&&m.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}return l.pop(),o.pop(),l.concat(o)}})()}),55973:(n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:I,quickDecomp:B,isSimple:F,removeCollinearPoints:V,removeDuplicatePoints:U,makeCCW:C};function T(N,z,G){G=G||0;var X=[0,0],k,H,$,K,Z,J,j;return k=N[1][1]-N[0][1],H=N[0][0]-N[1][0],$=k*N[0][0]+H*N[0][1],K=z[1][1]-z[0][1],Z=z[0][0]-z[1][0],J=K*z[0][0]+Z*z[0][1],j=k*Z-K*H,W(j,0,G)||(X[0]=(Z*$-H*J)/j,X[1]=(k*J-K*$)/j),X}r(T,"lineInt");function i(N,z,G,X){var k=z[0]-N[0],H=z[1]-N[1],$=X[0]-G[0],K=X[1]-G[1];if($*H-K*k===0)return!1;var Z=(k*(G[1]-N[1])+H*(N[0]-G[0]))/($*H-K*k),J=($*(N[1]-G[1])+K*(G[0]-N[0]))/(K*k-$*H);return Z>=0&&Z<=1&&J>=0&&J<=1}r(i,"lineSegmentsIntersect");function h(N,z,G){return(z[0]-N[0])*(G[1]-N[1])-(G[0]-N[0])*(z[1]-N[1])}r(h,"triangleArea");function m(N,z,G){return h(N,z,G)>0}r(m,"isLeft");function c(N,z,G){return h(N,z,G)>=0}r(c,"isLeftOn");function u(N,z,G){return h(N,z,G)<0}r(u,"isRight");function l(N,z,G){return h(N,z,G)<=0}r(l,"isRightOn");var o=[],d=[];function v(N,z,G,X){if(X){var k=o,H=d;k[0]=z[0]-N[0],k[1]=z[1]-N[1],H[0]=G[0]-z[0],H[1]=G[1]-z[1];var $=k[0]*H[0]+k[1]*H[1],K=Math.sqrt(k[0]*k[0]+k[1]*k[1]),Z=Math.sqrt(H[0]*H[0]+H[1]*H[1]),J=Math.acos($/(K*Z));return J<X}else return h(N,z,G)===0}r(v,"collinear");function f(N,z){var G=z[0]-N[0],X=z[1]-N[1];return G*G+X*X}r(f,"sqdist");function p(N,z){var G=N.length;return N[z<0?z%G+G:z%G]}r(p,"polygonAt");function g(N){N.length=0}r(g,"polygonClear");function y(N,z,G,X){for(var k=G;k<X;k++)N.push(z[k])}r(y,"polygonAppend");function C(N){for(var z=0,G=N,X=1;X<N.length;++X)(G[X][1]<G[z][1]||G[X][1]===G[z][1]&&G[X][0]>G[z][0])&&(z=X);return m(p(N,z-1),p(N,z),p(N,z+1))?!1:(S(N),!0)}r(C,"polygonMakeCCW");function S(N){for(var z=[],G=N.length,X=0;X!==G;X++)z.push(N.pop());for(var X=0;X!==G;X++)N[X]=z[X]}r(S,"polygonReverse");function E(N,z){return u(p(N,z-1),p(N,z),p(N,z+1))}r(E,"polygonIsReflex");var w=[],M=[];function R(N,z,G){var X,k,H=w,$=M;if(c(p(N,z+1),p(N,z),p(N,G))&&l(p(N,z-1),p(N,z),p(N,G)))return!1;k=f(p(N,z),p(N,G));for(var K=0;K!==N.length;++K)if(!((K+1)%N.length===z||K===z)&&c(p(N,z),p(N,G),p(N,K+1))&&l(p(N,z),p(N,G),p(N,K))&&(H[0]=p(N,z),H[1]=p(N,G),$[0]=p(N,K),$[1]=p(N,K+1),X=T(H,$),f(p(N,z),X)<k))return!1;return!0}r(R,"polygonCanSee");function O(N,z,G){for(var X=0;X!==N.length;++X)if(!(X===z||X===G||(X+1)%N.length===z||(X+1)%N.length===G)&&i(p(N,z),p(N,G),p(N,X),p(N,X+1)))return!1;return!0}r(O,"polygonCanSee2");function b(N,z,G,X){var k=X||[];if(g(k),z<G)for(var H=z;H<=G;H++)k.push(N[H]);else{for(var H=0;H<=G;H++)k.push(N[H]);for(var H=z;H<N.length;H++)k.push(N[H])}return k}r(b,"polygonCopy");function A(N){for(var z=[],G=[],X=[],k=[],H=Number.MAX_VALUE,$=0;$<N.length;++$)if(E(N,$)){for(var K=0;K<N.length;++K)if(R(N,$,K)){G=A(b(N,$,K,k)),X=A(b(N,K,$,k));for(var Z=0;Z<X.length;Z++)G.push(X[Z]);G.length<H&&(z=G,H=G.length,z.push([p(N,$),p(N,K)]))}}return z}r(A,"polygonGetCutEdges");function I(N){var z=A(N);return z.length>0?L(N,z):[N]}r(I,"polygonDecomp");function L(N,z){if(z.length===0)return[N];if(z instanceof Array&&z.length&&z[0]instanceof Array&&z[0].length===2&&z[0][0]instanceof Array){for(var G=[N],X=0;X<z.length;X++)for(var k=z[X],H=0;H<G.length;H++){var $=G[H],K=L($,k);if(K){G.splice(H,1),G.push(K[0],K[1]);break}}return G}else{var k=z,X=N.indexOf(k[0]),H=N.indexOf(k[1]);return X!==-1&&H!==-1?[b(N,X,H),b(N,H,X)]:!1}}r(L,"polygonSlice");function F(N){var z=N,G;for(G=0;G<z.length-1;G++)for(var X=0;X<G-1;X++)if(i(z[G],z[G+1],z[X],z[X+1]))return!1;for(G=1;G<z.length-2;G++)if(i(z[0],z[z.length-1],z[G],z[G+1]))return!1;return!0}r(F,"polygonIsSimple");function D(N,z,G,X,k){k=k||0;var H=z[1]-N[1],$=N[0]-z[0],K=H*N[0]+$*N[1],Z=X[1]-G[1],J=G[0]-X[0],j=Z*G[0]+J*G[1],q=H*J-Z*$;return W(q,0,k)?[0,0]:[(J*K-$*j)/q,(H*j-Z*K)/q]}r(D,"getIntersectionPoint");function B(N,z,G,X,k,H,$){H=H||100,$=$||0,k=k||25,z=typeof z<"u"?z:[],G=G||[],X=X||[];var K=[0,0],Z=[0,0],J=[0,0],j=0,q=0,Q=0,tt=0,st=0,_=0,ot=0,ht=[],lt=[],et=N,nt=N;if(nt.length<3)return z;if($++,$>H)return console.warn("quickDecomp: max level ("+H+") reached."),z;for(var at=0;at<N.length;++at)if(E(et,at)){G.push(et[at]),j=q=Number.MAX_VALUE;for(var ct=0;ct<N.length;++ct)m(p(et,at-1),p(et,at),p(et,ct))&&l(p(et,at-1),p(et,at),p(et,ct-1))&&(J=D(p(et,at-1),p(et,at),p(et,ct),p(et,ct-1)),u(p(et,at+1),p(et,at),J)&&(Q=f(et[at],J),Q<q&&(q=Q,Z=J,_=ct))),m(p(et,at+1),p(et,at),p(et,ct+1))&&l(p(et,at+1),p(et,at),p(et,ct))&&(J=D(p(et,at+1),p(et,at),p(et,ct),p(et,ct+1)),m(p(et,at-1),p(et,at),J)&&(Q=f(et[at],J),Q<j&&(j=Q,K=J,st=ct)));if(_===(st+1)%N.length)J[0]=(Z[0]+K[0])/2,J[1]=(Z[1]+K[1])/2,X.push(J),at<st?(y(ht,et,at,st+1),ht.push(J),lt.push(J),_!==0&&y(lt,et,_,et.length),y(lt,et,0,at+1)):(at!==0&&y(ht,et,at,et.length),y(ht,et,0,st+1),ht.push(J),lt.push(J),y(lt,et,_,at+1));else{if(_>st&&(st+=N.length),tt=Number.MAX_VALUE,st<_)return z;for(var ct=_;ct<=st;++ct)c(p(et,at-1),p(et,at),p(et,ct))&&l(p(et,at+1),p(et,at),p(et,ct))&&(Q=f(p(et,at),p(et,ct)),Q<tt&&O(et,at,ct)&&(tt=Q,ot=ct%N.length));at<ot?(y(ht,et,at,ot+1),ot!==0&&y(lt,et,ot,nt.length),y(lt,et,0,at+1)):(at!==0&&y(ht,et,at,nt.length),y(ht,et,0,ot+1),y(lt,et,ot,at+1))}return ht.length<lt.length?(B(ht,z,G,X,k,H,$),B(lt,z,G,X,k,H,$)):(B(lt,z,G,X,k,H,$),B(ht,z,G,X,k,H,$)),z}return z.push(N),z}r(B,"polygonQuickDecomp");function V(N,z){for(var G=0,X=N.length-1;N.length>3&&X>=0;--X)v(p(N,X-1),p(N,X),p(N,X+1),z)&&(N.splice(X%N.length,1),G++);return G}r(V,"polygonRemoveCollinearPoints");function U(N,z){for(var G=N.length-1;G>=1;--G)for(var X=N[G],k=G-1;k>=0;--k)if(Y(X,N[k],z)){N.splice(G,1);continue}}r(U,"polygonRemoveDuplicatePoints");function W(N,z,G){return G=G||0,Math.abs(N-z)<=G}r(W,"scalar_eq");function Y(N,z,G){return W(N[0],z[0],G)&&W(N[1],z[1],G)}r(Y,"points_eq")}),52018:((n,T,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=i(83419),m=new h({initialize:r(function(u){this.pluginManager=u,this.game=u.game},"BasePlugin"),init:r(function(){},"init"),start:r(function(){},"start"),stop:r(function(){},"stop"),destroy:r(function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null},"destroy")});n.exports=m}),42363:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=T}),37277:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},i={},h={};h.register=function(m,c,u,l){l===void 0&&(l=!1),T[m]={plugin:c,mapping:u,custom:l}},h.registerCustom=function(m,c,u,l){i[m]={plugin:c,mapping:u,data:l}},h.hasCore=function(m){return T.hasOwnProperty(m)},h.hasCustom=function(m){return i.hasOwnProperty(m)},h.getCore=function(m){return T[m]},h.getCustom=function(m){return i[m]},h.getCustomClass=function(m){return i.hasOwnProperty(m)?i[m].plugin:null},h.remove=function(m){T.hasOwnProperty(m)&&delete T[m]},h.removeCustom=function(m){i.hasOwnProperty(m)&&delete i[m]},h.destroyCorePlugins=function(){for(var m in T)T.hasOwnProperty(m)&&delete T[m]},h.destroyCustomPlugins=function(){for(var m in i)i.hasOwnProperty(m)&&delete i[m]},n.exports=h}),77332:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(8443),c=i(50792),u=i(74099),l=i(44603),o=i(39429),d=i(95540),v=i(37277),f=i(72905),p=i(8054),g=new h({Extends:c,initialize:r(function(C){c.call(this),this.game=C,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],C.isBooted||C.config.renderType===p.HEADLESS?this.boot():C.events.once(m.BOOT,this.boot,this)},"PluginManager"),boot:r(function(){var y,C,S,E,w,M,R,O=this.game.config,b=O.installGlobalPlugins;for(b=b.concat(this._pendingGlobal),y=0;y<b.length;y++)C=b[y],S=d(C,"key",null),E=d(C,"plugin",null),w=d(C,"start",!1),M=d(C,"mapping",null),R=d(C,"data",null),S&&(E?this.install(S,E,w,M,R):console.warn("Missing `plugin` for key: "+S));for(b=O.installScenePlugins,b=b.concat(this._pendingScene),y=0;y<b.length;y++)C=b[y],S=d(C,"key",null),E=d(C,"plugin",null),M=d(C,"mapping",null),S&&(E?this.installScenePlugin(S,E,M):console.warn("Missing `plugin` for key: "+S));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},"boot"),addToScene:r(function(y,C,S){var E,w,M,R=this.game,O=y.scene,b=y.settings.map,A=y.settings.isBooted;for(E=0;E<C.length;E++)w=C[E],R[w]?(y[w]=R[w],b.hasOwnProperty(w)&&(O[b[w]]=y[w])):w==="game"&&b.hasOwnProperty(w)&&(O[b[w]]=R);for(var I=0;I<S.length;I++)for(M=S[I],E=0;E<M.length;E++)if(w=M[E],!!v.hasCore(w)){var L=v.getCore(w),F=L.mapping,D=new L.plugin(O,this,F);y[F]=D,L.custom?O[F]=D:b.hasOwnProperty(F)&&(O[b[F]]=D),A&&D.boot()}for(M=this.plugins,E=0;E<M.length;E++){var B=M[E];B.mapping&&(O[B.mapping]=B.plugin)}},"addToScene"),getDefaultScenePlugins:r(function(){var y=this.game.config.defaultPlugins;return y=y.concat(this.scenePlugins),y},"getDefaultScenePlugins"),installScenePlugin:r(function(y,C,S,E,w){if(w===void 0&&(w=!1),typeof C!="function"){console.warn("Invalid Scene Plugin: "+y);return}if(v.hasCore(y)||v.register(y,C,S,!0),this.scenePlugins.indexOf(y)===-1)this.scenePlugins.push(y);else if(!w&&v.hasCore(y)){console.warn("Scene Plugin key in use: "+y);return}if(E){var M=new C(E,this,y);E.sys[y]=M,S&&S!==""&&(E[S]=M),M.boot()}},"installScenePlugin"),install:r(function(y,C,S,E,w){if(S===void 0&&(S=!1),E===void 0&&(E=null),w===void 0&&(w=null),typeof C!="function")return console.warn("Invalid Plugin: "+y),null;if(v.hasCustom(y))return console.warn("Plugin key in use: "+y),null;if(E!==null&&(S=!0),!this.game.isBooted)this._pendingGlobal.push({key:y,plugin:C,start:S,mapping:E,data:w});else if(v.registerCustom(y,C,E,w),S)return this.start(y);return null},"install"),getIndex:r(function(y){for(var C=this.plugins,S=0;S<C.length;S++){var E=C[S];if(E.key===y)return S}return-1},"getIndex"),getEntry:r(function(y){var C=this.getIndex(y);if(C!==-1)return this.plugins[C]},"getEntry"),isActive:r(function(y){var C=this.getEntry(y);return C&&C.active},"isActive"),start:r(function(y,C){C===void 0&&(C=y);var S=this.getEntry(C);return S&&!S.active?(S.active=!0,S.plugin.start()):S||(S=this.createEntry(y,C)),S?S.plugin:null},"start"),createEntry:r(function(y,C){var S=v.getCustom(y);if(S){var E=new S.plugin(this);S={key:C,plugin:E,active:!0,mapping:S.mapping,data:S.data},this.plugins.push(S),E.init(S.data),E.start()}return S},"createEntry"),stop:r(function(y){var C=this.getEntry(y);return C&&C.active&&(C.active=!1,C.plugin.stop()),this},"stop"),get:r(function(y,C){C===void 0&&(C=!0);var S=this.getEntry(y);if(S)return S.plugin;var E=this.getClass(y);return E&&C?(S=this.createEntry(y,y),S?S.plugin:null):E||null},"get"),getClass:r(function(y){return v.getCustomClass(y)},"getClass"),removeGlobalPlugin:r(function(y){var C=this.getEntry(y);C&&f(this.plugins,C),v.removeCustom(y)},"removeGlobalPlugin"),removeScenePlugin:r(function(y){f(this.scenePlugins,y),v.remove(y)},"removeScenePlugin"),registerGameObject:r(function(y,C,S){return C&&o.register(y,C),S&&l.register(y,S),this},"registerGameObject"),removeGameObject:r(function(y,C,S){return C===void 0&&(C=!0),S===void 0&&(S=!0),C&&o.remove(y),S&&l.remove(y),this},"removeGameObject"),registerFileType:r(function(y,C,S){u.register(y,C),S&&S.sys.load&&(S.sys.load[y]=C)},"registerFileType"),destroy:r(function(){for(var y=0;y<this.plugins.length;y++)this.plugins[y].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]},"destroy")});n.exports=g}),45145:((n,T,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=i(52018),m=i(83419),c=i(44594),u=new m({Extends:h,initialize:r(function(o,d,v){h.call(this,d),this.scene=o,this.systems=o.sys,this.pluginKey=v,o.sys.events.once(c.BOOT,this.boot,this)},"ScenePlugin"),boot:r(function(){},"boot"),destroy:r(function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null},"destroy")});n.exports=u}),18922:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}}),63595:(()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const T=performance.now(),i=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,m=r((c,u)=>{const l=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(o>h){const d=this.mozFrameDelay||l.totalFrameDelay-i.totalFrameDelay||0,v=u-c;n(u,{presentationTime:u+d*1e3,expectedDisplayTime:u+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:o,processingDuration:d}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(d=>m(u,d))},"check");return this._rvfcpolyfillmap[T]=requestAnimationFrame(c=>m(T,c)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})}),10312:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}}),29795:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=T}),68627:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19715),m=i(32880),c=i(83419),u=i(8054),l=i(50792),o=i(92503),d=i(56373),v=i(97480),f=i(69442),p=i(8443),g=i(61340),y=new c({Extends:l,initialize:r(function(S){l.call(this);var E=S.config;this.config={clearBeforeRender:E.clearBeforeRender,backgroundColor:E.backgroundColor,antialias:E.antialias,roundPixels:E.roundPixels,transparent:E.transparent},this.game=S,this.type=u.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=S.canvas;var w={alpha:E.transparent,desynchronized:E.desynchronized,willReadFrequently:!1};this.gameContext=E.context?E.context:this.gameCanvas.getContext("2d",w),this.currentContext=this.gameContext,this.antialias=E.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new g,this._tempMatrix2=new g,this._tempMatrix3=new g,this.isBooted=!1,this.init()},"CanvasRenderer"),init:r(function(){var C=this.game;C.events.once(p.BOOT,function(){var S=this.config;if(!S.transparent){var E=this.gameContext,w=this.gameCanvas;E.fillStyle=S.backgroundColor.rgba,E.fillRect(0,0,w.width,w.height)}},this),C.textures.once(f.READY,this.boot,this)},"init"),boot:r(function(){var C=this.game,S=C.scale.baseSize;this.width=S.width,this.height=S.height,this.isBooted=!0,C.scale.on(v.RESIZE,this.onResize,this),this.resize(S.width,S.height)},"boot"),onResize:r(function(C,S){(S.width!==this.width||S.height!==this.height)&&this.resize(S.width,S.height)},"onResize"),resize:r(function(C,S){this.width=C,this.height=S,this.emit(o.RESIZE,C,S)},"resize"),resetTransform:r(function(){this.currentContext.setTransform(1,0,0,1,0,0)},"resetTransform"),setBlendMode:r(function(C){return this.currentContext.globalCompositeOperation=C,this},"setBlendMode"),setContext:r(function(C){return this.currentContext=C||this.gameContext,this},"setContext"),setAlpha:r(function(C){return this.currentContext.globalAlpha=C,this},"setAlpha"),preRender:r(function(){var C=this.gameContext,S=this.config,E=this.width,w=this.height;C.globalAlpha=1,C.globalCompositeOperation="source-over",C.setTransform(1,0,0,1,0,0),this.emit(o.PRE_RENDER_CLEAR),S.clearBeforeRender&&(C.clearRect(0,0,E,w),S.transparent||(C.fillStyle=S.backgroundColor.rgba,C.fillRect(0,0,E,w))),C.save(),this.drawCount=0,this.emit(o.PRE_RENDER)},"preRender"),render:r(function(C,S,E){var w=S.length;this.emit(o.RENDER,C,E);var M=E.x,R=E.y,O=E.width,b=E.height,A=E.renderToTexture?E.context:C.sys.context;A.save(),this.game.scene.customViewports&&(A.beginPath(),A.rect(M,R,O,b),A.clip()),E.emit(h.PRE_RENDER,E),this.currentContext=A;var I=E.mask;I&&I.preRenderCanvas(this,null,E._maskCamera),E.transparent||(A.fillStyle=E.backgroundColor.rgba,A.fillRect(M,R,O,b)),A.globalAlpha=E.alpha,A.globalCompositeOperation="source-over",this.drawCount+=w,E.renderToTexture&&E.emit(h.PRE_RENDER,E),E.matrix.copyToContext(A);for(var L=0;L<w;L++){var F=S[L];F.mask&&F.mask.preRenderCanvas(this,F,E),F.renderCanvas(this,F,E),F.mask&&F.mask.postRenderCanvas(this,F,E)}A.setTransform(1,0,0,1,0,0),A.globalCompositeOperation="source-over",A.globalAlpha=1,E.flashEffect.postRenderCanvas(A),E.fadeEffect.postRenderCanvas(A),E.dirty=!1,I&&I.postRenderCanvas(this),A.restore(),E.renderToTexture&&(E.emit(h.POST_RENDER,E),E.renderToGame&&C.sys.context.drawImage(E.canvas,M,R)),E.emit(h.POST_RENDER,E)},"render"),postRender:r(function(){var C=this.gameContext;C.restore(),this.emit(o.POST_RENDER);var S=this.snapshotState;S.callback&&(m(this.gameCanvas,S),S.callback=null)},"postRender"),snapshotCanvas:r(function(C,S,E,w,M,R,O,b,A){E===void 0&&(E=!1),this.snapshotArea(w,M,R,O,S,b,A);var I=this.snapshotState;return I.getPixel=E,m(C,I),I.callback=null,this},"snapshotCanvas"),snapshot:r(function(C,S,E){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,C,S,E)},"snapshot"),snapshotArea:r(function(C,S,E,w,M,R,O){var b=this.snapshotState;return b.callback=M,b.type=R,b.encoder=O,b.getPixel=!1,b.x=C,b.y=S,b.width=Math.min(E,this.gameCanvas.width),b.height=Math.min(w,this.gameCanvas.height),this},"snapshotArea"),snapshotPixel:r(function(C,S,E){return this.snapshotArea(C,S,1,1,E),this.snapshotState.getPixel=!0,this},"snapshotPixel"),batchSprite:r(function(C,S,E,w){var M=E.alpha*C.alpha;if(M!==0){var R=this.currentContext,O=this._tempMatrix1,b=this._tempMatrix2,A=S.canvasData,I=A.x,L=A.y,F=S.cutWidth,D=S.cutHeight,B=S.customPivot,V=S.source.resolution,U=C.displayOriginX,W=C.displayOriginY,Y=-U+S.x,N=-W+S.y;if(C.isCropped){var z=C._crop;(z.flipX!==C.flipX||z.flipY!==C.flipY)&&S.updateCropUVs(z,C.flipX,C.flipY),F=z.cw,D=z.ch,I=z.cx,L=z.cy,Y=-U+z.x,N=-W+z.y,C.flipX&&(Y>=0?Y=-(Y+F):Y<0&&(Y=Math.abs(Y)-F)),C.flipY&&(N>=0?N=-(N+D):N<0&&(N=Math.abs(N)-D))}var G=1,X=1;C.flipX&&(B||(Y+=-S.realWidth+U*2),G=-1),C.flipY&&(B||(N+=-S.realHeight+W*2),X=-1);var k=C.x,H=C.y;if(E.roundPixels&&(k=Math.floor(k),H=Math.floor(H)),b.applyITRS(k,H,C.rotation,C.scaleX*G,C.scaleY*X),O.copyFrom(E.matrix),w?(O.multiplyWithOffset(w,-E.scrollX*C.scrollFactorX,-E.scrollY*C.scrollFactorY),b.e=k,b.f=H):(b.e-=E.scrollX*C.scrollFactorX,b.f-=E.scrollY*C.scrollFactorY),O.multiply(b),E.renderRoundPixels&&(O.e=Math.floor(O.e+.5),O.f=Math.floor(O.f+.5)),R.save(),O.setToContext(R),R.globalCompositeOperation=this.blendModes[C.blendMode],R.globalAlpha=M,R.imageSmoothingEnabled=!S.source.scaleMode,C.mask&&C.mask.preRenderCanvas(this,C,E),F>0&&D>0){var $=F/V,K=D/V;E.roundPixels&&(Y=Math.floor(Y+.5),N=Math.floor(N+.5),$+=.5,K+=.5),R.drawImage(S.source.image,I,L,F,D,Y,N,$,K)}C.mask&&C.mask.postRenderCanvas(this,C,E),R.restore()}},"batchSprite"),destroy:r(function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null},"destroy")});n.exports=y}),55830:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}}),56373:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),m=i(89289),c=r(function(){var u=[],l=m.supportNewBlendModes,o="source-over";return u[h.NORMAL]=o,u[h.ADD]="lighter",u[h.MULTIPLY]=l?"multiply":o,u[h.SCREEN]=l?"screen":o,u[h.OVERLAY]=l?"overlay":o,u[h.DARKEN]=l?"darken":o,u[h.LIGHTEN]=l?"lighten":o,u[h.COLOR_DODGE]=l?"color-dodge":o,u[h.COLOR_BURN]=l?"color-burn":o,u[h.HARD_LIGHT]=l?"hard-light":o,u[h.SOFT_LIGHT]=l?"soft-light":o,u[h.DIFFERENCE]=l?"difference":o,u[h.EXCLUSION]=l?"exclusion":o,u[h.HUE]=l?"hue":o,u[h.SATURATION]=l?"saturation":o,u[h.COLOR]=l?"color":o,u[h.LUMINOSITY]=l?"luminosity":o,u[h.ERASE]="destination-out",u[h.SOURCE_IN]="source-in",u[h.SOURCE_OUT]="source-out",u[h.SOURCE_ATOP]="source-atop",u[h.DESTINATION_OVER]="destination-over",u[h.DESTINATION_IN]="destination-in",u[h.DESTINATION_OUT]="destination-out",u[h.DESTINATION_ATOP]="destination-atop",u[h.LIGHTER]="lighter",u[h.COPY]="copy",u[h.XOR]="xor",u},"GetBlendModes");n.exports=c}),20926:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),m=r(function(c,u,l,o,d){var v=o.alpha*l.alpha;if(v<=0)return!1;var f=h(l,o,d).calc;return u.globalCompositeOperation=c.blendModes[l.blendMode],u.globalAlpha=v,u.save(),f.setToContext(u),u.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:c.antialias,!0},"SetTransform");n.exports=m}),63899:(n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"}),6119:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"}),48070:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"}),15640:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"}),8912:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"}),87124:(n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"}),92503:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}}),36909:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:i(92503),Snapshot:i(89966)},n.exports.Canvas=i(55830),n.exports.WebGL=i(4159)}),32880:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),m=i(40987),c=i(95540),u=r(function(l,o){var d=c(o,"callback"),v=c(o,"type","image/png"),f=c(o,"encoder",.92),p=Math.abs(Math.round(c(o,"x",0))),g=Math.abs(Math.round(c(o,"y",0))),y=Math.floor(c(o,"width",l.width)),C=Math.floor(c(o,"height",l.height)),S=c(o,"getPixel",!1);if(S){var E=l.getContext("2d",{willReadFrequently:!1}),w=E.getImageData(p,g,1,1),M=w.data;d.call(null,new m(M[0],M[1],M[2],M[3]))}else if(p!==0||g!==0||y!==l.width||C!==l.height){var R=h.createWebGL(this,y,C),O=R.getContext("2d",{willReadFrequently:!0});y>0&&C>0&&O.drawImage(l,p,g,y,C,0,0,y,C);var b=new Image;b.onerror=function(){d.call(null),h.remove(R)},b.onload=function(){d.call(null,b),h.remove(R)},b.src=R.toDataURL(v,f)}else{var A=new Image;A.onerror=function(){d.call(null)},A.onload=function(){d.call(null,A)},A.src=l.toDataURL(v,f)}},"CanvasSnapshot");n.exports=u}),88815:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),m=i(40987),c=i(95540),u=r(function(l,o){var d=l,v=c(o,"callback"),f=c(o,"type","image/png"),p=c(o,"encoder",.92),g=Math.abs(Math.round(c(o,"x",0))),y=Math.abs(Math.round(c(o,"y",0))),C=c(o,"getPixel",!1),S=c(o,"isFramebuffer",!1),E=S?c(o,"bufferWidth",1):d.drawingBufferWidth,w=S?c(o,"bufferHeight",1):d.drawingBufferHeight;if(C){var M=new Uint8Array(4),R=S?y:w-y;d.readPixels(g,R,1,1,d.RGBA,d.UNSIGNED_BYTE,M),v.call(null,new m(M[0],M[1],M[2],M[3]))}else{var O=Math.floor(c(o,"width",E)),b=Math.floor(c(o,"height",w)),A=O*b*4,I=new Uint8Array(A);d.readPixels(g,w-y-b,O,b,d.RGBA,d.UNSIGNED_BYTE,I);for(var L=h.createWebGL(this,O,b),F=L.getContext("2d",{willReadFrequently:!0}),D=F.getImageData(0,0,O,b),B=D.data,V=0;V<b;V++)for(var U=0;U<O;U++){var W=((b-V-1)*O+U)*4,Y=S?A-(V*O+(O-U))*4:(V*O+U)*4;B[Y+0]=I[W+0],B[Y+1]=I[W+1],B[Y+2]=I[W+2],B[Y+3]=I[W+3]}F.putImageData(D,0,0);var N=new Image;N.onerror=function(){v.call(null),h.remove(L)},N.onload=function(){v.call(null,N),h.remove(L)},N.src=L.toDataURL(f,p)}},"WebGLSnapshot");n.exports=u}),89966:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:i(32880),WebGL:i(88815)}}),7530:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(36060),c=i(90330),u=i(82264),l=i(95540),o=i(32302),d=i(63448),v=i(31302),f=i(58918),p=i(14811),g=i(92651),y=i(96569),C=i(56527),S=i(57516),E=i(43439),w=i(81041),M=i(12385),R=i(7589),O=i(95428),b=i(72905),A=new h({initialize:r(function(L){this.game=L.game,this.renderer=L,this.classes=new c([[m.UTILITY_PIPELINE,R],[m.MULTI_PIPELINE,S],[m.BITMAPMASK_PIPELINE,v],[m.SINGLE_PIPELINE,M],[m.ROPE_PIPELINE,w],[m.LIGHT_PIPELINE,y],[m.POINTLIGHT_PIPELINE,E],[m.MOBILE_PIPELINE,C]]),this.postPipelineClasses=new c,this.pipelines=new c,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},"PipelineManager"),boot:r(function(I,L,F){var D=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(l(I,"frameInc",32));var V=D.width,U=D.height,W=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(p.BARREL),f.Barrel],[String(p.BLOOM),f.Bloom],[String(p.BLUR),f.Blur],[String(p.BOKEH),f.Bokeh],[String(p.CIRCLE),f.Circle],[String(p.COLOR_MATRIX),f.ColorMatrix],[String(p.DISPLACEMENT),f.Displacement],[String(p.GLOW),f.Glow],[String(p.GRADIENT),f.Gradient],[String(p.PIXELATE),f.Pixelate],[String(p.SHADOW),f.Shadow],[String(p.SHINE),f.Shine],[String(p.VIGNETTE),f.Vignette],[String(p.WIPE),f.Wipe]]),!W){this.classes.set(m.FX_PIPELINE,g);for(var N=Math.min(V,U),z=Math.ceil(N/this.frameInc),G=1;G<z;G++){var X=G*this.frameInc;B.push(new o(D,X,X)),B.push(new o(D,X,X)),B.push(new o(D,X,X)),this.maxDimension=X}B.push(new o(D,V,U,1,0,!0,!0)),B.push(new o(D,V,U,1,0,!0,!0)),B.push(new o(D,V,U,1,0,!0,!0))}var k,H,$=this,K=this.game;if(this.classes.each(function(J,j){k=$.add(J,new j({game:K})),J===m.UTILITY_PIPELINE&&($.UTILITY_PIPELINE=k,$.fullFrame1=k.fullFrame1,$.fullFrame2=k.fullFrame2,$.halfFrame1=k.halfFrame1,$.halfFrame2=k.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE),W||(this.FX_PIPELINE=this.get(m.FX_PIPELINE)),I)for(H in I){var Z=I[H];k=new Z(K),k.name=H,k.isPostFX?this.postPipelineClasses.set(H,Z):this.has(H)||(this.classes.set(H,Z),this.add(H,k))}this.default=this.get(L),F&&!u.os.desktop&&(this.default=this.MOBILE_PIPELINE)},"boot"),setDefaultPipeline:r(function(I){var L=this.get(I);return L&&(this.default=L),L},"setDefaultPipeline"),add:r(function(I,L){if(L.isPostFX){console.warn(I+" is a Post Pipeline. Use `addPostPipeline` instead");return}var F=this.pipelines,D=this.renderer;return F.has(I)?console.warn("Pipeline exists: "+I):(L.name=I,L.manager=this,F.set(I,L)),L.hasBooted||L.boot(),D.width!==0&&D.height!==0&&!L.isPreFX&&L.resize(D.width,D.height),L},"add"),addPostPipeline:r(function(I,L){this.postPipelineClasses.has(I)||this.postPipelineClasses.set(I,L)},"addPostPipeline"),flush:r(function(){this.current&&this.current.flush()},"flush"),has:r(function(I){var L=this.pipelines;return typeof I=="string"?L.has(I):!!L.contains(I)},"has"),get:r(function(I){var L=this.pipelines;if(typeof I=="string")return L.get(I);if(L.contains(I))return I},"get"),getPostPipeline:r(function(I,L,F){var D=this.postPipelineClasses,B,V="",U=typeof I;if(U==="string"||U==="number"?(B=D.get(I),V=I):U==="function"?(D.contains(I)&&(B=I),V=I.name):U==="object"&&(B=D.get(I.name),V=I.name),B){var W=new B(this.game,F);return W.name=V,L&&(W.gameObject=L),this.postPipelineInstances.push(W),W}},"getPostPipeline"),removePostPipeline:r(function(I){b(this.postPipelineInstances,I)},"removePostPipeline"),remove:r(function(I,L,F){L===void 0&&(L=!0),F===void 0&&(F=!0),this.pipelines.delete(I),L&&this.classes.delete(I),F&&this.postPipelineClasses.delete(I)},"remove"),set:r(function(I,L,F){if(!I.isPostFX)return this.isCurrent(I,F)||(this.flush(),this.current&&this.current.unbind(),this.current=I,I.bind(F)),I.updateProjectionMatrix(),I.onBind(L),I},"set"),preBatch:r(function(I){if(I.hasPostPipeline){this.flush();for(var L=I.postPipelines,F=L.length-1;F>=0;F--){var D=L[F];D.active&&D.preBatch(I)}}},"preBatch"),postBatch:r(function(I){if(I.hasPostPipeline){this.flush();for(var L=I.postPipelines,F=0;F<L.length;F++){var D=L[F];D.active&&D.postBatch(I)}}},"postBatch"),preBatchCamera:r(function(I){if(I.hasPostPipeline){this.flush();for(var L=I.postPipelines,F=L.length-1;F>=0;F--){var D=L[F];D.active&&D.preBatch(I)}}},"preBatchCamera"),postBatchCamera:r(function(I){if(I.hasPostPipeline){this.flush();for(var L=I.postPipelines,F=0;F<L.length;F++){var D=L[F];D.active&&D.postBatch(I)}}},"postBatchCamera"),isCurrent:r(function(I,L){var F=this.renderer,D=this.current;return D&&!L&&(L=D.currentShader),!(D!==I||L.program!==F.currentProgram)},"isCurrent"),copyFrame:r(function(I,L,F,D,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(I,L,F,D,B),this},"copyFrame"),copyToGame:r(function(I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(I),this},"copyToGame"),drawFrame:r(function(I,L,F,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(I,L,F,D),this},"drawFrame"),blendFrames:r(function(I,L,F,D,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(I,L,F,D,B),this},"blendFrames"),blendFramesAdditive:r(function(I,L,F,D,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(I,L,F,D,B),this},"blendFramesAdditive"),clearFrame:r(function(I,L){return this.UTILITY_PIPELINE.clearFrame(I,L),this},"clearFrame"),blitFrame:r(function(I,L,F,D,B,V){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(I,L,F,D,B,V),this},"blitFrame"),copyFrameRect:r(function(I,L,F,D,B,V,U,W){return this.UTILITY_PIPELINE.copyFrameRect(I,L,F,D,B,V,U,W),this},"copyFrameRect"),forceZero:r(function(){return this.current&&this.current.forceZero},"forceZero"),setMulti:r(function(){return this.set(this.MULTI_PIPELINE)},"setMulti"),setUtility:r(function(I){return this.UTILITY_PIPELINE.bind(I)},"setUtility"),setFX:r(function(){return this.set(this.FX_PIPELINE)},"setFX"),restoreContext:r(function(){this.rebind(),this.pipelines.each(function(I,L){L.restoreContext()}),O(this.postPipelineInstances,function(I){I.restoreContext()})},"restoreContext"),rebind:r(function(I){I===void 0&&this.previous&&(I=this.previous);var L=this.renderer,F=L.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),L.hasActiveStencilMask()?F.clear(F.DEPTH_BUFFER_BIT):(F.disable(F.STENCIL_TEST),F.clear(F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)),F.viewport(0,0,L.width,L.height),L.currentProgram=null,L.setBlendMode(0,!0);var D=L.vaoExtension;D&&D.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var V in B)B[V].glReset=!0;I&&(this.current=I,I.rebind())},"rebind"),clear:r(function(){var I=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,I.currentProgram=null,I.setBlendMode(0,!0);var L=I.vaoExtension;L&&L.bindVertexArrayOES(null)},"clear"),getRenderTarget:r(function(I){var L=this.renderTargets,F=3;if(I>this.maxDimension)return this.targetIndex=L.length-F,L[this.targetIndex];var D=(d(I,this.frameInc,0,!0)-1)*F;return this.targetIndex=D,L[D]},"getRenderTarget"),getSwapRenderTarget:r(function(){return this.renderTargets[this.targetIndex+1]},"getSwapRenderTarget"),getAltSwapRenderTarget:r(function(){return this.renderTargets[this.targetIndex+2]},"getAltSwapRenderTarget"),destroy:r(function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null},"destroy")});n.exports=A}),32302:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(92503),c=new h({initialize:r(function(l,o,d,v,f,p,g,y,C){v===void 0&&(v=1),f===void 0&&(f=0),p===void 0&&(p=!0),g===void 0&&(g=!1),y===void 0&&(y=!0),C===void 0&&(C=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=f,this.autoClear=p,this.autoResize=!0,this.hasDepthBuffer=y,this.forceClamp=C,this.init(o,d),g?this.renderer.on(m.RESIZE,this.resize,this):this.autoResize=!1},"RenderTarget"),init:r(function(u,l){var o=this.renderer;this.texture=o.createTextureFromSource(null,u,l,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(u,l,this.texture,this.hasDepthBuffer),this.width=u,this.height=l},"init"),setAutoResize:r(function(u){return u&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!u&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},"setAutoResize"),resize:r(function(u,l){if(this.autoResize&&this.willResize(u,l)){var o=this.renderer;o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),this.texture=o.createTextureFromSource(null,u,l,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(u,l,this.texture,this.hasDepthBuffer),this.width=u,this.height=l}return this},"resize"),willResize:r(function(u,l){return typeof u!="number"||typeof l!="number"?!1:(u=Math.round(u*this.scale),l=Math.round(l*this.scale),u=Math.max(u,1),l=Math.max(l,1),u!==this.width||l!==this.height)},"willResize"),bind:r(function(u,l,o){u===void 0&&(u=!1);var d=this.renderer;if(u&&d.flush(),l&&o&&this.resize(l,o),d.pushFramebuffer(this.framebuffer,!1,!1),u&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}d.clearStencilMask()},"bind"),adjustViewport:r(function(){var u=this.renderer.gl;u.viewport(0,0,this.width,this.height),u.disable(u.SCISSOR_TEST)},"adjustViewport"),clear:r(function(u,l,o,d){var v=this.renderer,f=v.gl;v.pushFramebuffer(this.framebuffer),u!==void 0&&l!==void 0&&o!==void 0&&d!==void 0?(f.enable(f.SCISSOR_TEST),f.scissor(u,l,o,d)):f.disable(f.SCISSOR_TEST),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),v.popFramebuffer(),v.resetScissor()},"clear"),unbind:r(function(u){u===void 0&&(u=!1);var l=this.renderer;return u&&l.flush(),l.popFramebuffer()},"unbind"),destroy:r(function(){var u=this.renderer;u.off(m.RESIZE,this.resize,this),u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null},"destroy")});n.exports=c}),70554:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:r(function(T,i,h,m){var c=(T*255|0)&255,u=(i*255|0)&255,l=(h*255|0)&255,o=(m*255|0)&255;return(o<<24|c<<16|u<<8|l)>>>0},"getTintFromFloats"),getTintAppendFloatAlpha:r(function(T,i){var h=(i*255|0)&255;return(h<<24|T)>>>0},"getTintAppendFloatAlpha"),getTintAppendFloatAlphaAndSwap:r(function(T,i){var h=(T>>16|0)&255,m=(T>>8|0)&255,c=(T|0)&255,u=(i*255|0)&255;return(u<<24|c<<16|m<<8|h)>>>0},"getTintAppendFloatAlphaAndSwap"),getFloatsFromUintRGB:r(function(T){var i=(T>>16|0)&255,h=(T>>8|0)&255,m=(T|0)&255;return[i/255,h/255,m/255]},"getFloatsFromUintRGB"),checkShaderMax:r(function(T,i){var h=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!i||i===-1?h:Math.min(h,i)},"checkShaderMax"),parseFragmentShaderMaxTextures:r(function(T,i){if(!T)return"";for(var h="",m=0;m<i;m++)m>0&&(h+=`
	else `),m<i-1&&(h+="if (outTexId < "+m+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+m+"], outTexCoord);",h+=`
	}`;return T=T.replace(/%count%/gi,i.toString()),T.replace(/%forloop%/gi,h)},"parseFragmentShaderMaxTextures"),setGlowQuality:r(function(T,i,h,m){return h===void 0&&(h=i.config.glowFXQuality),m===void 0&&(m=i.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/h/m).toFixed(7)),T=T.replace(/__DIST__/gi,m.toFixed(0)+".0"),T},"setGlowQuality")}}),29100:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(62644),c=i(50792),u=i(77085),l=i(95540),o=i(37867),d=i(92503),v=i(32302),f=i(70554),p=i(38683),g=new h({Extends:c,initialize:r(function(C){c.call(this);var S=C.game,E=S.renderer,w=E.gl;this.name=l(C,"name","WebGLPipeline"),this.game=S,this.renderer=E,this.manager,this.gl=w,this.view=S.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(C,"topology",w.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(C,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=C,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(C,"resizeUniform","")},"WebGLPipeline"),boot:r(function(){var y,C=this.gl,S=this.config,E=this.renderer;this.isPostFX||(this.projectionMatrix=new o().identity());var w=this.renderTargets,M=l(S,"renderTarget",!1);typeof M=="boolean"&&M&&(M=1);var R=E.width,O=E.height;if(typeof M=="number")for(y=0;y<M;y++)w.push(new v(E,R,O,1,0,!0));else if(Array.isArray(M))for(y=0;y<M.length;y++){var b=l(M[y],"scale",1),A=l(M[y],"minFilter",0),I=l(M[y],"autoClear",1),L=l(M[y],"autoResize",!1),F=l(M[y],"width",null),D=l(M[y],"height",F);F?w.push(new v(E,F,D,1,A,I,L)):w.push(new v(E,R,O,b,A,I,L))}w.length&&(this.currentRenderTarget=w[0]),this.setShadersFromConfig(S);var B=this.shaders,V=0;for(y=0;y<B.length;y++)B[y].vertexSize>V&&(V=B[y].vertexSize);var U=l(S,"batchSize",E.config.batchSize);this.vertexCapacity=U*6;var W=new ArrayBuffer(this.vertexCapacity*V);this.vertexData=W,this.bytes=new Uint8Array(W),this.vertexViewF32=new Float32Array(W),this.vertexViewU32=new Uint32Array(W);var Y=l(S,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=E.createVertexBuffer(W,C.STATIC_DRAW)):this.vertexBuffer=E.createVertexBuffer(W.byteLength,C.DYNAMIC_DRAW),this.setVertexBuffer(),y=B.length-1;y>=0;y--)B[y].rebind();this.hasBooted=!0,E.on(d.RESIZE,this.resize,this),E.on(d.PRE_RENDER,this.onPreRender,this),E.on(d.RENDER,this.onRender,this),E.on(d.POST_RENDER,this.onPostRender,this),this.emit(u.BOOT,this),this.onBoot()},"boot"),onBoot:r(function(){},"onBoot"),onResize:r(function(){},"onResize"),setShader:r(function(y,C,S){var E=this.renderer;if(y!==this.currentShader||E.currentProgram!==this.currentShader.program){this.flush();var w=this.setVertexBuffer(S);w&&!C&&(C=!0),y.bind(C,!1),this.currentShader=y}return this},"setShader"),getShaderByName:r(function(y){for(var C=this.shaders,S=0;S<C.length;S++)if(C[S].name===y)return C[S]},"getShaderByName"),setShadersFromConfig:r(function(y){var C,S=this.shaders,E=this.renderer;for(C=0;C<S.length;C++)S[C].destroy();var w="vertShader",M="fragShader",R="attributes",O=l(y,w,null),b=f.parseFragmentShaderMaxTextures(l(y,M,null),E.maxTextures),A=l(y,R,null),I=l(y,"shaders",[]),L=I.length;if(L===0)O&&b&&(this.shaders=[new p(this,"default",O,b,m(A))]);else{var F=[];for(C=0;C<L;C++){var D=I[C],B,V,U,W;if(typeof D=="string"?(B="default",V=O,U=f.parseFragmentShaderMaxTextures(D,E.maxTextures),W=A):(B=l(D,"name","default"),V=l(D,w,O),U=f.parseFragmentShaderMaxTextures(l(D,M,b),E.maxTextures),W=l(D,R,A)),B==="default"){var Y=U.split(`
`),N=Y[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(B=N.substring(20))}V&&U&&F.push(new p(this,B,V,U,m(W)))}this.shaders=F}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},"setShadersFromConfig"),createBatch:r(function(y){return this.currentBatch={start:this.vertexCount,count:0,texture:[y],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=y,this.batch.push(this.currentBatch),0},"createBatch"),addTextureToBatch:r(function(y){var C=this.currentBatch;C&&(C.texture.push(y),C.unit++,C.maxUnit++)},"addTextureToBatch"),pushBatch:r(function(y){if(!this.currentBatch||this.forceZero&&y!==this.currentTexture)return this.createBatch(y);if(y===this.currentTexture)return this.currentUnit;var C=this.currentBatch,S=C.texture.indexOf(y);return S===-1?C.texture.length===this.renderer.maxTextures?this.createBatch(y):(C.unit++,C.maxUnit++,C.texture.push(y),this.currentUnit=C.unit,this.currentTexture=y,C.unit):(this.currentUnit=S,this.currentTexture=y,S)},"pushBatch"),setGameObject:r(function(y,C){return C===void 0&&(C=y.frame),this.pushBatch(C.source.glTexture)},"setGameObject"),shouldFlush:r(function(y){return y===void 0&&(y=0),this.vertexCount+y>this.vertexCapacity},"shouldFlush"),vertexAvailable:r(function(){return this.vertexCapacity-this.vertexCount},"vertexAvailable"),resize:r(function(y,C){(y!==this.width||C!==this.height)&&this.flush(),this.width=y,this.height=C;for(var S=this.renderTargets,E=0;E<S.length;E++)S[E].resize(y,C);return this.setProjectionMatrix(y,C),this.resizeUniform&&this.set2f(this.resizeUniform,y,C),this.emit(u.RESIZE,y,C,this),this.onResize(y,C),this},"resize"),setProjectionMatrix:r(function(y,C){var S=this.projectionMatrix;if(!S)return this;this.projectionWidth=y,this.projectionHeight=C,S.ortho(0,y,C,0,-1e3,1e3);for(var E=this.shaders,w="uProjectionMatrix",M=0;M<E.length;M++){var R=E[M];R.hasUniform(w)&&(R.resetUniform(w),R.setMatrix4fv(w,!1,S.val,R))}return this},"setProjectionMatrix"),flipProjectionMatrix:r(function(y){y===void 0&&(y=!0);var C=this.projectionMatrix;if(!C)return this;var S=this.projectionWidth,E=this.projectionHeight;y?C.ortho(0,S,0,E,-1e3,1e3):C.ortho(0,S,E,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,C.val)},"flipProjectionMatrix"),updateProjectionMatrix:r(function(){if(this.projectionMatrix){var y=this.renderer.projectionWidth,C=this.renderer.projectionHeight;(this.projectionWidth!==y||this.projectionHeight!==C)&&this.setProjectionMatrix(y,C)}},"updateProjectionMatrix"),bind:r(function(y){if(y===void 0&&(y=this.currentShader),this.glReset)return this.rebind(y);var C=!1,S=this.gl;return S.getParameter(S.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(S.bindBuffer(S.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,C=!0),y.bind(C),this.currentShader=y,this.activeTextures.length=0,this.emit(u.BIND,this,y),this.onActive(y),this},"bind"),rebind:r(function(y){this.activeBuffer=null,this.setVertexBuffer();for(var C=this.shaders,S=C.length-1;S>=0;S--){var E=C[S].rebind();(!y||E===y)&&(this.currentShader=E)}return this.activeTextures.length=0,this.emit(u.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},"rebind"),restoreContext:r(function(){var y=this.shaders,C=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,C&&this.setVertexBuffer();for(var S=0;S<y.length;S++){var E=y[S];E.syncUniforms(),C&&E.rebind()}},"restoreContext"),setVertexBuffer:r(function(y){if(y===void 0&&(y=this.vertexBuffer),y!==this.activeBuffer){var C=this.gl;return this.gl.bindBuffer(C.ARRAY_BUFFER,y.webGLBuffer),this.activeBuffer=y,!0}return!1},"setVertexBuffer"),preBatch:r(function(y){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(y),this},"preBatch"),postBatch:r(function(y){return this.onDraw(this.currentRenderTarget),this.onPostBatch(y),this},"postBatch"),onDraw:r(function(){},"onDraw"),unbind:r(function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},"unbind"),flush:r(function(y){if(y===void 0&&(y=!1),this.vertexCount>0){this.emit(u.BEFORE_FLUSH,this,y),this.onBeforeFlush(y);var C=this.gl,S=this.vertexCount,E=this.currentShader.vertexSize,w=this.topology;if(this.active){this.setVertexBuffer(),S===this.vertexCapacity?C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.DYNAMIC_DRAW):C.bufferSubData(C.ARRAY_BUFFER,0,this.bytes.subarray(0,S*E));var M,R,O,b=this.batch,A=this.activeTextures;if(this.forceZero)for(A[0]||C.activeTexture(C.TEXTURE0),M=0;M<b.length;M++)R=b[M],O=R.texture[0],A[0]!==O&&(C.bindTexture(C.TEXTURE_2D,O.webGLTexture),A[0]=O),C.drawArrays(w,R.start,R.count);else for(M=0;M<b.length;M++){R=b[M];for(var I=0;I<=R.maxUnit;I++)O=R.texture[I],A[I]!==O&&(C.activeTexture(C.TEXTURE0+I),C.bindTexture(C.TEXTURE_2D,O.webGLTexture),A[I]=O);C.drawArrays(w,R.start,R.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(u.AFTER_FLUSH,this,y),this.onAfterFlush(y)}return this},"flush"),onActive:r(function(){},"onActive"),onBind:r(function(){},"onBind"),onRebind:r(function(){},"onRebind"),onBatch:r(function(){},"onBatch"),onPreBatch:r(function(){},"onPreBatch"),onPostBatch:r(function(){},"onPostBatch"),onPreRender:r(function(){},"onPreRender"),onRender:r(function(){},"onRender"),onPostRender:r(function(){},"onPostRender"),onBeforeFlush:r(function(){},"onBeforeFlush"),onAfterFlush:r(function(){},"onAfterFlush"),batchVert:r(function(y,C,S,E,w,M,R){var O=this.vertexViewF32,b=this.vertexViewU32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;O[++A]=y,O[++A]=C,O[++A]=S,O[++A]=E,O[++A]=w,O[++A]=M,b[++A]=R,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},"batchVert"),batchQuad:r(function(y,C,S,E,w,M,R,O,b,A,I,L,F,D,B,V,U,W,Y,N){N===void 0&&(N=this.currentUnit);var z=!1;this.shouldFlush(6)&&(this.flush(),z=!0),this.currentBatch||(N=this.setTexture2D(Y));var G=this.vertexViewF32,X=this.vertexViewU32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;return G[++k]=C,G[++k]=S,G[++k]=A,G[++k]=I,G[++k]=N,G[++k]=W,X[++k]=D,G[++k]=E,G[++k]=w,G[++k]=A,G[++k]=F,G[++k]=N,G[++k]=W,X[++k]=V,G[++k]=M,G[++k]=R,G[++k]=L,G[++k]=F,G[++k]=N,G[++k]=W,X[++k]=U,G[++k]=C,G[++k]=S,G[++k]=A,G[++k]=I,G[++k]=N,G[++k]=W,X[++k]=D,G[++k]=M,G[++k]=R,G[++k]=L,G[++k]=F,G[++k]=N,G[++k]=W,X[++k]=U,G[++k]=O,G[++k]=b,G[++k]=L,G[++k]=I,G[++k]=N,G[++k]=W,X[++k]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(y),z},"batchQuad"),batchTri:r(function(y,C,S,E,w,M,R,O,b,A,I,L,F,D,B,V,U){U===void 0&&(U=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||(U=this.setTexture2D(V));var Y=this.vertexViewF32,N=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++z]=C,Y[++z]=S,Y[++z]=O,Y[++z]=b,Y[++z]=U,Y[++z]=B,N[++z]=L,Y[++z]=E,Y[++z]=w,Y[++z]=O,Y[++z]=I,Y[++z]=U,Y[++z]=B,N[++z]=F,Y[++z]=M,Y[++z]=R,Y[++z]=A,Y[++z]=I,Y[++z]=U,Y[++z]=B,N[++z]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(y),W},"batchTri"),drawFillRect:r(function(y,C,S,E,w,M,R,O){R===void 0&&(R=this.renderer.whiteTexture),O===void 0&&(O=!0),y=Math.floor(y),C=Math.floor(C);var b=Math.floor(y+S),A=Math.floor(C+E),I=this.setTexture2D(R),L=f.getTintAppendFloatAlphaAndSwap(w,M),F=0,D=0,B=1,V=1;O&&(D=1,V=0),this.batchQuad(null,y,C,y,A,b,A,b,C,F,D,B,V,L,L,L,L,0,R,I)},"drawFillRect"),setTexture2D:r(function(y){return y===void 0&&(y=this.renderer.whiteTexture),this.pushBatch(y)},"setTexture2D"),bindTexture:r(function(y,C){C===void 0&&(C=0);var S=this.gl;return S.activeTexture(S.TEXTURE0+C),S.bindTexture(S.TEXTURE_2D,y.webGLTexture),this},"bindTexture"),bindRenderTarget:r(function(y,C){return this.bindTexture(y.texture,C)},"bindRenderTarget"),setTime:r(function(y,C){return this.set1f(y,this.game.loop.getDuration(),C),this},"setTime"),setBoolean:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.setBoolean(y,C),this},"setBoolean"),set1f:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set1f(y,C),this},"set1f"),set2f:r(function(y,C,S,E){return E===void 0&&(E=this.currentShader),E.set2f(y,C,S),this},"set2f"),set3f:r(function(y,C,S,E,w){return w===void 0&&(w=this.currentShader),w.set3f(y,C,S,E),this},"set3f"),set4f:r(function(y,C,S,E,w,M){return M===void 0&&(M=this.currentShader),M.set4f(y,C,S,E,w),this},"set4f"),set1fv:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set1fv(y,C),this},"set1fv"),set2fv:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set2fv(y,C),this},"set2fv"),set3fv:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set3fv(y,C),this},"set3fv"),set4fv:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set4fv(y,C),this},"set4fv"),set1iv:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set1iv(y,C),this},"set1iv"),set2iv:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set2iv(y,C),this},"set2iv"),set3iv:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set3iv(y,C),this},"set3iv"),set4iv:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set4iv(y,C),this},"set4iv"),set1i:r(function(y,C,S){return S===void 0&&(S=this.currentShader),S.set1i(y,C),this},"set1i"),set2i:r(function(y,C,S,E){return E===void 0&&(E=this.currentShader),E.set2i(y,C,S),this},"set2i"),set3i:r(function(y,C,S,E,w){return w===void 0&&(w=this.currentShader),w.set3i(y,C,S,E),this},"set3i"),set4i:r(function(y,C,S,E,w,M){return M===void 0&&(M=this.currentShader),M.set4i(y,C,S,E,w),this},"set4i"),setMatrix2fv:r(function(y,C,S,E){return E===void 0&&(E=this.currentShader),E.setMatrix2fv(y,C,S),this},"setMatrix2fv"),setMatrix3fv:r(function(y,C,S,E){return E===void 0&&(E=this.currentShader),E.setMatrix3fv(y,C,S),this},"setMatrix3fv"),setMatrix4fv:r(function(y,C,S,E){return E===void 0&&(E=this.currentShader),E.setMatrix4fv(y,C,S),this},"setMatrix4fv"),destroy:r(function(){this.emit(u.DESTROY,this);var y,C=this.shaders;for(y=0;y<C.length;y++)C[y].destroy();var S=this.renderTargets;for(y=0;y<S.length;y++)S[y].destroy();var E=this.renderer;return E.deleteBuffer(this.vertexBuffer),E.off(d.RESIZE,this.resize,this),E.off(d.PRE_RENDER,this.onPreRender,this),E.off(d.RENDER,this.onRender,this),E.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this},"destroy")});n.exports=g}),74797:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95428),m=i(72905),c=i(19715),u=i(83419),l=i(8054),o=i(50792),d=i(92503),v=i(50030),f=i(37867),p=i(29747),g=i(7530),y=i(32302),C=i(97480),S=i(69442),E=i(70554),w=i(88815),M=i(26128),R=i(1482),O=i(82751),b=i(84387),A=i(93567),I=i(57183),L=new u({Extends:o,initialize:r(function(D){o.call(this);var B=D.config,V={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:V,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=D,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=D.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=p,this.contextRestoredHandler=p,this.previousContextLostHandler=p,this.previousContextRestoredHandler=p,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},"WebGLRenderer"),init:r(function(F){var D,B=this.game,V=this.canvas,U=F.backgroundColor;if(B.config.context?D=B.config.context:D=V.getContext("webgl",F.contextCreation)||V.getContext("experimental-webgl",F.contextCreation),!D||D.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=D,this.setExtensions(),this.setContextHandlers(),B.context=D;for(var W=0;W<=27;W++)this.blendModes.push({func:[D.ONE,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_ADD});this.blendModes[1].func=[D.ONE,D.DST_ALPHA],this.blendModes[2].func=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[D.ONE,D.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[D.ZERO,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_REVERSE_SUBTRACT},this.glFormats=[D.BYTE,D.SHORT,D.UNSIGNED_BYTE,D.UNSIGNED_SHORT,D.FLOAT],this.glFuncMap={mat2:{func:D.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:D.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:D.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:D.uniform1f,length:1},"1fv":{func:D.uniform1fv,length:1},"1i":{func:D.uniform1i,length:1},"1iv":{func:D.uniform1iv,length:1},"2f":{func:D.uniform2f,length:2},"2fv":{func:D.uniform2fv,length:1},"2i":{func:D.uniform2i,length:2},"2iv":{func:D.uniform2iv,length:1},"3f":{func:D.uniform3f,length:3},"3fv":{func:D.uniform3fv,length:1},"3i":{func:D.uniform3i,length:3},"3iv":{func:D.uniform3iv,length:1},"4f":{func:D.uniform4f,length:4},"4fv":{func:D.uniform4fv,length:1},"4i":{func:D.uniform4i,length:4},"4iv":{func:D.uniform4iv,length:1}},(!F.maxTextures||F.maxTextures===-1)&&(F.maxTextures=D.getParameter(D.MAX_TEXTURE_IMAGE_UNITS)),F.maxTextureSize||(F.maxTextureSize=D.getParameter(D.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),D.enable(D.BLEND),D.clearColor(U.redGL,U.greenGL,U.blueGL,U.alphaGL),D.clear(D.COLOR_BUFFER_BIT);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(F.mipmapFilter)!==-1&&(this.mipmapFilter=D[F.mipmapFilter]),this.maxTextures=E.checkShaderMax(D,F.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new g(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new f().identity(),B.textures.once(S.READY,this.boot,this),this},"init"),boot:r(function(){var F=this.game,D=this.pipelines,B=F.scale.baseSize,V=B.width,U=B.height;this.width=V,this.height=U,this.isBooted=!0,this.renderTarget=new y(this,V,U,1,0,!0,!0),this.maskTarget=new y(this,V,U,1,0,!0,!0),this.maskSource=new y(this,V,U,1,0,!0,!0);var W=F.config;D.boot(W.pipeline,W.defaultPipeline,W.autoMobilePipeline),this.blankTexture=F.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=F.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=F.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),F.scale.on(C.RESIZE,this.onResize,this),this.resize(V,U)},"boot"),setExtensions:r(function(){var F=this.gl,D=F.getSupportedExtensions();this.supportedExtensions=D;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(B)>-1?F.getExtension(B):null;var V="OES_vertex_array_object";this.vaoExtension=D.indexOf(V)>-1?F.getExtension(V):null},"setExtensions"),setContextHandlers:r(function(F,D){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof F=="function"?this.contextLostHandler=F.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof D=="function"?this.contextRestoredHandler=D.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},"setContextHandlers"),dispatchContextLost:r(function(F){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(d.LOSE_WEBGL,this),F.preventDefault()},"dispatchContextLost"),dispatchContextRestored:r(function(F){var D=this.gl;if(!D.isContextLost()){this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(l.BlendModes.NORMAL),D.disable(D.BLEND),D.disable(D.DEPTH_TEST),D.enable(D.CULL_FACE),this.compression=this.getCompressedTextures();var B=r(function(V){V.createResource()},"wrapperCreateResource");h(this.glTextureWrappers,B),h(this.glBufferWrappers,B),h(this.glFramebufferWrappers,B),h(this.glProgramWrappers,B),h(this.glAttribLocationWrappers,B),h(this.glUniformLocationWrappers,B),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(d.RESTORE_WEBGL,this),F.preventDefault()}},"dispatchContextRestored"),createTemporaryTextures:r(function(){for(var F=this.gl,D=0;D<this.maxTextures;D++){var B=F.createTexture();F.activeTexture(F.TEXTURE0+D),F.bindTexture(F.TEXTURE_2D,B),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,1,1,0,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(D)}},"createTemporaryTextures"),captureFrame:r(function(F,D){},"captureFrame"),captureNextFrame:r(function(){},"captureNextFrame"),getFps:r(function(){},"getFps"),log:r(function(){},"log"),startCapture:r(function(F,D,B){},"startCapture"),stopCapture:r(function(){},"stopCapture"),onCapture:r(function(F){},"onCapture"),onResize:r(function(F,D){(D.width!==this.width||D.height!==this.height)&&this.resize(D.width,D.height)},"onResize"),beginCapture:r(function(F,D){F===void 0&&(F=this.width),D===void 0&&(D=this.height),this.renderTarget.bind(!0,F,D),this.setProjectionMatrix(F,D)},"beginCapture"),endCapture:r(function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},"endCapture"),resize:r(function(F,D){var B=this.gl;return this.width=F,this.height=D,this.setProjectionMatrix(F,D),B.viewport(0,0,F,D),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-D,F,D),this.defaultScissor[2]=F,this.defaultScissor[3]=D,this.emit(d.RESIZE,F,D),this},"resize"),getCompressedTextures:r(function(){var F="WEBGL_compressed_texture_",D="WEBKIT_"+F,B="EXT_texture_compression_",V=r(function(W,Y){var N=W.getExtension(F+Y)||W.getExtension(D+Y)||W.getExtension(B+Y);if(N){var z={};for(var G in N)z[N[G]]=G;return z}},"hasExt"),U=this.gl;return{ETC:V(U,"etc"),ETC1:V(U,"etc1"),ATC:V(U,"atc"),ASTC:V(U,"astc"),BPTC:V(U,"bptc"),RGTC:V(U,"rgtc"),PVRTC:V(U,"pvrtc"),S3TC:V(U,"s3tc"),S3TCSRGB:V(U,"s3tc_srgb"),IMG:!0}},"getCompressedTextures"),getCompressedTextureName:r(function(F,D){var B=this.compression[F.toUpperCase()];if(D in B)return B[D]},"getCompressedTextureName"),supportsCompressedTexture:r(function(F,D){var B=this.compression[F.toUpperCase()];return B?D?D in B:!0:!1},"supportsCompressedTexture"),getAspectRatio:r(function(){return this.width/this.height},"getAspectRatio"),setProjectionMatrix:r(function(F,D){return(F!==this.projectionWidth||D!==this.projectionHeight)&&(this.projectionWidth=F,this.projectionHeight=D,this.projectionMatrix.ortho(0,F,D,0,-1e3,1e3)),this},"setProjectionMatrix"),resetProjectionMatrix:r(function(){return this.setProjectionMatrix(this.width,this.height)},"resetProjectionMatrix"),hasExtension:r(function(F){return this.supportedExtensions?this.supportedExtensions.indexOf(F):!1},"hasExtension"),getExtension:r(function(F){return this.hasExtension(F)?(F in this.extensions||(this.extensions[F]=this.gl.getExtension(F)),this.extensions[F]):null},"getExtension"),flush:r(function(){this.pipelines.flush()},"flush"),pushScissor:r(function(F,D,B,V,U){U===void 0&&(U=this.drawingBufferHeight);var W=this.scissorStack,Y=[F,D,B,V];return W.push(Y),this.setScissor(F,D,B,V,U),this.currentScissor=Y,Y},"pushScissor"),setScissor:r(function(F,D,B,V,U){U===void 0&&(U=this.drawingBufferHeight);var W=this.gl,Y=this.currentScissor,N=B>0&&V>0;if(Y&&N){var z=Y[0],G=Y[1],X=Y[2],k=Y[3];N=z!==F||G!==D||X!==B||k!==V}N&&(this.flush(),W.scissor(F,U-D-V,B,V))},"setScissor"),resetScissor:r(function(){var F=this.gl;F.enable(F.SCISSOR_TEST);var D=this.currentScissor;if(D){var B=D[0],V=D[1],U=D[2],W=D[3];U>0&&W>0&&F.scissor(B,this.drawingBufferHeight-V-W,U,W)}},"resetScissor"),popScissor:r(function(){var F=this.scissorStack;F.pop();var D=F[F.length-1];D&&this.setScissor(D[0],D[1],D[2],D[3]),this.currentScissor=D},"popScissor"),hasActiveStencilMask:r(function(){var F=this.currentMask.mask,D=this.currentCameraMask.mask;return F&&F.isStencil||D&&D.isStencil},"hasActiveStencilMask"),resetViewport:r(function(){var F=this.gl;F.viewport(0,0,this.width,this.height),this.drawingBufferHeight=F.drawingBufferHeight},"resetViewport"),setBlendMode:r(function(F,D){D===void 0&&(D=!1);var B=this.gl,V=this.blendModes[F];return D||F!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==F?(this.flush(),B.enable(B.BLEND),B.blendEquation(V.equation),V.func.length>2?B.blendFuncSeparate(V.func[0],V.func[1],V.func[2],V.func[3]):B.blendFunc(V.func[0],V.func[1]),this.currentBlendMode=F,!0):!1},"setBlendMode"),addBlendMode:r(function(F,D){var B=this.blendModes.push({func:F,equation:D});return B-1},"addBlendMode"),updateBlendMode:r(function(F,D,B){return this.blendModes[F]&&(this.blendModes[F].func=D,B&&(this.blendModes[F].equation=B)),this},"updateBlendMode"),removeBlendMode:r(function(F){return F>17&&this.blendModes[F]&&this.blendModes.splice(F,1),this},"removeBlendMode"),pushFramebuffer:r(function(F,D,B,V,U){return F===this.currentFramebuffer?this:(this.fboStack.push(F),this.setFramebuffer(F,D,B,V,U))},"pushFramebuffer"),setFramebuffer:r(function(F,D,B,V,U){if(D===void 0&&(D=!1),B===void 0&&(B=!0),V===void 0&&(V=null),U===void 0&&(U=!1),F===this.currentFramebuffer)return this;var W=this.gl,Y=this.width,N=this.height;return F&&F.renderTexture&&B?(Y=F.renderTexture.width,N=F.renderTexture.height):this.flush(),F?W.bindFramebuffer(W.FRAMEBUFFER,F.webGLFramebuffer):W.bindFramebuffer(W.FRAMEBUFFER,null),B&&W.viewport(0,0,Y,N),V&&W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,V.webGLTexture,0),U&&(W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT)),D&&(F?(this.drawingBufferHeight=N,this.pushScissor(0,0,Y,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=F,this},"setFramebuffer"),popFramebuffer:r(function(F,D){F===void 0&&(F=!1),D===void 0&&(D=!0);var B=this.fboStack;B.pop();var V=B[B.length-1];return V||(V=null),this.setFramebuffer(V,F,D),V},"popFramebuffer"),restoreFramebuffer:r(function(F,D){F===void 0&&(F=!1),D===void 0&&(D=!0);var B=this.fboStack,V=B[B.length-1];V||(V=null),this.currentFramebuffer=null,this.setFramebuffer(V,F,D)},"restoreFramebuffer"),setProgram:r(function(F){return F!==this.currentProgram?(this.flush(),this.gl.useProgram(F.webGLProgram),this.currentProgram=F,!0):!1},"setProgram"),resetProgram:r(function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},"resetProgram"),createTextureFromSource:r(function(F,D,B,V,U){U===void 0&&(U=!1);var W=this.gl,Y=W.NEAREST,N=W.NEAREST,z=W.CLAMP_TO_EDGE,G=null;D=F?F.width:D,B=F?F.height:B;var X=v(D,B);if(X&&!U&&(z=W.REPEAT),V===l.ScaleModes.LINEAR&&this.config.antialias){var k=F&&F.compressed,H=!k&&X||k&&F.mipmaps.length>1;Y=this.mipmapFilter&&H?this.mipmapFilter:W.LINEAR,N=W.LINEAR}return!F&&typeof D=="number"&&typeof B=="number"?G=this.createTexture2D(0,Y,N,z,z,W.RGBA,null,D,B):G=this.createTexture2D(0,Y,N,z,z,W.RGBA,F),G},"createTextureFromSource"),createTexture2D:r(function(F,D,B,V,U,W,Y,N,z,G,X,k){typeof N!="number"&&(N=Y?Y.width:1),typeof z!="number"&&(z=Y?Y.height:1);var H=new O(this.gl,F,D,B,V,U,W,Y,N,z,G,X,k);return this.glTextureWrappers.push(H),H},"createTexture2D"),createFramebuffer:r(function(F,D,B,V){this.currentFramebuffer=null;var U=new b(this.gl,F,D,B,V);return this.glFramebufferWrappers.push(U),U},"createFramebuffer"),beginBitmapMask:r(function(F,D){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==F&&(this.currentMask.mask=F,this.currentMask.camera=D))},"beginBitmapMask"),drawBitmapMask:r(function(F,D,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),F.renderWebGL(this,F,D),this.maskSource.unbind(!0),this.maskTarget.unbind();var V=this.gl,U=this.getCurrentStencilMask();U?(V.enable(V.STENCIL_TEST),U.mask.applyStencil(this,U.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),V.activeTexture(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,this.maskTarget.texture.webGLTexture),V.activeTexture(V.TEXTURE1),V.bindTexture(V.TEXTURE_2D,this.maskSource.texture.webGLTexture)},"drawBitmapMask"),createProgram:r(function(F,D){var B=new R(this.gl,F,D);return this.glProgramWrappers.push(B),B},"createProgram"),createVertexBuffer:r(function(F,D){var B=this.gl,V=new M(B,F,B.ARRAY_BUFFER,D);return this.glBufferWrappers.push(V),V},"createVertexBuffer"),createAttribLocation:r(function(F,D){var B=new A(this.gl,F,D);return this.glAttribLocationWrappers.push(B),B},"createAttribLocation"),createUniformLocation:r(function(F,D){var B=new I(this.gl,F,D);return this.glUniformLocationWrappers.push(B),B},"createUniformLocation"),createIndexBuffer:r(function(F,D){var B=this.gl,V=new M(B,F,B.ELEMENT_ARRAY_BUFFER,D);return this.glBufferWrappers.push(V),V},"createIndexBuffer"),deleteTexture:r(function(F){if(F)return m(this.glTextureWrappers,F),F.destroy(),this},"deleteTexture"),deleteFramebuffer:r(function(F){return F?(m(this.fboStack,F),m(this.glFramebufferWrappers,F),F.destroy(),this):this},"deleteFramebuffer"),deleteProgram:r(function(F){return F&&(m(this.glProgramWrappers,F),F.destroy()),this},"deleteProgram"),deleteAttribLocation:r(function(F){return F&&(m(this.glAttribLocationWrappers,F),F.destroy()),this},"deleteAttribLocation"),deleteUniformLocation:r(function(F){return F&&(m(this.glUniformLocationWrappers,F),F.destroy()),this},"deleteUniformLocation"),deleteBuffer:r(function(F){return F?(m(this.glBufferWrappers,F),F.destroy(),this):this},"deleteBuffer"),preRenderCamera:r(function(F){var D=F.x,B=F.y,V=F.width,U=F.height,W=F.backgroundColor;if(F.emit(c.PRE_RENDER,F),this.pipelines.preBatchCamera(F),this.pushScissor(D,B,V,U),F.mask&&(this.currentCameraMask.mask=F.mask,this.currentCameraMask.camera=F._maskCamera,F.mask.preRenderWebGL(this,F,F._maskCamera)),W.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(D,B,V,U,E.getTintFromFloats(W.blueGL,W.greenGL,W.redGL,1),W.alphaGL)}},"preRenderCamera"),getCurrentStencilMask:r(function(){var F=null,D=this.maskStack,B=this.currentCameraMask;return D.length>0?F=D[D.length-1]:B.mask&&B.mask.isStencil&&(F=B),F},"getCurrentStencilMask"),postRenderCamera:r(function(F){var D=F.flashEffect,B=F.fadeEffect;if(D.isRunning||B.isRunning||B.isComplete){var V=this.pipelines.setMulti();D.postRenderWebGL(V,E.getTintFromFloats),B.postRenderWebGL(V,E.getTintFromFloats)}F.dirty=!1,this.popScissor(),F.mask&&(this.currentCameraMask.mask=null,F.mask.postRenderWebGL(this,F._maskCamera)),this.pipelines.postBatchCamera(F),F.emit(c.POST_RENDER,F)},"postRenderCamera"),preRender:r(function(){if(!this.contextLost){var F=this.gl;if(F.bindFramebuffer(F.FRAMEBUFFER,null),this.emit(d.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var D=this.config.backgroundColor;F.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)}F.enable(F.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&F.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},"preRender"),render:r(function(F,D,B){if(!this.contextLost){var V=D.length;if(this.emit(d.RENDER,F,B),this.preRenderCamera(B),V===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var U=this.currentMask,W=0;W<V;W++){this.finalType=W===V-1;var Y=D[W],N=Y.mask;U=this.currentMask,U.mask&&U.mask!==N&&U.mask.postRenderWebGL(this,U.camera),N&&U.mask!==N&&N.preRenderWebGL(this,Y,B),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var z=Y.type;z!==this.currentType&&(this.newType=!0,this.currentType=z),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=D[W+1].type===this.currentType,Y.renderWebGL(this,Y,B),this.newType=!1}U=this.currentMask,U.mask&&U.mask.postRenderWebGL(this,U.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(B)}},"render"),postRender:r(function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var F=this.snapshotState;F.callback&&(w(this.gl,F),F.callback=null)}},"postRender"),clearStencilMask:r(function(){this.gl.disable(this.gl.STENCIL_TEST)},"clearStencilMask"),restoreStencilMask:r(function(){var F=this.gl,D=this.getCurrentStencilMask();if(D){var B=D.mask;F.enable(F.STENCIL_TEST),B.invertAlpha?F.stencilFunc(F.NOTEQUAL,B.level,255):F.stencilFunc(F.EQUAL,B.level,255)}},"restoreStencilMask"),snapshot:r(function(F,D,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,F,D,B)},"snapshot"),snapshotArea:r(function(F,D,B,V,U,W,Y){var N=this.snapshotState;return N.callback=U,N.type=W,N.encoder=Y,N.getPixel=!1,N.x=F,N.y=D,N.width=B,N.height=V,this},"snapshotArea"),snapshotPixel:r(function(F,D,B){return this.snapshotArea(F,D,1,1,B),this.snapshotState.getPixel=!0,this},"snapshotPixel"),snapshotFramebuffer:r(function(F,D,B,V,U,W,Y,N,z,G,X){U===void 0&&(U=!1),W===void 0&&(W=0),Y===void 0&&(Y=0),N===void 0&&(N=D),z===void 0&&(z=B),G==="pixel"&&(U=!0,G="image/png");var k=this.currentFramebuffer;this.snapshotArea(W,Y,N,z,V,G,X);var H=this.snapshotState;return H.getPixel=U,H.isFramebuffer=!0,H.bufferWidth=D,H.bufferHeight=B,H.width=Math.min(H.width,D),H.height=Math.min(H.height,B),this.setFramebuffer(F),w(this.gl,H),this.setFramebuffer(k),H.callback=null,H.isFramebuffer=!1,this},"snapshotFramebuffer"),canvasToTexture:r(function(F,D,B,V){B===void 0&&(B=!1),V===void 0&&(V=!1);var U=this.gl,W=U.NEAREST,Y=U.NEAREST,N=F.width,z=F.height,G=U.CLAMP_TO_EDGE,X=v(N,z);return!B&&X&&(G=U.REPEAT),this.config.antialias&&(W=X&&this.mipmapFilter?this.mipmapFilter:U.LINEAR,Y=U.LINEAR),D?(D.update(F,N,z,V,G,G,W,Y,D.format),D):this.createTexture2D(0,W,Y,G,G,U.RGBA,F,N,z,!0,!1,V)},"canvasToTexture"),createCanvasTexture:r(function(F,D,B){return D===void 0&&(D=!1),B===void 0&&(B=!1),this.canvasToTexture(F,null,D,B)},"createCanvasTexture"),updateCanvasTexture:r(function(F,D,B,V){return B===void 0&&(B=!1),V===void 0&&(V=!1),this.canvasToTexture(F,D,V,B)},"updateCanvasTexture"),videoToTexture:r(function(F,D,B,V){B===void 0&&(B=!1),V===void 0&&(V=!1);var U=this.gl,W=U.NEAREST,Y=U.NEAREST,N=F.videoWidth,z=F.videoHeight,G=U.CLAMP_TO_EDGE,X=v(N,z);return!B&&X&&(G=U.REPEAT),this.config.antialias&&(W=X&&this.mipmapFilter?this.mipmapFilter:U.LINEAR,Y=U.LINEAR),D?(D.update(F,N,z,V,G,G,W,Y,D.format),D):this.createTexture2D(0,W,Y,G,G,U.RGBA,F,N,z,!0,!0,V)},"videoToTexture"),createVideoTexture:r(function(F,D,B){return D===void 0&&(D=!1),B===void 0&&(B=!1),this.videoToTexture(F,null,D,B)},"createVideoTexture"),updateVideoTexture:r(function(F,D,B,V){return B===void 0&&(B=!1),V===void 0&&(V=!1),this.videoToTexture(F,D,V,B)},"updateVideoTexture"),createUint8ArrayTexture:r(function(F,D,B){var V=this.gl,U=V.NEAREST,W=V.NEAREST,Y=V.CLAMP_TO_EDGE,N=v(D,B);return N&&(Y=V.REPEAT),this.createTexture2D(0,U,W,Y,Y,V.RGBA,F,D,B)},"createUint8ArrayTexture"),setTextureFilter:r(function(F,D){var B=this.gl,V=D===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var U=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,F.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,V),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,V),F.minFilter=V,F.magFilter=V,U&&B.bindTexture(B.TEXTURE_2D,U),this},"setTextureFilter"),getMaxTextureSize:r(function(){return this.config.maxTextureSize},"getMaxTextureSize"),destroy:r(function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var F=r(function(D){D.destroy()},"wrapperDestroy");h(this.glAttribLocationWrappers,F),h(this.glBufferWrappers,F),h(this.glFramebufferWrappers,F),h(this.glProgramWrappers,F),h(this.glTextureWrappers,F),h(this.glUniformLocationWrappers,F),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null},"destroy")});n.exports=L}),38683:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95428),c=i(95540),u=i(14500),l=new h({initialize:r(function(d,v,f,p,g){this.pipeline=d,this.name=v,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=p,this.vertSrc=f,this.program=this.renderer.createProgram(f,p),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(g),this.createUniforms()},"WebGLShader"),createAttributes:r(function(o){var d=0,v=0,f=[];this.vertexComponentCount=0;for(var p=0;p<o.length;p++){var g=o[p],y=g.name,C=c(g,"size",1),S=c(g,"type",u.FLOAT),E=S.enum,w=S.size,M=!!g.normalized;f.push({name:y,size:C,type:E,normalized:M,offset:v,enabled:!1,location:-1}),w===4?d+=C:d++,v+=C*w}this.vertexSize=v,this.vertexComponentCount=d,this.attributes=f},"createAttributes"),bind:r(function(o,d){return o===void 0&&(o=!1),d===void 0&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),o&&this.setAttribPointers(),this},"bind"),rebind:r(function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},"rebind"),setAttribPointers:r(function(o){o===void 0&&(o=!1);for(var d=this.gl,v=this.renderer,f=this.vertexSize,p=this.attributes,g=this.program,y=0;y<p.length;y++){var C=p[y],S=C.size,E=C.type,w=C.offset,M=C.enabled,R=C.location,O=!!C.normalized;if(o){R!==-1&&v.deleteAttribLocation(R);var b=this.renderer.createAttribLocation(g,C.name);b.webGLAttribLocation>=0?(d.enableVertexAttribArray(b.webGLAttribLocation),d.vertexAttribPointer(b.webGLAttribLocation,S,E,O,f,w),C.enabled=!0,C.location=b):b.webGLAttribLocation!==-1&&d.disableVertexAttribArray(b.webGLAttribLocation)}else M?d.vertexAttribPointer(R.webGLAttribLocation,S,E,O,f,w):!M&&R!==-1&&R.webGLAttribLocation>-1&&(d.disableVertexAttribArray(R.webGLAttribLocation),C.location=-1)}return this},"setAttribPointers"),createUniforms:r(function(){var o=this.gl,d=this.program,v=this.uniforms,f,p,g,y=o.getProgramParameter(d.webGLProgram,o.ACTIVE_UNIFORMS);for(f=0;f<y;f++){var C=o.getActiveUniform(d.webGLProgram,f);if(C){p=C.name,g=this.renderer.createUniformLocation(d,p),g!==null&&(v[p]={name:p,location:g,setter:null,value1:null,value2:null,value3:null,value4:null});var S=p.indexOf("[");S>0&&(p=p.substr(0,S),v.hasOwnProperty(p)||(g=this.renderer.createUniformLocation(d,p),g!==null&&(v[p]={name:p,location:g,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},"createUniforms"),syncUniforms:r(function(){var o=this.gl;this.renderer.setProgram(this.program);for(var d in this.uniforms){var v=this.uniforms[d];v.setter&&v.setter.call(o,v.location.webGLUniformLocation,v.value1,v.value2,v.value3,v.value4)}},"syncUniforms"),hasUniform:r(function(o){return this.uniforms.hasOwnProperty(o)},"hasUniform"),resetUniform:r(function(o){var d=this.uniforms[o];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},"resetUniform"),setUniform1:r(function(o,d,v,f){var p=this.uniforms[d];return p?((f||p.value1!==v)&&(p.setter||(p.setter=o),p.value1=v,this.renderer.setProgram(this.program),o.call(this.gl,p.location.webGLUniformLocation,v),this.pipeline.currentShader=this),this):this},"setUniform1"),setUniform2:r(function(o,d,v,f,p){var g=this.uniforms[d];return g?((p||g.value1!==v||g.value2!==f)&&(g.setter||(g.setter=o),g.value1=v,g.value2=f,this.renderer.setProgram(this.program),o.call(this.gl,g.location.webGLUniformLocation,v,f),this.pipeline.currentShader=this),this):this},"setUniform2"),setUniform3:r(function(o,d,v,f,p,g){var y=this.uniforms[d];return y?((g||y.value1!==v||y.value2!==f||y.value3!==p)&&(y.setter||(y.setter=o),y.value1=v,y.value2=f,y.value3=p,this.renderer.setProgram(this.program),o.call(this.gl,y.location.webGLUniformLocation,v,f,p),this.pipeline.currentShader=this),this):this},"setUniform3"),setUniform4:r(function(o,d,v,f,p,g,y){var C=this.uniforms[d];return C?((y||C.value1!==v||C.value2!==f||C.value3!==p||C.value4!==g)&&(C.setter||(C.setter=o),C.value1=v,C.value2=f,C.value3=p,C.value4=g,this.renderer.setProgram(this.program),o.call(this.gl,C.location.webGLUniformLocation,v,f,p,g),this.pipeline.currentShader=this),this):this},"setUniform4"),setBoolean:r(function(o,d){return this.setUniform1(this.gl.uniform1i,o,Number(d))},"setBoolean"),set1f:r(function(o,d){return this.setUniform1(this.gl.uniform1f,o,d)},"set1f"),set2f:r(function(o,d,v){return this.setUniform2(this.gl.uniform2f,o,d,v)},"set2f"),set3f:r(function(o,d,v,f){return this.setUniform3(this.gl.uniform3f,o,d,v,f)},"set3f"),set4f:r(function(o,d,v,f,p){return this.setUniform4(this.gl.uniform4f,o,d,v,f,p)},"set4f"),set1fv:r(function(o,d){return this.setUniform1(this.gl.uniform1fv,o,d,!0)},"set1fv"),set2fv:r(function(o,d){return this.setUniform1(this.gl.uniform2fv,o,d,!0)},"set2fv"),set3fv:r(function(o,d){return this.setUniform1(this.gl.uniform3fv,o,d,!0)},"set3fv"),set4fv:r(function(o,d){return this.setUniform1(this.gl.uniform4fv,o,d,!0)},"set4fv"),set1iv:r(function(o,d){return this.setUniform1(this.gl.uniform1iv,o,d,!0)},"set1iv"),set2iv:r(function(o,d){return this.setUniform1(this.gl.uniform2iv,o,d,!0)},"set2iv"),set3iv:r(function(o,d){return this.setUniform1(this.gl.uniform3iv,o,d,!0)},"set3iv"),set4iv:r(function(o,d){return this.setUniform1(this.gl.uniform4iv,o,d,!0)},"set4iv"),set1i:r(function(o,d){return this.setUniform1(this.gl.uniform1i,o,d)},"set1i"),set2i:r(function(o,d,v){return this.setUniform2(this.gl.uniform2i,o,d,v)},"set2i"),set3i:r(function(o,d,v,f){return this.setUniform3(this.gl.uniform3i,o,d,v,f)},"set3i"),set4i:r(function(o,d,v,f,p){return this.setUniform4(this.gl.uniform4i,o,d,v,f,p)},"set4i"),setMatrix2fv:r(function(o,d,v){return this.setUniform2(this.gl.uniformMatrix2fv,o,d,v,!0)},"setMatrix2fv"),setMatrix3fv:r(function(o,d,v){return this.setUniform2(this.gl.uniformMatrix3fv,o,d,v,!0)},"setMatrix3fv"),setMatrix4fv:r(function(o,d,v){return this.setUniform2(this.gl.uniformMatrix4fv,o,d,v,!0)},"setMatrix4fv"),createProgram:r(function(o,d){return o===void 0&&(o=this.vertSrc),d===void 0&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=o,this.fragSrc=d,this.program=this.renderer.createProgram(o,d),this.createUniforms(),this.rebind()},"createProgram"),destroy:r(function(){var o=this.renderer;m(this.uniforms,function(d){o.deleteUniformLocation(d.location)}),this.uniforms=null,m(this.attributes,function(d){o.deleteAttribLocation(d.location)}),this.attributes=null,o.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null},"destroy")});n.exports=l}),14500:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=T}),4159:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(14500),m=i(79291),c={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};c=m(!1,c,h),n.exports=c}),31302:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=i(78908),u=i(85191),l=i(14500),o=i(29100),d=new h({Extends:o,initialize:r(function(f){f.fragShader=m(f,"fragShader",c),f.vertShader=m(f,"vertShader",u),f.batchSize=m(f,"batchSize",1),f.vertices=m(f,"vertices",[-1,1,-1,-7,7,1]),f.attributes=m(f,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),o.call(this,f)},"BitmapMaskPipeline"),boot:r(function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},"boot"),resize:r(function(v,f){o.prototype.resize.call(this,v,f),this.set2f("uResolution",v,f)},"resize"),beginMask:r(function(v,f,p){this.renderer.beginBitmapMask(v,p)},"beginMask"),endMask:r(function(v,f,p){var g=this.gl,y=this.renderer,C=v.bitmapMask;C&&g&&(y.drawBitmapMask(C,f,this),p&&this.set2f("uResolution",p.width,p.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),g.drawArrays(this.topology,0,3),p&&this.set2f("uResolution",this.width,this.height),g.bindTexture(g.TEXTURE_2D,null))},"endMask")});n.exports=d}),92651:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(58918),c=i(14811),u=i(95540),l=i(43558),o=i(89350),d=i(70554),v=new h({Extends:l,initialize:r(function(p){p.shaders=[d.setGlowQuality(o.FXGlowFrag,p.game),o.FXShadowFrag,o.FXPixelateFrag,o.FXVignetteFrag,o.FXShineFrag,o.FXBlurLowFrag,o.FXBlurMedFrag,o.FXBlurHighFrag,o.FXGradientFrag,o.FXBloomFrag,o.ColorMatrixFrag,o.FXCircleFrag,o.FXBarrelFrag,o.FXDisplacementFrag,o.FXWipeFrag,o.FXBokehFrag],l.call(this,p);var g=this.game;this.glow=new m.Glow(g),this.shadow=new m.Shadow(g),this.pixelate=new m.Pixelate(g),this.vignette=new m.Vignette(g),this.shine=new m.Shine(g),this.gradient=new m.Gradient(g),this.circle=new m.Circle(g),this.barrel=new m.Barrel(g),this.wipe=new m.Wipe(g),this.bokeh=new m.Bokeh(g);var y=[];y[c.GLOW]=this.onGlow,y[c.SHADOW]=this.onShadow,y[c.PIXELATE]=this.onPixelate,y[c.VIGNETTE]=this.onVignette,y[c.SHINE]=this.onShine,y[c.BLUR]=this.onBlur,y[c.GRADIENT]=this.onGradient,y[c.BLOOM]=this.onBloom,y[c.COLOR_MATRIX]=this.onColorMatrix,y[c.CIRCLE]=this.onCircle,y[c.BARREL]=this.onBarrel,y[c.DISPLACEMENT]=this.onDisplacement,y[c.WIPE]=this.onWipe,y[c.BOKEH]=this.onBokeh,this.fxHandlers=y,this.source,this.target,this.swap},"FXPipeline"),onDraw:r(function(f,p,g){this.source=f,this.target=p,this.swap=g;var y=f.width,C=f.height,S=this.tempSprite,E=this.fxHandlers;if(S&&S.preFX)for(var w=S.preFX.list,M=0;M<w.length;M++){var R=w[M];R.active&&E[R.type].call(this,R,y,C)}this.drawToGame(this.source)},"onDraw"),runDraw:r(function(){var f=this.source,p=this.target;this.copy(f,p),this.source=p,this.target=f},"runDraw"),onGlow:r(function(f,p,g){var y=this.shaders[c.GLOW];this.setShader(y),this.glow.onPreRender(f,y,p,g),this.runDraw()},"onGlow"),onShadow:r(function(f){var p=this.shaders[c.SHADOW];this.setShader(p),this.shadow.onPreRender(f,p),this.runDraw()},"onShadow"),onPixelate:r(function(f,p,g){var y=this.shaders[c.PIXELATE];this.setShader(y),this.pixelate.onPreRender(f,y,p,g),this.runDraw()},"onPixelate"),onVignette:r(function(f){var p=this.shaders[c.VIGNETTE];this.setShader(p),this.vignette.onPreRender(f,p),this.runDraw()},"onVignette"),onShine:r(function(f,p,g){var y=this.shaders[c.SHINE];this.setShader(y),this.shine.onPreRender(f,y,p,g),this.runDraw()},"onShine"),onBlur:r(function(f,p,g){var y=u(f,"quality"),C=this.shaders[c.BLUR+y];this.setShader(C),this.set1i("uMainSampler",0),this.set2f("resolution",p,g),this.set1f("strength",u(f,"strength")),this.set3fv("color",u(f,"glcolor"));for(var S=u(f,"x"),E=u(f,"y"),w=u(f,"steps"),M=0;M<w;M++)this.set2f("offset",S,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw()},"onBlur"),onGradient:r(function(f){var p=this.shaders[c.GRADIENT];this.setShader(p),this.gradient.onPreRender(f,p),this.runDraw()},"onGradient"),onBloom:r(function(f,p,g){var y=this.shaders[c.BLOOM];this.copySprite(this.source,this.swap),this.setShader(y),this.set1i("uMainSampler",0),this.set1f("strength",u(f,"blurStrength")),this.set3fv("color",u(f,"glcolor"));for(var C=2/p*u(f,"offsetX"),S=2/g*u(f,"offsetY"),E=u(f,"steps"),w=0;w<E;w++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,S),this.runDraw();this.blendFrames(this.swap,this.source,this.target,u(f,"strength")),this.copySprite(this.target,this.source)},"onBloom"),onColorMatrix:r(function(f){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",f.getData()),this.set1f("uAlpha",f.alpha),this.runDraw()},"onColorMatrix"),onCircle:r(function(f,p,g){var y=this.shaders[c.CIRCLE];this.setShader(y),this.circle.onPreRender(f,y,p,g),this.runDraw()},"onCircle"),onBarrel:r(function(f){var p=this.shaders[c.BARREL];this.setShader(p),this.barrel.onPreRender(f,p),this.runDraw()},"onBarrel"),onDisplacement:r(function(f){this.setShader(this.shaders[c.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",f.x,f.y),this.bindTexture(f.glTexture,1),this.runDraw()},"onDisplacement"),onWipe:r(function(f){var p=this.shaders[c.WIPE];this.setShader(p),this.wipe.onPreRender(f,p),this.runDraw()},"onWipe"),onBokeh:r(function(f,p,g){var y=this.shaders[c.BOKEH];this.setShader(y),this.bokeh.onPreRender(f,y,p,g),this.runDraw()},"onBokeh"),destroy:r(function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this},"destroy")});n.exports=v}),96569:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=i(31063),u=i(57516),l=i(61340),o=i(26099),d=i(29100),v=new h({Extends:u,initialize:r(function(p){var g=m(p,"fragShader",c);p.fragShader=g.replace("%LIGHT_COUNT%",p.game.renderer.config.maxLights),u.call(this,p),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new o,this._tempMatrix=new l,this._tempMatrix2=new l},"LightPipeline"),boot:r(function(){d.prototype.boot.call(this)},"boot"),onRender:r(function(f,p){var g=f.sys.lights;if(this.lightsActive=!1,!(!g||!g.active)){var y=g.getLights(p),C=y.length;this.lightsActive=!0;var S,E=this.renderer,w=E.height,M=p.matrix,R=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",p.x,p.y,p.rotation,p.zoom),this.set3f("uAmbientLightColor",g.ambientColor.r,g.ambientColor.g,g.ambientColor.b),this.set1i("uLightCount",C),S=0;S<C;S++){var O=y[S].light,b=O.color,A="uLights["+S+"].";M.transformPoint(O.x,O.y,R),this.set2f(A+"position",R.x-p.scrollX*O.scrollFactorX*p.zoom,w-(R.y-p.scrollY*O.scrollFactorY*p.zoom)),this.set3f(A+"color",b.r,b.g,b.b),this.set1f(A+"intensity",O.intensity),this.set1f(A+"radius",O.radius)}this.currentNormalMapRotation=null}},"onRender"),setNormalMapRotation:r(function(f){if(f!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var p=this.inverseRotationMatrix;if(f){var g=-f,y=Math.cos(g),C=Math.sin(g);p[1]=C,p[3]=-C,p[0]=p[4]=y}else p[0]=p[4]=1,p[1]=p[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,p),this.currentNormalMapRotation=f}},"setNormalMapRotation"),setTexture2D:r(function(f,p){var g=this.renderer;f===void 0&&(f=g.whiteTexture);var y=this.getNormalMap(p);this.isNewNormalMap(f,y)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(y),this.currentNormalMap=y);var C=0;if(p&&p.parentContainer){var S=p.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);C=S.rotationNormalized}else p&&(C=p.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(y)),this.setNormalMapRotation(C),0},"setTexture2D"),setGameObject:r(function(f,p){p===void 0&&(p=f.frame);var g=p.glTexture,y=this.getNormalMap(f);if(this.isNewNormalMap(g,y)&&(this.flush(),this.createBatch(g),this.addTextureToBatch(y),this.currentNormalMap=y),f.parentContainer){var C=f.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(C.rotationNormalized)}else this.setNormalMapRotation(f.rotation);return this.currentBatch===null&&(this.createBatch(g),this.addTextureToBatch(y)),0},"setGameObject"),isNewNormalMap:r(function(f,p){return this.currentTexture!==f||this.currentNormalMap!==p},"isNewNormalMap"),getNormalMap:r(function(f){var p;if(f)f.displayTexture?p=f.displayTexture.dataSource[f.displayFrame.sourceIndex]:f.texture?p=f.texture.dataSource[f.frame.sourceIndex]:f.tileset&&(Array.isArray(f.tileset)?p=f.tileset[0].image.dataSource[0]:p=f.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return p?p.glTexture:this.renderer.normalTexture},"getNormalMap"),batchSprite:r(function(f,p,g){this.lightsActive&&u.prototype.batchSprite.call(this,f,p,g)},"batchSprite"),batchTexture:r(function(f,p,g,y,C,S,E,w,M,R,O,b,A,I,L,F,D,B,V,U,W,Y,N,z,G,X,k,H,$,K,Z,J){this.lightsActive&&u.prototype.batchTexture.call(this,f,p,g,y,C,S,E,w,M,R,O,b,A,I,L,F,D,B,V,U,W,Y,N,z,G,X,k,H,$,K,Z,J)},"batchTexture"),batchTextureFrame:r(function(f,p,g,y,C,S,E){this.lightsActive&&u.prototype.batchTextureFrame.call(this,f,p,g,y,C,S,E)},"batchTextureFrame")});n.exports=v}),56527:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=i(57516),u=i(45561),l=i(60722),o=i(14500),d=i(29100),v=new h({Extends:c,initialize:r(function(p){p.fragShader=m(p,"fragShader",u),p.vertShader=m(p,"vertShader",l),p.attributes=m(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),p.forceZero=!0,p.resizeUniform="uResolution",c.call(this,p)},"MobilePipeline"),boot:r(function(){d.prototype.boot.call(this);var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height)},"boot")});n.exports=v}),57516:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(94811),c=i(95540),u=i(98840),l=i(44667),o=i(61340),d=i(70554),v=i(14500),f=i(29100),p=new h({Extends:f,initialize:r(function(y){var C=y.game.renderer,S=c(y,"fragShader",u);y.fragShader=d.parseFragmentShaderMaxTextures(S,C.maxTextures),y.vertShader=c(y,"vertShader",l),y.attributes=c(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),y.resizeUniform="uResolution",f.call(this,y),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},"MultiPipeline"),boot:r(function(){f.prototype.boot.call(this);var g=this.renderer;this.set1iv("uMainSampler",g.textureIndexes),this.set2f("uResolution",g.width,g.height)},"boot"),batchSprite:r(function(g,y,C){this.manager.set(this,g);var S=this._tempMatrix1,E=this._tempMatrix2,w=this._tempMatrix3,M=g.frame,R=M.glTexture,O=M.u0,b=M.v0,A=M.u1,I=M.v1,L=M.x,F=M.y,D=M.cutWidth,B=M.cutHeight,V=M.customPivot,U=g.displayOriginX,W=g.displayOriginY,Y=-U+L,N=-W+F;if(g.isCropped){var z=g._crop;(z.flipX!==g.flipX||z.flipY!==g.flipY)&&M.updateCropUVs(z,g.flipX,g.flipY),O=z.u0,b=z.v0,A=z.u1,I=z.v1,D=z.width,B=z.height,L=z.x,F=z.y,Y=-U+L,N=-W+F}var G=1,X=1;g.flipX&&(V||(Y+=-M.realWidth+U*2),G=-1),g.flipY&&(V||(N+=-M.realHeight+W*2),X=-1);var k=g.x,H=g.y;y.roundPixels&&(k=Math.floor(k),H=Math.floor(H)),E.applyITRS(k,H,g.rotation,g.scaleX*G,g.scaleY*X),S.copyFrom(y.matrix),C?(S.multiplyWithOffset(C,-y.scrollX*g.scrollFactorX,-y.scrollY*g.scrollFactorY),E.e=k,E.f=H):(E.e-=y.scrollX*g.scrollFactorX,E.f-=y.scrollY*g.scrollFactorY),S.multiply(E,w);var $=w.setQuad(Y,N,Y+D,N+B,y.renderRoundPixels),K=d.getTintAppendFloatAlpha,Z=y.alpha,J=K(g.tintTopLeft,Z*g._alphaTL),j=K(g.tintTopRight,Z*g._alphaTR),q=K(g.tintBottomLeft,Z*g._alphaBL),Q=K(g.tintBottomRight,Z*g._alphaBR);this.shouldFlush(6)&&this.flush();var tt=this.setGameObject(g,M);this.manager.preBatch(g),this.batchQuad(g,$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],O,b,A,I,J,j,q,Q,g.tintFill,R,tt),this.manager.postBatch(g)},"batchSprite"),batchTexture:r(function(g,y,C,S,E,w,M,R,O,b,A,I,L,F,D,B,V,U,W,Y,N,z,G,X,k,H,$,K,Z,J,j,q,Q){Q===void 0&&(Q=!1),this.manager.set(this,g);var tt=this._tempMatrix1,st=this._tempMatrix2,_=this._tempMatrix3,ot=U/C+$,ht=W/S+K,lt=(U+Y)/C+$,et=(W+N)/S+K,nt=M,at=R,ct=-B,St=-V;if(g.isCropped){var It=g._crop,Ct=It.width,Pt=It.height;nt=Ct,at=Pt,M=Ct,R=Pt,U=It.x,W=It.y;var Vt=U,le=W;I&&(Vt=Y-It.x-Ct),L&&(le=N-It.y-Pt),ot=Vt/C+$,ht=le/S+K,lt=(Vt+Ct)/C+$,et=(le+Pt)/S+K,ct=-B+U,St=-V+W}L=L^(!j&&y.isRenderTexture?1:0),I&&(nt*=-1,ct+=M),L&&(at*=-1,St+=R),Z.roundPixels&&(E=Math.floor(E),w=Math.floor(w)),st.applyITRS(E,w,A,O,b),tt.copyFrom(Z.matrix),J?(tt.multiplyWithOffset(J,-Z.scrollX*F,-Z.scrollY*D),st.e=E,st.f=w):(st.e-=Z.scrollX*F,st.f-=Z.scrollY*D),tt.multiply(st,_);var Ft=_.setQuad(ct,St,ct+nt,St+at,Z.renderRoundPixels);q==null&&(q=this.setTexture2D(y)),g&&!Q&&this.manager.preBatch(g),this.batchQuad(g,Ft[0],Ft[1],Ft[2],Ft[3],Ft[4],Ft[5],Ft[6],Ft[7],ot,ht,lt,et,z,G,X,k,H,y,q),g&&!Q&&this.manager.postBatch(g)},"batchTexture"),batchTextureFrame:r(function(g,y,C,S,E,w,M){this.manager.set(this);var R=this._tempMatrix1.copyFrom(w),O=this._tempMatrix2;M?R.multiply(M,O):O=R;var b=O.setQuad(y,C,y+g.width,C+g.height),A=this.setTexture2D(g.source.glTexture);S=d.getTintAppendFloatAlpha(S,E),this.batchQuad(null,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],g.u0,g.v0,g.u1,g.v1,S,S,S,S,0,g.glTexture,A)},"batchTextureFrame"),batchFillRect:r(function(g,y,C,S,E,w){this.renderer.pipelines.set(this);var M=this.calcMatrix;w&&w.multiply(E,M);var R=M.setQuad(g,y,g+C,y+S),O=this.fillTint;this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],0,0,1,1,O.TL,O.TR,O.BL,O.BR,2)},"batchFillRect"),batchFillTriangle:r(function(g,y,C,S,E,w,M,R){this.renderer.pipelines.set(this);var O=this.calcMatrix;R&&R.multiply(M,O);var b=O.getX(g,y),A=O.getY(g,y),I=O.getX(C,S),L=O.getY(C,S),F=O.getX(E,w),D=O.getY(E,w),B=this.fillTint;this.batchTri(null,b,A,I,L,F,D,0,0,1,1,B.TL,B.TR,B.BL,2)},"batchFillTriangle"),batchStrokeTriangle:r(function(g,y,C,S,E,w,M,R,O){var b=this.tempTriangle;b[0].x=g,b[0].y=y,b[0].width=M,b[1].x=C,b[1].y=S,b[1].width=M,b[2].x=E,b[2].y=w,b[2].width=M,b[3].x=g,b[3].y=y,b[3].width=M,this.batchStrokePath(b,M,!1,R,O)},"batchStrokeTriangle"),batchFillPath:r(function(g,y,C){this.renderer.pipelines.set(this);var S=this.calcMatrix;C&&C.multiply(y,S);for(var E=g.length,w=this.polygonCache,M,R,O=this.fillTint.TL,b=this.fillTint.TR,A=this.fillTint.BL,I=0;I<E;++I)R=g[I],w.push(R.x,R.y);M=m(w),E=M.length;for(var L=0;L<E;L+=3){var F=M[L+0]*2,D=M[L+1]*2,B=M[L+2]*2,V=w[F+0],U=w[F+1],W=w[D+0],Y=w[D+1],N=w[B+0],z=w[B+1],G=S.getX(V,U),X=S.getY(V,U),k=S.getX(W,Y),H=S.getY(W,Y),$=S.getX(N,z),K=S.getY(N,z);this.batchTri(null,G,X,k,H,$,K,0,0,1,1,O,b,A,2)}w.length=0},"batchFillPath"),batchStrokePath:r(function(g,y,C,S,E){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var w=g.length-1,M=0;M<w;M++){var R=g[M],O=g[M+1];this.batchLine(R.x,R.y,O.x,O.y,R.width/2,O.width/2,y,M,!C&&M===w-1,S,E)}},"batchStrokePath"),batchLine:r(function(g,y,C,S,E,w,M,R,O,b,A){this.renderer.pipelines.set(this);var I=this.calcMatrix;A&&A.multiply(b,I);var L=C-g,F=S-y,D=Math.sqrt(L*L+F*F);if(D!==0){var B=E*(S-y)/D,V=E*(g-C)/D,U=w*(S-y)/D,W=w*(g-C)/D,Y=C-U,N=S-W,z=g-B,G=y-V,X=C+U,k=S+W,H=g+B,$=y+V,K=I.getX(Y,N),Z=I.getY(Y,N),J=I.getX(z,G),j=I.getY(z,G),q=I.getX(X,k),Q=I.getY(X,k),tt=I.getX(H,$),st=I.getY(H,$),_=this.strokeTint,ot=_.TL,ht=_.TR,lt=_.BL,et=_.BR;if(this.batchQuad(null,tt,st,J,j,K,Z,q,Q,0,0,1,1,ot,ht,lt,et,2),!(M<=2)){var nt=this.prevQuad,at=this.firstQuad;R>0&&nt[4]?this.batchQuad(null,tt,st,J,j,nt[0],nt[1],nt[2],nt[3],0,0,1,1,ot,ht,lt,et,2):(at[0]=tt,at[1]=st,at[2]=J,at[3]=j,at[4]=1),O&&at[4]?this.batchQuad(null,K,Z,q,Q,at[0],at[1],at[2],at[3],0,0,1,1,ot,ht,lt,et,2):(nt[0]=K,nt[1]=Z,nt[2]=q,nt[3]=Q,nt[4]=1)}}},"batchLine"),destroy:r(function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,f.prototype.destroy.call(this),this},"destroy")});n.exports=p}),43439:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=i(4127),u=i(89924),l=i(29100),o=new h({Extends:l,initialize:r(function(v){v.vertShader=m(v,"vertShader",u),v.fragShader=m(v,"fragShader",c),v.attributes=m(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,v)},"PointLightPipeline"),onRender:r(function(d,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},"onRender"),batchPointLight:r(function(d,v,f,p,g,y,C,S,E,w,M,R){var O=d.color,b=d.intensity,A=d.radius,I=d.attenuation,L=O.r*b,F=O.g*b,D=O.b*b,B=v.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(f,p,M,R,A,I,L,F,D,B),this.batchLightVert(g,y,M,R,A,I,L,F,D,B),this.batchLightVert(C,S,M,R,A,I,L,F,D,B),this.batchLightVert(f,p,M,R,A,I,L,F,D,B),this.batchLightVert(C,S,M,R,A,I,L,F,D,B),this.batchLightVert(E,w,M,R,A,I,L,F,D,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},"batchPointLight"),batchLightVert:r(function(d,v,f,p,g,y,C,S,E,w){var M=this.vertexViewF32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++R]=d,M[++R]=v,M[++R]=f,M[++R]=p,M[++R]=g,M[++R]=y,M[++R]=C,M[++R]=S,M[++R]=E,M[++R]=w,this.vertexCount++},"batchLightVert")});n.exports=o}),84057:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(89422),c=i(95540),u=i(27681),l=i(49627),o=i(29100),d=new h({Extends:o,initialize:r(function(f){f.renderTarget=c(f,"renderTarget",1),f.fragShader=c(f,"fragShader",u),f.vertShader=c(f,"vertShader",l),f.attributes=c(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.batchSize=1,f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],o.call(this,f),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new m,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},"PostFXPipeline"),bootFX:r(function(){o.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height);for(var p=this.renderTargets,g=0;g<p.length;g++)p[g].autoResize=!0},"bootFX"),postBatch:r(function(v){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},"postBatch"),onDraw:r(function(v){this.bindAndDraw(v)},"onDraw"),getController:r(function(v){return v!==void 0?v:this.controller?this.controller:this},"getController"),copySprite:r(function(v,f,p){p===void 0&&(p=!1);var g=this.gl;g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,v.texture.webGLTexture);var y=g.getParameter(g.FRAMEBUFFER_BINDING);g.bindFramebuffer(g.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,f.texture.webGLTexture,0),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),p&&(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,y))},"copySprite"),copyFrame:r(function(v,f,p,g,y){this.manager.copyFrame(v,f,p,g,y)},"copyFrame"),copyToGame:r(function(v){this.manager.copyToGame(v)},"copyToGame"),drawFrame:r(function(v,f,p){this.manager.drawFrame(v,f,p,this.colorMatrix)},"drawFrame"),blendFrames:r(function(v,f,p,g,y){this.manager.blendFrames(v,f,p,g,y)},"blendFrames"),blendFramesAdditive:r(function(v,f,p,g,y){this.manager.blendFramesAdditive(v,f,p,g,y)},"blendFramesAdditive"),clearFrame:r(function(v,f){this.manager.clearFrame(v,f)},"clearFrame"),blitFrame:r(function(v,f,p,g,y,C){this.manager.blitFrame(v,f,p,g,y,C)},"blitFrame"),copyFrameRect:r(function(v,f,p,g,y,C,S,E){this.manager.copyFrameRect(v,f,p,g,y,C,S,E)},"copyFrameRect"),bindAndDraw:r(function(v,f,p,g,y){p===void 0&&(p=!0),g===void 0&&(g=!0);var C=this.gl,S=this.renderer;this.bind(y),this.set1i("uMainSampler",0),f?(C.viewport(0,0,f.width,f.height),C.bindFramebuffer(C.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,f.texture.webGLTexture,0),p&&(g?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT))):(S.popFramebuffer(!1,!1),S.currentFramebuffer||C.viewport(0,0,S.width,S.height)),S.restoreStencilMask(),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,v.texture.webGLTexture),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),f&&(C.bindTexture(C.TEXTURE_2D,null),C.bindFramebuffer(C.FRAMEBUFFER,S.currentFramebuffer.webGLFramebuffer))},"bindAndDraw"),destroy:r(function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),o.prototype.destroy.call(this),this},"destroy")});n.exports=d}),43558:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),m=i(67502),c=i(83419),u=i(96293),l=i(95540),o=i(57516),d=i(27681),v=i(87841),f=i(32302),p=i(45561),g=i(60722),y=i(29100),C=new c({Extends:o,initialize:r(function(E){var w=l(E,"fragShader",d),M=l(E,"vertShader",g),R=l(E,"drawShader",d),O=[{name:"DrawSprite",fragShader:p,vertShader:g},{name:"CopySprite",fragShader:w,vertShader:M},{name:"DrawGame",fragShader:R,vertShader:g},{name:"ColorMatrix",fragShader:u}],b=l(E,"shaders",[]);E.shaders=O.concat(b),E.vertShader||(E.vertShader=M),E.batchSize=1,o.call(this,E),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},"PreFXPipeline"),boot:r(function(){y.prototype.boot.call(this);var S=this.shaders,E=this.renderer;this.drawSpriteShader=S[0],this.copyShader=S[1],this.gameShader=S[2],this.colorMatrixShader=S[3],this.fsTarget=new f(E,E.width,E.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var w=new ArrayBuffer(168);this.quadVertexData=w,this.quadVertexViewF32=new Float32Array(w),this.quadVertexBuffer=E.createVertexBuffer(w,this.gl.STATIC_DRAW),this.onResize(E.width,E.height),this.currentShader=this.copyShader,this.set2f("uResolution",E.width,E.height)},"boot"),onResize:r(function(S,E){var w=this.quadVertexViewF32;w[1]=E,w[22]=E,w[14]=S,w[28]=S,w[35]=S,w[36]=E},"onResize"),batchQuad:r(function(S,E,w,M,R,O,b,A,I,L,F,D,B,V,U,W,Y,N,z){var G=Math.min(E,M,O,A),X=Math.min(w,R,b,I),k=Math.max(E,M,O,A),H=Math.max(w,R,b,I),$=k-G,K=H-X,Z=this.spriteBounds.setTo(G,X,$,K),J=S?S.preFX.padding:0,j=$+J*2,q=K+J*2,Q=Math.abs(Math.max(j,q)),tt=this.manager.getRenderTarget(Q),st=this.targetBounds.setTo(0,0,tt.width,tt.height);m(st,Math.round(Z.centerX),Math.round(Z.centerY)),this.tempSprite=S;var _=this.gl,ot=this.renderer;ot.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ot.width,ot.height),this.flipProjectionMatrix(!0),S&&(this.onDrawSprite(S,tt),S.preFX.onFX(this));var ht=this.fsTarget;return this.flush(),_.viewport(0,0,ot.width,ot.height),_.bindFramebuffer(_.FRAMEBUFFER,ht.framebuffer.webGLFramebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,ht.texture.webGLTexture,0),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),this.setTexture2D(z),this.batchVert(E,w,L,F,0,N,V),this.batchVert(M,R,L,B,0,N,W),this.batchVert(O,b,D,B,0,N,Y),this.batchVert(E,w,L,F,0,N,V),this.batchVert(O,b,D,B,0,N,Y),this.batchVert(A,I,D,F,0,N,U),this.flush(),this.flipProjectionMatrix(!1),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,tt.texture.webGLTexture),_.copyTexSubImage2D(_.TEXTURE_2D,0,0,0,st.x,st.y,st.width,st.height),_.bindFramebuffer(_.FRAMEBUFFER,null),_.bindTexture(_.TEXTURE_2D,null),this.onBatch(S),this.currentShader=this.copyShader,this.onDraw(tt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},"batchQuad"),onDrawSprite:r(function(){},"onDrawSprite"),onCopySprite:r(function(){},"onCopySprite"),copySprite:r(function(S,E,w,M,R,O,b){w===void 0&&(w=!0),M===void 0&&(M=!0),R===void 0&&(R=!1),b===void 0&&(b=this.copyShader);var A=this.gl,I=this.tempSprite;O&&(b=this.colorMatrixShader),this.currentShader=b;var L=this.setVertexBuffer(this.quadVertexBuffer);b.bind(L,!1);var F=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",F.width,F.height),I.preFX.onFXCopy(this),this.onCopySprite(S,E,I),O&&(this.set1fv("uColorMatrix",O.getData()),this.set1f("uAlpha",O.alpha)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,S.texture.webGLTexture),S.height>E.height)A.viewport(0,0,S.width,S.height),this.setTargetUVs(S,E);else{var D=E.height-S.height;A.viewport(0,D,S.width,S.height),this.resetUVs()}if(A.bindFramebuffer(A.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,E.texture.webGLTexture,0),w&&(A.clearColor(0,0,0,+!M),A.clear(A.COLOR_BUFFER_BIT)),R){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),R&&this.renderer.setBlendMode(B),A.bindFramebuffer(A.FRAMEBUFFER,null)},"copySprite"),copy:r(function(S,E){var w=this.gl;this.set1i("uMainSampler",0),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,S.texture.webGLTexture),w.viewport(0,0,S.width,S.height),this.setUVs(0,0,0,1,1,1,1,0),w.bindFramebuffer(w.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,E.texture.webGLTexture,0),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.quadVertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null)},"copy"),blendFrames:r(function(S,E,w,M,R){this.manager.blendFrames(S,E,w,M,R)},"blendFrames"),blendFramesAdditive:r(function(S,E,w,M,R){this.manager.blendFramesAdditive(S,E,w,M,R)},"blendFramesAdditive"),drawToGame:r(function(S){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(S)},"drawToGame"),copyToGame:r(function(S){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(S)},"copyToGame"),bindAndDraw:r(function(S){var E=this.gl,w=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(S.texture);var M=this._tempMatrix1.loadIdentity(),R=this.targetBounds.x,O=this.targetBounds.y,b=R+S.width,A=O+S.height,I=M.getX(R,O),L=M.getX(R,A),F=M.getX(b,A),D=M.getX(b,O),B=M.getY(R,O),V=M.getY(R,A),U=M.getY(b,A),W=M.getY(b,O),Y=16777215;this.batchVert(I,B,0,0,0,0,Y),this.batchVert(L,V,0,1,0,0,Y),this.batchVert(F,U,1,1,0,0,Y),this.batchVert(I,B,0,0,0,0,Y),this.batchVert(F,U,1,1,0,0,Y),this.batchVert(D,W,1,0,0,0,Y),w.restoreFramebuffer(!1,!0),w.currentFramebuffer||E.viewport(0,0,w.width,w.height),w.restoreStencilMask(),this.flush(),this.tempSprite=null},"bindAndDraw"),onDraw:r(function(S){this.drawToGame(S)},"onDraw"),setUVs:r(function(S,E,w,M,R,O,b,A){var I=this.quadVertexViewF32;I[2]=S,I[3]=E,I[9]=w,I[10]=M,I[16]=R,I[17]=O,I[23]=S,I[24]=E,I[30]=R,I[31]=O,I[37]=b,I[38]=A},"setUVs"),setTargetUVs:r(function(S,E){var w=E.height/S.height;w>.5?w=.5-(w-.5):w=.5+(.5-w),this.setUVs(0,w,0,1+w,1,1+w,1,w)},"setTargetUVs"),resetUVs:r(function(){this.setUVs(0,0,0,1,1,1,1,0)},"resetUVs"),destroy:r(function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,o.prototype.destroy.call(this),this},"destroy")});n.exports=C}),81041:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=i(57516),u=new h({Extends:c,initialize:r(function(o){o.topology=5,o.batchSize=m(o,"batchSize",256),c.call(this,o)},"RopePipeline")});n.exports=u}),12385:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=i(57516),u=i(45561),l=i(60722),o=i(29100),d=new h({Extends:c,initialize:r(function(f){f.fragShader=m(f,"fragShader",u),f.vertShader=m(f,"vertShader",l),f.forceZero=!0,c.call(this,f)},"SinglePipeline"),boot:r(function(){o.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height)},"boot")});n.exports=d}),7589:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35407),m=i(10312),c=i(83419),u=i(89422),l=i(96293),o=i(36682),d=i(95540),v=i(48247),f=i(49627),p=i(29100),g=new c({Extends:p,initialize:r(function(C){C.renderTarget=d(C,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),C.vertShader=d(C,"vertShader",f),C.shaders=d(C,"shaders",[{name:"Copy",fragShader:o},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:l}]),C.attributes=d(C,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),C.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],C.batchSize=1,p.call(this,C),this.colorMatrix=new u,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},"UtilityPipeline"),boot:r(function(){p.prototype.boot.call(this);var y=this.shaders,C=this.renderTargets;this.copyShader=y[0],this.addShader=y[1],this.linearShader=y[2],this.colorMatrixShader=y[3],this.fullFrame1=C[0],this.fullFrame2=C[1],this.halfFrame1=C[2],this.halfFrame2=C[3]},"boot"),copyFrame:r(function(y,C,S,E,w){S===void 0&&(S=1),E===void 0&&(E=!0),w===void 0&&(w=!0);var M=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",S),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,y.texture.webGLTexture),C?(M.viewport(0,0,C.width,C.height),M.bindFramebuffer(M.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,C.texture.webGLTexture,0)):M.viewport(0,0,y.width,y.height),E&&(w?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},"copyFrame"),blitFrame:r(function(y,C,S,E,w,M,R){S===void 0&&(S=1),E===void 0&&(E=!0),w===void 0&&(w=!0),M===void 0&&(M=!1),R===void 0&&(R=!1);var O=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",S),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,y.texture.webGLTexture),y.height>C.height)O.viewport(0,0,y.width,y.height),this.setTargetUVs(y,C);else{var b=C.height-y.height;O.viewport(0,b,y.width,y.height)}if(O.bindFramebuffer(O.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,C.texture.webGLTexture,0),E&&(w?O.clearColor(0,0,0,0):O.clearColor(0,0,0,1),O.clear(O.COLOR_BUFFER_BIT)),M){var A=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}R&&this.flipY(),O.bufferData(O.ARRAY_BUFFER,this.vertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),M&&this.renderer.setBlendMode(A),O.bindFramebuffer(O.FRAMEBUFFER,null),O.bindTexture(O.TEXTURE_2D,null),this.resetUVs()},"blitFrame"),copyFrameRect:r(function(y,C,S,E,w,M,R,O){R===void 0&&(R=!0),O===void 0&&(O=!0);var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,y.texture.webGLTexture,0),R&&(O?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT)),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,C.texture.webGLTexture),b.copyTexSubImage2D(b.TEXTURE_2D,0,0,0,S,E,w,M),b.bindFramebuffer(b.FRAMEBUFFER,null),b.bindTexture(b.TEXTURE_2D,null)},"copyFrameRect"),copyToGame:r(function(y){var C=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,y.texture.webGLTexture),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6)},"copyToGame"),drawFrame:r(function(y,C,S,E){S===void 0&&(S=!0),E===void 0&&(E=this.colorMatrix);var w=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,y.texture.webGLTexture),C?(w.viewport(0,0,C.width,C.height),w.bindFramebuffer(w.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,C.texture.webGLTexture,0)):w.viewport(0,0,y.width,y.height),S?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},"drawFrame"),blendFrames:r(function(y,C,S,E,w,M){E===void 0&&(E=1),w===void 0&&(w=!0),M===void 0&&(M=this.linearShader);var R=this.gl;this.setShader(M),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",E),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,y.texture.webGLTexture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,C.texture.webGLTexture),S?(R.bindFramebuffer(R.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,S.texture.webGLTexture,0),R.viewport(0,0,S.width,S.height)):R.viewport(0,0,y.width,y.height),w?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},"blendFrames"),blendFramesAdditive:r(function(y,C,S,E,w){this.blendFrames(y,C,S,E,w,this.addShader)},"blendFramesAdditive"),clearFrame:r(function(y,C){C===void 0&&(C=!0);var S=this.gl;S.viewport(0,0,y.width,y.height),S.bindFramebuffer(S.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),C?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT);var E=this.renderer.currentFramebuffer;S.bindFramebuffer(S.FRAMEBUFFER,E.webGLFramebuffer)},"clearFrame"),setUVs:r(function(y,C,S,E,w,M,R,O){var b=this.vertexViewF32;b[2]=y,b[3]=C,b[6]=S,b[7]=E,b[10]=w,b[11]=M,b[14]=y,b[15]=C,b[18]=w,b[19]=M,b[22]=R,b[23]=O},"setUVs"),setTargetUVs:r(function(y,C){var S=C.height/y.height;S>.5?S=.5-(S-.5):S=.5+(.5-S),this.setUVs(0,S,0,1+S,1,1+S,1,S)},"setTargetUVs"),flipX:r(function(){this.setUVs(1,0,1,1,0,1,0,0)},"flipX"),flipY:r(function(){this.setUVs(0,1,0,0,1,0,1,1)},"flipY"),resetUVs:r(function(){this.setUVs(0,0,0,1,1,1,1,0)},"resetUVs")});n.exports=g}),36060:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=T}),84817:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"}),36712:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"}),40285:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"}),65918:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"}),92852:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"}),56072:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"}),57566:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"}),77085:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}}),54812:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(99155),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.amount=1},"BarrelFXPipeline"),onPreRender:r(function(l,o){l=this.getController(l),this.set1f("amount",l.amount,o)},"onPreRender")});n.exports=u}),67329:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(24400),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},"BloomFXPipeline"),onPreRender:r(function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},"onPreRender"),onDraw:r(function(l){var o=this.getController(),d=this.fullFrame1,v=this.fullFrame2;this.copyFrame(l,v);for(var f=2/l.width*o.offsetX,p=2/l.height*o.offsetY,g=0;g<o.steps;g++)this.set2f("offset",f,0),this.copySprite(l,d),this.set2f("offset",0,p),this.copySprite(d,l);this.blendFrames(v,l,d,o.strength),this.copyToGame(d)},"onDraw")});n.exports=u}),8861:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(41514),c=i(51078),u=i(94328),l=i(84057),o=new h({Extends:l,initialize:r(function(v){l.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:c},{name:"Gaussian13",fragShader:u}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},"BlurFXPipeline"),setQualityLow:r(function(){return this.activeShader=this.shaders[0],this},"setQualityLow"),setQualityMedium:r(function(){return this.activeShader=this.shaders[1],this},"setQualityMedium"),setQualityHigh:r(function(){return this.activeShader=this.shaders[2],this},"setQualityHigh"),onDraw:r(function(d){var v=this.getController(),f=this.gl,p=this.fullFrame1,g=f.getParameter(f.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),f.activeTexture(f.TEXTURE0),f.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var y=0;y<v.steps;y++)this.set2f("offset",v.x,0),this.copySprite(d,p),this.set2f("offset",0,v.y),this.copySprite(p,d);f.bindFramebuffer(f.FRAMEBUFFER,g),f.bindTexture(f.TEXTURE_2D,null),this.copyToGame(d)},"onDraw")});n.exports=o}),51051:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(90610),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},"BokehFXPipeline"),onPreRender:r(function(l,o,d,v){l=this.getController(l),this.set1f("radius",l.radius,o),this.set1f("amount",l.amount,o),this.set1f("contrast",l.contrast,o),this.set1f("strength",l.strength,o),this.set2f("blur",l.blurX,l.blurY,o),this.setBoolean("isTiltShift",l.isTiltShift,o),d&&v&&this.set2f("resolution",d,v,o)},"onPreRender"),onDraw:r(function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)},"onDraw")});n.exports=u}),89428:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(91899),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},"CircleFXPipeline"),onPreRender:r(function(l,o,d,v){l=this.getController(l),this.set1f("scale",l.scale,o),this.set1f("feather",l.feather,o),this.set1f("thickness",l.thickness,o),this.set3fv("color",l.glcolor,o),this.set4fv("backgroundColor",l.glcolor2,o),d&&v&&this.set2f("resolution",d,v,o)},"onPreRender"),onDraw:r(function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)},"onDraw")});n.exports=u}),88904:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(84057),c=new h({Extends:m,initialize:r(function(l){m.call(this,{game:l})},"ColorMatrixFXPipeline"),onDraw:r(function(u){var l=this.fullFrame1;this.controller?this.manager.drawFrame(u,l,!0,this.controller):this.drawFrame(u,l),this.copyToGame(l)},"onDraw")});n.exports=c}),63563:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(47838),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.x=.005,this.y=.005,this.glTexture},"DisplacementFXPipeline"),onBoot:r(function(){this.setTexture("__WHITE")},"onBoot"),setTexture:r(function(l){var o=this.game.textures.getFrame(l);o&&(this.glTexture=o.glTexture)},"setTexture"),onDraw:r(function(l){var o=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",o.x,o.y),this.bindTexture(o.glTexture,1),this.copySprite(l,d),this.copyToGame(d)},"onDraw")});n.exports=u}),94045:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=i(98656),u=i(84057),l=i(70554),o=new h({Extends:u,initialize:r(function(v,f){var p=m(f,"quality",.1),g=m(f,"distance",10);u.call(this,{game:v,fragShader:l.setGlowQuality(c,v,p,g)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},"GlowFXPipeline"),onPreRender:r(function(d,v,f,p){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,v),this.set1f("innerStrength",d.innerStrength,v),this.set4fv("glowColor",d.glcolor,v),this.setBoolean("knockout",d.knockout,v),f&&p&&this.set2f("resolution",f,p,v)},"onPreRender"),onDraw:r(function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)},"onDraw")});n.exports=o}),74088:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(70463),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},"GradientFXPipeline"),onPreRender:r(function(l,o){l=this.getController(l),this.set1f("alpha",l.alpha,o),this.set1i("size",l.size,o),this.set3fv("color1",l.glcolor1,o),this.set3fv("color2",l.glcolor2,o),this.set2f("positionFrom",l.fromX,l.fromY,o),this.set2f("positionTo",l.toX,l.toY,o)},"onPreRender")});n.exports=u}),99636:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50831),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.amount=1},"PixelateFXPipeline"),onPreRender:r(function(l,o,d,v){l=this.getController(l),this.set1f("amount",l.amount,o),d&&v&&this.set2f("resolution",d,v,o)},"onPreRender"),onDraw:r(function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)},"onDraw")});n.exports=u}),34700:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(92595),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},"ShadowFXPipeline"),onPreRender:r(function(l,o){l=this.getController(l);var d=l.samples;this.set1i("samples",d,o),this.set1f("intensity",l.intensity,o),this.set1f("decay",l.decay,o),this.set1f("power",l.power/d,o),this.set2f("lightPosition",l.x,l.y,o),this.set4fv("color",l.glcolor,o)},"onPreRender")});n.exports=u}),91157:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(72464),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},"ShineFXPipeline"),onPreRender:r(function(l,o,d,v){l=this.getController(l),this.setTime("time",o),this.set1f("speed",l.speed,o),this.set1f("lineWidth",l.lineWidth,o),this.set1f("gradient",l.gradient,o),this.setBoolean("reveal",l.reveal,o),d&&v&&this.set2f("resolution",d,v,o)},"onPreRender"),onDraw:r(function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)},"onDraw")});n.exports=u}),27797:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(39249),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},"VignetteFXPipeline"),onPreRender:r(function(l,o){l=this.getController(l),this.set1f("radius",l.radius,o),this.set1f("strength",l.strength,o),this.set2f("position",l.x,l.y,o)},"onPreRender")});n.exports=u}),67603:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(2878),c=i(84057),u=new h({Extends:c,initialize:r(function(o){c.call(this,{game:o,fragShader:m}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},"WipeFXPipeline"),onPreRender:r(function(l,o){l=this.getController(l);var d=l.progress,v=l.wipeWidth,f=l.direction,p=l.axis;this.set4f("config",d,v,f,p,o),this.setBoolean("reveal",l.reveal,o)},"onPreRender")});n.exports=u}),58918:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};n.exports=h}),96615:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36060),m=i(79291),c={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};c=m(!1,c,h),n.exports=c}),35407:(n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)}),78908:(n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)}),85191:(n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)}),96293:(n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)}),36682:(n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)}),99155:(n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)}),24400:(n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)}),94328:(n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),41514:(n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),51078:(n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),90610:(n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)}),91899:(n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)}),47838:(n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)}),98656:(n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)}),70463:(n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)}),50831:(n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)}),92595:(n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)}),72464:(n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)}),39249:(n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)}),2878:(n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)}),31063:(n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)}),48247:(n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)}),41214:(n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)}),39653:(n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)}),62143:(n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),47940:(n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),98840:(n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),44667:(n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),4127:(n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)}),89924:(n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)}),27681:(n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)}),49627:(n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)}),45561:(n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),60722:(n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),89350:((n,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}}),93567:((n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o){this.webGLAttribLocation=-1,this.gl=u,this.program=l,this.name=o,this.createResource()},"WebGLAttribLocationWrapper"),createResource:r(function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var c=this.gl;c.isContextLost()||(this.webGLAttribLocation=c.getAttribLocation(this.program.webGLProgram,this.name))},"createResource"),destroy:r(function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1},"destroy")});n.exports=m}),26128:((n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o,d){this.webGLBuffer=null,this.gl=u,this.initialDataOrSize=l,this.bufferType=o,this.bufferUsage=d,this.createResource()},"WebGLBufferWrapper"),createResource:r(function(){if(this.initialDataOrSize!==null){var c=this.gl;if(!c.isContextLost()){var u=this.bufferType,l=c.createBuffer();this.webGLBuffer=l,c.bindBuffer(u,this.webGLBuffer),c.bufferData(u,this.initialDataOrSize,this.bufferUsage),c.bindBuffer(u,null)}}},"createResource"),destroy:r(function(){var c=this.gl;c.isContextLost()||c.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null},"destroy")});n.exports=m}),84387:((n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},c=new h({initialize:r(function(l,o,d,v,f){this.webGLFramebuffer=null,this.gl=l,this.width=o,this.height=d,this.renderTexture=v,this.addDepthStencilBuffer=!!f,this.createResource()},"WebGLFramebufferWrapper"),createResource:r(function(){var u=this.gl;if(!u.isContextLost()){var l=this.renderTexture,o=0,d=u.createFramebuffer();if(this.webGLFramebuffer=d,u.bindFramebuffer(u.FRAMEBUFFER,d),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,l.webGLTexture,0),o=u.checkFramebufferStatus(u.FRAMEBUFFER),o!==u.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(m[o]||o));if(this.addDepthStencilBuffer){var v=u.createRenderbuffer();u.bindRenderbuffer(u.RENDERBUFFER,v),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,this.width,this.height),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,v)}u.bindFramebuffer(u.FRAMEBUFFER,null)}},"createResource"),destroy:r(function(){if(this.webGLFramebuffer!==null){var u=this.gl;if(!u.isContextLost()){u.bindFramebuffer(u.FRAMEBUFFER,this.webGLFramebuffer);var l=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,null,0),u.deleteTexture(l));var o=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&u.deleteRenderbuffer(o),u.bindFramebuffer(u.FRAMEBUFFER,null),u.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}},"destroy")});n.exports=c}),1482:((n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o){this.webGLProgram=null,this.gl=u,this.vertexSource=l,this.fragmentSource=o,this.createResource()},"WebGLProgramWrapper"),createResource:r(function(){var c=this.gl;if(!c.isContextLost()){var u=c.createProgram(),l=c.createShader(c.VERTEX_SHADER),o=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(l,this.vertexSource),c.shaderSource(o,this.fragmentSource),c.compileShader(l),c.compileShader(o);var d=`Shader failed:
`;if(!c.getShaderParameter(l,c.COMPILE_STATUS))throw new Error("Vertex "+d+c.getShaderInfoLog(l));if(!c.getShaderParameter(o,c.COMPILE_STATUS))throw new Error("Fragment "+d+c.getShaderInfoLog(o));if(c.attachShader(u,l),c.attachShader(u,o),c.linkProgram(u),!c.getProgramParameter(u,c.LINK_STATUS))throw new Error("Link "+d+c.getProgramInfoLog(u));c.useProgram(u),this.webGLProgram=u}},"createResource"),destroy:r(function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)},"destroy")});n.exports=m}),82751:((n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50030),c=new h({initialize:r(function(l,o,d,v,f,p,g,y,C,S,E,w,M){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=o,this.minFilter=d,this.magFilter=v,this.wrapT=f,this.wrapS=p,this.format=g,this.pixels=y,this.width=C,this.height=S,this.pma=E??!0,this.forceSize=!!w,this.flipY=!!M,this.__SPECTOR_Metadata={},this.createResource()},"WebGLTextureWrapper"),createResource:r(function(){var u=this.gl;if(!u.isContextLost()){if(this.pixels instanceof c){this.webGLTexture=this.pixels.webGLTexture;return}var l=u.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},"createResource"),update:r(function(u,l,o,d,v,f,p,g,y){if(!(l===0||o===0)){this.pixels=u,this.width=l,this.height=o,this.flipY=d,this.wrapS=v,this.wrapT=f,this.minFilter=p,this.magFilter=g,this.format=y;var C=this.gl;C.isContextLost()||this._processTexture()}},"update"),_processTexture:r(function(){var u=this.gl;u.activeTexture(u.TEXTURE0);var l=u.getParameter(u.TEXTURE_BINDING_2D);u.bindTexture(u.TEXTURE_2D,this.webGLTexture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.minFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,this.magFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,this.wrapS),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,this.wrapT),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,this.flipY);var o=this.pixels,d=this.mipLevel,v=this.width,f=this.height,p=this.format,g=!1;if(o==null)u.texImage2D(u.TEXTURE_2D,d,p,v,f,0,p,u.UNSIGNED_BYTE,null),g=m(v,f);else if(o.compressed){v=o.width,f=o.height,g=o.generateMipmap;for(var y=0;y<o.mipmaps.length;y++)u.compressedTexImage2D(u.TEXTURE_2D,y,o.internalFormat,o.mipmaps[y].width,o.mipmaps[y].height,0,o.mipmaps[y].data)}else o instanceof Uint8Array?(u.texImage2D(u.TEXTURE_2D,d,p,v,f,0,p,u.UNSIGNED_BYTE,o),g=m(v,f)):(this.forceSize||(v=o.width,f=o.height),u.texImage2D(u.TEXTURE_2D,d,p,p,u.UNSIGNED_BYTE,o),g=m(v,f));g&&u.generateMipmap(u.TEXTURE_2D),l?u.bindTexture(u.TEXTURE_2D,l):u.bindTexture(u.TEXTURE_2D,null)},"_processTexture"),spectorMetadata:{get:r(function(){return this.__SPECTOR_Metadata},"get"),set:r(function(u){this.__SPECTOR_Metadata=u,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=u)},"set")},destroy:r(function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof c||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)},"destroy")});n.exports=c}),57183:((n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o){this.webGLUniformLocation=null,this.gl=u,this.program=l,this.name=o,this.createResource()},"WebGLUniformLocationWrapper"),createResource:r(function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var c=this.gl;c.isContextLost()||(this.webGLUniformLocation=c.getUniformLocation(this.program.webGLProgram,this.name))},"createResource"),destroy:r(function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null},"destroy")});n.exports=m}),9503:((n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};n.exports=h}),76531:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13560),m=i(83419),c=i(45319),u=i(50792),l=i(97480),o=i(8443),d=i(57811),v=i(74403),f=i(45818),p=i(29747),g=i(87841),y=i(86555),C=i(56583),S=i(26099),E=i(38058),w=new m({Extends:u,initialize:r(function(R){u.call(this),this.game=R,this.canvas,this.canvasBounds=new g,this.parent=null,this.parentIsWindow=!1,this.parentSize=new y,this.gameSize=new y,this.baseSize=new y,this.displaySize=new y,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new S(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:p,windowResize:p,fullScreenChange:p,fullScreenError:p}},"ScaleManager"),preBoot:r(function(){this.parseConfig(this.game.config),this.game.events.once(o.BOOT,this.boot,this)},"preBoot"),boot:r(function(){var M=this.game;this.canvas=M.canvas,this.fullscreen=M.device.fullscreen;var R=this.scaleMode;R!==h.SCALE_MODE.RESIZE&&R!==h.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(R),R===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),M.events.on(o.PRE_STEP,this.step,this),M.events.once(o.READY,this.refresh,this),M.events.once(o.DESTROY,this.destroy,this),this.startListeners()},"boot"),parseConfig:r(function(M){this.getParent(M),this.getParentBounds();var R=M.width,O=M.height,b=M.scaleMode,A=M.zoom,I=M.autoRound;if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var L=this.parentSize.width;L===0&&(L=window.innerWidth);var F=parseInt(R,10)/100;R=Math.floor(L*F)}if(typeof O=="string")if(O.substr(-1)!=="%")O=parseInt(O,10);else{var D=this.parentSize.height;D===0&&(D=window.innerHeight);var B=parseInt(O,10)/100;O=Math.floor(D*B)}this.scaleMode=b,this.autoRound=I,this.autoCenter=M.autoCenter,this.resizeInterval=M.resizeInterval,I&&(R=Math.floor(R),O=Math.floor(O)),this.gameSize.setSize(R,O),A===h.ZOOM.MAX_ZOOM&&(A=this.getMaxZoom()),this.zoom=A,A!==1&&(this._resetZoom=!0),this.baseSize.setSize(R,O),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),M.minWidth>0&&this.displaySize.setMin(M.minWidth*A,M.minHeight*A),M.maxWidth>0&&this.displaySize.setMax(M.maxWidth*A,M.maxHeight*A),this.displaySize.setSize(R,O),(M.snapWidth>0||M.snapHeight>0)&&this.displaySize.setSnap(M.snapWidth,M.snapHeight),this.orientation=f(R,O)},"parseConfig"),getParent:r(function(M){var R=M.parent;if(R!==null){if(this.parent=v(R),this.parentIsWindow=this.parent===document.body,M.expandParent&&M.scaleMode!==h.SCALE_MODE.NONE){var O=this.parent.getBoundingClientRect();(this.parentIsWindow||O.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",O=this.parent.getBoundingClientRect(),!this.parentIsWindow&&O.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}M.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=v(M.fullscreenTarget))}},"getParent"),getParentBounds:r(function(){if(!this.parent)return!1;var M=this.parentSize,R=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(R.height=d(!0));var O=R.width,b=R.height;if(M.width!==O||M.height!==b)return M.setSize(O,b),!0;if(this.canvas){var A=this.canvasBounds,I=this.canvas.getBoundingClientRect();if(I.x!==A.x||I.y!==A.y)return!0}return!1},"getParentBounds"),lockOrientation:r(function(M){var R=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return R?R.call(screen,M):!1},"lockOrientation"),setParentSize:r(function(M,R){return this.parentSize.setSize(M,R),this.refresh()},"setParentSize"),setGameSize:r(function(M,R){var O=this.autoRound;O&&(M=Math.floor(M),R=Math.floor(R));var b=this.width,A=this.height;return this.gameSize.resize(M,R),this.baseSize.resize(M,R),O&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(M/R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(b,A)},"setGameSize"),resize:r(function(M,R){var O=this.zoom,b=this.autoRound;b&&(M=Math.floor(M),R=Math.floor(R));var A=this.width,I=this.height;this.gameSize.resize(M,R),this.baseSize.resize(M,R),b&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(M*O,R*O),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,F=M*O,D=R*O;return b&&(F=Math.floor(F),D=Math.floor(D)),(F!==M||D!==R)&&(L.width=F+"px",L.height=D+"px"),this.refresh(A,I)},"resize"),setZoom:r(function(M){return this.zoom=M,this._resetZoom=!0,this.refresh()},"setZoom"),setMaxZoom:r(function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},"setMaxZoom"),setSnap:r(function(M,R){return M===void 0&&(M=0),R===void 0&&(R=M),this.displaySize.setSnap(M,R),this.refresh()},"setSnap"),refresh:r(function(M,R){M===void 0&&(M=this.width),R===void 0&&(R=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var O=this.game.domContainer;if(O){this.baseSize.setCSS(O);var b=this.canvas.style,A=O.style;A.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",A.marginLeft=b.marginLeft,A.marginTop=b.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,M,R),this},"refresh"),updateOrientation:r(function(){if(this._checkOrientation){this._checkOrientation=!1;var M=f(this.width,this.height);M!==this.orientation&&(this.orientation=M,this.emit(l.ORIENTATION_CHANGE,M))}},"updateOrientation"),updateScale:r(function(){var M=this.canvas.style,R=this.gameSize.width,O=this.gameSize.height,b,A,I=this.zoom,L=this.autoRound;if(this.scaleMode===h.SCALE_MODE.NONE)this.displaySize.setSize(R*I,O*I),b=this.displaySize.width,A=this.displaySize.height,L&&(b=Math.floor(b),A=Math.floor(A)),this._resetZoom&&(M.width=b+"px",M.height=A+"px",this._resetZoom=!1);else if(this.scaleMode===h.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),b=this.displaySize.width,A=this.displaySize.height,L&&(b=Math.floor(b),A=Math.floor(A)),this.canvas.width=b,this.canvas.height=A;else if(this.scaleMode===h.SCALE_MODE.EXPAND){var F=this.game.config.width,D=this.game.config.height,B=this.parentSize.width,V=this.parentSize.height,U=B/F,W=V/D,Y,N;U<W?(Y=F,N=U!==0?V/U:D):(Y=W!==0?B/W:F,N=D);var z=c(Y,this.displaySize.minWidth,this.displaySize.maxWidth),G=c(N,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(z,G),this.gameSize.setSize(z,G),L&&(z=Math.floor(z),G=Math.floor(G)),this.canvas.width=z,this.canvas.height=G;var X=B*(z/Y),k=V*(G/N);this.displaySize.setSize(X,k),b=this.displaySize.width,A=this.displaySize.height,L&&(b=Math.floor(b),A=Math.floor(A)),M.width=b+"px",M.height=A+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),b=this.displaySize.width,A=this.displaySize.height,L&&(b=Math.floor(b),A=Math.floor(A)),M.width=b+"px",M.height=A+"px";this.getParentBounds(),this.updateCenter()},"updateScale"),getMaxZoom:r(function(){var M=C(this.parentSize.width,this.gameSize.width,0,!0),R=C(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(M,R),1)},"getMaxZoom"),updateCenter:r(function(){var M=this.autoCenter;if(M!==h.CENTER.NO_CENTER){var R=this.canvas,O=R.style,b=R.getBoundingClientRect(),A=b.width,I=b.height,L=Math.floor((this.parentSize.width-A)/2),F=Math.floor((this.parentSize.height-I)/2);M===h.CENTER.CENTER_HORIZONTALLY?F=0:M===h.CENTER.CENTER_VERTICALLY&&(L=0),O.marginLeft=L+"px",O.marginTop=F+"px"}},"updateCenter"),updateBounds:r(function(){var M=this.canvasBounds,R=this.canvas.getBoundingClientRect();M.x=R.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),M.y=R.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),M.width=R.width,M.height=R.height},"updateBounds"),transformX:r(function(M){return(M-this.canvasBounds.left)*this.displayScale.x},"transformX"),transformY:r(function(M){return(M-this.canvasBounds.top)*this.displayScale.y},"transformY"),startFullscreen:r(function(M){M===void 0&&(M={navigationUI:"hide"});var R=this.fullscreen;if(!R.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!R.active){var O=this.getFullscreenTarget();R.keyboard?O[R.request](Element.ALLOW_KEYBOARD_INPUT):O[R.request](M)}},"startFullscreen"),fullscreenSuccessHandler:r(function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},"fullscreenSuccessHandler"),fullscreenErrorHandler:r(function(M){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,M)},"fullscreenErrorHandler"),getFullscreenTarget:r(function(){if(!this.fullscreenTarget){var M=document.createElement("div");M.style.margin="0",M.style.padding="0",M.style.width="100%",M.style.height="100%",this.fullscreenTarget=M,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var R=this.canvas.parentNode;R.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},"getFullscreenTarget"),removeFullscreenTarget:r(function(){if(this._createdFullscreenTarget){var M=this.fullscreenTarget;if(M&&M.parentNode){var R=M.parentNode;R.insertBefore(this.canvas,M),R.removeChild(M)}}},"removeFullscreenTarget"),stopFullscreen:r(function(){var M=this.fullscreen;if(!M.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;M.active&&document[M.cancel](),this.removeFullscreenTarget()},"stopFullscreen"),leaveFullScreenSuccessHandler:r(function(){this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},"leaveFullScreenSuccessHandler"),toggleFullscreen:r(function(M){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(M)},"toggleFullscreen"),startListeners:r(function(){var M=this,R=this.domlisteners;if(R.orientationChange=function(){M.updateBounds(),M._checkOrientation=!0,M.dirty=!0,M.refresh()},R.windowResize=function(){M.updateBounds(),M.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",R.orientationChange,!1):window.addEventListener("orientationchange",R.orientationChange,!1),window.addEventListener("resize",R.windowResize,!1),this.fullscreen.available){R.fullScreenChange=function(b){return M.onFullScreenChange(b)},R.fullScreenError=function(b){return M.onFullScreenError(b)};var O=["webkit","moz",""];O.forEach(function(b){document.addEventListener(b+"fullscreenchange",R.fullScreenChange,!1),document.addEventListener(b+"fullscreenerror",R.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",R.fullScreenChange,!1),document.addEventListener("MSFullscreenError",R.fullScreenError,!1)}},"startListeners"),onFullScreenChange:r(function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},"onFullScreenChange"),onFullScreenError:r(function(){this.removeFullscreenTarget()},"onFullScreenError"),getViewPort:r(function(M,R){M instanceof E||(R=M,M=void 0),R===void 0&&(R=new g);var O=this.baseSize,b=this.parentSize,A=this.canvasBounds,I=this.displayScale,L=A.x>=0?0:-(A.x*I.x),F=A.y>=0?0:-(A.y*I.y),D;b.width>=A.width?D=O.width:D=O.width-(A.width-b.width)*I.x;var B;return b.height>=A.height?B=O.height:B=O.height-(A.height-b.height)*I.y,R.setTo(L,F,D,B),M&&(R.width/=M.zoomX,R.height/=M.zoomY,R.centerX=M.centerX+M.scrollX,R.centerY=M.centerY+M.scrollY),R},"getViewPort"),step:r(function(M,R){this.parent&&(this._lastCheck+=R,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},"step"),stopListeners:r(function(){var M=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",M.orientationChange,!1):window.removeEventListener("orientationchange",M.orientationChange,!1),window.removeEventListener("resize",M.windowResize,!1);var R=["webkit","moz",""];R.forEach(function(O){document.removeEventListener(O+"fullscreenchange",M.fullScreenChange,!1),document.removeEventListener(O+"fullscreenerror",M.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",M.fullScreenError,!1)},"stopListeners"),destroy:r(function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},"destroy"),isFullscreen:{get:r(function(){return this.fullscreen.active},"get")},width:{get:r(function(){return this.gameSize.width},"get")},height:{get:r(function(){return this.gameSize.height},"get")},isPortrait:{get:r(function(){return this.orientation===h.ORIENTATION.PORTRAIT},"get")},isLandscape:{get:r(function(){return this.orientation===h.ORIENTATION.LANDSCAPE},"get")},isGamePortrait:{get:r(function(){return this.height>this.width},"get")},isGameLandscape:{get:r(function(){return this.width>this.height},"get")}});n.exports=w}),64743:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}}),39218:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}}),81050:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}}),80805:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}}),13560:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};n.exports=h}),56139:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"}),2336:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"}),47412:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"}),51452:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"}),20666:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"}),47945:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"}),97480:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}}),93364:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),m=i(13560),c={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};c=h(!1,c,m.CENTER),c=h(!1,c,m.ORIENTATION),c=h(!1,c,m.SCALE_MODE),c=h(!1,c,m.ZOOM),n.exports=c}),27397:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),m=i(35355),c=r(function(u){var l=u.game.config.defaultPhysicsSystem,o=h(u.settings,"physics",!1);if(!(!l&&!o)){var d=[];if(l&&d.push(m(l+"Physics")),o)for(var v in o)v=m(v.concat("Physics")),d.indexOf(v)===-1&&d.push(v);return d}},"GetPhysicsPlugins");n.exports=c}),52106:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),m=r(function(c){var u=c.plugins.getDefaultScenePlugins(),l=h(c.settings,"plugins",!1);return Array.isArray(l)?l:u||[]},"GetScenePlugins");n.exports=m}),87033:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=T}),97482:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(2368),c=new h({initialize:r(function(l){this.sys=new m(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},"Scene"),update:r(function(){},"update")});n.exports=c}),60903:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(89993),c=i(44594),u=i(8443),l=i(35154),o=i(54899),d=i(29747),v=i(97482),f=i(2368),p=new h({initialize:r(function(y,C){if(this.game=y,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,C){Array.isArray(C)||(C=[C]);for(var S=0;S<C.length;S++)this._pending.push({key:"default",scene:C[S],autoStart:S===0,data:{}})}y.events.once(u.READY,this.bootQueue,this)},"SceneManager"),bootQueue:r(function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(u.SYSTEM_READY,this.systemScene,this);var g,y,C,S;for(g=0;g<this._pending.length;g++){y=this._pending[g],C=y.key,S=y.scene;var E;S instanceof v?E=this.createSceneFromInstance(C,S):typeof S=="object"?E=this.createSceneFromObject(C,S):typeof S=="function"&&(E=this.createSceneFromFunction(C,S)),C=E.sys.settings.key,this.keys[C]=E,this.scenes.push(E),this._data[C]&&(E.sys.settings.data=this._data[C].data,this._data[C].autoStart&&(y.autoStart=!0)),(y.autoStart||E.sys.settings.active)&&this._start.push(C)}for(this._pending.length=0,this._data={},this.isBooted=!0,g=0;g<this._start.length;g++)y=this._start[g],this.start(y);this._start.length=0}},"bootQueue"),processQueue:r(function(){var g=this._pending.length,y=this._queue.length;if(!(g===0&&y===0)){var C,S;if(g){for(C=0;C<g;C++)S=this._pending[C],this.add(S.key,S.scene,S.autoStart,S.data);for(C=0;C<this._start.length;C++)S=this._start[C],this.start(S);this._start.length=0,this._pending.length=0}for(C=0;C<this._queue.length;C++)S=this._queue[C],this[S.op](S.keyA,S.keyB,S.data);this._queue.length=0}},"processQueue"),add:r(function(g,y,C,S){if(C===void 0&&(C=!1),S===void 0&&(S={}),this.isProcessing||!this.isBooted)return this._pending.push({key:g,scene:y,autoStart:C,data:S}),this.isBooted||(this._data[g]={data:S}),null;g=this.getKey(g,y);var E;return y instanceof v?E=this.createSceneFromInstance(g,y):typeof y=="object"?(y.key=g,E=this.createSceneFromObject(g,y)):typeof y=="function"&&(E=this.createSceneFromFunction(g,y)),E.sys.settings.data=S,g=E.sys.settings.key,this.keys[g]=E,this.scenes.push(E),(C||E.sys.settings.active)&&(this._pending.length?this._start.push(g):this.start(g)),E},"add"),remove:r(function(g){if(this.isProcessing)return this.queueOp("remove",g);var y=this.getScene(g);if(!y||y.sys.isTransitioning())return this;var C=this.scenes.indexOf(y),S=y.sys.settings.key;return C>-1&&(delete this.keys[S],this.scenes.splice(C,1),this._start.indexOf(S)>-1&&(C=this._start.indexOf(S),this._start.splice(C,1)),y.sys.destroy()),this},"remove"),bootScene:r(function(g){var y=g.sys,C=y.settings;y.sceneUpdate=d,g.init&&(g.init.call(g,C.data),C.status=m.INIT,C.isTransition&&y.events.emit(c.TRANSITION_INIT,C.transitionFrom,C.transitionDuration));var S;y.load&&(S=y.load,S.reset()),S&&g.preload?(g.preload.call(g),C.status=m.LOADING,S.once(o.COMPLETE,this.loadComplete,this),S.start()):this.create(g)},"bootScene"),loadComplete:r(function(g){this.create(g.scene)},"loadComplete"),payloadComplete:r(function(g){this.bootScene(g.scene)},"payloadComplete"),update:r(function(g,y){this.processQueue(),this.isProcessing=!0;for(var C=this.scenes.length-1;C>=0;C--){var S=this.scenes[C].sys;S.settings.status>m.START&&S.settings.status<=m.RUNNING&&S.step(g,y),S.scenePlugin&&S.scenePlugin._target&&S.scenePlugin.step(g,y)}},"update"),render:r(function(g){for(var y=0;y<this.scenes.length;y++){var C=this.scenes[y].sys;C.settings.visible&&C.settings.status>=m.LOADING&&C.settings.status<m.SLEEPING&&C.render(g)}this.isProcessing=!1},"render"),create:r(function(g){var y=g.sys,C=y.settings;g.create&&(C.status=m.CREATING,g.create.call(g,C.data),C.status===m.DESTROYED)||(C.isTransition&&y.events.emit(c.TRANSITION_START,C.transitionFrom,C.transitionDuration),g.update&&(y.sceneUpdate=g.update),C.status=m.RUNNING,y.events.emit(c.CREATE,g))},"create"),createSceneFromFunction:r(function(g,y){var C=new y;if(C instanceof v){var S=C.sys.settings.key;if(S!==""&&(g=S),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return this.createSceneFromInstance(g,C)}else return C.sys=new f(C),C.sys.settings.key=g,C.sys.init(this.game),C},"createSceneFromFunction"),createSceneFromInstance:r(function(g,y){var C=y.sys.settings.key;return C===""&&(y.sys.settings.key=g),y.sys.init(this.game),y},"createSceneFromInstance"),createSceneFromObject:r(function(g,y){var C=new v(y),S=C.sys.settings.key;S!==""?g=S:C.sys.settings.key=g,C.sys.init(this.game);for(var E=["init","preload","create","update","render"],w=0;w<E.length;w++){var M=l(y,E[w],null);M&&(C[E[w]]=M)}if(y.hasOwnProperty("extend")){for(var R in y.extend)if(y.extend.hasOwnProperty(R)){var O=y.extend[R];R==="data"&&C.hasOwnProperty("data")&&typeof O=="object"?C.data.merge(O):R!=="sys"&&(C[R]=O)}}return C},"createSceneFromObject"),getKey:r(function(g,y){if(g||(g="default"),typeof y=="function")return g;if(y instanceof v?g=y.sys.settings.key:typeof y=="object"&&y.hasOwnProperty("key")&&(g=y.key),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return g},"getKey"),getScenes:r(function(g,y){g===void 0&&(g=!0),y===void 0&&(y=!1);for(var C=[],S=this.scenes,E=0;E<S.length;E++){var w=S[E];w&&(!g||g&&w.sys.isActive())&&C.push(w)}return y?C.reverse():C},"getScenes"),getScene:r(function(g){if(typeof g=="string"){if(this.keys[g])return this.keys[g]}else for(var y=0;y<this.scenes.length;y++)if(g===this.scenes[y])return g;return null},"getScene"),isActive:r(function(g){var y=this.getScene(g);return y?y.sys.isActive():null},"isActive"),isPaused:r(function(g){var y=this.getScene(g);return y?y.sys.isPaused():null},"isPaused"),isVisible:r(function(g){var y=this.getScene(g);return y?y.sys.isVisible():null},"isVisible"),isSleeping:r(function(g){var y=this.getScene(g);return y?y.sys.isSleeping():null},"isSleeping"),pause:r(function(g,y){var C=this.getScene(g);return C&&C.sys.pause(y),this},"pause"),resume:r(function(g,y){var C=this.getScene(g);return C&&C.sys.resume(y),this},"resume"),sleep:r(function(g,y){var C=this.getScene(g);return C&&!C.sys.isTransitioning()&&C.sys.sleep(y),this},"sleep"),wake:r(function(g,y){var C=this.getScene(g);return C&&C.sys.wake(y),this},"wake"),run:r(function(g,y){var C=this.getScene(g);if(!C){for(var S=0;S<this._pending.length;S++)if(this._pending[S].key===g){this.queueOp("start",g,y);break}return this}C.sys.isSleeping()?C.sys.wake(y):C.sys.isPaused()?C.sys.resume(y):this.start(g,y)},"run"),start:r(function(g,y){if(!this.isBooted)return this._data[g]={autoStart:!0,data:y},this;var C=this.getScene(g);if(!C)return console.warn("Scene key not found: "+g),this;var S=C.sys,E=S.settings.status;if(E>=m.START&&E<=m.CREATING)return this;if(E>=m.RUNNING&&E<=m.SLEEPING)S.shutdown(),S.sceneUpdate=d,S.start(y);else{S.sceneUpdate=d,S.start(y);var w;if(S.load&&(w=S.load),w&&S.settings.hasOwnProperty("pack")&&(w.reset(),w.addPack({payload:S.settings.pack})))return S.settings.status=m.LOADING,w.once(o.COMPLETE,this.payloadComplete,this),w.start(),this}return this.bootScene(C),this},"start"),stop:r(function(g,y){var C=this.getScene(g);if(C&&!C.sys.isTransitioning()&&C.sys.settings.status!==m.SHUTDOWN){var S=C.sys.load;S&&(S.off(o.COMPLETE,this.loadComplete,this),S.off(o.COMPLETE,this.payloadComplete,this)),C.sys.shutdown(y)}return this},"stop"),switch:r(function(g,y,C){var S=this.getScene(g),E=this.getScene(y);return S&&E&&S!==E&&(this.sleep(g),this.isSleeping(y)?this.wake(y,C):this.start(y,C)),this},"switch"),getAt:r(function(g){return this.scenes[g]},"getAt"),getIndex:r(function(g){var y=this.getScene(g);return this.scenes.indexOf(y)},"getIndex"),bringToTop:r(function(g){if(this.isProcessing)return this.queueOp("bringToTop",g);var y=this.getIndex(g),C=this.scenes;if(y!==-1&&y<C.length){var S=this.getScene(g);C.splice(y,1),C.push(S)}return this},"bringToTop"),sendToBack:r(function(g){if(this.isProcessing)return this.queueOp("sendToBack",g);var y=this.getIndex(g);if(y!==-1&&y>0){var C=this.getScene(g);this.scenes.splice(y,1),this.scenes.unshift(C)}return this},"sendToBack"),moveDown:r(function(g){if(this.isProcessing)return this.queueOp("moveDown",g);var y=this.getIndex(g);if(y>0){var C=y-1,S=this.getScene(g),E=this.getAt(C);this.scenes[y]=E,this.scenes[C]=S}return this},"moveDown"),moveUp:r(function(g){if(this.isProcessing)return this.queueOp("moveUp",g);var y=this.getIndex(g);if(y<this.scenes.length-1){var C=y+1,S=this.getScene(g),E=this.getAt(C);this.scenes[y]=E,this.scenes[C]=S}return this},"moveUp"),moveAbove:r(function(g,y){if(g===y)return this;if(this.isProcessing)return this.queueOp("moveAbove",g,y);var C=this.getIndex(g),S=this.getIndex(y);if(C!==-1&&S!==-1&&S<C){var E=this.getAt(S);this.scenes.splice(S,1),this.scenes.splice(C+(S>C),0,E)}return this},"moveAbove"),moveBelow:r(function(g,y){if(g===y)return this;if(this.isProcessing)return this.queueOp("moveBelow",g,y);var C=this.getIndex(g),S=this.getIndex(y);if(C!==-1&&S!==-1&&S>C){var E=this.getAt(S);this.scenes.splice(S,1),C===0?this.scenes.unshift(E):this.scenes.splice(C-(S<C),0,E)}return this},"moveBelow"),queueOp:r(function(g,y,C,S){return this._queue.push({op:g,keyA:y,keyB:C,data:S}),this},"queueOp"),swapPosition:r(function(g,y){if(g===y)return this;if(this.isProcessing)return this.queueOp("swapPosition",g,y);var C=this.getIndex(g),S=this.getIndex(y);if(C!==S&&C!==-1&&S!==-1){var E=this.getAt(C);this.scenes[C]=this.scenes[S],this.scenes[S]=E}return this},"swapPosition"),dump:r(function(){for(var g=[],y=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],C=0;C<this.scenes.length;C++){var S=this.scenes[C].sys,E=S.settings.visible&&(S.settings.status===m.RUNNING||S.settings.status===m.PAUSED)?"[*] ":"[-] ";E+=S.settings.key+" ("+y[S.settings.status]+")",g.push(E)}g.join(`
`)},"dump"),destroy:r(function(){for(var g=0;g<this.scenes.length;g++){var y=this.scenes[g].sys;y.destroy()}this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null},"destroy")});n.exports=p}),52209:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(44594),u=i(95540),l=i(37277),o=new m({initialize:r(function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.pluginStart,this)},"ScenePlugin"),boot:r(function(){this.systems.events.once(c.DESTROY,this.destroy,this)},"boot"),pluginStart:r(function(){this._target=null,this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},"pluginStart"),start:r(function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,v),this},"start"),restart:r(function(d){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,d),this},"restart"),transition:r(function(d){d===void 0&&(d={});var v=u(d,"target",!1),f=this.manager.getScene(v);if(!v||!this.checkValidTransition(f))return!1;var p=u(d,"duration",1e3);this._elapsed=0,this._target=f,this._duration=p,this._willSleep=u(d,"sleep",!1),this._willRemove=u(d,"remove",!1);var g=u(d,"onUpdate",null);g&&(this._onUpdate=g,this._onUpdateScope=u(d,"onUpdateScope",this.scene));var y=u(d,"allowInput",!1);this.settings.transitionAllowInput=y;var C=f.sys.settings;C.isTransition=!0,C.transitionFrom=this.scene,C.transitionDuration=p,C.transitionAllowInput=y,u(d,"moveAbove",!1)?this.manager.moveAbove(this.key,v):u(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),f.sys.isSleeping()?f.sys.wake(u(d,"data")):this.manager.start(v,u(d,"data"));var S=u(d,"onStart",null),E=u(d,"onStartScope",this.scene);return S&&S.call(E,this.scene,f,p),this.systems.events.emit(c.TRANSITION_OUT,f,p),!0},"transition"),checkValidTransition:r(function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},"checkValidTransition"),step:r(function(d,v){this._elapsed+=v,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},"step"),transitionComplete:r(function(){var d=this._target.sys,v=this._target.sys.settings;d.events.emit(c.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},"transitionComplete"),add:r(function(d,v,f,p){return this.manager.add(d,v,f,p)},"add"),launch:r(function(d,v){return d&&d!==this.key&&this.manager.queueOp("start",d,v),this},"launch"),run:r(function(d,v){return d&&d!==this.key&&this.manager.queueOp("run",d,v),this},"run"),pause:r(function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("pause",d,v),this},"pause"),resume:r(function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("resume",d,v),this},"resume"),sleep:r(function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("sleep",d,v),this},"sleep"),wake:r(function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("wake",d,v),this},"wake"),switch:r(function(d,v){return d!==this.key&&this.manager.queueOp("switch",this.key,d,v),this},"switch"),stop:r(function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("stop",d,v),this},"stop"),setActive:r(function(d,v,f){v===void 0&&(v=this.key);var p=this.manager.getScene(v);return p&&p.sys.setActive(d,f),this},"setActive"),setVisible:r(function(d,v){v===void 0&&(v=this.key);var f=this.manager.getScene(v);return f&&f.sys.setVisible(d),this},"setVisible"),isSleeping:r(function(d){return d===void 0&&(d=this.key),this.manager.isSleeping(d)},"isSleeping"),isActive:r(function(d){return d===void 0&&(d=this.key),this.manager.isActive(d)},"isActive"),isPaused:r(function(d){return d===void 0&&(d=this.key),this.manager.isPaused(d)},"isPaused"),isVisible:r(function(d){return d===void 0&&(d=this.key),this.manager.isVisible(d)},"isVisible"),swapPosition:r(function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.swapPosition(d,v),this},"swapPosition"),moveAbove:r(function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.moveAbove(d,v),this},"moveAbove"),moveBelow:r(function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.moveBelow(d,v),this},"moveBelow"),remove:r(function(d){return d===void 0&&(d=this.key),this.manager.remove(d),this},"remove"),moveUp:r(function(d){return d===void 0&&(d=this.key),this.manager.moveUp(d),this},"moveUp"),moveDown:r(function(d){return d===void 0&&(d=this.key),this.manager.moveDown(d),this},"moveDown"),bringToTop:r(function(d){return d===void 0&&(d=this.key),this.manager.bringToTop(d),this},"bringToTop"),sendToBack:r(function(d){return d===void 0&&(d=this.key),this.manager.sendToBack(d),this},"sendToBack"),get:r(function(d){return this.manager.getScene(d)},"get"),getStatus:r(function(d){var v=this.manager.getScene(d);if(v)return v.sys.getStatus()},"getStatus"),getIndex:r(function(d){return d===void 0&&(d=this.key),this.manager.getIndex(d)},"getIndex"),shutdown:r(function(){var d=this.systems.events;d.off(c.SHUTDOWN,this.shutdown,this),d.off(c.TRANSITION_OUT)},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null},"destroy")});l.register("ScenePlugin",o,"scenePlugin"),n.exports=o}),55681:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(89993),m=i(35154),c=i(46975),u=i(87033),l={create:r(function(o){return typeof o=="string"?o={key:o}:o===void 0&&(o={}),{status:h.PENDING,key:m(o,"key",""),active:m(o,"active",!1),visible:m(o,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(o,"pack",!1),cameras:m(o,"cameras",null),map:m(o,"map",c(u,m(o,"mapAdd",{}))),physics:m(o,"physics",{}),loader:m(o,"loader",{}),plugins:m(o,"plugins",!1),input:m(o,"input",{})}},"create")};n.exports=l}),2368:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(89993),c=i(42363),u=i(44594),l=i(27397),o=i(52106),d=i(29747),v=i(55681),f=new h({initialize:r(function(g,y){this.scene=g,this.game,this.renderer,this.config=y,this.settings=v.create(y),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=d},"Systems"),init:r(function(p){this.settings.status=m.INIT,this.sceneUpdate=d,this.game=p,this.renderer=p.renderer,this.canvas=p.canvas,this.context=p.context;var g=p.plugins;this.plugins=g,g.addToScene(this,c.Global,[c.CoreScene,o(this),l(this)]),this.events.emit(u.BOOT,this),this.settings.isBooted=!0},"init"),step:r(function(p,g){var y=this.events;y.emit(u.PRE_UPDATE,p,g),y.emit(u.UPDATE,p,g),this.sceneUpdate.call(this.scene,p,g),y.emit(u.POST_UPDATE,p,g)},"step"),render:r(function(p){var g=this.displayList;g.depthSort(),this.events.emit(u.PRE_RENDER,p),this.cameras.render(p,g),this.events.emit(u.RENDER,p)},"render"),queueDepthSort:r(function(){this.displayList.queueDepthSort()},"queueDepthSort"),depthSort:r(function(){this.displayList.depthSort()},"depthSort"),pause:r(function(p){var g=this.settings,y=this.getStatus();return y!==m.CREATING&&y!==m.RUNNING?console.warn("Cannot pause non-running Scene",g.key):this.settings.active&&(g.status=m.PAUSED,g.active=!1,this.events.emit(u.PAUSE,this,p)),this},"pause"),resume:r(function(p){var g=this.events,y=this.settings;return this.settings.active||(y.status=m.RUNNING,y.active=!0,g.emit(u.RESUME,this,p)),this},"resume"),sleep:r(function(p){var g=this.settings,y=this.getStatus();return y!==m.CREATING&&y!==m.RUNNING?console.warn("Cannot sleep non-running Scene",g.key):(g.status=m.SLEEPING,g.active=!1,g.visible=!1,this.events.emit(u.SLEEP,this,p)),this},"sleep"),wake:r(function(p){var g=this.events,y=this.settings;return y.status=m.RUNNING,y.active=!0,y.visible=!0,g.emit(u.WAKE,this,p),y.isTransition&&g.emit(u.TRANSITION_WAKE,y.transitionFrom,y.transitionDuration),this},"wake"),getData:r(function(){return this.settings.data},"getData"),getStatus:r(function(){return this.settings.status},"getStatus"),canInput:r(function(){var p=this.settings.status;return p>m.PENDING&&p<=m.RUNNING},"canInput"),isSleeping:r(function(){return this.settings.status===m.SLEEPING},"isSleeping"),isActive:r(function(){return this.settings.status===m.RUNNING},"isActive"),isPaused:r(function(){return this.settings.status===m.PAUSED},"isPaused"),isTransitioning:r(function(){return this.settings.isTransition||this.scenePlugin._target!==null},"isTransitioning"),isTransitionOut:r(function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},"isTransitionOut"),isTransitionIn:r(function(){return this.settings.isTransition},"isTransitionIn"),isVisible:r(function(){return this.settings.visible},"isVisible"),setVisible:r(function(p){return this.settings.visible=p,this},"setVisible"),setActive:r(function(p,g){return p?this.resume(g):this.pause(g)},"setActive"),start:r(function(p){var g=this.events,y=this.settings;p&&(y.data=p),y.status=m.START,y.active=!0,y.visible=!0,g.emit(u.START,this),g.emit(u.READY,this,p)},"start"),shutdown:r(function(p){var g=this.events,y=this.settings;g.off(u.TRANSITION_INIT),g.off(u.TRANSITION_START),g.off(u.TRANSITION_COMPLETE),g.off(u.TRANSITION_OUT),y.status=m.SHUTDOWN,y.active=!1,y.visible=!1,g.emit(u.SHUTDOWN,this,p)},"shutdown"),destroy:r(function(){var p=this.events,g=this.settings;g.status=m.DESTROYED,g.active=!1,g.visible=!1,p.emit(u.DESTROY,this),p.removeAllListeners();for(var y=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],C=0;C<y.length;C++)this[y[C]]=null},"destroy")});n.exports=f}),89993:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=T}),69830:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"}),7919:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"}),46763:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"}),11763:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),71555:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),36735:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"}),3809:(n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"}),90716:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"}),58262:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"}),91633:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"}),10319:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"}),87132:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),81961:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"}),90194:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"}),6265:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),33178:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"}),43063:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"}),11259:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"}),61611:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"}),45209:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"}),22966:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"}),21747:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"}),44594:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}}),62194:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(89993),m=i(79291),c={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};c=m(!1,c,h),n.exports=c}),30341:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50792),c=i(14463),u=i(79291),l=i(29747),o=new h({Extends:m,initialize:r(function(v,f,p){m.call(this),this.manager=v,this.key=f,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=u(this.config,p),this.markers={},this.currentMarker=null,this.pendingRemove=!1},"BaseSound"),addMarker:r(function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),!1):(d=u(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,!0)},"addMarker"),updateMarker:r(function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(this.markers[d.name]=u(!0,this.markers[d.name],d),!0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),!1)},"updateMarker"),removeMarker:r(function(d){var v=this.markers[d];return v?(this.markers[d]=null,v):null},"removeMarker"),play:r(function(d,v){if(d===void 0&&(d=""),typeof d=="object"&&(v=d,d=""),typeof d!="string")return!1;if(!d)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=u(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},"play"),pause:r(function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},"pause"),resume:r(function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},"resume"),stop:r(function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},"stop"),applyConfig:r(function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},"applyConfig"),resetConfig:r(function(){this.currentConfig.seek=0,this.currentConfig.delay=0},"resetConfig"),update:l,calculateRate:r(function(){var d=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,f=Math.pow(d,v);this.totalRate=this.currentConfig.rate*this.manager.rate*f},"calculateRate"),destroy:r(function(){this.pendingRemove||(this.stop(),this.emit(c.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)},"destroy")});n.exports=o}),85034:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(41786),c=i(50792),u=i(14463),l=i(8443),o=i(46710),d=i(58731),v=i(29747),f=i(26099),p=new h({Extends:c,initialize:r(function(y){c.call(this),this.game=y,this.jsonCache=y.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new f;var C=y.events;C.on(l.BLUR,this.onGameBlur,this),C.on(l.FOCUS,this.onGameFocus,this),C.on(l.PRE_STEP,this.update,this),C.once(l.DESTROY,this.destroy,this)},"BaseSoundManager"),add:v,addAudioSprite:r(function(g,y){y===void 0&&(y={});var C=this.add(g,y);C.spritemap=this.jsonCache.get(g).spritemap;for(var S in C.spritemap)if(C.spritemap.hasOwnProperty(S)){var E=m(y),w=C.spritemap[S];E.loop=w.hasOwnProperty("loop")?w.loop:!1,C.addMarker({name:S,start:w.start,duration:w.end-w.start,config:E})}return C},"addAudioSprite"),get:r(function(g){return d(this.sounds,"key",g)},"get"),getAll:r(function(g){return g?o(this.sounds,"key",g):o(this.sounds)},"getAll"),getAllPlaying:r(function(){return o(this.sounds,"isPlaying",!0)},"getAllPlaying"),play:r(function(g,y){var C=this.add(g);return C.once(u.COMPLETE,C.destroy,C),y?y.name?(C.addMarker(y),C.play(y.name)):C.play(y):C.play()},"play"),playAudioSprite:r(function(g,y,C){var S=this.addAudioSprite(g);return S.once(u.COMPLETE,S.destroy,S),S.play(y,C)},"playAudioSprite"),remove:r(function(g){var y=this.sounds.indexOf(g);return y!==-1?(g.destroy(),this.sounds.splice(y,1),!0):!1},"remove"),removeAll:r(function(){this.sounds.forEach(function(g){g.destroy()}),this.sounds.length=0},"removeAll"),removeByKey:r(function(g){for(var y=0,C=this.sounds.length-1;C>=0;C--){var S=this.sounds[C];S.key===g&&(S.destroy(),this.sounds.splice(C,1),y++)}return y},"removeByKey"),pauseAll:r(function(){this.forEachActiveSound(function(g){g.pause()}),this.emit(u.PAUSE_ALL,this)},"pauseAll"),resumeAll:r(function(){this.forEachActiveSound(function(g){g.resume()}),this.emit(u.RESUME_ALL,this)},"resumeAll"),setListenerPosition:v,stopAll:r(function(){this.forEachActiveSound(function(g){g.stop()}),this.emit(u.STOP_ALL,this)},"stopAll"),stopByKey:r(function(g){var y=0;return this.getAll(g).forEach(function(C){C.stop()&&y++}),y},"stopByKey"),isPlaying:r(function(g){var y=this.sounds,C=y.length-1,S;if(g===void 0){for(;C>=0;C--)if(S=this.sounds[C],S.isPlaying)return!0}else for(;C>=0;C--)if(S=this.sounds[C],S.key===g&&S.isPlaying)return!0;return!1},"isPlaying"),unlock:v,onBlur:v,onFocus:v,onGameBlur:r(function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},"onGameBlur"),onGameFocus:r(function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},"onGameFocus"),update:r(function(g,y){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(u.UNLOCKED,this));for(var C=this.sounds.length-1;C>=0;C--)this.sounds[C].pendingRemove&&this.sounds.splice(C,1);this.sounds.forEach(function(S){S.update(g,y)})},"update"),destroy:r(function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},"destroy"),forEachActiveSound:r(function(g,y){var C=this;this.sounds.forEach(function(S,E){S&&!S.pendingRemove&&g.call(y||C,S,E,C.sounds)})},"forEachActiveSound"),setRate:r(function(g){return this.rate=g,this},"setRate"),rate:{get:r(function(){return this._rate},"get"),set:r(function(g){this._rate=g,this.forEachActiveSound(function(y){y.calculateRate()}),this.emit(u.GLOBAL_RATE,this,g)},"set")},setDetune:r(function(g){return this.detune=g,this},"setDetune"),detune:{get:r(function(){return this._detune},"get"),set:r(function(g){this._detune=g,this.forEachActiveSound(function(y){y.calculateRate()}),this.emit(u.GLOBAL_DETUNE,this,g)},"set")}});n.exports=p}),14747:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33684),m=i(25960),c=i(57490),u={create:r(function(l){var o=l.config.audio,d=l.device.audio;return o.noAudio||!d.webAudio&&!d.audioData?new m(l):d.webAudio&&!o.disableWebAudio?new c(l):new h(l)},"create")};n.exports=u}),19723:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),98882:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"}),57506:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"}),73146:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"}),11305:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"}),40577:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"}),30333:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"}),20394:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"}),21802:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"}),1299:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"}),99190:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"}),97125:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"}),89259:(n=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"}),79986:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"}),17586:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),19618:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"}),42306:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"}),10387:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"}),48959:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),9960:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"}),19180:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"}),98328:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"}),50401:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"}),52498:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"}),14463:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}}),64895:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30341),m=i(83419),c=i(14463),u=i(45319),l=new m({Extends:h,initialize:r(function(d,v,f){if(f===void 0&&(f={}),this.tags=d.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,d,v,f)},"HTML5AudioSound"),play:r(function(o,d){return this.manager.isLocked(this,"play",[o,d])||!h.prototype.play.call(this,o,d)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.PLAY,this),!0)},"play"),pause:r(function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(c.PAUSE,this),!0)},"pause"),resume:r(function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.RESUME,this),!0)},"resume"),stop:r(function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(c.STOP,this),!0)},"stop"),pickAndPlayAudioTag:r(function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.seek,d=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+o;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),d===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+d*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},"pickAndPlayAudioTag"),pickAudioTag:r(function(){if(this.audio)return!0;for(var o=0;o<this.tags.length;o++){var d=this.tags[o];if(d.dataset.used==="false")return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(p){p.key===this.key&&p.audio&&v.push(p)},this),v.sort(function(p,g){return p.loop===g.loop?g.seek/g.duration-p.seek/p.duration:p.loop?1:-1});var f=v[0];return this.audio=f.audio,f.reset(),f.audio=null,f.startTime=0,f.previousTime=0,!0},"pickAudioTag"),playCatchPromise:r(function(){var o=this.audio.play();o&&o.catch(function(d){console.warn(d)})},"playCatchPromise"),stopAndReleaseAudioTag:r(function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},"stopAndReleaseAudioTag"),reset:r(function(){h.prototype.stop.call(this)},"reset"),onBlur:r(function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},"onBlur"),onFocus:r(function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},"onFocus"),update:r(function(o){if(this.isPlaying){if(this.startTime>0){this.startTime<o-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,o-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var d=this.currentMarker?this.currentMarker.start:0,v=d+this.duration,f=this.audio.currentTime;if(this.currentConfig.loop)f>=v-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,f-v),f=this.audio.currentTime):f<d&&(this.audio.currentTime+=d,f=this.audio.currentTime),f<this.previousTime&&this.emit(c.LOOPED,this);else if(f>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(c.COMPLETE,this);return}this.previousTime=f}},"update"),destroy:r(function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},"destroy"),updateMute:r(function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},"updateMute"),updateVolume:r(function(){this.audio&&(this.audio.volume=u(this.currentConfig.volume*this.manager.volume,0,1))},"updateVolume"),calculateRate:r(function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},"calculateRate"),mute:{get:r(function(){return this.currentConfig.mute},"get"),set:r(function(o){this.currentConfig.mute=o,!this.manager.isLocked(this,"mute",o)&&(this.updateMute(),this.emit(c.MUTE,this,o))},"set")},setMute:r(function(o){return this.mute=o,this},"setMute"),volume:{get:r(function(){return this.currentConfig.volume},"get"),set:r(function(o){this.currentConfig.volume=o,!this.manager.isLocked(this,"volume",o)&&(this.updateVolume(),this.emit(c.VOLUME,this,o))},"set")},setVolume:r(function(o){return this.volume=o,this},"setVolume"),rate:{get:r(function(){return this.currentConfig.rate},"get"),set:r(function(o){this.currentConfig.rate=o,!this.manager.isLocked(this,c.RATE,o)&&(this.calculateRate(),this.emit(c.RATE,this,o))},"set")},setRate:r(function(o){return this.rate=o,this},"setRate"),detune:{get:r(function(){return this.currentConfig.detune},"get"),set:r(function(o){this.currentConfig.detune=o,!this.manager.isLocked(this,c.DETUNE,o)&&(this.calculateRate(),this.emit(c.DETUNE,this,o))},"set")},setDetune:r(function(o){return this.detune=o,this},"setDetune"),seek:{get:r(function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},"get"),set:r(function(o){this.manager.isLocked(this,"seek",o)||this.startTime>0||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.isPlaying?(this.previousTime=o,this.audio.currentTime=o):this.isPaused&&(this.currentConfig.seek=o),this.emit(c.SEEK,this,o))},"set")},setSeek:r(function(o){return this.seek=o,this},"setSeek"),loop:{get:r(function(){return this.currentConfig.loop},"get"),set:r(function(o){this.currentConfig.loop=o,!this.manager.isLocked(this,"loop",o)&&(this.audio&&(this.audio.loop=o),this.emit(c.LOOP,this,o))},"set")},setLoop:r(function(o){return this.loop=o,this},"setLoop"),pan:{get:r(function(){return this.currentConfig.pan},"get"),set:r(function(o){this.currentConfig.pan=o,this.emit(c.PAN,this,o)},"set")},setPan:r(function(o){return this.pan=o,this},"setPan")});n.exports=l}),33684:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85034),m=i(83419),c=i(14463),u=i(64895),l=new m({Extends:h,initialize:r(function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,d)},"HTML5AudioSoundManager"),add:r(function(o,d){var v=new u(this,o,d);return this.sounds.push(v),v},"add"),unlock:r(function(){this.locked=!1;var o=this;if(this.game.cache.audio.entries.each(function(p,g){for(var y=0;y<g.length;y++)if(g[y].dataset.locked==="true")return o.locked=!0,!1;return!0}),!!this.locked){var d=!1,v=r(function(){d=!0},"detectMove"),f=r(function(){if(d){d=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",f);var p=[];if(o.game.cache.audio.entries.each(function(y,C){for(var S=0;S<C.length;S++){var E=C[S];E.dataset.locked==="true"&&p.push(E)}return!0}),p.length!==0){var g=p[p.length-1];g.oncanplaythrough=function(){g.oncanplaythrough=null,p.forEach(function(y){y.dataset.locked="false"}),o.unlocked=!0},p.forEach(function(y){y.load()})}},"unlock");this.once(c.UNLOCKED,function(){for(this.forEachActiveSound(function(g){g.currentMarker===null&&g.duration===0&&(g.duration=g.tags[0].duration),g.totalDuration=g.tags[0].duration});this.lockedActionsQueue.length;){var p=this.lockedActionsQueue.shift();p.sound[p.prop].apply?p.sound[p.prop].apply(p.sound,p.value||[]):p.sound[p.prop]=p.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",f,!1)}},"unlock"),onBlur:r(function(){this.forEachActiveSound(function(o){o.isPlaying&&(this.onBlurPausedSounds.push(o),o.onBlur())})},"onBlur"),onFocus:r(function(){this.onBlurPausedSounds.forEach(function(o){o.onFocus()}),this.onBlurPausedSounds.length=0},"onFocus"),destroy:r(function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},"destroy"),isLocked:r(function(o,d,v){return o.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:o,prop:d,value:v}),!0):!1},"isLocked"),setMute:r(function(o){return this.mute=o,this},"setMute"),mute:{get:r(function(){return this._mute},"get"),set:r(function(o){this._mute=o,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(c.GLOBAL_MUTE,this,o)},"set")},setVolume:r(function(o){return this.volume=o,this},"setVolume"),volume:{get:r(function(){return this._volume},"get"),set:r(function(o){this._volume=o,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(c.GLOBAL_VOLUME,this,o)},"set")}});n.exports=l}),23717:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}}),4603:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30341),m=i(83419),c=i(50792),u=i(79291),l=i(29747),o=r(function(){return!1},"returnFalse"),d=r(function(){return null},"returnNull"),v=r(function(){return this},"returnThis"),f=new m({Extends:c,initialize:r(function(g,y,C){C===void 0&&(C={}),c.call(this),this.manager=g,this.key=y,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=u({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},C),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},"NoAudioSound"),addMarker:o,updateMarker:o,removeMarker:d,play:o,pause:o,resume:o,stop:o,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:d,resetConfig:d,update:l,calculateRate:d,destroy:r(function(){h.prototype.destroy.call(this)},"destroy")});n.exports=f}),25960:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85034),m=i(83419),c=i(50792),u=i(4603),l=i(29747),o=new m({Extends:c,initialize:r(function(v){c.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},"NoAudioSoundManager"),add:r(function(d,v){var f=new u(this,d,v);return this.sounds.push(f),f},"add"),addAudioSprite:r(function(d,v){var f=this.add(d,v);return f.spritemap={},f},"addAudioSprite"),get:r(function(d){return h.prototype.get.call(this,d)},"get"),getAll:r(function(d){return h.prototype.getAll.call(this,d)},"getAll"),play:r(function(d,v){return!1},"play"),playAudioSprite:r(function(d,v,f){return!1},"playAudioSprite"),remove:r(function(d){return h.prototype.remove.call(this,d)},"remove"),removeAll:r(function(){return h.prototype.removeAll.call(this)},"removeAll"),removeByKey:r(function(d){return h.prototype.removeByKey.call(this,d)},"removeByKey"),stopByKey:r(function(d){return h.prototype.stopByKey.call(this,d)},"stopByKey"),onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:r(function(d,v){h.prototype.forEachActiveSound.call(this,d,v)},"forEachActiveSound"),destroy:r(function(){h.prototype.destroy.call(this)},"destroy")});n.exports=o}),71741:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30341),m=i(83419),c=i(14463),u=i(95540),l=new m({Extends:h,initialize:r(function(d,v,f){if(f===void 0&&(f={}),this.audioBuffer=d.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,d,v,f)},"WebAudioSound"),play:r(function(o,d){return h.prototype.play.call(this,o,d)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(c.PLAY,this),!0):!1},"play"),pause:r(function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(c.PAUSE,this),!0)},"pause"),resume:r(function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(c.RESUME,this),!0)},"resume"),stop:r(function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(c.STOP,this),!0):!1},"stop"),createAndStartBufferSource:r(function(){var o=this.currentConfig.seek,d=this.currentConfig.delay,v=this.manager.context.currentTime+d,f=(this.currentMarker?this.currentMarker.start:0)+o,p=this.duration-o;this.playTime=v-o,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,f),Math.max(0,p)),this.resetConfig()},"createAndStartBufferSource"),createAndStartLoopBufferSource:r(function(){var o=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=o,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,o),Math.max(0,d),Math.max(0,v))},"createAndStartLoopBufferSource"),createBufferSource:r(function(){var o=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(v){var f=v.target;(f===o.source||f===o.loopSource)&&(o.currentConfig.loop?o.hasLooped=!0:o.hasEnded=!0)},d},"createBufferSource"),stopAndRemoveBufferSource:r(function(){if(this.source){var o=this.source;this.source=null,o.stop(),o.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},"stopAndRemoveBufferSource"),stopAndRemoveLoopBufferSource:r(function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},"stopAndRemoveLoopBufferSource"),applyConfig:r(function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var o=this.currentConfig.source;if(o&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=u(o,"panningModel","equalpower"),d.distanceModel=u(o,"distanceModel","inverse"),d.orientationX.value=u(o,"orientationX",0),d.orientationY.value=u(o,"orientationY",0),d.orientationZ.value=u(o,"orientationZ",-1),d.refDistance=u(o,"refDistance",1),d.maxDistance=u(o,"maxDistance",1e4),d.rolloffFactor=u(o,"rolloffFactor",1),d.coneInnerAngle=u(o,"coneInnerAngle",360),d.coneOuterAngle=u(o,"coneOuterAngle",0),d.coneOuterGain=u(o,"coneOuterGain",0),this.spatialSource=u(o,"follow",null),this.spatialSource||(d.positionX.value=u(o,"x",0),d.positionY.value=u(o,"y",0),d.positionZ.value=u(o,"z",0))}h.prototype.applyConfig.call(this)},"applyConfig"),x:{get:r(function(){return this.spatialNode?this.spatialNode.positionX:0},"get"),set:r(function(o){this.spatialNode&&(this.spatialNode.positionX.value=o)},"set")},y:{get:r(function(){return this.spatialNode?this.spatialNode.positionY:0},"get"),set:r(function(o){this.spatialNode&&(this.spatialNode.positionY.value=o)},"set")},update:r(function(){if(this.isPlaying&&this.spatialSource){var o=u(this.spatialSource,"x",null),d=u(this.spatialSource,"y",null);o&&o!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=o),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(c.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(c.LOOPED,this))},"update"),destroy:r(function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},"destroy"),calculateRate:r(function(){h.prototype.calculateRate.call(this);var o=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,o),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,o)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},"calculateRate"),getCurrentTime:r(function(){for(var o=0,d=0;d<this.rateUpdates.length;d++){var v=0;d<this.rateUpdates.length-1?v=this.rateUpdates[d+1].time:v=this.manager.context.currentTime-this.playTime,o+=(v-this.rateUpdates[d].time)*this.rateUpdates[d].rate}return o},"getCurrentTime"),getLoopTime:r(function(){for(var o=0,d=0;d<this.rateUpdates.length-1;d++)o+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-o)/v.rate},"getLoopTime"),rate:{get:r(function(){return this.currentConfig.rate},"get"),set:r(function(o){this.currentConfig.rate=o,this.calculateRate(),this.emit(c.RATE,this,o)},"set")},setRate:r(function(o){return this.rate=o,this},"setRate"),detune:{get:r(function(){return this.currentConfig.detune},"get"),set:r(function(o){this.currentConfig.detune=o,this.calculateRate(),this.emit(c.DETUNE,this,o)},"set")},setDetune:r(function(o){return this.detune=o,this},"setDetune"),mute:{get:r(function(){return this.muteNode.gain.value===0},"get"),set:r(function(o){this.currentConfig.mute=o,this.muteNode.gain.setValueAtTime(o?0:1,0),this.emit(c.MUTE,this,o)},"set")},setMute:r(function(o){return this.mute=o,this},"setMute"),volume:{get:r(function(){return this.volumeNode.gain.value},"get"),set:r(function(o){this.currentConfig.volume=o,this.volumeNode.gain.setValueAtTime(o,0),this.emit(c.VOLUME,this,o)},"set")},setVolume:r(function(o){return this.volume=o,this},"setVolume"),seek:{get:r(function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},"get"),set:r(function(o){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.currentConfig.seek=o,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(c.SEEK,this,o))},"set")},setSeek:r(function(o){return this.seek=o,this},"setSeek"),loop:{get:r(function(){return this.currentConfig.loop},"get"),set:r(function(o){this.currentConfig.loop=o,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),o&&this.createAndStartLoopBufferSource()),this.emit(c.LOOP,this,o)},"set")},setLoop:r(function(o){return this.loop=o,this},"setLoop"),pan:{get:r(function(){return this.pannerNode?this.pannerNode.pan.value:0},"get"),set:r(function(o){this.currentConfig.pan=o,this.pannerNode&&this.pannerNode.pan.setValueAtTime(o,this.manager.context.currentTime),this.emit(c.PAN,this,o)},"set")},setPan:r(function(o){return this.pan=o,this},"setPan")});n.exports=l}),57490:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(53134),m=i(85034),c=i(83419),u=i(14463),l=i(8443),o=i(71741),d=i(95540),v=new c({Extends:m,initialize:r(function(p){this.context=this.createAudioContext(p),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",m.call(this,p),this.locked&&(p.isBooted?this.unlock():p.events.once(l.BOOT,this.unlock,this)),p.events.on(l.VISIBLE,this.onGameVisible,this)},"WebAudioSoundManager"),onGameVisible:r(function(){var f=this.context;window.setTimeout(function(){f&&(f.suspend(),f.resume())},100)},"onGameVisible"),createAudioContext:r(function(f){var p=f.config.audio;if(p.context)return p.context.resume(),p.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},"createAudioContext"),setAudioContext:r(function(f){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=f,this.masterMuteNode=f.createGain(),this.masterVolumeNode=f.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(f.destination),this.destination=this.masterMuteNode,this},"setAudioContext"),add:r(function(f,p){var g=new o(this,f,p);return this.sounds.push(g),g},"add"),decodeAudio:r(function(f,p){var g;Array.isArray(f)?g=f:g=[{key:f,data:p}];for(var y=this.game.cache.audio,C=g.length,S=0;S<g.length;S++){var E=g[S],w=E.key,M=E.data;typeof M=="string"&&(M=h(M));var R=(function(b,A){y.add(b,A),this.emit(u.DECODED,b),C--,C===0&&this.emit(u.DECODED_ALL)}).bind(this,w),O=(function(b,A){console.error("Error decoding audio: "+b+" - ",A?A.message:""),C--,C===0&&this.emit(u.DECODED_ALL)}).bind(this,w);this.context.decodeAudioData(M,R,O)}},"decodeAudio"),setListenerPosition:r(function(f,p){return f===void 0&&(f=this.game.scale.width/2),p===void 0&&(p=this.game.scale.height/2),this.listenerPosition.set(f,p),this},"setListenerPosition"),unlock:r(function(){var f=this,p=document.body,g=r(function y(){if(f.context&&p){var C=p.removeEventListener.bind(p);f.context.resume().then(function(){C("touchstart",y),C("touchend",y),C("mousedown",y),C("mouseup",y),C("keydown",y),f.unlocked=!0},function(){C("touchstart",y),C("touchend",y),C("mousedown",y),C("mouseup",y),C("keydown",y)})}},"unlockHandler");p&&(p.addEventListener("touchstart",g,!1),p.addEventListener("touchend",g,!1),p.addEventListener("mousedown",g,!1),p.addEventListener("mouseup",g,!1),p.addEventListener("keydown",g,!1))},"unlock"),onBlur:r(function(){this.locked||this.context.suspend()},"onBlur"),onFocus:r(function(){var f=this.context;f&&!this.locked&&(f.state==="suspended"||f.state==="interrupted")&&f.resume()},"onFocus"),update:r(function(f,p){var g=this.context.listener,y=d(this.listenerPosition,"x",null),C=d(this.listenerPosition,"y",null);if(g&&g.positionX!==void 0)y&&y!==this._spatialx&&(this._spatialx=g.positionX.value=y),C&&C!==this._spatialy&&(this._spatialy=g.positionY.value=C);else if(g){y&&y!==this._spatialx&&(this._spatialx=y),C&&C!==this._spatialy&&(this._spatialy=C);var S=d(g,"z",0);g.setPosition(this._spatialx||0,this._spatialy||0,S)}m.prototype.update.call(this,f,p),this.gameLostFocus||this.onFocus()},"update"),destroy:r(function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var f=this;this.context.close().then(function(){f.context=null})}this.game.events.off(l.VISIBLE,this.onGameVisible,this),m.prototype.destroy.call(this)},"destroy"),setMute:r(function(f){return this.mute=f,this},"setMute"),mute:{get:r(function(){return this.masterMuteNode.gain.value===0},"get"),set:r(function(f){this.masterMuteNode.gain.setValueAtTime(f?0:1,0),this.emit(u.GLOBAL_MUTE,this,f)},"set")},setVolume:r(function(f){return this.volume=f,this},"setVolume"),volume:{get:r(function(){return this.masterVolumeNode.gain.value},"get"),set:r(function(f){this.masterVolumeNode.gain.setValueAtTime(f,0),this.emit(u.GLOBAL_VOLUME,this,f)},"set")}});n.exports=v}),73162:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37105),m=i(83419),c=i(29747),u=i(19186),l=new m({initialize:r(function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=c,this.removeCallback=c,this._sortKey=""},"List"),add:r(function(o,d){return d?h.Add(this.list,o):h.Add(this.list,o,0,this.addCallback,this)},"add"),addAt:r(function(o,d,v){return v?h.AddAt(this.list,o,d):h.AddAt(this.list,o,d,0,this.addCallback,this)},"addAt"),getAt:r(function(o){return this.list[o]},"getAt"),getIndex:r(function(o){return this.list.indexOf(o)},"getIndex"),sort:r(function(o,d){return o?(d===void 0&&(d=r(function(v,f){return v[o]-f[o]},"handler")),u(this.list,d),this):this},"sort"),getByName:r(function(o){return h.GetFirst(this.list,"name",o)},"getByName"),getRandom:r(function(o,d){return h.GetRandom(this.list,o,d)},"getRandom"),getFirst:r(function(o,d,v,f){return h.GetFirst(this.list,o,d,v,f)},"getFirst"),getAll:r(function(o,d,v,f){return h.GetAll(this.list,o,d,v,f)},"getAll"),count:r(function(o,d){return h.CountAllMatching(this.list,o,d)},"count"),swap:r(function(o,d){h.Swap(this.list,o,d)},"swap"),moveTo:r(function(o,d){return h.MoveTo(this.list,o,d)},"moveTo"),moveAbove:r(function(o,d){return h.MoveAbove(this.list,o,d)},"moveAbove"),moveBelow:r(function(o,d){return h.MoveBelow(this.list,o,d)},"moveBelow"),remove:r(function(o,d){return d?h.Remove(this.list,o):h.Remove(this.list,o,this.removeCallback,this)},"remove"),removeAt:r(function(o,d){return d?h.RemoveAt(this.list,o):h.RemoveAt(this.list,o,this.removeCallback,this)},"removeAt"),removeBetween:r(function(o,d,v){return v?h.RemoveBetween(this.list,o,d):h.RemoveBetween(this.list,o,d,this.removeCallback,this)},"removeBetween"),removeAll:r(function(o){for(var d=this.list.length;d--;)this.remove(this.list[d],o);return this},"removeAll"),bringToTop:r(function(o){return h.BringToTop(this.list,o)},"bringToTop"),sendToBack:r(function(o){return h.SendToBack(this.list,o)},"sendToBack"),moveUp:r(function(o){return h.MoveUp(this.list,o),o},"moveUp"),moveDown:r(function(o){return h.MoveDown(this.list,o),o},"moveDown"),reverse:r(function(){return this.list.reverse(),this},"reverse"),shuffle:r(function(){return h.Shuffle(this.list),this},"shuffle"),replace:r(function(o,d){return h.Replace(this.list,o,d)},"replace"),exists:r(function(o){return this.list.indexOf(o)>-1},"exists"),setAll:r(function(o,d,v,f){return h.SetAll(this.list,o,d,v,f),this},"setAll"),each:r(function(o,d){for(var v=[null],f=2;f<arguments.length;f++)v.push(arguments[f]);for(f=0;f<this.list.length;f++)v[0]=this.list[f],o.apply(d,v)},"each"),shutdown:r(function(){this.removeAll(),this.list=[]},"shutdown"),destroy:r(function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},"destroy"),length:{get:r(function(){return this.list.length},"get")},first:{get:r(function(){return this.position=0,this.list.length>0?this.list[0]:null},"get")},last:{get:r(function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null},"get")},next:{get:r(function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null},"get")},previous:{get:r(function(){return this.position>0?(this.position--,this.list[this.position]):null},"get")}});n.exports=l}),90330:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u){this.entries={},this.size=0,this.setAll(u)},"Map"),setAll:r(function(c){if(Array.isArray(c))for(var u=0;u<c.length;u++)this.set(c[u][0],c[u][1]);return this},"setAll"),set:r(function(c,u){return this.has(c)||this.size++,this.entries[c]=u,this},"set"),get:r(function(c){if(this.has(c))return this.entries[c]},"get"),getArray:r(function(){var c=[],u=this.entries;for(var l in u)c.push(u[l]);return c},"getArray"),has:r(function(c){return this.entries.hasOwnProperty(c)},"has"),delete:r(function(c){return this.has(c)&&(delete this.entries[c],this.size--),this},"delete"),clear:r(function(){return Object.keys(this.entries).forEach(function(c){delete this.entries[c]},this),this.size=0,this},"clear"),keys:r(function(){return Object.keys(this.entries)},"keys"),values:r(function(){var c=[],u=this.entries;for(var l in u)c.push(u[l]);return c},"values"),dump:r(function(){var c=this.entries;console.group("Map");for(var u in c)c[u];console.groupEnd()},"dump"),each:r(function(c){var u=this.entries;for(var l in u)if(c(l,u[l])===!1)break;return this},"each"),contains:r(function(c){var u=this.entries;for(var l in u)if(u[l]===c)return!0;return!1},"contains"),merge:r(function(c,u){u===void 0&&(u=!1);var l=this.entries,o=c.entries;for(var d in o)l.hasOwnProperty(d)&&u?l[d]=o[d]:this.set(d,o[d]);return this},"merge")});n.exports=m}),25774:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50792),c=i(82348),u=new h({Extends:m,initialize:r(function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},"ProcessQueue"),isActive:r(function(l){return this._active.indexOf(l)>-1},"isActive"),isPending:r(function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},"isPending"),isDestroying:r(function(l){return this._destroy.indexOf(l)>-1},"isDestroying"),add:r(function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},"add"),remove:r(function(l){if(this.isPending(l)){var o=this._pending,d=o.indexOf(l);d!==-1&&o.splice(d,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},"remove"),removeAll:r(function(){for(var l=this._active,o=this._destroy,d=l.length;d--;)o.push(l[d]),this._toProcess++;return this},"removeAll"),update:r(function(){if(this._toProcess===0)return this._active;var l=this._destroy,o=this._active,d,v;for(d=0;d<l.length;d++){v=l[d];var f=o.indexOf(v);f!==-1&&(o.splice(f,1),this.emit(c.PROCESS_QUEUE_REMOVE,v))}for(l.length=0,l=this._pending,d=0;d<l.length;d++)v=l[d],(!this.checkQueue||this.checkQueue&&o.indexOf(v)===-1)&&(o.push(v),this.emit(c.PROCESS_QUEUE_ADD,v));return l.length=0,this._toProcess=0,o},"update"),getActive:r(function(){return this._active},"getActive"),length:{get:r(function(){return this._active.length},"get")},destroy:r(function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]},"destroy")});n.exports=u}),59542:((n,T,i)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43886);function m(M){if(!(this instanceof m))return new m(M);this._maxEntries=Math.max(4,M||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}r(m,"rbush"),m.prototype={all:r(function(){return this._all(this.data,[])},"all"),search:r(function(M){var R=this.data,O=[],b=this.toBBox;if(!S(M,R))return O;for(var A=[],I,L,F,D;R;){for(I=0,L=R.children.length;I<L;I++)F=R.children[I],D=R.leaf?b(F):F,S(M,D)&&(R.leaf?O.push(F):C(M,D)?this._all(F,O):A.push(F));R=A.pop()}return O},"search"),collides:r(function(M){var R=this.data,O=this.toBBox;if(!S(M,R))return!1;for(var b=[],A,I,L,F;R;){for(A=0,I=R.children.length;A<I;A++)if(L=R.children[A],F=R.leaf?O(L):L,S(M,F)){if(R.leaf||C(M,F))return!0;b.push(L)}R=b.pop()}return!1},"collides"),load:r(function(M){if(!(M&&M.length))return this;if(M.length<this._minEntries){for(var R=0,O=M.length;R<O;R++)this.insert(M[R]);return this}var b=this._build(M.slice(),0,M.length-1,0);if(!this.data.children.length)this.data=b;else if(this.data.height===b.height)this._splitRoot(this.data,b);else{if(this.data.height<b.height){var A=this.data;this.data=b,b=A}this._insert(b,this.data.height-b.height-1,!0)}return this},"load"),insert:r(function(M){return M&&this._insert(M,this.data.height-1),this},"insert"),clear:r(function(){return this.data=E([]),this},"clear"),remove:r(function(M,R){if(!M)return this;for(var O=this.data,b=this.toBBox(M),A=[],I=[],L,F,D,B;O||A.length;){if(O||(O=A.pop(),F=A[A.length-1],L=I.pop(),B=!0),O.leaf&&(D=c(M,O.children,R),D!==-1))return O.children.splice(D,1),A.push(O),this._condense(A),this;!B&&!O.leaf&&C(O,b)?(A.push(O),I.push(L),L=0,F=O,O=O.children[0]):F?(L++,O=F.children[L],B=!1):O=null}return this},"remove"),toBBox:r(function(M){return M},"toBBox"),compareMinX:d,compareMinY:v,toJSON:r(function(){return this.data},"toJSON"),fromJSON:r(function(M){return this.data=M,this},"fromJSON"),_all:r(function(M,R){for(var O=[];M;)M.leaf?R.push.apply(R,M.children):O.push.apply(O,M.children),M=O.pop();return R},"_all"),_build:r(function(M,R,O,b){var A=O-R+1,I=this._maxEntries,L;if(A<=I)return L=E(M.slice(R,O+1)),u(L,this.toBBox),L;b||(b=Math.ceil(Math.log(A)/Math.log(I)),I=Math.ceil(A/Math.pow(I,b-1))),L=E([]),L.leaf=!1,L.height=b;var F=Math.ceil(A/I),D=F*Math.ceil(Math.sqrt(I)),B,V,U,W;for(w(M,R,O,D,this.compareMinX),B=R;B<=O;B+=D)for(U=Math.min(B+D-1,O),w(M,B,U,F,this.compareMinY),V=B;V<=U;V+=F)W=Math.min(V+F-1,U),L.children.push(this._build(M,V,W,b-1));return u(L,this.toBBox),L},"_build"),_chooseSubtree:r(function(M,R,O,b){for(var A,I,L,F,D,B,V,U;b.push(R),!(R.leaf||b.length-1===O);){for(V=U=1/0,A=0,I=R.children.length;A<I;A++)L=R.children[A],D=f(L),B=g(M,L)-D,B<U?(U=B,V=D<V?D:V,F=L):B===U&&D<V&&(V=D,F=L);R=F||R.children[0]}return R},"_chooseSubtree"),_insert:r(function(M,R,O){var b=this.toBBox,A=O?M:b(M),I=[],L=this._chooseSubtree(A,this.data,R,I);for(L.children.push(M),o(L,A);R>=0&&I[R].children.length>this._maxEntries;)this._split(I,R),R--;this._adjustParentBBoxes(A,I,R)},"_insert"),_split:r(function(M,R){var O=M[R],b=O.children.length,A=this._minEntries;this._chooseSplitAxis(O,A,b);var I=this._chooseSplitIndex(O,A,b),L=E(O.children.splice(I,O.children.length-I));L.height=O.height,L.leaf=O.leaf,u(O,this.toBBox),u(L,this.toBBox),R?M[R-1].children.push(L):this._splitRoot(O,L)},"_split"),_splitRoot:r(function(M,R){this.data=E([M,R]),this.data.height=M.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},"_splitRoot"),_chooseSplitIndex:r(function(M,R,O){var b,A,I,L,F,D,B,V;for(D=B=1/0,b=R;b<=O-R;b++)A=l(M,0,b,this.toBBox),I=l(M,b,O,this.toBBox),L=y(A,I),F=f(A)+f(I),L<D?(D=L,V=b,B=F<B?F:B):L===D&&F<B&&(B=F,V=b);return V},"_chooseSplitIndex"),_chooseSplitAxis:r(function(M,R,O){var b=M.leaf?this.compareMinX:d,A=M.leaf?this.compareMinY:v,I=this._allDistMargin(M,R,O,b),L=this._allDistMargin(M,R,O,A);I<L&&M.children.sort(b)},"_chooseSplitAxis"),_allDistMargin:r(function(M,R,O,b){M.children.sort(b);var A=this.toBBox,I=l(M,0,R,A),L=l(M,O-R,O,A),F=p(I)+p(L),D,B;for(D=R;D<O-R;D++)B=M.children[D],o(I,M.leaf?A(B):B),F+=p(I);for(D=O-R-1;D>=R;D--)B=M.children[D],o(L,M.leaf?A(B):B),F+=p(L);return F},"_allDistMargin"),_adjustParentBBoxes:r(function(M,R,O){for(var b=O;b>=0;b--)o(R[b],M)},"_adjustParentBBoxes"),_condense:r(function(M){for(var R=M.length-1,O;R>=0;R--)M[R].children.length===0?R>0?(O=M[R-1].children,O.splice(O.indexOf(M[R]),1)):this.clear():u(M[R],this.toBBox)},"_condense"),compareMinX:r(function(M,R){return M.left-R.left},"compareMinX"),compareMinY:r(function(M,R){return M.top-R.top},"compareMinY"),toBBox:r(function(M){return{minX:M.left,minY:M.top,maxX:M.right,maxY:M.bottom}},"toBBox")};function c(M,R,O){if(!O)return R.indexOf(M);for(var b=0;b<R.length;b++)if(O(M,R[b]))return b;return-1}r(c,"findItem");function u(M,R){l(M,0,M.children.length,R,M)}r(u,"calcBBox");function l(M,R,O,b,A){A||(A=E(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var I=R,L;I<O;I++)L=M.children[I],o(A,M.leaf?b(L):L);return A}r(l,"distBBox");function o(M,R){return M.minX=Math.min(M.minX,R.minX),M.minY=Math.min(M.minY,R.minY),M.maxX=Math.max(M.maxX,R.maxX),M.maxY=Math.max(M.maxY,R.maxY),M}r(o,"extend");function d(M,R){return M.minX-R.minX}r(d,"compareNodeMinX");function v(M,R){return M.minY-R.minY}r(v,"compareNodeMinY");function f(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}r(f,"bboxArea");function p(M){return M.maxX-M.minX+(M.maxY-M.minY)}r(p,"bboxMargin");function g(M,R){return(Math.max(R.maxX,M.maxX)-Math.min(R.minX,M.minX))*(Math.max(R.maxY,M.maxY)-Math.min(R.minY,M.minY))}r(g,"enlargedArea");function y(M,R){var O=Math.max(M.minX,R.minX),b=Math.max(M.minY,R.minY),A=Math.min(M.maxX,R.maxX),I=Math.min(M.maxY,R.maxY);return Math.max(0,A-O)*Math.max(0,I-b)}r(y,"intersectionArea");function C(M,R){return M.minX<=R.minX&&M.minY<=R.minY&&R.maxX<=M.maxX&&R.maxY<=M.maxY}r(C,"contains");function S(M,R){return R.minX<=M.maxX&&R.minY<=M.maxY&&R.maxX>=M.minX&&R.maxY>=M.minY}r(S,"intersects");function E(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}r(E,"createNode");function w(M,R,O,b,A){for(var I=[R,O],L;I.length;)O=I.pop(),R=I.pop(),!(O-R<=b)&&(L=R+Math.ceil((O-R)/b/2)*b,h(M,L,R,O,A),I.push(R,L,L,O))}r(w,"multiSelect"),n.exports=m}),35072:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u){if(this.entries=[],Array.isArray(u))for(var l=0;l<u.length;l++)this.set(u[l])},"Set"),set:r(function(c){return this.entries.indexOf(c)===-1&&this.entries.push(c),this},"set"),get:r(function(c,u){for(var l=0;l<this.entries.length;l++){var o=this.entries[l];if(o[c]===u)return o}},"get"),getArray:r(function(){return this.entries.slice(0)},"getArray"),delete:r(function(c){var u=this.entries.indexOf(c);return u>-1&&this.entries.splice(u,1),this},"delete"),dump:r(function(){console.group("Set");for(var c=0;c<this.entries.length;c++)var u=this.entries[c];console.groupEnd()},"dump"),each:r(function(c,u){var l,o=this.entries.slice(),d=o.length;if(u)for(l=0;l<d&&c.call(u,o[l],l)!==!1;l++);else for(l=0;l<d&&c(o[l],l)!==!1;l++);return this},"each"),iterate:r(function(c,u){var l,o=this.entries.length;if(u)for(l=0;l<o&&c.call(u,this.entries[l],l)!==!1;l++);else for(l=0;l<o&&c(this.entries[l],l)!==!1;l++);return this},"iterate"),iterateLocal:r(function(c){var u,l=[];for(u=1;u<arguments.length;u++)l.push(arguments[u]);var o=this.entries.length;for(u=0;u<o;u++){var d=this.entries[u];d[c].apply(d,l)}return this},"iterateLocal"),clear:r(function(){return this.entries.length=0,this},"clear"),contains:r(function(c){return this.entries.indexOf(c)>-1},"contains"),union:r(function(c){var u=new m;return c.entries.forEach(function(l){u.set(l)}),this.entries.forEach(function(l){u.set(l)}),u},"union"),intersect:r(function(c){var u=new m;return this.entries.forEach(function(l){c.contains(l)&&u.set(l)}),u},"intersect"),difference:r(function(c){var u=new m;return this.entries.forEach(function(l){c.contains(l)||u.set(l)}),u},"difference"),size:{get:r(function(){return this.entries.length},"get"),set:r(function(c){return c<this.entries.length?this.entries.length=c:this.entries.length},"set")}});n.exports=m}),86555:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),m=i(83419),c=i(56583),u=i(26099),l=new m({initialize:r(function(d,v,f,p){d===void 0&&(d=0),v===void 0&&(v=d),f===void 0&&(f=0),p===void 0&&(p=null),this._width=d,this._height=v,this._parent=p,this.aspectMode=f,this.aspectRatio=v===0?1:d/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new u},"Size"),setAspectMode:r(function(o){return o===void 0&&(o=0),this.aspectMode=o,this.setSize(this._width,this._height)},"setAspectMode"),setSnap:r(function(o,d){return o===void 0&&(o=0),d===void 0&&(d=o),this.snapTo.set(o,d),this.setSize(this._width,this._height)},"setSnap"),setParent:r(function(o){return this._parent=o,this.setSize(this._width,this._height)},"setParent"),setMin:r(function(o,d){return o===void 0&&(o=0),d===void 0&&(d=o),this.minWidth=h(o,0,this.maxWidth),this.minHeight=h(d,0,this.maxHeight),this.setSize(this._width,this._height)},"setMin"),setMax:r(function(o,d){return o===void 0&&(o=Number.MAX_VALUE),d===void 0&&(d=o),this.maxWidth=h(o,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},"setMax"),setSize:r(function(o,d){switch(o===void 0&&(o=0),d===void 0&&(d=o),this.aspectMode){case l.NONE:this._width=this.getNewWidth(c(o,this.snapTo.x)),this._height=this.getNewHeight(c(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(c(o,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(c(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(o,d,!0);break;case l.ENVELOP:this.constrain(o,d,!1);break}return this},"setSize"),setAspectRatio:r(function(o){return this.aspectRatio=o,this.setSize(this._width,this._height)},"setAspectRatio"),resize:r(function(o,d){return this._width=this.getNewWidth(c(o,this.snapTo.x)),this._height=this.getNewHeight(c(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},"resize"),getNewWidth:r(function(o,d){return d===void 0&&(d=!0),o=h(o,this.minWidth,this.maxWidth),d&&this._parent&&o>this._parent.width&&(o=Math.max(this.minWidth,this._parent.width)),o},"getNewWidth"),getNewHeight:r(function(o,d){return d===void 0&&(d=!0),o=h(o,this.minHeight,this.maxHeight),d&&this._parent&&o>this._parent.height&&(o=Math.max(this.minHeight,this._parent.height)),o},"getNewHeight"),constrain:r(function(o,d,v){o===void 0&&(o=0),d===void 0&&(d=o),v===void 0&&(v=!0),o=this.getNewWidth(o),d=this.getNewHeight(d);var f=this.snapTo,p=d===0?1:o/d;return v&&this.aspectRatio>p||!v&&this.aspectRatio<p?(o=c(o,f.x),d=o/this.aspectRatio,f.y>0&&(d=c(d,f.y),o=d*this.aspectRatio)):(v&&this.aspectRatio<p||!v&&this.aspectRatio>p)&&(d=c(d,f.y),o=d*this.aspectRatio,f.x>0&&(o=c(o,f.x),d=o*(1/this.aspectRatio))),this._width=o,this._height=d,this},"constrain"),fitTo:r(function(o,d){return this.constrain(o,d,!0)},"fitTo"),envelop:r(function(o,d){return this.constrain(o,d,!1)},"envelop"),setWidth:r(function(o){return this.setSize(o,this._height)},"setWidth"),setHeight:r(function(o){return this.setSize(this._width,o)},"setHeight"),toString:r(function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},"toString"),setCSS:r(function(o){o&&o.style&&(o.style.width=this._width+"px",o.style.height=this._height+"px")},"setCSS"),copy:r(function(o){return o.setAspectMode(this.aspectMode),o.aspectRatio=this.aspectRatio,o.setSize(this.width,this.height)},"copy"),destroy:r(function(){this._parent=null,this.snapTo=null},"destroy"),width:{get:r(function(){return this._width},"get"),set:r(function(o){this.setSize(o,this._height)},"set")},height:{get:r(function(){return this._height},"get"),set:r(function(o){this.setSize(this._width,o)},"set")}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,n.exports=l}),15238:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"}),56187:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"}),82348:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}}),41392:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}}),57382:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(45319),c=i(40987),u=i(8054),l=i(50030),o=i(79237),d=new h({Extends:o,initialize:r(function(f,p,g,y,C){o.call(this,f,p,g,y,C),this.add("__BASE",0,0,0,y,C),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=y,this.height=C,this.imageData=this.context.getImageData(0,0,y,C),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},"CanvasTexture"),update:r(function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===u.WEBGL&&this.refresh(),this},"update"),draw:r(function(v,f,p,g){return g===void 0&&(g=!0),this.context.drawImage(p,v,f),g&&this.update(),this},"draw"),drawFrame:r(function(v,f,p,g,y){p===void 0&&(p=0),g===void 0&&(g=0),y===void 0&&(y=!0);var C=this.manager.getFrame(v,f);if(C){var S=C.canvasData,E=C.cutWidth,w=C.cutHeight,M=C.source.resolution;this.context.drawImage(C.source.image,S.x,S.y,E,w,p,g,E/M,w/M),y&&this.update()}return this},"drawFrame"),setPixel:r(function(v,f,p,g,y,C){C===void 0&&(C=255),v=Math.abs(Math.floor(v)),f=Math.abs(Math.floor(f));var S=this.getIndex(v,f);if(S>-1){var E=this.context.getImageData(v,f,1,1);E.data[0]=p,E.data[1]=g,E.data[2]=y,E.data[3]=C,this.context.putImageData(E,v,f)}return this},"setPixel"),putData:r(function(v,f,p,g,y,C,S){return g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=v.width),S===void 0&&(S=v.height),this.context.putImageData(v,f,p,g,y,C,S),this},"putData"),getData:r(function(v,f,p,g){v=m(Math.floor(v),0,this.width-1),f=m(Math.floor(f),0,this.height-1),p=m(p,1,this.width-v),g=m(g,1,this.height-f);var y=this.context.getImageData(v,f,p,g);return y},"getData"),getPixel:r(function(v,f,p){p||(p=new c);var g=this.getIndex(v,f);if(g>-1){var y=this.data,C=y[g+0],S=y[g+1],E=y[g+2],w=y[g+3];p.setTo(C,S,E,w)}return p},"getPixel"),getPixels:r(function(v,f,p,g){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=this.width),g===void 0&&(g=p),v=Math.abs(Math.round(v)),f=Math.abs(Math.round(f));for(var y=m(v,0,this.width),C=m(v+p,0,this.width),S=m(f,0,this.height),E=m(f+g,0,this.height),w=new c,M=[],R=S;R<E;R++){for(var O=[],b=y;b<C;b++)w=this.getPixel(b,R,w),O.push({x:b,y:R,color:w.color,alpha:w.alphaGL});M.push(O)}return M},"getPixels"),getIndex:r(function(v,f){return v=Math.abs(Math.round(v)),f=Math.abs(Math.round(f)),v<this.width&&f<this.height?(v+f*this.width)*4:-1},"getIndex"),refresh:r(function(){return this._source.update(),this},"refresh"),getCanvas:r(function(){return this.canvas},"getCanvas"),getContext:r(function(){return this.context},"getContext"),clear:r(function(v,f,p,g,y){return v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=this.width),g===void 0&&(g=this.height),y===void 0&&(y=!0),this.context.clearRect(v,f,p,g),y&&this.update(),this},"clear"),setSize:r(function(v,f){return f===void 0&&(f=v),(v!==this.width||f!==this.height)&&(this.canvas.width=v,this.canvas.height=f,this._source.width=v,this._source.height=f,this._source.isPowerOf2=l(v,f),this.frames.__BASE.setSize(v,f,0,0),this.width=v,this.height=f,this.refresh()),this},"setSize"),destroy:r(function(){o.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null},"destroy")});n.exports=d}),81320:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),m=i(38058),c=i(27919),u=i(83419),l=i(8054),o=i(4327),d=i(95540),v=i(36060),f=i(32302),p=i(79237),g=i(70554),y=new u({Extends:p,initialize:r(function(S,E,w,M,R){w===void 0&&(w=256),M===void 0&&(M=256),R===void 0&&(R=!0),this.type="DynamicTexture";var O=S.game.renderer,b=O&&O.type===l.CANVAS,A=b?c.create2D(this,w,M):[this];p.call(this,S,E,A,w,M),this.add("__BASE",0,0,0,w,M),this.renderer=O,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=b?A:null,this.context=b?A.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new m(0,0,w,M).setScene(S.game.scene.systemScene,!1),this.renderTarget=b?null:new f(O,w,M,1,0,!1,!1,!0,!1),this.pipeline=b?null:O.pipelines.get(v.SINGLE_PIPELINE),this.setSize(w,M,R)},"DynamicTexture"),setSize:r(function(C,S,E){S===void 0&&(S=C),E===void 0&&(E=!0),E&&(C=Math.floor(C),S=Math.floor(S),C%2!==0&&C++,S%2!==0&&S++);var w=this.get(),M=w.source;if(C!==this.width||S!==this.height){this.canvas&&(this.canvas.width=C,this.canvas.height=S);var R=this.renderTarget;R&&(R.willResize(C,S)&&R.resize(C,S),R.texture!==M.glTexture&&this.renderer.deleteTexture(M.glTexture),this.setFromRenderTarget()),this.camera.setSize(C,S),M.width=C,M.height=S,w.setSize(C,S),this.width=C,this.height=S}else{var O=this.getSourceImage();w.cutX+C>O.width&&(C=O.width-w.cutX),w.cutY+S>O.height&&(S=O.height-w.cutY),w.setSize(C,S,w.cutX,w.cutY)}return this},"setSize"),setFromRenderTarget:r(function(){var C=this.get(),S=C.source,E=this.renderTarget;return S.isRenderTexture=!0,S.isGLTexture=!0,S.glTexture=E.texture,this},"setFromRenderTarget"),setIsSpriteTexture:r(function(C){return this.isSpriteTexture=C,this},"setIsSpriteTexture"),fill:r(function(C,S,E,w,M,R){var O=this.camera,b=this.renderer;S===void 0&&(S=1),E===void 0&&(E=0),w===void 0&&(w=0),M===void 0&&(M=this.width),R===void 0&&(R=this.height);var A=C>>16&255,I=C>>8&255,L=C&255,F=this.renderTarget;if(O.preRender(),F){F.bind(!0);var D=this.pipeline.manager.set(this.pipeline),B=b.width/F.width,V=b.height/F.height,U=F.height-(w+R);D.drawFillRect(E*B,U*V,M*B,R*V,g.getTintFromFloats(L/255,I/255,A/255,1),S),F.unbind(!0)}else{var W=this.context;b.setContext(W),W.globalCompositeOperation="source-over",W.fillStyle="rgba("+A+","+I+","+L+","+S+")",W.fillRect(E,w,M,R),b.setContext()}return this.dirty=!0,this},"fill"),clear:r(function(C,S,E,w){if(this.dirty){var M=this.context,R=this.renderTarget;R?R.clear(C,S,E,w):M&&(C!==void 0&&S!==void 0&&E!==void 0&&w!==void 0?M.clearRect(C,S,E,w):(M.save(),M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,this.width,this.height),M.restore())),this.dirty=!1}return this},"clear"),stamp:r(function(C,S,E,w,M){E===void 0&&(E=0),w===void 0&&(w=0);var R=d(M,"alpha",1),O=d(M,"tint",16777215),b=d(M,"angle",0),A=d(M,"rotation",0),I=d(M,"scale",1),L=d(M,"scaleX",I),F=d(M,"scaleY",I),D=d(M,"originX",.5),B=d(M,"originY",.5),V=d(M,"blendMode",0),U=d(M,"erase",!1),W=d(M,"skipBatch",!1),Y=this.manager.resetStamp(R,O);return Y.setAngle(0),b!==0?Y.setAngle(b):A!==0&&Y.setRotation(A),Y.setScale(L,F),Y.setTexture(C,S),Y.setOrigin(D,B),Y.setBlendMode(V),U&&(this._eraseMode=!0),W?this.batchGameObject(Y,E,w):this.draw(Y,E,w),U&&(this._eraseMode=!1),this},"stamp"),erase:r(function(C,S,E){return this._eraseMode=!0,this.draw(C,S,E),this._eraseMode=!1,this},"erase"),draw:r(function(C,S,E,w,M){return this.beginDraw(),this.batchDraw(C,S,E,w,M),this.endDraw(),this},"draw"),drawFrame:r(function(C,S,E,w,M,R){return this.beginDraw(),this.batchDrawFrame(C,S,E,w,M,R),this.endDraw(),this},"drawFrame"),repeat:r(function(C,S,E,w,M,R,O,b,A){if(E===void 0&&(E=0),w===void 0&&(w=0),M===void 0&&(M=this.width),R===void 0&&(R=this.height),O===void 0&&(O=1),b===void 0&&(b=16777215),A===void 0&&(A=!1),C instanceof o?S=C:S=this.manager.getFrame(C,S),!S)return this;var I=this.manager.resetStamp(O,b);I.setFrame(S),I.setOrigin(0);var L=S.width,F=S.height;M=Math.floor(M),R=Math.floor(R);var D=Math.ceil(M/L),B=Math.ceil(R/F),V=D*L-M,U=B*F-R;V>0&&(V=L-V),U>0&&(U=F-U),E<0&&(D+=Math.ceil(Math.abs(E)/L)),w<0&&(B+=Math.ceil(Math.abs(w)/F));var W=E,Y=w,N=!1,z=this.manager.stampCrop.setTo(0,0,L,F);A||this.beginDraw();for(var G=0;G<B;G++){if(Y+F<0){Y+=F;continue}for(var X=0;X<D;X++){if(N=!1,W+L<0){W+=L;continue}else W<0&&(N=!0,z.width=L+W,z.x=L-z.width);Y<0&&(N=!0,z.height=F+Y,z.y=F-z.height),V>0&&X===D-1&&(N=!0,z.width=V),U>0&&G===B-1&&(N=!0,z.height=U),N&&I.setCrop(z),this.batchGameObject(I,W,Y),I.isCropped=!1,z.setTo(0,0,L,F),W+=L}W=E,Y+=F}return A||this.endDraw(),this},"repeat"),beginDraw:r(function(){if(!this.isDrawing){var C=this.camera,S=this.renderer,E=this.renderTarget;C.preRender(),E?S.beginCapture(E.width,E.height):S.setContext(this.context),this.isDrawing=!0}return this},"beginDraw"),batchDraw:r(function(C,S,E,w,M){return Array.isArray(C)||(C=[C]),this.batchList(C,S,E,w,M),this},"batchDraw"),batchDrawFrame:r(function(C,S,E,w,M,R){E===void 0&&(E=0),w===void 0&&(w=0),M===void 0&&(M=1),R===void 0&&(R=16777215);var O=this.manager.getFrame(C,S);return O&&(this.renderTarget?this.pipeline.batchTextureFrame(O,E,w,R,M,this.camera.matrix,null):this.batchTextureFrame(O,E,w,M,R)),this},"batchDrawFrame"),endDraw:r(function(C){if(C===void 0&&(C=this._eraseMode),this.isDrawing){var S=this.renderer,E=this.renderTarget;if(E){var w=S.endCapture(),M=S.pipelines.setUtility();M.blitFrame(w,E,1,!1,!1,C,this.isSpriteTexture),S.resetScissor(),S.resetViewport()}else S.setContext();this.dirty=!0,this.isDrawing=!1}return this},"endDraw"),batchList:r(function(C,S,E,w,M){var R=C.length;if(R!==0)for(var O=0;O<R;O++){var b=C[O];!b||b===this||(b.renderWebGL||b.renderCanvas?this.batchGameObject(b,S,E):b.isParent||b.list?this.batchGroup(b.getChildren(),S,E):typeof b=="string"?this.batchTextureFrameKey(b,null,S,E,w,M):b instanceof o?this.batchTextureFrame(b,S,E,w,M):Array.isArray(b)&&this.batchList(b,S,E,w,M))}},"batchList"),batchGroup:r(function(C,S,E){S===void 0&&(S=0),E===void 0&&(E=0);for(var w=0;w<C.length;w++){var M=C[w];M.willRender(this.camera)&&this.batchGameObject(M,M.x+S,M.y+E)}},"batchGroup"),batchGameObject:r(function(C,S,E){S===void 0&&(S=C.x),E===void 0&&(E=C.y);var w=C.x,M=C.y,R=this.camera,O=this.renderer,b=this._eraseMode,A=C.mask;if(C.setPosition(S,E),this.canvas){if(b){var I=C.blendMode;C.blendMode=h.ERASE}A&&A.preRenderCanvas(O,C,R),C.renderCanvas(O,C,R,null),A&&A.postRenderCanvas(O,C,R),b&&(C.blendMode=I)}else O&&(A&&A.preRenderWebGL(O,C,R),b||O.setBlendMode(C.blendMode),C.renderWebGL(O,C,R),A&&A.postRenderWebGL(O,R,this.renderTarget));C.setPosition(w,M)},"batchGameObject"),batchTextureFrameKey:r(function(C,S,E,w,M,R){var O=this.manager.getFrame(C,S);O&&this.batchTextureFrame(O,E,w,M,R)},"batchTextureFrameKey"),batchTextureFrame:r(function(C,S,E,w,M){S===void 0&&(S=0),E===void 0&&(E=0),w===void 0&&(w=1),M===void 0&&(M=16777215);var R=this.camera.matrix,O=this.renderTarget;if(O)this.pipeline.batchTextureFrame(C,S,E,M,w,R,null);else{var b=this.context,A=C.canvasData,I=C.source.image;b.save(),b.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",b.globalAlpha=w,R.setToContext(b),A.width>0&&A.height>0&&b.drawImage(I,A.x,A.y,A.width,A.height,S,E,A.width,A.height),b.restore()}},"batchTextureFrame"),snapshotArea:r(function(C,S,E,w,M,R,O){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,M,!1,C,S,E,w,R,O):this.renderer.snapshotCanvas(this.canvas,M,!1,C,S,E,w,R,O),this},"snapshotArea"),snapshot:r(function(C,S,E){return this.snapshotArea(0,0,this.width,this.height,C,S,E)},"snapshot"),snapshotPixel:r(function(C,S,E){return this.snapshotArea(C,S,1,1,E,"pixel")},"snapshotPixel"),getWebGLTexture:r(function(){if(this.renderTarget)return this.renderTarget.texture},"getWebGLTexture"),renderWebGL:r(function(C,S,E,w){var M=this.manager.resetStamp();M.setTexture(this),M.setOrigin(0),M.renderWebGL(C,M,E,w)},"renderWebGL"),renderCanvas:r(function(){},"renderCanvas"),destroy:r(function(){var C=this.manager.stamp;C&&C.texture===this&&this.manager.resetStamp(),p.prototype.destroy.call(this),c.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null},"destroy")});n.exports=y}),4327:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(45319),c=i(79291),u=new h({initialize:r(function(o,d,v,f,p,g,y){this.texture=o,this.name=d,this.source=o.source[v],this.sourceIndex=v,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(g,y,f,p)},"Frame"),setCutPosition:r(function(l,o){return l===void 0&&(l=0),o===void 0&&(o=0),this.cutX=l,this.cutY=o,this.updateUVs()},"setCutPosition"),setCutSize:r(function(l,o){return this.cutWidth=l,this.cutHeight=o,this.updateUVs()},"setCutSize"),setSize:r(function(l,o,d,v){d===void 0&&(d=0),v===void 0&&(v=0),this.setCutPosition(d,v),this.setCutSize(l,o),this.width=l,this.height=o,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(o*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(o/2);var f=this.data,p=f.cut;p.x=d,p.y=v,p.w=l,p.h=o,p.r=d+l,p.b=v+o,f.sourceSize.w=l,f.sourceSize.h=o,f.spriteSourceSize.w=l,f.spriteSourceSize.h=o,f.radius=.5*Math.sqrt(l*l+o*o);var g=f.drawImage;return g.x=d,g.y=v,g.width=l,g.height=o,this.updateUVs()},"setSize"),setTrim:r(function(l,o,d,v,f,p){var g=this.data,y=g.spriteSourceSize;return g.trim=!0,g.sourceSize.w=l,g.sourceSize.h=o,y.x=d,y.y=v,y.w=f,y.h=p,y.r=d+f,y.b=v+p,this.x=d,this.y=v,this.width=f,this.height=p,this.halfWidth=f*.5,this.halfHeight=p*.5,this.centerX=Math.floor(f/2),this.centerY=Math.floor(p/2),this.updateUVs()},"setTrim"),setScale9:r(function(l,o,d,v){var f=this.data;return f.scale9=!0,f.is3Slice=o===0&&v===this.height,f.scale9Borders.x=l,f.scale9Borders.y=o,f.scale9Borders.w=d,f.scale9Borders.h=v,this},"setScale9"),setCropUVs:r(function(l,o,d,v,f,p,g){var y=this.cutX,C=this.cutY,S=this.cutWidth,E=this.cutHeight,w=this.realWidth,M=this.realHeight;o=m(o,0,w),d=m(d,0,M),v=m(v,0,w-o),f=m(f,0,M-d);var R=y+o,O=C+d,b=v,A=f,I=this.data;if(I.trim){var L=I.spriteSourceSize;v=m(v,0,L.x+S-o),f=m(f,0,L.y+E-d);var F=o+v,D=d+f,B=!(L.r<o||L.b<d||L.x>F||L.y>D);if(B){var V=Math.max(L.x,o),U=Math.max(L.y,d),W=Math.min(L.r,F)-V,Y=Math.min(L.b,D)-U;b=W,A=Y,p?R=y+(S-(V-L.x)-W):R=y+(V-L.x),g?O=C+(E-(U-L.y)-Y):O=C+(U-L.y),o=V,d=U,v=W,f=Y}else R=0,O=0,b=0,A=0}else p&&(R=y+(S-o-v)),g&&(O=C+(E-d-f));var N=this.source.width,z=this.source.height;return l.u0=Math.max(0,R/N),l.v0=Math.max(0,O/z),l.u1=Math.min(1,(R+b)/N),l.v1=Math.min(1,(O+A)/z),l.x=o,l.y=d,l.cx=R,l.cy=O,l.cw=b,l.ch=A,l.width=v,l.height=f,l.flipX=p,l.flipY=g,l},"setCropUVs"),updateCropUVs:r(function(l,o,d){return this.setCropUVs(l,l.x,l.y,l.width,l.height,o,d)},"updateCropUVs"),setUVs:r(function(l,o,d,v,f,p){var g=this.data.drawImage;return g.width=l,g.height=o,this.u0=d,this.v0=v,this.u1=f,this.v1=p,this},"setUVs"),updateUVs:r(function(){var l=this.cutX,o=this.cutY,d=this.cutWidth,v=this.cutHeight,f=this.data.drawImage;f.width=d,f.height=v;var p=this.source.width,g=this.source.height;return this.u0=l/p,this.v0=o/g,this.u1=(l+d)/p,this.v1=(o+v)/g,this},"updateUVs"),updateUVsInverted:r(function(){var l=this.source.width,o=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/o,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/o,this},"updateUVsInverted"),clone:r(function(){var l=new u(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=c(!0,l.data,this.data),l.updateUVs(),l},"clone"),destroy:r(function(){this.texture=null,this.source=null,this.customData=null,this.data=null},"destroy"),glTexture:{get:r(function(){return this.source.glTexture},"get")},realWidth:{get:r(function(){return this.data.sourceSize.w},"get")},realHeight:{get:r(function(){return this.data.sourceSize.h},"get")},radius:{get:r(function(){return this.data.radius},"get")},trimmed:{get:r(function(){return this.data.trim},"get")},scale9:{get:r(function(){return this.data.scale9},"get")},is3Slice:{get:r(function(){return this.data.is3Slice},"get")},canvasData:{get:r(function(){return this.data.drawImage},"get")}});n.exports=u}),79237:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(4327),c=i(11876),u='Texture "%s" has no frame "%s"',l=new h({initialize:r(function(d,v,f,p,g){Array.isArray(f)||(f=[f]),this.manager=d,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var y=0;y<f.length;y++)this.source.push(new c(this,f[y],p,g))},"Texture"),add:r(function(o,d,v,f,p,g){if(this.has(o))return null;var y=new m(this,o,d,v,f,p,g);return this.frames[o]=y,this.firstFrame==="__BASE"&&(this.firstFrame=o),this.frameTotal++,y},"add"),remove:r(function(o){if(this.has(o)){var d=this.get(o);return d.destroy(),delete this.frames[o],!0}return!1},"remove"),has:r(function(o){return this.frames.hasOwnProperty(o)},"has"),get:r(function(o){o||(o=this.firstFrame);var d=this.frames[o];return d||(console.warn(u,this.key,o),d=this.frames[this.firstFrame]),d},"get"),getTextureSourceIndex:r(function(o){for(var d=0;d<this.source.length;d++)if(this.source[d]===o)return d;return-1},"getTextureSourceIndex"),getFramesFromTextureSource:r(function(o,d){d===void 0&&(d=!1);var v=[];for(var f in this.frames)if(!(f==="__BASE"&&!d)){var p=this.frames[f];p.sourceIndex===o&&v.push(p)}return v},"getFramesFromTextureSource"),getFrameBounds:r(function(o){o===void 0&&(o=0);for(var d=this.getFramesFromTextureSource(o,!0),v=d[0],f=v.cutX,p=v.cutY,g=v.cutX+v.cutWidth,y=v.cutY+v.cutHeight,C=1;C<d.length;C++){var S=d[C];S.cutX<f&&(f=S.cutX),S.cutY<p&&(p=S.cutY),S.cutX+S.cutWidth>g&&(g=S.cutX+S.cutWidth),S.cutY+S.cutHeight>y&&(y=S.cutY+S.cutHeight)}return{x:f,y:p,width:g-f,height:y-p}},"getFrameBounds"),getFrameNames:r(function(o){o===void 0&&(o=!1);var d=Object.keys(this.frames);if(!o){var v=d.indexOf("__BASE");v!==-1&&d.splice(v,1)}return d},"getFrameNames"),getSourceImage:r(function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var d=this.frames[o];return d?d.source.image:(console.warn(u,this.key,o),this.frames.__BASE.source.image)},"getSourceImage"),getDataSourceImage:r(function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var d=this.frames[o],v;return d?v=d.sourceIndex:(console.warn(u,this.key,o),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},"getDataSourceImage"),setDataSource:r(function(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var v=this.source[d];this.dataSource.push(new c(this,o[d],v.width,v.height))}},"setDataSource"),setFilter:r(function(o){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(o);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(o)},"setFilter"),destroy:r(function(){var o,d=this.source,v=this.dataSource;for(o=0;o<d.length;o++)d[o]&&d[o].destroy();for(o=0;o<v.length;o++)v[o]&&v[o].destroy();for(var f in this.frames){var p=this.frames[f];p&&p.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null},"destroy")});n.exports=l}),17130:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),m=i(57382),c=i(83419),u=i(40987),l=i(8054),o=i(81320),d=i(50792),v=i(69442),f=i(4327),p=i(8443),g=i(99584),y=i(35154),C=i(88571),S=i(41212),E=i(61309),w=i(87841),M=i(79237),R=new c({Extends:d,initialize:r(function(b){d.call(this),this.game=b,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new w,this.silentWarnings=!1,b.events.once(p.BOOT,this.boot,this)},"TextureManager"),boot:r(function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var O=this.game.config;O.defaultImage!==null&&this.addBase64("__DEFAULT",O.defaultImage),O.missingImage!==null&&this.addBase64("__MISSING",O.missingImage),O.whiteImage!==null&&this.addBase64("__WHITE",O.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(p.DESTROY,this.destroy,this),this.game.events.once(p.SYSTEM_READY,function(b){this.stamp=new C(b).setOrigin(0)},this)},"boot"),updatePending:r(function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},"updatePending"),checkKey:r(function(O){return!O||typeof O!="string"||this.exists(O)?(this.silentWarnings||console.error("Texture key already in use: "+O),!1):!0},"checkKey"),remove:r(function(O){if(typeof O=="string")if(this.exists(O))O=this.get(O);else return this.silentWarnings||console.warn("No texture found matching key: "+O),this;var b=O.key;return this.list.hasOwnProperty(b)&&(O.destroy(),this.emit(v.REMOVE,b),this.emit(v.REMOVE_KEY+b)),this},"remove"),removeKey:r(function(O){return this.list.hasOwnProperty(O)&&delete this.list[O],this},"removeKey"),addBase64:r(function(O,b){if(this.checkKey(O)){var A=this,I=new Image;I.onerror=function(){A.emit(v.ERROR,O)},I.onload=function(){var L=A.create(O,I);L&&(E.Image(L,0),A.emit(v.ADD,O,L),A.emit(v.ADD_KEY+O,L),A.emit(v.LOAD,O,L))},I.src=b}return this},"addBase64"),getBase64:r(function(O,b,A,I){A===void 0&&(A="image/png"),I===void 0&&(I=.92);var L="",F=this.getFrame(O,b);if(F&&(F.source.isRenderTexture||F.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(F){var D=F.canvasData,B=h.create2D(this,D.width,D.height),V=B.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&V.drawImage(F.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),L=B.toDataURL(A,I),h.remove(B)}return L},"getBase64"),addImage:r(function(O,b,A){var I=null;return this.checkKey(O)&&(I=this.create(O,b),E.Image(I,0),A&&I.setDataSource(A),this.emit(v.ADD,O,I),this.emit(v.ADD_KEY+O,I)),I},"addImage"),addGLTexture:r(function(O,b){var A=null;if(this.checkKey(O)){var I=b.width,L=b.height;A=this.create(O,b,I,L),A.add("__BASE",0,0,0,I,L),this.emit(v.ADD,O,A),this.emit(v.ADD_KEY+O,A)}return A},"addGLTexture"),addCompressedTexture:r(function(O,b,A){var I=null;if(this.checkKey(O)){if(I=this.create(O,b),I.add("__BASE",0,0,0,b.width,b.height),A){var L=r(function(D,B,V){Array.isArray(V.textures)||Array.isArray(V.frames)?E.JSONArray(D,B,V):E.JSONHash(D,B,V)},"parse");if(Array.isArray(A))for(var F=0;F<A.length;F++)L(I,F,A[F]);else L(I,0,A)}this.emit(v.ADD,O,I),this.emit(v.ADD_KEY+O,I)}return I},"addCompressedTexture"),addRenderTexture:r(function(O,b){var A=null;return this.checkKey(O)&&(A=this.create(O,b),A.add("__BASE",0,0,0,b.width,b.height),this.emit(v.ADD,O,A),this.emit(v.ADD_KEY+O,A)),A},"addRenderTexture"),generate:r(function(O,b){if(this.checkKey(O)){var A=h.create(this,1,1);return b.canvas=A,g(b),this.addCanvas(O,A)}else return null},"generate"),createCanvas:r(function(O,b,A){if(b===void 0&&(b=256),A===void 0&&(A=256),this.checkKey(O)){var I=h.create(this,b,A,l.CANVAS,!0);return this.addCanvas(O,I)}return null},"createCanvas"),addCanvas:r(function(O,b,A){A===void 0&&(A=!1);var I=null;return A?I=new m(this,O,b,b.width,b.height):this.checkKey(O)&&(I=new m(this,O,b,b.width,b.height),this.list[O]=I,this.emit(v.ADD,O,I),this.emit(v.ADD_KEY+O,I)),I},"addCanvas"),addDynamicTexture:r(function(O,b,A){var I=null;return typeof O=="string"&&!this.exists(O)?I=new o(this,O,b,A):(I=O,O=I.key),this.checkKey(O)?(this.list[O]=I,this.emit(v.ADD,O,I),this.emit(v.ADD_KEY+O,I)):I=null,I},"addDynamicTexture"),addAtlas:r(function(O,b,A,I){return Array.isArray(A.textures)||Array.isArray(A.frames)?this.addAtlasJSONArray(O,b,A,I):this.addAtlasJSONHash(O,b,A,I)},"addAtlas"),addAtlasJSONArray:r(function(O,b,A,I){var L=null;if(b instanceof M?(O=b.key,L=b):this.checkKey(O)&&(L=this.create(O,b)),L){if(Array.isArray(A))for(var F=A.length===1,D=0;D<L.source.length;D++){var B=F?A[0]:A[D];E.JSONArray(L,D,B)}else E.JSONArray(L,0,A);I&&L.setDataSource(I),this.emit(v.ADD,O,L),this.emit(v.ADD_KEY+O,L)}return L},"addAtlasJSONArray"),addAtlasJSONHash:r(function(O,b,A,I){var L=null;if(b instanceof M?(O=b.key,L=b):this.checkKey(O)&&(L=this.create(O,b)),L){if(Array.isArray(A))for(var F=0;F<A.length;F++)E.JSONHash(L,F,A[F]);else E.JSONHash(L,0,A);I&&L.setDataSource(I),this.emit(v.ADD,O,L),this.emit(v.ADD_KEY+O,L)}return L},"addAtlasJSONHash"),addAtlasXML:r(function(O,b,A,I){var L=null;return b instanceof M?(O=b.key,L=b):this.checkKey(O)&&(L=this.create(O,b)),L&&(E.AtlasXML(L,0,A),I&&L.setDataSource(I),this.emit(v.ADD,O,L),this.emit(v.ADD_KEY+O,L)),L},"addAtlasXML"),addUnityAtlas:r(function(O,b,A,I){var L=null;return b instanceof M?(O=b.key,L=b):this.checkKey(O)&&(L=this.create(O,b)),L&&(E.UnityYAML(L,0,A),I&&L.setDataSource(I),this.emit(v.ADD,O,L),this.emit(v.ADD_KEY+O,L)),L},"addUnityAtlas"),addSpriteSheet:r(function(O,b,A,I){var L=null;if(b instanceof M?(O=b.key,L=b):this.checkKey(O)&&(L=this.create(O,b)),L){var F=L.source[0].width,D=L.source[0].height;E.SpriteSheet(L,0,0,0,F,D,A),I&&L.setDataSource(I),this.emit(v.ADD,O,L),this.emit(v.ADD_KEY+O,L)}return L},"addSpriteSheet"),addSpriteSheetFromAtlas:r(function(O,b){if(!this.checkKey(O))return null;var A=y(b,"atlas",null),I=y(b,"frame",null);if(!(!A||!I)){var L=this.get(A),F=L.get(I);if(F){var D=F.source.image;D||(D=F.source.glTexture);var B=this.create(O,D);return F.trimmed?E.SpriteSheetFromAtlas(B,F,b):E.SpriteSheet(B,0,F.cutX,F.cutY,F.cutWidth,F.cutHeight,b),this.emit(v.ADD,O,B),this.emit(v.ADD_KEY+O,B),B}}},"addSpriteSheetFromAtlas"),addUint8Array:r(function(O,b,A,I){if(!this.checkKey(O)||b.length/4!==A*I)return null;var L=this.create(O,b,A,I);return L.add("__BASE",0,0,0,A,I),this.emit(v.ADD,O,L),this.emit(v.ADD_KEY+O,L),L},"addUint8Array"),create:r(function(O,b,A,I){var L=null;return this.checkKey(O)&&(L=new M(this,O,b,A,I),this.list[O]=L),L},"create"),exists:r(function(O){return this.list.hasOwnProperty(O)},"exists"),get:r(function(O){return O===void 0&&(O="__DEFAULT"),this.list[O]?this.list[O]:O instanceof M?O:O instanceof f?O.texture:this.list.__MISSING},"get"),cloneFrame:r(function(O,b){if(this.list[O])return this.list[O].get(b).clone()},"cloneFrame"),getFrame:r(function(O,b){if(this.list[O])return this.list[O].get(b)},"getFrame"),parseFrame:r(function(O){if(O){if(typeof O=="string")return this.getFrame(O);if(Array.isArray(O)&&O.length===2)return this.getFrame(O[0],O[1]);if(S(O))return this.getFrame(O.key,O.frame);if(O instanceof M)return O.get();if(O instanceof f)return O}else return},"parseFrame"),getTextureKeys:r(function(){var O=[];for(var b in this.list)b!=="__DEFAULT"&&b!=="__MISSING"&&b!=="__WHITE"&&b!=="__NORMAL"&&O.push(b);return O},"getTextureKeys"),getPixel:r(function(O,b,A,I){var L=this.getFrame(A,I);if(L){O-=L.x,b-=L.y;var F=L.data.cut;if(O+=F.x,b+=F.y,O>=F.x&&O<F.r&&b>=F.y&&b<F.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(L.source.image,O,b,1,1,0,0,1,1);var B=D.getImageData(0,0,1,1);return new u(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},"getPixel"),getPixelAlpha:r(function(O,b,A,I){var L=this.getFrame(A,I);if(L){O-=L.x,b-=L.y;var F=L.data.cut;if(O+=F.x,b+=F.y,O>=F.x&&O<F.r&&b>=F.y&&b<F.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(L.source.image,O,b,1,1,0,0,1,1);var B=D.getImageData(0,0,1,1);return B.data[3]}}return null},"getPixelAlpha"),setTexture:r(function(O,b,A){return this.list[b]&&(O.texture=this.list[b],O.frame=O.texture.get(A)),O},"setTexture"),renameTexture:r(function(O,b){var A=this.get(O);return A&&O!==b?(A.key=b,this.list[b]=A,delete this.list[O],!0):!1},"renameTexture"),each:r(function(O,b){for(var A=[null],I=1;I<arguments.length;I++)A.push(arguments[I]);for(var L in this.list)A[0]=this.list[L],O.apply(b,A)},"each"),resetStamp:r(function(O,b){O===void 0&&(O=1),b===void 0&&(b=16777215);var A=this.stamp;return A.setCrop(),A.setPosition(0),A.setAngle(0),A.setScale(1),A.setAlpha(O),A.setTint(b),A.setTexture("__WHITE"),A},"resetStamp"),destroy:r(function(){for(var O in this.list)this.list[O].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)},"destroy")});n.exports=R}),11876:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),m=i(83419),c=i(50030),u=i(29795),l=i(82751),o=new m({initialize:r(function(v,f,p,g,y){y===void 0&&(y=!1);var C=v.manager.game;this.renderer=C.renderer,this.texture=v,this.source=f,this.image=f.compressed?null:f,this.compressionAlgorithm=f.compressed?f.format:null,this.resolution=1,this.width=p||f.naturalWidth||f.videoWidth||f.width||0,this.height=g||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=u.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture"||f.type==="DynamicTexture",this.isGLTexture=f instanceof l,this.isPowerOf2=c(this.width,this.height),this.glTexture=null,this.flipY=y,this.init(C)},"TextureSource"),init:r(function(d){var v=this.renderer;if(v){var f=this.source;if(v.gl){var p=this.image,g=this.flipY,y=this.width,C=this.height,S=this.scaleMode;this.isCanvas?this.glTexture=v.createCanvasTexture(p,!1,g):this.isVideo?this.glTexture=v.createVideoTexture(p,!1,g):this.isRenderTexture?this.glTexture=v.createTextureFromSource(null,y,C,S):this.isGLTexture?this.glTexture=f:this.compressionAlgorithm?this.glTexture=v.createTextureFromSource(f,void 0,void 0,S):f instanceof Uint8Array?this.glTexture=v.createUint8ArrayTexture(f,y,C,S):this.glTexture=v.createTextureFromSource(p,y,C,S)}else this.isRenderTexture&&(this.image=f.canvas)}d.config.antialias||this.setFilter(1)},"init"),setFilter:r(function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},"setFilter"),setFlipY:r(function(d){return d===void 0&&(d=!0),d===this.flipY?this:(this.flipY=d,this.update(),this)},"setFlipY"),update:r(function(){var d=this.renderer,v=this.image,f=this.flipY,p=d.gl;p&&this.isCanvas?d.updateCanvasTexture(v,this.glTexture,f):p&&this.isVideo&&d.updateVideoTexture(v,this.glTexture,f)},"update"),destroy:r(function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null},"destroy")});n.exports=o}),19673:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};n.exports=T}),44538:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"}),63486:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"}),94851:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"}),29099:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"}),8678:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"}),86415:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"}),30879:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"}),69442:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}}),27458:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),m=i(19673),c={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:m,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};c=h(!1,c,m),n.exports=c}),89905:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(!m.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var c=i.source[h];i.add("__BASE",h,0,0,c.width,c.height);for(var u=m.getElementsByTagName("SubTexture"),l,o=0;o<u.length;o++){var d=u[o].attributes,v=d.name.value,f=parseInt(d.x.value,10),p=parseInt(d.y.value,10),g=parseInt(d.width.value,10),y=parseInt(d.height.value,10);if(l=i.add(v,h,f,p,g,y),d.frameX){var C=Math.abs(parseInt(d.frameX.value,10)),S=Math.abs(parseInt(d.frameY.value,10)),E=parseInt(d.frameWidth.value,10),w=parseInt(d.frameHeight.value,10);l.setTrim(g,y,C,S,E,w)}}return i},"AtlasXML");n.exports=T}),72893:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.source[h];return i.add("__BASE",h,0,0,m.width,m.height),i},"Canvas");n.exports=T}),4832:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.source[h];return i.add("__BASE",h,0,0,m.width,m.height),i},"Image");n.exports=T}),78566:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41786),m=r(function(c,u,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var o=c.source[u];c.add("__BASE",u,0,0,o.width,o.height);for(var d=Array.isArray(l.textures)?l.textures[u].frames:l.frames,v,f=0;f<d.length;f++){var p=d[f];if(v=c.add(p.filename,u,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+p.filename);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var g=p.anchor||p.pivot;g&&(v.customPivot=!0,v.pivotX=g.x,v.pivotY=g.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=h(p)}for(var y in l)y!=="frames"&&(Array.isArray(l[y])?c.customData[y]=l[y].slice(0):c.customData[y]=l[y]);return c},"JSONArray");n.exports=m}),39711:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41786),m=r(function(c,u,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var o=c.source[u];c.add("__BASE",u,0,0,o.width,o.height);var d=l.frames,v;for(var f in d)if(d.hasOwnProperty(f)){var p=d[f];if(v=c.add(f,u,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+f);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var g=p.anchor||p.pivot;g&&(v.customPivot=!0,v.pivotX=g.x,v.pivotY=g.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=h(p)}for(var y in l)y!=="frames"&&(Array.isArray(l[y])?c.customData[y]=l[y].slice(0):c.customData[y]=l[y]);return c},"JSONHash");n.exports=m}),31403:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h=[171,75,84,88,32,49,49,187,13,10,26,10],m,c=new Uint8Array(i,0,12);for(m=0;m<c.length;m++)if(c[m]!==h[m]){console.warn("KTXParser - Invalid file format");return}var u=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(i,12,13*u),o=l.getUint32(0,!0)===67305985,d=l.getUint32(1*u,o);if(d!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=l.getUint32(4*u,o),f=l.getUint32(6*u,o),p=l.getUint32(7*u,o),g=Math.max(1,l.getUint32(11*u,o)),y=l.getUint32(12*u,o),C=new Array(g),S=64+y,E=f,w=p;for(m=0;m<g;m++){var M=new Int32Array(i,S,1)[0];S+=4,C[m]={data:new Uint8Array(i,S,M),width:E,height:w},E=Math.max(1,E>>1),w=Math.max(1,w>>1),S+=M}return{mipmaps:C,width:f,height:p,internalFormat:v,compressed:!0,generateMipmap:!1}},"KTXParser");n.exports=T}),82038:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(b,A,I,L,F,D,B){return B===void 0&&(B=16),Math.floor((b+I)/F)*Math.floor((A+L)/D)*B}r(T,"GetSize");function i(b,A){return b=Math.max(b,16),A=Math.max(A,8),b*A/4}r(i,"PVRTC2bppSize");function h(b,A){return b=Math.max(b,8),A=Math.max(A,8),b*A/2}r(h,"PVRTC4bppSize");function m(b,A){return Math.ceil(b/4)*Math.ceil(A/4)*16}r(m,"BPTCSize");function c(b,A){return T(b,A,3,3,4,4,8)}r(c,"DXTEtcSmallSize");function u(b,A){return T(b,A,3,3,4,4)}r(u,"DXTEtcAstcBigSize");function l(b,A){return T(b,A,4,3,5,4)}r(l,"ATC5x4Size");function o(b,A){return T(b,A,4,4,5,5)}r(o,"ATC5x5Size");function d(b,A){return T(b,A,5,4,6,5)}r(d,"ATC6x5Size");function v(b,A){return T(b,A,5,5,6,6)}r(v,"ATC6x6Size");function f(b,A){return T(b,A,7,4,8,5)}r(f,"ATC8x5Size");function p(b,A){return T(b,A,7,5,8,6)}r(p,"ATC8x6Size");function g(b,A){return T(b,A,7,7,8,8)}r(g,"ATC8x8Size");function y(b,A){return T(b,A,9,4,10,5)}r(y,"ATC10x5Size");function C(b,A){return T(b,A,9,5,10,6)}r(C,"ATC10x6Size");function S(b,A){return T(b,A,9,7,10,8)}r(S,"ATC10x8Size");function E(b,A){return T(b,A,9,9,10,10)}r(E,"ATC10x10Size");function w(b,A){return T(b,A,11,9,12,10)}r(w,"ATC12x10Size");function M(b,A){return T(b,A,11,11,12,12)}r(M,"ATC12x12Size");var R={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:h,glFormat:[35840]},3:{sizeFunc:h,glFormat:[35842]},6:{sizeFunc:c,glFormat:[36196]},7:{sizeFunc:c,glFormat:[33776,35916]},8:{sizeFunc:u,glFormat:[33777,35917]},9:{sizeFunc:u,glFormat:[33778,35918]},11:{sizeFunc:u,glFormat:[33779,35919]},14:{sizeFunc:m,glFormat:[36494,36495]},15:{sizeFunc:m,glFormat:[36492,36493]},22:{sizeFunc:c,glFormat:[37492,37493]},23:{sizeFunc:u,glFormat:[37496,37497]},24:{sizeFunc:c,glFormat:[37494,37495]},25:{sizeFunc:c,glFormat:[37488]},26:{sizeFunc:u,glFormat:[37490]},27:{sizeFunc:u,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:o,glFormat:[37810,37842]},30:{sizeFunc:d,glFormat:[37811,37843]},31:{sizeFunc:v,glFormat:[37812,37844]},32:{sizeFunc:f,glFormat:[37813,37845]},33:{sizeFunc:p,glFormat:[37814,37846]},34:{sizeFunc:g,glFormat:[37815,37847]},35:{sizeFunc:y,glFormat:[37816,37848]},36:{sizeFunc:C,glFormat:[37817,37849]},37:{sizeFunc:S,glFormat:[37818,37850]},38:{sizeFunc:E,glFormat:[37819,37851]},39:{sizeFunc:w,glFormat:[37820,37852]},40:{sizeFunc:M,glFormat:[37821,37853]}},O=r(function(b){for(var A=new Uint32Array(b,0,13),I=A[0],L=I===55727696,F=L?A[2]:A[3],D=A[4],B=R[F].glFormat[D],V=R[F].sizeFunc,U=A[11],W=A[7],Y=A[6],N=52+A[12],z=new Uint8Array(b,N),G=new Array(U),X=0,k=W,H=Y,$=0;$<U;$++){var K=V(k,H);G[$]={data:new Uint8Array(z.buffer,z.byteOffset+X,K),width:k,height:H},k=Math.max(1,k>>1),H=Math.max(1,H>>1),X+=K}return{mipmaps:G,width:W,height:Y,internalFormat:B,compressed:!0,generateMipmap:!1}},"PVRParser");n.exports=O}),75549:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),m=r(function(c,u,l,o,d,v,f){var p=h(f,"frameWidth",null),g=h(f,"frameHeight",p);if(p===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var y=c.source[u];c.add("__BASE",u,0,0,y.width,y.height);var C=h(f,"startFrame",0),S=h(f,"endFrame",-1),E=h(f,"margin",0),w=h(f,"spacing",0),M=Math.floor((d-E+w)/(p+w)),R=Math.floor((v-E+w)/(g+w)),O=M*R;O===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",c.key),(C>O||C<-O)&&(C=0),C<0&&(C=O+C),(S===-1||S>O||S<C)&&(S=O);for(var b=E,A=E,I=0,L=0,F=0,D=0;D<O;D++){I=0,L=0;var B=b+p,V=A+g;B>d&&(I=B-d),V>v&&(L=V-v),D>=C&&D<=S&&(c.add(F,u,l+b,o+A,p-I,g-L),F++),b+=p+w,b+p>d&&(b=E,A+=g+w)}return c},"SpriteSheet");n.exports=m}),47534:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),m=r(function(c,u,l){var o=h(l,"frameWidth",null),d=h(l,"frameHeight",o);if(!o)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=c.source[0];c.add("__BASE",0,0,0,v.width,v.height),h(l,"startFrame",0),h(l,"endFrame",-1);for(var f=h(l,"margin",0),p=h(l,"spacing",0),g=u.cutX,y=u.cutY,C=u.cutWidth,S=u.cutHeight,E=u.realWidth,w=u.realHeight,M=Math.floor((E-f+p)/(o+p)),R=Math.floor((w-f+p)/(d+p)),O=u.x,b=o-O,A=o-(E-C-O),I=u.y,L=d-I,F=d-(w-S-I),D,B=f,V=f,U=0,W=0,Y=0;Y<R;Y++){for(var N=Y===0,z=Y===R-1,G=0;G<M;G++){var X=G===0,k=G===M-1;if(D=c.add(U,W,g+B,y+V,o,d),X||N||k||z){var H=X?O:0,$=N?I:0,K=0,Z=0;X&&(K+=o-b),k&&(K+=o-A),N&&(Z+=d-L),z&&(Z+=d-F);var J=o-K,j=d-Z;D.cutWidth=J,D.cutHeight=j,D.setTrim(o,d,H,$,J,j)}B+=p,X?B+=b:k?B+=A:B+=o,U++}B=f,V+=p,N?V+=L:z?V+=F:V+=d}return c},"SpriteSheetFromAtlas");n.exports=m}),86147:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,i=r(function(m,c,u,l){var o=T-l.y-l.height;m.add(u,c,l.x,o,l.width,l.height)},"addFrame"),h=r(function(m,c,u){var l=m.source[c];m.add("__BASE",c,0,0,l.width,l.height),T=l.height;for(var o=u.split(`
`),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",f="",p={x:0,y:0,width:0,height:0},g=0;g<o.length;g++){var y=o[g].match(d);if(y){var C=y[1]==="- ",S=y[2],E=y[3];if(C&&(f!==v&&(i(m,c,f,p),v=f),p={x:0,y:0,width:0,height:0}),S==="name"){f=E;continue}switch(S){case"x":case"y":case"width":case"height":p[S]=parseInt(E,10);break}}}return f!==v&&i(m,c,f,p),m},"UnityYAML");n.exports=h}),55222:((n,T,i)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(50030),m=r(function(v){for(var f=v.mipmaps,p=1;p<f.length;p++){var g=f[p].width,y=f[p].height;if(!h(g,y))return console.warn("Mip level "+p+" is not a power-of-two size: "+g+"x"+y),!1}var C=d[v.internalFormat];return C?C(v):(console.warn("No format checker found for internal format "+v.internalFormat+". Assuming valid."),!0)},"verifyCompressedTexture");function c(v){for(var f=v.mipmaps,p=0;p<f.length;p++){var g=f[p].width,y=f[p].height;if((g<<p)%4!==0||(y<<p)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+p+" is "+g+"x"+y),!1}return!0}r(c,"check4x4");function u(){return!0}r(u,"checkAlways");function l(v){var f=v.mipmaps,p=f[0];return h(p.width,p.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+p.width+"x"+p.height),!1)}r(l,"checkPVRTC");function o(v){var f=v.mipmaps,p=f[0];return p.width%4!==0||p.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+p.width+"x"+p.height+" pixels"),!1):!0}r(o,"checkS3TCSRGB");var d={37488:u,37489:u,37490:u,37491:u,37492:u,37493:u,37494:u,37495:u,37496:u,37497:u,36196:u,37808:u,37809:u,37810:u,37811:u,37812:u,37813:u,37814:u,37815:u,37816:u,37817:u,37818:u,37819:u,37820:u,37821:u,37840:u,37841:u,37842:u,37843:u,37844:u,37845:u,37846:u,37847:u,37848:u,37849:u,37850:u,37851:u,37852:u,37853:u,36492:c,36493:c,36494:c,36495:c,36283:c,36284:c,36285:c,36286:c,35840:l,35841:l,35842:l,35843:l,33776:c,33777:c,33778:c,33779:c,35916:o,35917:o,35918:o,35919:o};n.exports=m}),61309:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}}),80341:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}}),16536:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u,l,o,d,v,f,p){(o===void 0||o<=0)&&(o=32),(d===void 0||d<=0)&&(d=32),v===void 0&&(v=0),f===void 0&&(f=0),this.name=u,this.firstgid=l|0,this.imageWidth=o|0,this.imageHeight=d|0,this.imageMargin=v|0,this.imageSpacing=f|0,this.properties=p||{},this.images=[],this.total=0},"ImageCollection"),containsImageIndex:r(function(c){return c>=this.firstgid&&c<this.firstgid+this.total},"containsImageIndex"),addImage:r(function(c,u,l,o){return this.images.push({gid:c,image:u,width:l,height:o}),this.total++,this},"addImage")});n.exports=m}),27462:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=new h({initialize:r(function(u){if(this.gids=[],u!==void 0)for(var l=0;l<u.length;++l)for(var o=u[l],d=0;d<o.total;++d)this.gids[o.firstgid+d]=o;this._gids=this.gids},"ObjectHelper"),enabled:{get:r(function(){return!!this.gids},"get"),set:r(function(c){this.gids=c?this._gids:void 0},"set")},getTypeIncludingTile:r(function(c){if(c.type!==void 0&&c.type!=="")return c.type;if(!(!this.gids||c.gid===void 0)){var u=this.gids[c.gid];if(u){var l=u.getTileData(c.gid);if(l)return l.type}}},"getTypeIncludingTile"),setTextureAndFrame:r(function(c,u,l,o){if(u===null&&this.gids&&o.gid!==void 0){var d=this.gids[o.gid];d&&(u===null&&d.image!==void 0&&(u=d.image.key),l===null&&(l=o.gid-d.firstgid),c.scene.textures.getFrame(u,l)||(u=null,l=null))}c.setTexture(u,l)},"setTextureAndFrame"),setPropertiesFromTiledObject:r(function(c,u){if(this.gids!==void 0&&u.gid!==void 0){var l=this.gids[u.gid];l!==void 0&&this.setFromJSON(c,l.getTileProperties(u.gid))}this.setFromJSON(c,u.properties)},"setPropertiesFromTiledObject"),setFromJSON:r(function(c,u){if(u){if(Array.isArray(u)){for(var l=0;l<u.length;l++){var o=u[l];c[o.name]!==void 0?c[o.name]=o.value:c.setData(o.name,o.value)}return}for(var d in u)c[d]!==void 0?c[d]=u[d]:c.setData(d,u[d])}},"setFromJSON")});n.exports=m}),31989:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),m=i(87010),c=i(46177),u=i(49075),l=r(function(o,d,v,f,p,g,y,C){v===void 0&&(v=32),f===void 0&&(f=32),p===void 0&&(p=10),g===void 0&&(g=10),C===void 0&&(C=!1);var S=null;if(Array.isArray(y)){var E=d!==void 0?d:"map";S=c(E,h.ARRAY_2D,y,v,f,C)}else if(d!==void 0){var w=o.cache.tilemap.get(d);w?S=c(d,w.format,w.data,v,f,C):console.warn("No map data found for key "+d)}return S===null&&(S=new m({tileWidth:v,tileHeight:f,width:p,height:g})),new u(o,S)},"ParseToTilemap");n.exports=l}),23029:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(31401),c=i(91907),u=i(62644),l=i(93232),o=new h({Mixins:[m.AlphaSingle,m.Flip,m.Visible],initialize:r(function(v,f,p,g,y,C,S,E){this.layer=v,this.index=f,this.x=p,this.y=g,this.width=y,this.height=C,this.right,this.bottom,this.baseWidth=S!==void 0?S:y,this.baseHeight=E!==void 0?E:C,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},"Tile"),containsPoint:r(function(d,v){return!(d<this.pixelX||v<this.pixelY||d>this.right||v>this.bottom)},"containsPoint"),copy:r(function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=u(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},"copy"),getCollisionGroup:r(function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},"getCollisionGroup"),getTileData:r(function(){return this.tileset?this.tileset.getTileData(this.index):null},"getTileData"),getLeft:r(function(d){var v=this.tilemapLayer;if(v){var f=v.tileToWorldXY(this.x,this.y,void 0,d);return f.x}return this.x*this.baseWidth},"getLeft"),getRight:r(function(d){var v=this.tilemapLayer;return v?this.getLeft(d)+this.width*v.scaleX:this.getLeft(d)+this.width},"getRight"),getTop:r(function(d){var v=this.tilemapLayer;if(v){var f=v.tileToWorldXY(this.x,this.y,void 0,d);return f.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},"getTop"),getBottom:r(function(d){var v=this.tilemapLayer;return v?this.getTop(d)+this.height*v.scaleY:this.getTop(d)+this.height},"getBottom"),getBounds:r(function(d,v){return v===void 0&&(v=new l),v.x=this.getLeft(d),v.y=this.getTop(d),v.width=this.getRight(d)-v.x,v.height=this.getBottom(d)-v.y,v},"getBounds"),getCenterX:r(function(d){return(this.getLeft(d)+this.getRight(d))/2},"getCenterX"),getCenterY:r(function(d){return(this.getTop(d)+this.getBottom(d))/2},"getCenterY"),intersects:r(function(d,v,f,p){return!(f<=this.pixelX||p<=this.pixelY||d>=this.right||v>=this.bottom)},"intersects"),isInteresting:r(function(d,v){return d&&v?this.canCollide||this.hasInterestingFace:d?this.collides:v?this.hasInterestingFace:!1},"isInteresting"),resetCollision:r(function(d){if(d===void 0&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},"resetCollision"),resetFaces:r(function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},"resetFaces"),setCollision:r(function(d,v,f,p,g){if(v===void 0&&(v=d),f===void 0&&(f=d),p===void 0&&(p=d),g===void 0&&(g=!0),this.collideLeft=d,this.collideRight=v,this.collideUp=f,this.collideDown=p,this.faceLeft=d,this.faceRight=v,this.faceTop=f,this.faceBottom=p,g){var y=this.tilemapLayer;y&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},"setCollision"),setCollisionCallback:r(function(d,v){return d===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=v),this},"setCollisionCallback"),setSize:r(function(d,v,f,p){return d!==void 0&&(this.width=d),v!==void 0&&(this.height=v),f!==void 0&&(this.baseWidth=f),p!==void 0&&(this.baseHeight=p),this.updatePixelXY(),this},"setSize"),updatePixelXY:r(function(){var d=this.layer.orientation;if(d===c.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===c.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===c.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===c.HEXAGONAL){var v=this.layer.staggerAxis,f=this.layer.staggerIndex,p=this.layer.hexSideLength,g,y;v==="y"?(y=(this.baseHeight-p)/2+p,f==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*y):v==="x"&&(g=(this.baseWidth-p)/2+p,this.pixelX=this.x*g,f==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},"updatePixelXY"),destroy:r(function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},"destroy"),canCollide:{get:r(function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0},"get")},collides:{get:r(function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown},"get")},hasInterestingFace:{get:r(function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight},"get")},tileset:{get:r(function(){var d=this.layer.tilemapLayer;if(d){var v=d.gidMap[this.index];if(v)return v}return null},"get")},tilemapLayer:{get:r(function(){return this.layer.tilemapLayer},"get")},tilemap:{get:r(function(){var d=this.tilemapLayer;return d?d.tilemap:null},"get")}});n.exports=o}),49075:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(84101),m=i(83419),c=i(39506),u=i(80341),l=i(95540),o=i(14977),d=i(27462),v=i(91907),f=i(36305),p=i(19133),g=i(68287),y=i(23029),C=i(81086),S=i(20442),E=i(33629),w=new m({initialize:r(function(R,O){this.scene=R,this.tileWidth=O.tileWidth,this.tileHeight=O.tileHeight,this.width=O.width,this.height=O.height,this.orientation=O.orientation,this.renderOrder=O.renderOrder,this.format=O.format,this.version=O.version,this.properties=O.properties,this.widthInPixels=O.widthInPixels,this.heightInPixels=O.heightInPixels,this.imageCollections=O.imageCollections,this.images=O.images,this.layers=O.layers,this.tiles=O.tiles,this.tilesets=O.tilesets,this.objects=O.objects,this.currentLayerIndex=0,this.hexSideLength=O.hexSideLength;var b=this.orientation;this._convert={WorldToTileXY:C.GetWorldToTileXYFunction(b),WorldToTileX:C.GetWorldToTileXFunction(b),WorldToTileY:C.GetWorldToTileYFunction(b),TileToWorldXY:C.GetTileToWorldXYFunction(b),TileToWorldX:C.GetTileToWorldXFunction(b),TileToWorldY:C.GetTileToWorldYFunction(b),GetTileCorners:C.GetTileCornersFunction(b)}},"Tilemap"),setRenderOrder:r(function(M){var R=["right-down","left-down","right-up","left-up"];return typeof M=="number"&&(M=R[M]),R.indexOf(M)>-1&&(this.renderOrder=M),this},"setRenderOrder"),addTilesetImage:r(function(M,R,O,b,A,I,L,F){if(M===void 0)return null;R==null&&(R=M);var D=this.scene.sys.textures;if(!D.exists(R))return console.warn('Texture key "%s" not found',R),null;var B=D.get(R),V=this.getTilesetIndex(M);if(V===null&&this.format===u.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',M,this.tilesets),null;var U=this.tilesets[V];return U?((O||b)&&U.setTileSize(O,b),(A||I)&&U.setSpacing(A,I),U.setImage(B),U):(O===void 0&&(O=this.tileWidth),b===void 0&&(b=this.tileHeight),A===void 0&&(A=0),I===void 0&&(I=0),L===void 0&&(L=0),F===void 0&&(F={x:0,y:0}),U=new E(M,L,O,b,A,I,void 0,void 0,F),U.setImage(B),this.tilesets.push(U),this.tiles=h(this),U)},"addTilesetImage"),copy:r(function(M,R,O,b,A,I,L,F){return F=this.getLayer(F),F!==null?(C.Copy(M,R,O,b,A,I,L,F),this):null},"copy"),createBlankLayer:r(function(M,R,O,b,A,I,L,F){O===void 0&&(O=0),b===void 0&&(b=0),A===void 0&&(A=this.width),I===void 0&&(I=this.height),L===void 0&&(L=this.tileWidth),F===void 0&&(F=this.tileHeight);var D=this.getLayerIndex(M);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+M),null;for(var B=new o({name:M,tileWidth:L,tileHeight:F,width:A,height:I,orientation:this.orientation,hexSideLength:this.hexSideLength}),V,U=0;U<I;U++){V=[];for(var W=0;W<A;W++)V.push(new y(B,-1,W,U,L,F,this.tileWidth,this.tileHeight));B.data.push(V)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var Y=new S(this.scene,this,this.currentLayerIndex,R,O,b);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},"createBlankLayer"),createLayer:r(function(M,R,O,b){var A=this.getLayerIndex(M);if(A===null)return console.warn("Invalid Tilemap Layer ID: "+M),typeof M=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var I=this.layers[A];if(I.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+M),null;this.currentLayerIndex=A,O===void 0&&(O=I.x),b===void 0&&(b=I.y);var L=new S(this.scene,this,A,R,O,b);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},"createLayer"),createFromObjects:r(function(M,R,O){O===void 0&&(O=!0);var b=[],A=this.getObjectLayer(M);if(!A)return console.warn("createFromObjects: Invalid objectLayerName given: "+M),b;var I=new d(O?this.tilesets:void 0);Array.isArray(R)||(R=[R]);for(var L=A.objects,F=0;F<R.length;F++){var D=R[F],B=l(D,"id",null),V=l(D,"gid",null),U=l(D,"name",null),W=l(D,"type",null);I.enabled=!l(D,"ignoreTileset",null);for(var Y,N=[],z=0;z<L.length;z++)Y=L[z],(B===null&&V===null&&U===null&&W===null||B!==null&&Y.id===B||V!==null&&Y.gid===V||U!==null&&Y.name===U||W!==null&&I.getTypeIncludingTile(Y)===W)&&N.push(Y);for(var G=l(D,"classType",g),X=l(D,"scene",this.scene),k=l(D,"container",null),H=l(D,"key",null),$=l(D,"frame",null),K=0;K<N.length;K++){Y=N[K];var Z=new G(X);if(Z.setName(Y.name),Z.setPosition(Y.x,Y.y),I.setTextureAndFrame(Z,H,$,Y),Y.width&&(Z.displayWidth=Y.width),Y.height&&(Z.displayHeight=Y.height),this.orientation===v.ISOMETRIC){var J=this.tileWidth/this.tileHeight,j={x:Z.x-Z.y,y:(Z.x+Z.y)/J};Z.x=j.x,Z.y=j.y}var q={x:Z.originX*Y.width,y:(Z.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var Q=c(Y.rotation);f(q,Q),Z.rotation=Q}Z.x+=q.x,Z.y+=q.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&Z.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(Z.visible=!1),I.setPropertiesFromTiledObject(Z,Y),k?k.add(Z):X.add.existing(Z),b.push(Z)}}return b},"createFromObjects"),createFromTiles:r(function(M,R,O,b,A,I){return I=this.getLayer(I),I===null?null:C.CreateFromTiles(M,R,O,b,A,I)},"createFromTiles"),fill:r(function(M,R,O,b,A,I,L){return I===void 0&&(I=!0),L=this.getLayer(L),L===null?null:(C.Fill(M,R,O,b,A,I,L),this)},"fill"),filterObjects:r(function(M,R,O){if(typeof M=="string"){var b=M;if(M=this.getObjectLayer(M),!M)return console.warn("No object layer found with the name: "+b),null}return M.objects.filter(R,O)},"filterObjects"),filterTiles:r(function(M,R,O,b,A,I,L,F){return F=this.getLayer(F),F===null?null:C.FilterTiles(M,R,O,b,A,I,L,F)},"filterTiles"),findByIndex:r(function(M,R,O,b){return b=this.getLayer(b),b===null?null:C.FindByIndex(M,R,O,b)},"findByIndex"),findObject:r(function(M,R,O){if(typeof M=="string"){var b=M;if(M=this.getObjectLayer(M),!M)return console.warn("No object layer found with the name: "+b),null}return M.objects.find(R,O)||null},"findObject"),findTile:r(function(M,R,O,b,A,I,L,F){return F=this.getLayer(F),F===null?null:C.FindTile(M,R,O,b,A,I,L,F)},"findTile"),forEachTile:r(function(M,R,O,b,A,I,L,F){return F=this.getLayer(F),F===null?null:(C.ForEachTile(M,R,O,b,A,I,L,F),this)},"forEachTile"),getImageIndex:r(function(M){return this.getIndex(this.images,M)},"getImageIndex"),getImageLayerNames:r(function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(M){return M.name})},"getImageLayerNames"),getIndex:r(function(M,R){for(var O=0;O<M.length;O++)if(M[O].name===R)return O;return null},"getIndex"),getLayer:r(function(M){var R=this.getLayerIndex(M);return R!==null?this.layers[R]:null},"getLayer"),getObjectLayer:r(function(M){var R=this.getIndex(this.objects,M);return R!==null?this.objects[R]:null},"getObjectLayer"),getObjectLayerNames:r(function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(M){return M.name})},"getObjectLayerNames"),getLayerIndex:r(function(M){return M===void 0?this.currentLayerIndex:typeof M=="string"?this.getLayerIndexByName(M):typeof M=="number"&&M<this.layers.length?M:M instanceof S&&M.tilemap===this?M.layerIndex:null},"getLayerIndex"),getLayerIndexByName:r(function(M){return this.getIndex(this.layers,M)},"getLayerIndexByName"),getTileAt:r(function(M,R,O,b){return b=this.getLayer(b),b===null?null:C.GetTileAt(M,R,O,b)},"getTileAt"),getTileAtWorldXY:r(function(M,R,O,b,A){return A=this.getLayer(A),A===null?null:C.GetTileAtWorldXY(M,R,O,b,A)},"getTileAtWorldXY"),getTileLayerNames:r(function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(M){return M.name})},"getTileLayerNames"),getTilesWithin:r(function(M,R,O,b,A,I){return I=this.getLayer(I),I===null?null:C.GetTilesWithin(M,R,O,b,A,I)},"getTilesWithin"),getTilesWithinShape:r(function(M,R,O,b){return b=this.getLayer(b),b===null?null:C.GetTilesWithinShape(M,R,O,b)},"getTilesWithinShape"),getTilesWithinWorldXY:r(function(M,R,O,b,A,I,L){return L=this.getLayer(L),L===null?null:C.GetTilesWithinWorldXY(M,R,O,b,A,I,L)},"getTilesWithinWorldXY"),getTileset:r(function(M){var R=this.getIndex(this.tilesets,M);return R!==null?this.tilesets[R]:null},"getTileset"),getTilesetIndex:r(function(M){return this.getIndex(this.tilesets,M)},"getTilesetIndex"),hasTileAt:r(function(M,R,O){return O=this.getLayer(O),O===null?null:C.HasTileAt(M,R,O)},"hasTileAt"),hasTileAtWorldXY:r(function(M,R,O,b){return b=this.getLayer(b),b===null?null:C.HasTileAtWorldXY(M,R,O,b)},"hasTileAtWorldXY"),layer:{get:r(function(){return this.layers[this.currentLayerIndex]},"get"),set:r(function(M){this.setLayer(M)},"set")},putTileAt:r(function(M,R,O,b,A){return b===void 0&&(b=!0),A=this.getLayer(A),A===null?null:C.PutTileAt(M,R,O,b,A)},"putTileAt"),putTileAtWorldXY:r(function(M,R,O,b,A,I){return b===void 0&&(b=!0),I=this.getLayer(I),I===null?null:C.PutTileAtWorldXY(M,R,O,b,A,I)},"putTileAtWorldXY"),putTilesAt:r(function(M,R,O,b,A){return b===void 0&&(b=!0),A=this.getLayer(A),A===null?null:(C.PutTilesAt(M,R,O,b,A),this)},"putTilesAt"),randomize:r(function(M,R,O,b,A,I){return I=this.getLayer(I),I===null?null:(C.Randomize(M,R,O,b,A,I),this)},"randomize"),calculateFacesAt:r(function(M,R,O){return O=this.getLayer(O),O===null?null:(C.CalculateFacesAt(M,R,O),this)},"calculateFacesAt"),calculateFacesWithin:r(function(M,R,O,b,A){return A=this.getLayer(A),A===null?null:(C.CalculateFacesWithin(M,R,O,b,A),this)},"calculateFacesWithin"),removeLayer:r(function(M){var R=this.getLayerIndex(M);if(R!==null){p(this.layers,R);for(var O=R;O<this.layers.length;O++)this.layers[O].tilemapLayer&&this.layers[O].tilemapLayer.layerIndex--;return this.currentLayerIndex===R&&(this.currentLayerIndex=0),this}else return null},"removeLayer"),destroyLayer:r(function(M){var R=this.getLayerIndex(M);return R!==null?(M=this.layers[R],M.tilemapLayer.destroy(),p(this.layers,R),this.currentLayerIndex===R&&(this.currentLayerIndex=0),this):null},"destroyLayer"),removeAllLayers:r(function(){for(var M=this.layers,R=0;R<M.length;R++)M[R].tilemapLayer&&M[R].tilemapLayer.destroy(!1);return M.length=0,this.currentLayerIndex=0,this},"removeAllLayers"),removeTile:r(function(M,R,O){R===void 0&&(R=-1),O===void 0&&(O=!0);var b=[];Array.isArray(M)||(M=[M]);for(var A=0;A<M.length;A++){var I=M[A];b.push(this.removeTileAt(I.x,I.y,!0,O,I.tilemapLayer)),R>-1&&this.putTileAt(R,I.x,I.y,O,I.tilemapLayer)}return b},"removeTile"),removeTileAt:r(function(M,R,O,b,A){return O===void 0&&(O=!0),b===void 0&&(b=!0),A=this.getLayer(A),A===null?null:C.RemoveTileAt(M,R,O,b,A)},"removeTileAt"),removeTileAtWorldXY:r(function(M,R,O,b,A,I){return O===void 0&&(O=!0),b===void 0&&(b=!0),I=this.getLayer(I),I===null?null:C.RemoveTileAtWorldXY(M,R,O,b,A,I)},"removeTileAtWorldXY"),renderDebug:r(function(M,R,O){return O=this.getLayer(O),O===null?null:(this.orientation===v.ORTHOGONAL&&C.RenderDebug(M,R,O),this)},"renderDebug"),renderDebugFull:r(function(M,R){for(var O=this.layers,b=0;b<O.length;b++)C.RenderDebug(M,R,O[b]);return this},"renderDebugFull"),replaceByIndex:r(function(M,R,O,b,A,I,L){return L=this.getLayer(L),L===null?null:(C.ReplaceByIndex(M,R,O,b,A,I,L),this)},"replaceByIndex"),setCollision:r(function(M,R,O,b,A){return R===void 0&&(R=!0),O===void 0&&(O=!0),A===void 0&&(A=!0),b=this.getLayer(b),b===null?null:(C.SetCollision(M,R,O,b,A),this)},"setCollision"),setCollisionBetween:r(function(M,R,O,b,A){return O===void 0&&(O=!0),b===void 0&&(b=!0),A=this.getLayer(A),A===null?null:(C.SetCollisionBetween(M,R,O,b,A),this)},"setCollisionBetween"),setCollisionByProperty:r(function(M,R,O,b){return R===void 0&&(R=!0),O===void 0&&(O=!0),b=this.getLayer(b),b===null?null:(C.SetCollisionByProperty(M,R,O,b),this)},"setCollisionByProperty"),setCollisionByExclusion:r(function(M,R,O,b){return R===void 0&&(R=!0),O===void 0&&(O=!0),b=this.getLayer(b),b===null?null:(C.SetCollisionByExclusion(M,R,O,b),this)},"setCollisionByExclusion"),setCollisionFromCollisionGroup:r(function(M,R,O){return M===void 0&&(M=!0),R===void 0&&(R=!0),O=this.getLayer(O),O===null?null:(C.SetCollisionFromCollisionGroup(M,R,O),this)},"setCollisionFromCollisionGroup"),setTileIndexCallback:r(function(M,R,O,b){return b=this.getLayer(b),b===null?null:(C.SetTileIndexCallback(M,R,O,b),this)},"setTileIndexCallback"),setTileLocationCallback:r(function(M,R,O,b,A,I,L){return L=this.getLayer(L),L===null?null:(C.SetTileLocationCallback(M,R,O,b,A,I,L),this)},"setTileLocationCallback"),setLayer:r(function(M){var R=this.getLayerIndex(M);return R!==null&&(this.currentLayerIndex=R),this},"setLayer"),setBaseTileSize:r(function(M,R){this.tileWidth=M,this.tileHeight=R,this.widthInPixels=this.width*M,this.heightInPixels=this.height*R;for(var O=0;O<this.layers.length;O++){this.layers[O].baseTileWidth=M,this.layers[O].baseTileHeight=R;for(var b=this.layers[O].data,A=this.layers[O].width,I=this.layers[O].height,L=0;L<I;L++)for(var F=0;F<A;F++){var D=b[L][F];D!==null&&D.setSize(void 0,void 0,M,R)}}return this},"setBaseTileSize"),setLayerTileSize:r(function(M,R,O){if(O=this.getLayer(O),O===null)return this;O.tileWidth=M,O.tileHeight=R;for(var b=O.data,A=O.width,I=O.height,L=0;L<I;L++)for(var F=0;F<A;F++){var D=b[L][F];D!==null&&D.setSize(M,R)}return this},"setLayerTileSize"),shuffle:r(function(M,R,O,b,A){return A=this.getLayer(A),A===null?null:(C.Shuffle(M,R,O,b,A),this)},"shuffle"),swapByIndex:r(function(M,R,O,b,A,I,L){return L=this.getLayer(L),L===null?null:(C.SwapByIndex(M,R,O,b,A,I,L),this)},"swapByIndex"),tileToWorldX:r(function(M,R,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldX(M,R,O)},"tileToWorldX"),tileToWorldY:r(function(M,R,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldY(M,R,O)},"tileToWorldY"),tileToWorldXY:r(function(M,R,O,b,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldXY(M,R,O,b,A)},"tileToWorldXY"),getTileCorners:r(function(M,R,O,b){return b=this.getLayer(b),b===null?null:this._convert.GetTileCorners(M,R,O,b)},"getTileCorners"),weightedRandomize:r(function(M,R,O,b,A,I){return I=this.getLayer(I),I===null?null:(C.WeightedRandomize(R,O,b,A,M,I),this)},"weightedRandomize"),worldToTileX:r(function(M,R,O,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileX(M,R,O,b)},"worldToTileX"),worldToTileY:r(function(M,R,O,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileY(M,R,O,b)},"worldToTileY"),worldToTileXY:r(function(M,R,O,b,A,I){return I=this.getLayer(I),I===null?null:this._convert.WorldToTileXY(M,R,O,b,A,I)},"worldToTileXY"),destroy:r(function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null},"destroy")});n.exports=w}),45939:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(44603),m=i(31989);h.register("tilemap",function(c){var u=c!==void 0?c:{};return m(this.scene,u.key,u.tileWidth,u.tileHeight,u.width,u.height,u.data,u.insertNull)})}),46029:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),m=i(31989);h.register("tilemap",function(c,u,l,o,d,v,f){return c===null&&(c=void 0),u===null&&(u=void 0),l===null&&(l=void 0),o===null&&(o=void 0),d===null&&(d=void 0),m(this.scene,c,u,l,o,d,v,f)})}),20442:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(78389),c=i(31401),u=i(95643),l=i(81086),o=i(19218),d=i(26099),v=new h({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,m,o],initialize:r(function(p,g,y,C,S,E){u.call(this,p,"TilemapLayer"),this.isTilemap=!0,this.tilemap=g,this.layerIndex=y,this.layer=g.layers[y],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(C),this.setAlpha(this.layer.alpha),this.setPosition(S,E),this.setOrigin(0,0),this.setSize(g.tileWidth*this.layer.width,g.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},"TilemapLayer"),setTilesets:r(function(f){var p=[],g=[],y=this.tilemap;Array.isArray(f)||(f=[f]);for(var C=0;C<f.length;C++){var S=f[C];if(typeof S=="string"&&(S=y.getTileset(S)),S){g.push(S);for(var E=S.firstgid,w=0;w<S.total;w++)p[E+w]=S}}this.gidMap=p,this.tileset=g},"setTilesets"),setRenderOrder:r(function(f){var p=["right-down","left-down","right-up","left-up"];return typeof f=="string"&&(f=p.indexOf(f)),f>=0&&f<4&&(this._renderOrder=f),this},"setRenderOrder"),calculateFacesAt:r(function(f,p){return l.CalculateFacesAt(f,p,this.layer),this},"calculateFacesAt"),calculateFacesWithin:r(function(f,p,g,y){return l.CalculateFacesWithin(f,p,g,y,this.layer),this},"calculateFacesWithin"),createFromTiles:r(function(f,p,g,y,C){return l.CreateFromTiles(f,p,g,y,C,this.layer)},"createFromTiles"),cull:r(function(f){return this.cullCallback(this.layer,f,this.culledTiles,this._renderOrder)},"cull"),copy:r(function(f,p,g,y,C,S,E){return l.Copy(f,p,g,y,C,S,E,this.layer),this},"copy"),fill:r(function(f,p,g,y,C,S){return l.Fill(f,p,g,y,C,S,this.layer),this},"fill"),filterTiles:r(function(f,p,g,y,C,S,E){return l.FilterTiles(f,p,g,y,C,S,E,this.layer)},"filterTiles"),findByIndex:r(function(f,p,g){return l.FindByIndex(f,p,g,this.layer)},"findByIndex"),findTile:r(function(f,p,g,y,C,S,E){return l.FindTile(f,p,g,y,C,S,E,this.layer)},"findTile"),forEachTile:r(function(f,p,g,y,C,S,E){return l.ForEachTile(f,p,g,y,C,S,E,this.layer),this},"forEachTile"),setTint:r(function(f,p,g,y,C,S){f===void 0&&(f=16777215);var E=r(function(w){w.tint=f,w.tintFill=!1},"tintTile");return this.forEachTile(E,this,p,g,y,C,S)},"setTint"),setTintFill:r(function(f,p,g,y,C,S){f===void 0&&(f=16777215);var E=r(function(w){w.tint=f,w.tintFill=!0},"tintTile");return this.forEachTile(E,this,p,g,y,C,S)},"setTintFill"),getTileAt:r(function(f,p,g){return l.GetTileAt(f,p,g,this.layer)},"getTileAt"),getTileAtWorldXY:r(function(f,p,g,y){return l.GetTileAtWorldXY(f,p,g,y,this.layer)},"getTileAtWorldXY"),getIsoTileAtWorldXY:r(function(f,p,g,y,C){g===void 0&&(g=!0);var S=this.tempVec;return l.IsometricWorldToTileXY(f,p,!0,S,C,this.layer,g),this.getTileAt(S.x,S.y,y)},"getIsoTileAtWorldXY"),getTilesWithin:r(function(f,p,g,y,C){return l.GetTilesWithin(f,p,g,y,C,this.layer)},"getTilesWithin"),getTilesWithinShape:r(function(f,p,g){return l.GetTilesWithinShape(f,p,g,this.layer)},"getTilesWithinShape"),getTilesWithinWorldXY:r(function(f,p,g,y,C,S){return l.GetTilesWithinWorldXY(f,p,g,y,C,S,this.layer)},"getTilesWithinWorldXY"),hasTileAt:r(function(f,p){return l.HasTileAt(f,p,this.layer)},"hasTileAt"),hasTileAtWorldXY:r(function(f,p,g){return l.HasTileAtWorldXY(f,p,g,this.layer)},"hasTileAtWorldXY"),putTileAt:r(function(f,p,g,y){return l.PutTileAt(f,p,g,y,this.layer)},"putTileAt"),putTileAtWorldXY:r(function(f,p,g,y,C){return l.PutTileAtWorldXY(f,p,g,y,C,this.layer)},"putTileAtWorldXY"),putTilesAt:r(function(f,p,g,y){return l.PutTilesAt(f,p,g,y,this.layer),this},"putTilesAt"),randomize:r(function(f,p,g,y,C){return l.Randomize(f,p,g,y,C,this.layer),this},"randomize"),removeTileAt:r(function(f,p,g,y){return l.RemoveTileAt(f,p,g,y,this.layer)},"removeTileAt"),removeTileAtWorldXY:r(function(f,p,g,y,C){return l.RemoveTileAtWorldXY(f,p,g,y,C,this.layer)},"removeTileAtWorldXY"),renderDebug:r(function(f,p){return l.RenderDebug(f,p,this.layer),this},"renderDebug"),replaceByIndex:r(function(f,p,g,y,C,S){return l.ReplaceByIndex(f,p,g,y,C,S,this.layer),this},"replaceByIndex"),setSkipCull:r(function(f){return f===void 0&&(f=!0),this.skipCull=f,this},"setSkipCull"),setCullPadding:r(function(f,p){return f===void 0&&(f=1),p===void 0&&(p=1),this.cullPaddingX=f,this.cullPaddingY=p,this},"setCullPadding"),setCollision:r(function(f,p,g,y){return l.SetCollision(f,p,g,this.layer,y),this},"setCollision"),setCollisionBetween:r(function(f,p,g,y){return l.SetCollisionBetween(f,p,g,y,this.layer),this},"setCollisionBetween"),setCollisionByProperty:r(function(f,p,g){return l.SetCollisionByProperty(f,p,g,this.layer),this},"setCollisionByProperty"),setCollisionByExclusion:r(function(f,p,g){return l.SetCollisionByExclusion(f,p,g,this.layer),this},"setCollisionByExclusion"),setCollisionFromCollisionGroup:r(function(f,p){return l.SetCollisionFromCollisionGroup(f,p,this.layer),this},"setCollisionFromCollisionGroup"),setTileIndexCallback:r(function(f,p,g){return l.SetTileIndexCallback(f,p,g,this.layer),this},"setTileIndexCallback"),setTileLocationCallback:r(function(f,p,g,y,C,S){return l.SetTileLocationCallback(f,p,g,y,C,S,this.layer),this},"setTileLocationCallback"),shuffle:r(function(f,p,g,y){return l.Shuffle(f,p,g,y,this.layer),this},"shuffle"),swapByIndex:r(function(f,p,g,y,C,S){return l.SwapByIndex(f,p,g,y,C,S,this.layer),this},"swapByIndex"),tileToWorldX:r(function(f,p){return this.tilemap.tileToWorldX(f,p,this)},"tileToWorldX"),tileToWorldY:r(function(f,p){return this.tilemap.tileToWorldY(f,p,this)},"tileToWorldY"),tileToWorldXY:r(function(f,p,g,y){return this.tilemap.tileToWorldXY(f,p,g,y,this)},"tileToWorldXY"),getTileCorners:r(function(f,p,g){return this.tilemap.getTileCorners(f,p,g,this)},"getTileCorners"),weightedRandomize:r(function(f,p,g,y,C){return l.WeightedRandomize(p,g,y,C,f,this.layer),this},"weightedRandomize"),worldToTileX:r(function(f,p,g){return this.tilemap.worldToTileX(f,p,g,this)},"worldToTileX"),worldToTileY:r(function(f,p,g){return this.tilemap.worldToTileY(f,p,g,this)},"worldToTileY"),worldToTileXY:r(function(f,p,g,y,C){return this.tilemap.worldToTileXY(f,p,g,y,C,this)},"worldToTileXY"),destroy:r(function(f){f===void 0&&(f=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),f&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],u.prototype.destroy.call(this))},"destroy")});n.exports=v}),16153:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61340),m=new h,c=new h,u=new h,l=r(function(o,d,v,f){var p=d.cull(v),g=p.length,y=v.alpha*d.alpha;if(!(g===0||y<=0)){var C=m,S=c,E=u;S.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),C.copyFrom(v.matrix);var w=o.currentContext,M=d.gidMap;w.save(),f?(C.multiplyWithOffset(f,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),S.e=d.x,S.f=d.y,C.multiply(S,E),E.copyToContext(w)):(S.e-=v.scrollX*d.scrollFactorX,S.f-=v.scrollY*d.scrollFactorY,S.copyToContext(w)),(!o.antialias||d.scaleX>1||d.scaleY>1)&&(w.imageSmoothingEnabled=!1);for(var R=0;R<g;R++){var O=p[R],b=M[O.index];if(b){var A=b.image.getSourceImage(),I=b.getTileTextureCoordinates(O.index),L=b.tileWidth,F=b.tileHeight;if(!(I===null||L===0||F===0)){var D=L*.5,B=F*.5;I.x+=b.tileOffset.x,I.y+=b.tileOffset.y,w.save(),w.translate(O.pixelX+D,O.pixelY+B),O.rotation!==0&&w.rotate(O.rotation),(O.flipX||O.flipY)&&w.scale(O.flipX?-1:1,O.flipY?-1:1),w.globalAlpha=y*O.alpha,w.drawImage(A,I.x,I.y,L,F,-D,-B,L,F),w.restore()}}}w.restore()}},"TilemapLayerCanvasRenderer");n.exports=l}),19218:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),m=h,c=h;m=i(99558),c=i(16153),n.exports={renderWebGL:m,renderCanvas:c}}),99558:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),m=r(function(c,u,l){var o=u.cull(l),d=o.length,v=l.alpha*u.alpha;if(!(d===0||v<=0)){var f=u.gidMap,p=c.pipelines.set(u.pipeline,u),g=h.getTintAppendFloatAlpha,y=u.scrollFactorX,C=u.scrollFactorY,S=u.x,E=u.y,w=u.scaleX,M=u.scaleY;c.pipelines.preBatch(u);for(var R=0;R<d;R++){var O=o[R],b=f[O.index];if(b){var A=b.getTileTextureCoordinates(O.index),I=b.tileWidth,L=b.tileHeight;if(!(!A||I===0||L===0)){var F=I*.5,D=L*.5,B=b.glTexture,V=p.setTexture2D(B,u),U=I,W=L,Y=A.x,N=A.y,z=b.tileOffset.x,G=b.tileOffset.y,X=g(O.tint,v*O.alpha);p.batchTexture(u,B,B.width,B.height,S+O.pixelX*w+(F*w-z),E+O.pixelY*M+(D*M-G),I,L,w,M,O.rotation,O.flipX,O.flipY,y,C,F,D,Y,N,U,W,X,X,X,X,O.tintFill,0,0,l,null,!0,V,!0)}}}c.pipelines.postBatch(u)}},"TilemapLayerWebGLRenderer");n.exports=m}),33629:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(26099),c=new h({initialize:r(function(l,o,d,v,f,p,g,y,C){(d===void 0||d<=0)&&(d=32),(v===void 0||v<=0)&&(v=32),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g={}),y===void 0&&(y={}),this.name=l,this.firstgid=o,this.tileWidth=d,this.tileHeight=v,this.tileMargin=f,this.tileSpacing=p,this.tileProperties=g,this.tileData=y,this.tileOffset=new m,C!==void 0&&this.tileOffset.set(C.x,C.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},"Tileset"),getTileProperties:r(function(u){return this.containsTileIndex(u)?this.tileProperties[u-this.firstgid]:null},"getTileProperties"),getTileData:r(function(u){return this.containsTileIndex(u)?this.tileData[u-this.firstgid]:null},"getTileData"),getTileCollisionGroup:r(function(u){var l=this.getTileData(u);return l&&l.objectgroup?l.objectgroup:null},"getTileCollisionGroup"),containsTileIndex:r(function(u){return u>=this.firstgid&&u<this.firstgid+this.total},"containsTileIndex"),getTileTextureCoordinates:r(function(u){return this.containsTileIndex(u)?this.texCoordinates[u-this.firstgid]:null},"getTileTextureCoordinates"),setImage:r(function(u){this.image=u;var l=u.get(),o=u.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>o.width||l.height>o.height?this.updateTileData(l.width,l.height):this.updateTileData(o.width,o.height,o.x,o.y),this},"setImage"),setTileSize:r(function(u,l){return u!==void 0&&(this.tileWidth=u),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},"setTileSize"),setSpacing:r(function(u,l){return u!==void 0&&(this.tileMargin=u),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},"setSpacing"),updateTileData:r(function(u,l,o,d){o===void 0&&(o=0),d===void 0&&(d=0);var v=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),f=(u-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(v%1!==0||f%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),v=Math.floor(v),f=Math.floor(f),this.rows=v,this.columns=f,this.total=v*f,this.texCoordinates.length=0;for(var p=this.tileMargin+o,g=this.tileMargin+d,y=0;y<this.rows;y++){for(var C=0;C<this.columns;C++)this.texCoordinates.push({x:p,y:g}),p+=this.tileWidth+this.tileSpacing;p=this.tileMargin+o,g+=this.tileHeight+this.tileSpacing}return this},"updateTileData")});n.exports=c}),72023:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7423),m=r(function(c,u,l){var o=h(c,u,!0,l),d=h(c,u-1,!0,l),v=h(c,u+1,!0,l),f=h(c-1,u,!0,l),p=h(c+1,u,!0,l),g=o&&o.collides;return g&&(o.faceTop=!0,o.faceBottom=!0,o.faceLeft=!0,o.faceRight=!0),d&&d.collides&&(g&&(o.faceTop=!1),d.faceBottom=!g),v&&v.collides&&(g&&(o.faceBottom=!1),v.faceTop=!g),f&&f.collides&&(g&&(o.faceLeft=!1),f.faceRight=!g),p&&p.collides&&(g&&(o.faceRight=!1),p.faceLeft=!g),o&&!o.collides&&o.resetFaces(),o},"CalculateFacesAt");n.exports=m}),42573:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7423),m=i(7386),c=r(function(u,l,o,d,v){for(var f=null,p=null,g=null,y=null,C=m(u,l,o,d,null,v),S=0;S<C.length;S++){var E=C[S];E&&(E.collides?(f=h(E.x,E.y-1,!0,v),p=h(E.x,E.y+1,!0,v),g=h(E.x-1,E.y,!0,v),y=h(E.x+1,E.y,!0,v),E.faceTop=!(f&&f.collides),E.faceBottom=!(p&&p.collides),E.faceLeft=!(g&&g.collides),E.faceRight=!(y&&y.collides)):E.resetFaces())}},"CalculateFacesWithin");n.exports=c}),33528:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=new h,c=r(function(u,l,o,d){var v=o.tilemapLayer,f=v.cullPaddingX,p=v.cullPaddingY,g=v.tilemap.tileToWorldXY(u,l,m,d,v);return g.x>d.worldView.x+v.scaleX*o.tileWidth*(-f-.5)&&g.x<d.worldView.right+v.scaleX*o.tileWidth*(f-.5)&&g.y>d.worldView.y+v.scaleY*o.tileHeight*(-p-1)&&g.y<d.worldView.bottom+v.scaleY*o.tileHeight*(p-.5)},"CheckIsoBounds");n.exports=c}),1785:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42573),m=i(7386),c=i(62991),u=i(23029),l=r(function(o,d,v,f,p,g,y,C){y===void 0&&(y=!0);var S=m(o,d,v,f,null,C),E=[];S.forEach(function(I){var L=new u(I.layer,I.index,I.x,I.y,I.width,I.height,I.baseWidth,I.baseHeight);L.copy(I),E.push(L)});for(var w=p-o,M=g-d,R=0;R<E.length;R++){var O=E[R],b=O.x+w,A=O.y+M;c(b,A,C)&&C.data[A][b]&&(O.x=b,O.y=A,O.updatePixelXY(),C.data[A][b]=O)}y&&h(p-1,g-1,v+2,f+2,C),S.length=0,E.length=0},"Copy");n.exports=l}),78419:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62644),m=i(7386),c=i(27987),u=r(function(l,o,d,v,f,p){d||(d={}),Array.isArray(l)||(l=[l]);var g=p.tilemapLayer;v||(v=g.scene),f||(f=v.cameras.main);var y=p.width,C=p.height,S=m(0,0,y,C,null,p),E=[],w,M=r(function(A,I,L){for(var F=0;F<L.length;F++){var D=L[F];A.hasOwnProperty(D)||(A[D]=I[D])}},"mergeExtras");for(w=0;w<S.length;w++){var R=S[w],O=h(d);if(l.indexOf(R.index)!==-1){var b=g.tileToWorldXY(R.x,R.y,void 0,f,p);O.x=b.x,O.y=b.y,M(O,R,["rotation","flipX","flipY","alpha","visible","tint"]),O.hasOwnProperty("origin")||(O.x+=R.width*.5,O.y+=R.height*.5),O.hasOwnProperty("useSpriteSheet")&&(O.key=R.tileset.image,O.frame=R.index-R.tileset.firstgid),E.push(v.make.sprite(O))}}if(Array.isArray(o))for(w=0;w<l.length;w++)c(l[w],o[w],0,0,y,C,p);else if(o!==null)for(w=0;w<l.length;w++)c(l[w],o,0,0,y,C,p);return E},"CreateFromTiles");n.exports=u}),19545:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),m=i(63448),c=i(56583),u=new h,l=r(function(o,d){var v=o.tilemapLayer.tilemap,f=o.tilemapLayer,p=Math.floor(v.tileWidth*f.scaleX),g=Math.floor(v.tileHeight*f.scaleY),y=c(d.worldView.x-f.x,p,0,!0)-f.cullPaddingX,C=m(d.worldView.right-f.x,p,0,!0)+f.cullPaddingX,S=c(d.worldView.y-f.y,g,0,!0)-f.cullPaddingY,E=m(d.worldView.bottom-f.y,g,0,!0)+f.cullPaddingY;return u.setTo(y,S,C-y,E-S)},"CullBounds");n.exports=l}),30003:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19545),m=i(32483),c=r(function(u,l,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var v=u.tilemapLayer,f=h(u,l);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(f.left=0,f.right=u.width,f.top=0,f.bottom=u.height),m(u,f,d,o),o},"CullTiles");n.exports=c}),35137:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=i(42573),c=i(20576),u=r(function(l,o,d,v,f,p,g){for(var y=g.collideIndexes.indexOf(l)!==-1,C=h(o,d,v,f,null,g),S=0;S<C.length;S++)C[S].index=l,c(C[S],y);p&&m(o-1,d-1,v+2,f+2,g)},"Fill");n.exports=u}),40253:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=r(function(c,u,l,o,d,v,f,p){var g=h(l,o,d,v,f,p);return g.filter(c,u)},"FilterTiles");n.exports=m}),52692:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){h===void 0&&(h=0),m===void 0&&(m=!1);var u=0,l,o,d;if(m){for(o=c.height-1;o>=0;o--)for(l=c.width-1;l>=0;l--)if(d=c.data[o][l],d&&d.index===i){if(u===h)return d;u+=1}}else for(o=0;o<c.height;o++)for(l=0;l<c.width;l++)if(d=c.data[o][l],d&&d.index===i){if(u===h)return d;u+=1}return null},"FindByIndex");n.exports=T}),66151:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=r(function(c,u,l,o,d,v,f,p){var g=h(l,o,d,v,f,p);return g.find(c,u)||null},"FindTile");n.exports=m}),97560:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=r(function(c,u,l,o,d,v,f,p){var g=h(l,o,d,v,f,p);g.forEach(c,u)},"ForEachTile");n.exports=m}),43305:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),m=i(30003),c=i(9474),u=i(14018),l=i(29747),o=i(54503),d=r(function(v){return v===h.ORTHOGONAL?m:v===h.HEXAGONAL?c:v===h.STAGGERED?o:v===h.ISOMETRIC?u:l},"GetCullTilesFunction");n.exports=d}),7423:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62991),m=r(function(c,u,l,o){if(h(c,u,o)){var d=o.data[u][c]||null;return d?d.index===-1?l?d:null:d:null}else return null},"GetTileAt");n.exports=m}),60540:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7423),m=i(26099),c=new m,u=r(function(l,o,d,v,f){return f.tilemapLayer.worldToTileXY(l,o,!0,c,v),h(c.x,c.y,d,f)},"GetTileAtWorldXY");n.exports=u}),55826:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o){var d=o.baseTileWidth,v=o.baseTileHeight,f=o.tilemapLayer,p=0,g=0;f&&(l||(l=f.scene.cameras.main),p=f.x+l.scrollX*(1-f.scrollFactorX),g=f.y+l.scrollY*(1-f.scrollFactorY),d*=f.scaleX,v*=f.scaleY);var y=p+c*d,C=g+u*v;return[new h(y,C),new h(y+d,C),new h(y+d,C+v),new h(y,C+v)]},"GetTileCorners");n.exports=m}),11758:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),m=i(27229),c=i(29747),u=i(55826),l=r(function(o){return o===h.ORTHOGONAL?u:o===h.ISOMETRIC?c:o===h.HEXAGONAL?m:(o===h.STAGGERED,c)},"GetTileCornersFunction");n.exports=l}),39167:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),m=i(29747),c=i(97281),u=r(function(l){return l===h.ORTHOGONAL?c:m},"GetTileToWorldXFunction");n.exports=u}),62e3:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),m=i(19951),c=i(14127),u=i(29747),l=i(97202),o=i(70326),d=r(function(v){return v===h.ORTHOGONAL?o:v===h.ISOMETRIC?c:v===h.HEXAGONAL?m:v===h.STAGGERED?l:u},"GetTileToWorldXYFunction");n.exports=d}),5984:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),m=i(29747),c=i(28054),u=i(29650),l=r(function(o){return o===h.ORTHOGONAL?u:o===h.STAGGERED?c:m},"GetTileToWorldYFunction");n.exports=l}),7386:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),m=r(function(c,u,l,o,d,v){c===void 0&&(c=0),u===void 0&&(u=0),l===void 0&&(l=v.width),o===void 0&&(o=v.height),d||(d={});var f=h(d,"isNotEmpty",!1),p=h(d,"isColliding",!1),g=h(d,"hasInterestingFace",!1);c<0&&(l+=c,c=0),u<0&&(o+=u,u=0),c+l>v.width&&(l=Math.max(v.width-c,0)),u+o>v.height&&(o=Math.max(v.height-u,0));for(var y=[],C=u;C<u+o;C++)for(var S=c;S<c+l;S++){var E=v.data[C][S];if(E!==null){if(f&&E.index===-1||p&&!E.collides||g&&!E.hasInterestingFace)continue;y.push(E)}}return y},"GetTilesWithin");n.exports=m}),91141:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(55738),m=i(7386),c=i(91865),u=i(29747),l=i(26099),o=i(91907),d=r(function(y,C){return c.RectangleToTriangle(C,y)},"TriangleToRectangle"),v=new l,f=new l,p=new l,g=r(function(y,C,S,E){if(E.orientation!==o.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(y===void 0)return[];var w=u;y instanceof h.Circle?w=c.CircleToRectangle:y instanceof h.Rectangle?w=c.RectangleToRectangle:y instanceof h.Triangle?w=d:y instanceof h.Line&&(w=c.LineToRectangle),E.tilemapLayer.worldToTileXY(y.left,y.top,!0,f,S);var M=f.x,R=f.y;E.tilemapLayer.worldToTileXY(y.right,y.bottom,!1,p,S);var O=Math.ceil(p.x),b=Math.ceil(p.y),A=Math.max(O-M,1),I=Math.max(b-R,1),L=m(M,R,A,I,C,E),F=E.tileWidth,D=E.tileHeight;E.tilemapLayer&&(F*=E.tilemapLayer.scaleX,D*=E.tilemapLayer.scaleY);for(var B=[],V=new h.Rectangle(0,0,F,D),U=0;U<L.length;U++){var W=L[U];E.tilemapLayer.tileToWorldXY(W.x,W.y,v,S),V.x=v.x,V.y=v.y,w(y,V)&&B.push(W)}return B},"GetTilesWithinShape");n.exports=g}),96523:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=i(26099),c=new m,u=new m,l=r(function(o,d,v,f,p,g,y){var C=y.tilemapLayer.tilemap._convert.WorldToTileXY;C(o,d,!0,c,g,y);var S=c.x,E=c.y;C(o+v,d+f,!1,u,g,y);var w=Math.ceil(u.x),M=Math.ceil(u.y);return h(S,E,w-S,M-E,p,y)},"GetTilesWithinWorldXY");n.exports=l}),96113:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),m=i(20242),c=i(10095),u=r(function(l){return l===h.ORTHOGONAL?c:m},"GetWorldToTileXFunction");n.exports=u}),16926:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),m=i(86625),c=i(96897),u=i(29747),l=i(15108),o=i(85896),d=r(function(v){return v===h.ORTHOGONAL?o:v===h.ISOMETRIC?c:v===h.HEXAGONAL?m:v===h.STAGGERED?l:u},"GetWorldToTileXYFunction");n.exports=d}),55762:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),m=i(20242),c=i(51900),u=i(63288),l=r(function(o){return o===h.ORTHOGONAL?u:o===h.STAGGERED?c:m},"GetWorldToTileYFunction");n.exports=l}),45091:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62991),m=r(function(c,u,l){if(h(c,u,l)){var o=l.data[u][c];return o!==null&&o.index>-1}else return!1},"HasTileAt");n.exports=m}),24152:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45091),m=i(26099),c=new m,u=r(function(l,o,d,v){v.tilemapLayer.worldToTileXY(l,o,!0,c,d);var f=c.x,p=c.y;return h(f,p,v)},"HasTileAtWorldXY");n.exports=u}),90454:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(63448),m=i(56583),c=r(function(u,l){var o=u.tilemapLayer.tilemap,d=u.tilemapLayer,v=Math.floor(o.tileWidth*d.scaleX),f=Math.floor(o.tileHeight*d.scaleY),p=u.hexSideLength,g,y,C,S;if(u.staggerAxis==="y"){var E=(f-p)/2+p;g=m(l.worldView.x-d.x,v,0,!0)-d.cullPaddingX,y=h(l.worldView.right-d.x,v,0,!0)+d.cullPaddingX,C=m(l.worldView.y-d.y,E,0,!0)-d.cullPaddingY,S=h(l.worldView.bottom-d.y,E,0,!0)+d.cullPaddingY}else{var w=(v-p)/2+p;g=m(l.worldView.x-d.x,w,0,!0)-d.cullPaddingX,y=h(l.worldView.right-d.x,w,0,!0)+d.cullPaddingX,C=m(l.worldView.y-d.y,f,0,!0)-d.cullPaddingY,S=h(l.worldView.bottom-d.y,f,0,!0)+d.cullPaddingY}return{left:g,right:y,top:C,bottom:S}},"HexagonalCullBounds");n.exports=c}),9474:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(90454),m=i(32483),c=r(function(u,l,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var v=u.tilemapLayer,f=h(u,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(f.left=0,f.right=u.width,f.top=0,f.bottom=u.height),m(u,f,d,o),o},"HexagonalCullTiles");n.exports=c}),27229:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19951),m=i(26099),c=new m,u=r(function(l,o,d,v){var f=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(f*=g.scaleX,p*=g.scaleY);var y=h(l,o,c,d,v),C=[],S=.5773502691896257,E,w;v.staggerAxis==="y"?(E=S*f,w=p/2):(E=f/2,w=S*p);for(var M=0;M<6;M++){var R=2*Math.PI*(.5-M)/6;C.push(new m(y.x+E*Math.cos(R),y.y+w*Math.sin(R)))}return C},"HexagonalGetTileCorners");n.exports=u}),19951:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o,d){l||(l=new h);var v=d.baseTileWidth,f=d.baseTileHeight,p=d.tilemapLayer,g=0,y=0;p&&(o||(o=p.scene.cameras.main),g=p.x+o.scrollX*(1-p.scrollFactorX),y=p.y+o.scrollY*(1-p.scrollFactorY),v*=p.scaleX,f*=p.scaleY);var C=v/2,S=f/2,E,w,M=d.staggerAxis,R=d.staggerIndex;return M==="y"?(E=g+v*c+v,w=y+1.5*u*S+S,u%2===0&&(R==="odd"?E-=C:E+=C)):M==="x"&&R==="odd"&&(E=g+1.5*c*C+C,w=y+f*c+f,c%2===0&&(R==="odd"?w-=S:w+=S)),l.set(E,w)},"HexagonalTileToWorldXY");n.exports=m}),86625:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o,d,v){o||(o=new h);var f=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(d||(d=g.scene.cameras.main),c=c-(g.x+d.scrollX*(1-g.scrollFactorX)),u=u-(g.y+d.scrollY*(1-g.scrollFactorY)),f*=g.scaleX,p*=g.scaleY);var y=.5773502691896257,C=-.3333333333333333,S=0,E=.6666666666666666,w=f/2,M=p/2,R,O,b,A,I;v.staggerAxis==="y"?(R=(c-w)/(y*f),O=(u-M)/M,b=y*R+C*O,A=S*R+E*O):(R=(c-w)/w,O=(u-M)/(y*p),b=C*R+y*O,A=E*R+S*O),I=-b-A;var L=Math.round(b),F=Math.round(A),D=Math.round(I),B=Math.abs(L-b),V=Math.abs(F-A),U=Math.abs(D-I);B>V&&B>U?L=-F-D:V>U&&(F=-L-D);var W,Y=F;return v.staggerIndex==="odd"?W=Y%2===0?F/2+L:F/2+L-.5:W=Y%2===0?F/2+L:F/2+L+.5,o.set(W,Y)},"HexagonalWorldToTileXY");n.exports=m}),62991:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i>=0&&i<m.width&&h>=0&&h<m.height},"IsInLayerBounds");n.exports=T}),14018:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33528),m=r(function(c,u,l,o){l===void 0&&(l=[]),o===void 0&&(o=0),l.length=0;var d=c.tilemapLayer,v=c.data,f=c.width,p=c.height,g=d.skipCull,y=0,C=f,S=0,E=p,w,M,R;if(o===0)for(M=S;M<E;M++)for(w=y;w<C;w++)R=v[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!h(w,M,c,u)||l.push(R));else if(o===1)for(M=S;M<E;M++)for(w=C;w>=y;w--)R=v[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!h(w,M,c,u)||l.push(R));else if(o===2)for(M=E;M>=S;M--)for(w=y;w<C;w++)R=v[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!h(w,M,c,u)||l.push(R));else if(o===3)for(M=E;M>=S;M--)for(w=C;w>=y;w--)R=v[M][w],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!h(w,M,c,u)||l.push(R));return d.tilesDrawn=l.length,d.tilesTotal=f*p,l},"IsometricCullTiles");n.exports=m}),14127:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o,d){l||(l=new h);var v=d.baseTileWidth,f=d.baseTileHeight,p=d.tilemapLayer,g=0,y=0;p&&(o||(o=p.scene.cameras.main),g=p.x+o.scrollX*(1-p.scrollFactorX),v*=p.scaleX,y=p.y+o.scrollY*(1-p.scrollFactorY),f*=p.scaleY);var C=g+(c-u)*(v/2),S=y+(c+u)*(f/2);return l.set(C,S)},"IsometricTileToWorldXY");n.exports=m}),96897:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o,d,v,f){o||(o=new h);var p=v.baseTileWidth,g=v.baseTileHeight,y=v.tilemapLayer;y&&(d||(d=y.scene.cameras.main),u=u-(y.y+d.scrollY*(1-y.scrollFactorY)),g*=y.scaleY,c=c-(y.x+d.scrollX*(1-y.scrollFactorX)),p*=y.scaleX);var C=p/2,S=g/2;c=c-C,f||(u=u-g);var E=.5*(c/C+u/S),w=.5*(-c/C+u/S);return l&&(E=Math.floor(E),w=Math.floor(w)),o.set(E,w)},"IsometricWorldToTileXY");n.exports=m}),71558:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23029),m=i(62991),c=i(72023),u=i(20576),l=r(function(o,d,v,f,p){if(f===void 0&&(f=!0),!m(d,v,p))return null;var g,y=p.data[v][d],C=y&&y.collides;o instanceof h?(p.data[v][d]===null&&(p.data[v][d]=new h(p,o.index,d,v,p.tileWidth,p.tileHeight)),p.data[v][d].copy(o)):(g=o,p.data[v][d]===null?p.data[v][d]=new h(p,g,d,v,p.tileWidth,p.tileHeight):p.data[v][d].index=g);var S=p.data[v][d],E=p.collideIndexes.indexOf(S.index)!==-1;if(g=o instanceof h?o.index:o,g===-1)S.width=p.tileWidth,S.height=p.tileHeight;else{var w=p.tilemapLayer.tilemap,M=w.tiles,R=M[g][2],O=w.tilesets[R];S.width=O.tileWidth,S.height=O.tileHeight}return u(S,E),f&&C!==S.collides&&c(d,v,p),S},"PutTileAt");n.exports=l}),26303:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71558),m=i(26099),c=new m,u=r(function(l,o,d,v,f,p){return p.tilemapLayer.worldToTileXY(o,d,!0,c,f,p),h(l,c.x,c.y,v,p)},"PutTileAtWorldXY");n.exports=u}),14051:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42573),m=i(71558),c=r(function(u,l,o,d,v){if(d===void 0&&(d=!0),!Array.isArray(u))return null;Array.isArray(u[0])||(u=[u]);for(var f=u.length,p=u[0].length,g=0;g<f;g++)for(var y=0;y<p;y++){var C=u[g][y];m(C,l+y,o+g,!1,v)}d&&h(l-1,o-1,p+2,f+2,v)},"PutTilesAt");n.exports=c}),77389:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=i(26546),c=r(function(u,l,o,d,v,f){var p,g=h(u,l,o,d,{},f);if(!v)for(v=[],p=0;p<g.length;p++)v.indexOf(g[p].index)===-1&&v.push(g[p].index);for(p=0;p<g.length;p++)g[p].index=m(v)},"Randomize");n.exports=c}),63557:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23029),m=i(62991),c=i(72023),u=r(function(l,o,d,v,f){if(d===void 0&&(d=!0),v===void 0&&(v=!0),!m(l,o,f))return null;var p=f.data[o][l];if(p)f.data[o][l]=d?null:new h(f,-1,l,o,f.tileWidth,f.tileHeight);else return null;return v&&p&&p.collides&&c(l,o,f),p},"RemoveTileAt");n.exports=u}),94178:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(63557),m=i(26099),c=new m,u=r(function(l,o,d,v,f,p){return p.tilemapLayer.worldToTileXY(l,o,!0,c,f,p),h(c.x,c.y,d,v,p)},"RemoveTileAtWorldXY");n.exports=u}),15533:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=i(3956),c=new m(105,210,231,150),u=new m(243,134,48,200),l=new m(40,39,37,150),o=r(function(d,v,f){v===void 0&&(v={});var p=v.tileColor!==void 0?v.tileColor:c,g=v.collidingTileColor!==void 0?v.collidingTileColor:u,y=v.faceColor!==void 0?v.faceColor:l,C=h(0,0,f.width,f.height,null,f);d.translateCanvas(f.tilemapLayer.x,f.tilemapLayer.y),d.scaleCanvas(f.tilemapLayer.scaleX,f.tilemapLayer.scaleY);for(var S=0;S<C.length;S++){var E=C[S],w=E.tileset?E.tileset.tileOffset:{x:0,y:0},M=E.width,R=E.height,O=E.pixelX-w.x,b=E.pixelY-w.y,A=E.collides?g:p;A!==null&&(d.fillStyle(A.color,A.alpha/255),d.fillRect(O,b,M,R)),O+=1,b+=1,M-=2,R-=2,y!==null&&(d.lineStyle(1,y.color,y.alpha/255),E.faceTop&&d.lineBetween(O,b,O+M,b),E.faceRight&&d.lineBetween(O+M,b,O+M,b+R),E.faceBottom&&d.lineBetween(O,b+R,O+M,b+R),E.faceLeft&&d.lineBetween(O,b,O,b+R))}},"RenderDebug");n.exports=o}),27987:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=r(function(c,u,l,o,d,v,f){for(var p=h(l,o,d,v,null,f),g=0;g<p.length;g++)p[g]&&p[g].index===c&&(p[g].index=u)},"ReplaceByIndex");n.exports=m}),32483:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=i.data,l=i.width,o=i.height,d=i.tilemapLayer,v=Math.max(0,h.left),f=Math.min(l,h.right),p=Math.max(0,h.top),g=Math.min(o,h.bottom),y,C,S;if(m===0)for(C=p;C<g;C++)for(y=v;u[C]&&y<f;y++)S=u[C][y],!(!S||S.index===-1||!S.visible||S.alpha===0)&&c.push(S);else if(m===1)for(C=p;C<g;C++)for(y=f;u[C]&&y>=v;y--)S=u[C][y],!(!S||S.index===-1||!S.visible||S.alpha===0)&&c.push(S);else if(m===2)for(C=g;C>=p;C--)for(y=v;u[C]&&y<f;y++)S=u[C][y],!(!S||S.index===-1||!S.visible||S.alpha===0)&&c.push(S);else if(m===3)for(C=g;C>=p;C--)for(y=f;u[C]&&y>=v;y--)S=u[C][y],!(!S||S.index===-1||!S.visible||S.alpha===0)&&c.push(S);return d.tilesDrawn=c.length,d.tilesTotal=l*o,c},"RunCull");n.exports=T}),57068:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),m=i(42573),c=i(9589),u=r(function(l,o,d,v,f){o===void 0&&(o=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),Array.isArray(l)||(l=[l]);for(var p=0;p<l.length;p++)c(l[p],o,v);if(f)for(var g=0;g<v.height;g++)for(var y=0;y<v.width;y++){var C=v.data[g][y];C&&l.indexOf(C.index)!==-1&&h(C,o)}d&&m(0,0,v.width,v.height,v)},"SetCollision");n.exports=u}),37266:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),m=i(42573),c=i(9589),u=r(function(l,o,d,v,f,p){if(d===void 0&&(d=!0),v===void 0&&(v=!0),p===void 0&&(p=!0),!(l>o)){for(var g=l;g<=o;g++)c(g,d,f);if(p)for(var y=0;y<f.height;y++)for(var C=0;C<f.width;C++){var S=f.data[y][C];S&&S.index>=l&&S.index<=o&&h(S,d)}v&&m(0,0,f.width,f.height,f)}},"SetCollisionBetween");n.exports=u}),75661:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),m=i(42573),c=i(9589),u=r(function(l,o,d,v){o===void 0&&(o=!0),d===void 0&&(d=!0),Array.isArray(l)||(l=[l]);for(var f=0;f<v.height;f++)for(var p=0;p<v.width;p++){var g=v.data[f][p];g&&l.indexOf(g.index)===-1&&(h(g,o),c(g.index,o,v))}d&&m(0,0,v.width,v.height,v)},"SetCollisionByExclusion");n.exports=u}),64740:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),m=i(42573),c=i(97022),u=r(function(l,o,d,v){o===void 0&&(o=!0),d===void 0&&(d=!0);for(var f=0;f<v.height;f++)for(var p=0;p<v.width;p++){var g=v.data[f][p];if(g){for(var y in l)if(c(g.properties,y)){var C=l[y];Array.isArray(C)||(C=[C]);for(var S=0;S<C.length;S++)g.properties[y]===C[S]&&h(g,o)}}}d&&m(0,0,v.width,v.height,v)},"SetCollisionByProperty");n.exports=u}),63307:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),m=i(42573),c=r(function(u,l,o){u===void 0&&(u=!0),l===void 0&&(l=!0);for(var d=0;d<o.height;d++)for(var v=0;v<o.width;v++){var f=o.data[d][v];if(f){var p=f.getCollisionGroup();p&&p.objects&&p.objects.length>0&&h(f,u)}}l&&m(0,0,o.width,o.height,o)},"SetCollisionFromCollisionGroup");n.exports=c}),9589:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=m.collideIndexes.indexOf(i);h&&c===-1?m.collideIndexes.push(i):!h&&c!==-1&&m.collideIndexes.splice(c,1)},"SetLayerCollisionIndex");n.exports=T}),20576:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h?i.setCollision(!0,!0,!0,!0,!1):i.resetCollision(!1)},"SetTileCollision");n.exports=T}),79583:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){if(typeof i=="number")c.callbacks[i]=h!==null?{callback:h,callbackContext:m}:void 0;else for(var u=0,l=i.length;u<l;u++)c.callbacks[i[u]]=h!==null?{callback:h,callbackContext:m}:void 0},"SetTileIndexCallback");n.exports=T}),93254:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=r(function(c,u,l,o,d,v,f){for(var p=h(c,u,l,o,null,f),g=0;g<p.length;g++)p[g].setCollisionCallback(d,v)},"SetTileLocationCallback");n.exports=m}),32903:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=i(33680),c=r(function(u,l,o,d,v){var f=h(u,l,o,d,null,v),p=f.map(function(y){return y.index});m(p);for(var g=0;g<f.length;g++)f[g].index=p[g]},"Shuffle");n.exports=c}),61325:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(63448),m=i(56583),c=r(function(u,l){var o=u.tilemapLayer.tilemap,d=u.tilemapLayer,v=Math.floor(o.tileWidth*d.scaleX),f=Math.floor(o.tileHeight*d.scaleY),p=m(l.worldView.x-d.x,v,0,!0)-d.cullPaddingX,g=h(l.worldView.right-d.x,v,0,!0)+d.cullPaddingX,y=m(l.worldView.y-d.y,f/2,0,!0)-d.cullPaddingY,C=h(l.worldView.bottom-d.y,f/2,0,!0)+d.cullPaddingY;return{left:p,right:g,top:y,bottom:C}},"StaggeredCullBounds");n.exports=c}),54503:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61325),m=i(32483),c=r(function(u,l,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var v=u.tilemapLayer,f=h(u,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(f.left=0,f.right=u.width,f.top=0,f.bottom=u.height),m(u,f,d,o),o},"StaggeredCullTiles");n.exports=c}),97202:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o,d){l||(l=new h);var v=d.baseTileWidth,f=d.baseTileHeight,p=d.tilemapLayer,g=0,y=0;p&&(o||(o=p.scene.cameras.main),g=p.x+o.scrollX*(1-p.scrollFactorX),v*=p.scaleX,y=p.y+o.scrollY*(1-p.scrollFactorY),f*=p.scaleY);var C=g+c*v+u%2*(v/2),S=y+u*(f/2);return l.set(C,S)},"StaggeredTileToWorldXY");n.exports=m}),28054:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=m.baseTileHeight,u=m.tilemapLayer,l=0;return u&&(h===void 0&&(h=u.scene.cameras.main),l=u.y+h.scrollY*(1-u.scrollFactorY),c*=u.scaleY),l+i*(c/2)+c},"StaggeredTileToWorldY");n.exports=T}),15108:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o,d,v){o||(o=new h);var f=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(d||(d=g.scene.cameras.main),u=u-(g.y+d.scrollY*(1-g.scrollFactorY)),p*=g.scaleY,c=c-(g.x+d.scrollX*(1-g.scrollFactorX)),f*=g.scaleX);var y=l?Math.floor(u/(p/2)):u/(p/2),C=l?Math.floor((c+y%2*.5*f)/f):(c+y%2*.5*f)/f;return o.set(C,y)},"StaggeredWorldToTileXY");n.exports=m}),51900:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=c.baseTileHeight,l=c.tilemapLayer;return l&&(m||(m=l.scene.cameras.main),i=i-(l.y+m.scrollY*(1-l.scrollFactorY)),u*=l.scaleY),h?Math.floor(i/(u/2)):i/(u/2)},"StaggeredWorldToTileY");n.exports=T}),86560:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=r(function(c,u,l,o,d,v,f){for(var p=h(l,o,d,v,null,f),g=0;g<p.length;g++)p[g]&&(p[g].index===c?p[g].index=u:p[g].index===u&&(p[g].index=c))},"SwapByIndex");n.exports=m}),97281:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=m.baseTileWidth,u=m.tilemapLayer,l=0;return u&&(h||(h=u.scene.cameras.main),l=u.x+h.scrollX*(1-u.scrollFactorX),c*=u.scaleX),l+i*c},"TileToWorldX");n.exports=T}),70326:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(97281),m=i(29650),c=i(26099),u=r(function(l,o,d,v,f){return d||(d=new c(0,0)),d.x=h(l,v,f),d.y=m(o,v,f),d},"TileToWorldXY");n.exports=u}),29650:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=m.baseTileHeight,u=m.tilemapLayer,l=0;return u&&(h||(h=u.scene.cameras.main),l=u.y+h.scrollY*(1-u.scrollFactorY),c*=u.scaleY),l+i*c},"TileToWorldY");n.exports=T}),77366:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),m=i(75508),c=r(function(u,l,o,d,v,f){if(v){var p,g=h(u,l,o,d,null,f),y=0;for(p=0;p<v.length;p++)y+=v[p].weight;if(!(y<=0))for(p=0;p<g.length;p++){for(var C=m.RND.frac()*y,S=0,E=-1,w=0;w<v.length;w++)if(S+=v[w].weight,C<=S){var M=v[w].index;E=Array.isArray(M)?M[Math.floor(m.RND.frac()*M.length)]:M;break}g[p].index=E}}},"WeightedRandomize");n.exports=c}),10095:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85896),m=i(26099),c=new m,u=r(function(l,o,d,v){return h(l,0,o,c,d,v),c.x},"WorldToTileX");n.exports=u}),85896:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),m=r(function(c,u,l,o,d,v){l===void 0&&(l=!0),o||(o=new h);var f=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(d||(d=g.scene.cameras.main),c=c-(g.x+d.scrollX*(1-g.scrollFactorX)),u=u-(g.y+d.scrollY*(1-g.scrollFactorY)),f*=g.scaleX,p*=g.scaleY);var y=c/f,C=u/p;return l&&(y=Math.floor(y),C=Math.floor(C)),o.set(y,C)},"WorldToTileXY");n.exports=m}),63288:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85896),m=i(26099),c=new m,u=r(function(l,o,d,v){return h(0,l,o,c,d,v),c.y},"WorldToTileY");n.exports=u}),81086:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}}),91907:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}}),21829:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:i(91907)};n.exports=h}),62501:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),m=i(21829),c={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};c=h(!1,c,m.ORIENTATION),n.exports=c}),14977:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(91907),c=i(95540),u=new h({initialize:r(function(o){o===void 0&&(o={}),this.name=c(o,"name","layer"),this.id=c(o,"id",0),this.x=c(o,"x",0),this.y=c(o,"y",0),this.width=c(o,"width",0),this.height=c(o,"height",0),this.tileWidth=c(o,"tileWidth",0),this.tileHeight=c(o,"tileHeight",0),this.baseTileWidth=c(o,"baseTileWidth",this.tileWidth),this.baseTileHeight=c(o,"baseTileHeight",this.tileHeight),this.orientation=c(o,"orientation",m.ORTHOGONAL),this.widthInPixels=c(o,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=c(o,"heightInPixels",this.height*this.baseTileHeight),this.alpha=c(o,"alpha",1),this.visible=c(o,"visible",!0),this.properties=c(o,"properties",[]),this.indexes=c(o,"indexes",[]),this.collideIndexes=c(o,"collideIndexes",[]),this.callbacks=c(o,"callbacks",[]),this.bodies=c(o,"bodies",[]),this.data=c(o,"data",[]),this.tilemapLayer=c(o,"tilemapLayer",null),this.hexSideLength=c(o,"hexSideLength",0),this.staggerAxis=c(o,"staggerAxis","y"),this.staggerIndex=c(o,"staggerIndex","odd")},"LayerData")});n.exports=u}),87010:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(91907),c=i(95540),u=new h({initialize:r(function(o){o===void 0&&(o={}),this.name=c(o,"name","map"),this.width=c(o,"width",0),this.height=c(o,"height",0),this.infinite=c(o,"infinite",!1),this.tileWidth=c(o,"tileWidth",0),this.tileHeight=c(o,"tileHeight",0),this.widthInPixels=c(o,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=c(o,"heightInPixels",this.height*this.tileHeight),this.format=c(o,"format",null),this.orientation=c(o,"orientation",m.ORTHOGONAL),this.renderOrder=c(o,"renderOrder","right-down"),this.version=c(o,"version","1"),this.properties=c(o,"properties",{}),this.layers=c(o,"layers",[]),this.images=c(o,"images",[]),this.objects=c(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=c(o,"collision",{}),this.tilesets=c(o,"tilesets",[]),this.imageCollections=c(o,"imageCollections",[]),this.tiles=c(o,"tiles",[]),this.hexSideLength=c(o,"hexSideLength",0),this.staggerAxis=c(o,"staggerAxis","y"),this.staggerIndex=c(o,"staggerIndex","odd")},"MapData")});n.exports=u}),48700:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=new h({initialize:r(function(l){l===void 0&&(l={}),this.name=m(l,"name","object layer"),this.id=m(l,"id",0),this.opacity=m(l,"opacity",1),this.properties=m(l,"properties",{}),this.propertyTypes=m(l,"propertytypes",{}),this.type=m(l,"type","objectgroup"),this.visible=m(l,"visible",!0),this.objects=m(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])},"ObjectLayer")});n.exports=c}),6641:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),m=r(function(c){return c=c.toLowerCase(),c==="isometric"?h.ISOMETRIC:c==="staggered"?h.STAGGERED:c==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL},"FromOrientationString");n.exports=m}),46177:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),m=i(2342),c=i(82593),u=i(46594),l=i(87021),o=r(function(d,v,f,p,g,y){var C;switch(v){case h.ARRAY_2D:C=m(d,f,p,g,y);break;case h.CSV:C=c(d,f,p,g,y);break;case h.TILED_JSON:C=u(d,f,y);break;case h.WELTMEISTER:C=l(d,f,y);break;default:console.warn("Unrecognized tilemap data format: "+v),C=null}return C},"Parse");n.exports=o}),2342:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),m=i(14977),c=i(87010),u=i(23029),l=r(function(o,d,v,f,p){for(var g=new m({tileWidth:v,tileHeight:f}),y=new c({name:o,tileWidth:v,tileHeight:f,format:h.ARRAY_2D,layers:[g]}),C=[],S=d.length,E=0,w=0;w<d.length;w++){C[w]=[];for(var M=d[w],R=0;R<M.length;R++){var O=parseInt(M[R],10);isNaN(O)||O===-1?C[w][R]=p?null:new u(g,-1,R,w,v,f):C[w][R]=new u(g,O,R,w,v,f)}E===0&&(E=M.length)}return y.width=g.width=E,y.height=g.height=S,y.widthInPixels=g.widthInPixels=E*v,y.heightInPixels=g.heightInPixels=S*f,g.data=C,y},"Parse2DArray");n.exports=l}),82593:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),m=i(2342),c=r(function(u,l,o,d,v){var f=l.trim().split(`
`).map(function(g){return g.split(",")}),p=m(u,f,o,d,v);return p.format=h.CSV,p},"ParseCSV");n.exports=c}),6656:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(14977),m=i(23029),c=r(function(u,l){for(var o=[],d=0;d<u.layer.length;d++){for(var v=u.layer[d],f=new h({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),p=[],g=[],y=0;y<v.data.length;y++){for(var C=0;C<v.data[y].length;C++){var S=v.data[y][C]-1,E;S>-1?E=new m(f,S,C,y,v.tilesize,v.tilesize):E=l?null:new m(f,-1,C,y,v.tilesize,v.tilesize),p.push(E)}g.push(p),p=[]}f.data=g,o.push(f)}return o},"ParseTileLayers");n.exports=c}),96483:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33629),m=r(function(c){for(var u=[],l=[],o=0;o<c.layer.length;o++){var d=c.layer[o],v=d.tilesetName;v!==""&&l.indexOf(v)===-1&&(l.push(v),u.push(new h(v,0,d.tilesize,d.tilesize,0,0)))}return u},"ParseTilesets");n.exports=m}),87021:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),m=i(87010),c=i(6656),u=i(96483),l=r(function(o,d,v){if(d.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+o),null;for(var f=0,p=0,g=0;g<d.layer.length;g++)d.layer[g].width>f&&(f=d.layer[g].width),d.layer[g].height>p&&(p=d.layer[g].height);var y=new m({width:f,height:p,name:o,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:h.WELTMEISTER});return y.layers=c(d,v),y.tilesets=u(d),y},"ParseWeltmeister");n.exports=l}),52833:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}}),57442:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}}),51233:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),m=r(function(c){for(var u,l,o,d,v,f=0;f<c.layers.length;f++){u=c.layers[f],d=null;for(var p=0;p<u.data.length;p++){v=u.data[p];for(var g=0;g<v.length;g++)l=v[g],!(l===null||l.index<0)&&(o=c.tiles[l.index][2],d=c.tilesets[o],l.width=d.tileWidth,l.height=d.tileHeight,d.tileProperties&&d.tileProperties[l.index-d.firstgid]&&(l.properties=h(l.properties,d.tileProperties[l.index-d.firstgid])))}}},"AssignTileProperties");n.exports=m}),41868:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var h=window.atob(i),m=h.length,c=new Array(m/4),u=0;u<m;u+=4)c[u/4]=(h.charCodeAt(u)|h.charCodeAt(u+1)<<8|h.charCodeAt(u+2)<<16|h.charCodeAt(u+3)<<24)>>>0;return c},"Base64Decode");n.exports=T}),84101:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33629),m=r(function(c){var u,l,o=[];for(u=0;u<c.imageCollections.length;u++)for(var d=c.imageCollections[u],v=d.images,f=0;f<v.length;f++){var p=v[f],g={x:0,y:p.height-c.tileHeight};l=new h(p.image,p.gid,p.width,p.height,0,0,void 0,void 0,g),l.updateTileData(p.width,p.height),c.tilesets.push(l)}for(u=0;u<c.tilesets.length;u++){l=c.tilesets[u];for(var y=l.tileMargin,C=l.tileMargin,S=0,E=0,w=0,M=l.firstgid;M<l.firstgid+l.total&&(o[M]=[y,C,u],y+=l.tileWidth+l.tileSpacing,S++,!(S===l.total||(E++,E===l.columns&&(y=l.tileMargin,C+=l.tileHeight+l.tileSpacing,E=0,w++,w===l.rows))));M++);}return o},"BuildTilesetIndex");n.exports=m}),79677:((n,T,i)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),m=r(function(c,u,l){if(!u)return{i:0,layers:c.layers,name:"",opacity:1,visible:!0,x:0,y:0};var o=u.x+h(u,"startx",0)*c.tilewidth+h(u,"offsetx",0),d=u.y+h(u,"starty",0)*c.tileheight+h(u,"offsety",0);return{i:0,layers:u.layers,name:l.name+u.name+"/",opacity:l.opacity*u.opacity,visible:l.visible&&u.visible,x:l.x+o,y:l.y+d}},"CreateGroupLayer");n.exports=m}),29920:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,i=1073741824,h=536870912,m=r(function(c){var u=!!(c&T),l=!!(c&i),o=!!(c&h);c=c&536870911;var d=0,v=!1;return u&&l&&o?(d=Math.PI/2,v=!0):u&&l&&!o?(d=Math.PI,v=!1):u&&!l&&o?(d=Math.PI/2,v=!1):u&&!l&&!o?(d=0,v=!0):!u&&l&&o?(d=3*Math.PI/2,v=!1):!u&&l&&!o?(d=Math.PI,v=!0):!u&&!l&&o?(d=3*Math.PI/2,v=!0):!u&&!l&&!o&&(d=0,v=!1),{gid:c,flippedHorizontal:u,flippedVertical:l,flippedAntiDiagonal:o,rotation:d,flipped:v}},"ParseGID");n.exports=m}),12635:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),m=i(79677),c=r(function(u){for(var l=[],o=[],d=m(u);d.i<d.layers.length||o.length>0;){if(d.i>=d.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=o.pop();continue}var v=d.layers[d.i];if(d.i++,v.type!=="imagelayer"){if(v.type==="group"){var f=m(u,v,d);o.push(d),d=f}continue}var p=h(v,"offsetx",0)+h(v,"startx",0),g=h(v,"offsety",0)+h(v,"starty",0);l.push({name:d.name+v.name,image:v.image,x:d.x+p+v.x,y:d.y+g+v.y,alpha:d.opacity*v.opacity,visible:d.visible&&v.visible,properties:h(v,"properties",{})})}return l},"ParseImageLayers");n.exports=c}),46594:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(51233),m=i(84101),c=i(91907),u=i(62644),l=i(80341),o=i(6641),d=i(87010),v=i(12635),f=i(22611),p=i(28200),g=i(24619),y=r(function(C,S,E){var w=u(S),M=new d({width:w.width,height:w.height,name:C,tileWidth:w.tilewidth,tileHeight:w.tileheight,orientation:o(w.orientation),format:l.TILED_JSON,version:w.version,properties:w.properties,renderOrder:w.renderorder,infinite:w.infinite});if(M.orientation===c.HEXAGONAL)if(M.hexSideLength=w.hexsidelength,M.staggerAxis=w.staggeraxis,M.staggerIndex=w.staggerindex,M.staggerAxis==="y"){var R=(M.tileHeight-M.hexSideLength)/2;M.widthInPixels=M.tileWidth*(M.width+.5),M.heightInPixels=M.height*(M.hexSideLength+R)+R}else{var O=(M.tileWidth-M.hexSideLength)/2;M.widthInPixels=M.width*(M.hexSideLength+O)+O,M.heightInPixels=M.tileHeight*(M.height+.5)}M.layers=p(w,E),M.images=v(w);var b=g(w);return M.tilesets=b.tilesets,M.imageCollections=b.imageCollections,M.objects=f(w),M.tiles=m(M),h(M),M},"ParseJSONTiled");n.exports=y}),52205:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(18254),m=i(29920),c=r(function(o){return{x:o.x,y:o.y}},"copyPoints"),u=["id","name","type","rotation","properties","visible","x","y","width","height"],l=r(function(o,d,v){d===void 0&&(d=0),v===void 0&&(v=0);var f=h(o,u);if(f.x+=d,f.y+=v,o.gid){var p=m(o.gid);f.gid=p.gid,f.flippedHorizontal=p.flippedHorizontal,f.flippedVertical=p.flippedVertical,f.flippedAntiDiagonal=p.flippedAntiDiagonal}else o.polyline?f.polyline=o.polyline.map(c):o.polygon?f.polygon=o.polygon.map(c):o.ellipse?f.ellipse=o.ellipse:o.text?f.text=o.text:o.point?f.point=!0:f.rectangle=!0;return f},"ParseObject");n.exports=l}),22611:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),m=i(52205),c=i(48700),u=i(79677),l=r(function(o){for(var d=[],v=[],f=u(o);f.i<f.layers.length||v.length>0;){if(f.i>=f.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=v.pop();continue}var p=f.layers[f.i];if(f.i++,p.opacity*=f.opacity,p.visible=f.visible&&p.visible,p.type!=="objectgroup"){if(p.type==="group"){var g=u(o,p,f);v.push(f),f=g}continue}p.name=f.name+p.name;for(var y=f.x+h(p,"startx",0)+h(p,"offsetx",0),C=f.y+h(p,"starty",0)+h(p,"offsety",0),S=[],E=0;E<p.objects.length;E++){var w=m(p.objects[E],y,C);S.push(w)}var M=new c(p);M.objects=S,d.push(M)}return d},"ParseObjectLayers");n.exports=l}),28200:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41868),m=i(91907),c=i(79677),u=i(6641),l=i(95540),o=i(14977),d=i(29920),v=i(23029),f=r(function(p,g){for(var y=l(p,"infinite",!1),C=[],S=[],E=c(p);E.i<E.layers.length||S.length>0;){if(E.i>=E.layers.length){if(S.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}E=S.pop();continue}var w=E.layers[E.i];if(E.i++,w.type!=="tilelayer"){if(w.type==="group"){var M=c(p,w,E);S.push(E),E=M}continue}if(w.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+w.name+"'");continue}else if(w.encoding&&w.encoding==="base64"){if(w.chunks)for(var R=0;R<w.chunks.length;R++)w.chunks[R].data=h(w.chunks[R].data);w.data&&(w.data=h(w.data)),delete w.encoding}var O,b,A,I,L,F,D=[],B=0;if(y){var V=l(w,"startx",0)+w.x,U=l(w,"starty",0)+w.y;O=new o({name:E.name+w.name,id:w.id,x:E.x+l(w,"offsetx",0)+V*p.tilewidth,y:E.y+l(w,"offsety",0)+U*p.tileheight,width:w.width,height:w.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:E.opacity*w.opacity,visible:E.visible&&w.visible,properties:l(w,"properties",[]),orientation:u(p.orientation)}),O.orientation===m.HEXAGONAL&&(O.hexSideLength=p.hexsidelength,O.staggerAxis=p.staggeraxis,O.staggerIndex=p.staggerindex,O.staggerAxis==="y"?(L=(O.tileHeight-O.hexSideLength)/2,O.widthInPixels=O.tileWidth*(O.width+.5),O.heightInPixels=O.height*(O.hexSideLength+L)+L):(F=(O.tileWidth-O.hexSideLength)/2,O.widthInPixels=O.width*(O.hexSideLength+F)+F,O.heightInPixels=O.tileHeight*(O.height+.5)));for(var W=0;W<w.height;W++){D[W]=[null];for(var Y=0;Y<w.width;Y++)D[W][Y]=null}for(W=0,j=w.chunks.length;W<j;W++)for(var N=w.chunks[W],z=N.x-V,G=N.y-U,X=0,k=0,H=N.data.length;k<H;k++){var $=B+z,K=X+G;b=d(N.data[k]),b.gid>0?(A=new v(O,b.gid,$,K,p.tilewidth,p.tileheight),A.rotation=b.rotation,A.flipX=b.flipped,D[K][$]=A):(I=g?null:new v(O,-1,$,K,p.tilewidth,p.tileheight),D[K][$]=I),B++,B===N.width&&(X++,B=0)}}else{O=new o({name:E.name+w.name,id:w.id,x:E.x+l(w,"offsetx",0)+w.x,y:E.y+l(w,"offsety",0)+w.y,width:w.width,height:w.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:E.opacity*w.opacity,visible:E.visible&&w.visible,properties:l(w,"properties",[]),orientation:u(p.orientation)}),O.orientation===m.HEXAGONAL&&(O.hexSideLength=p.hexsidelength,O.staggerAxis=p.staggeraxis,O.staggerIndex=p.staggerindex,O.staggerAxis==="y"?(L=(O.tileHeight-O.hexSideLength)/2,O.widthInPixels=O.tileWidth*(O.width+.5),O.heightInPixels=O.height*(O.hexSideLength+L)+L):(F=(O.tileWidth-O.hexSideLength)/2,O.widthInPixels=O.width*(O.hexSideLength+F)+F,O.heightInPixels=O.tileHeight*(O.height+.5)));for(var Z=[],J=0,j=w.data.length;J<j;J++)b=d(w.data[J]),b.gid>0?(A=new v(O,b.gid,B,D.length,p.tilewidth,p.tileheight),A.rotation=b.rotation,A.flipX=b.flipped,Z.push(A)):(I=g?null:new v(O,-1,B,D.length,p.tilewidth,p.tileheight),Z.push(I)),B++,B===w.width&&(D.push(Z),B=0,Z=[])}O.data=D,C.push(O)}return C},"ParseTileLayers");n.exports=f}),24619:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33629),m=i(16536),c=i(52205),u=i(57880),l=r(function(o){for(var d=[],v=[],f=null,p,g=0;g<o.tilesets.length;g++){var y=o.tilesets[g];if(y.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(y.image){var C=new h(y.name,y.firstgid,y.tilewidth,y.tileheight,y.margin,y.spacing,void 0,void 0,y.tileoffset);if(o.version>1){var S=void 0,E=void 0;if(Array.isArray(y.tiles)){S=S||{},E=E||{};for(var w=0;w<y.tiles.length;w++){var M=y.tiles[w];if(M.properties){var R={};M.properties.forEach(function(W){R[W.name]=W.value}),E[M.id]=R}if(M.objectgroup&&((S[M.id]||(S[M.id]={})).objectgroup=M.objectgroup,M.objectgroup.objects)){var O=M.objectgroup.objects.map(function(W){return c(W)});S[M.id].objectgroup.objects=O}M.animation&&((S[M.id]||(S[M.id]={})).animation=M.animation),M.type&&((S[M.id]||(S[M.id]={})).type=M.type)}}Array.isArray(y.wangsets)&&(S=S||{},E=E||{},u(y.wangsets,S)),S&&(C.tileData=S,C.tileProperties=E)}else if(y.tileproperties&&(C.tileProperties=y.tileproperties),y.tiles){C.tileData=y.tiles;for(p in C.tileData){var b=C.tileData[p].objectgroup;if(b&&b.objects){var A=b.objects.map(function(W){return c(W)});C.tileData[p].objectgroup.objects=A}}}C.updateTileData(y.imagewidth,y.imageheight),d.push(C)}else{var I=new m(y.name,y.firstgid,y.tilewidth,y.tileheight,y.margin,y.spacing,y.properties),L=0;for(w=0;w<y.tiles.length;w++){M=y.tiles[w];var F=M.image,D=parseInt(M.id,10),B=y.firstgid+D,V=M.imagewidth,U=M.imageheight;I.addImage(B,F,V,U),L=Math.max(D,L)}I.maxId=L,v.push(I)}f&&(f.lastgid=y.firstgid-1),f=y}return{tilesets:d,imageCollections:v}},"ParseTilesets");n.exports=l}),57880:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){for(var m=0;m<i.length;m++){var c=i[m],u=m;if(c.name&&c.name!==""&&(u=c.name),Array.isArray(c.wangtiles)&&c.wangtiles.length>0){var l={},o={},d,v,f;if(Array.isArray(c.edgecolors))for(d=0;d<c.edgecolors.length;d++)f=1+d,v=c.edgecolors[d],v.name!==""&&(l[f]=v.name);if(Array.isArray(c.cornercolors))for(d=0;d<c.cornercolors.length;d++)f=1+d,v=c.cornercolors[d],v.name!==""&&(o[f]=v.name);if(Array.isArray(c.colors))for(d=0;d<c.colors.length;d++)v=c.colors[d],f=1+d,v.name!==""&&(l[f]=o[f]=v.name);for(var p=[l,o,l,o,l,o,l,o],g=0;g<c.wangtiles.length;g++){var y=c.wangtiles[g],C=h[y.tileid]||(h[y.tileid]={});C=C.wangid||(C.wangid={});for(var S=[],E=0;E<Math.min(p.length,y.wangid.length);E++){if(v=y.wangid[E],v===0){S.push(void 0);continue}var w=p[E][v];if(w!==void 0){S.push(w);continue}S.push(v)}C[u]=S}}}},"ParseWangsets");n.exports=T}),96761:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}}),33385:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(37277),c=i(44594),u=i(94880),l=i(72905),o=new h({initialize:r(function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.start,this)},"Clock"),boot:r(function(){this.now=this.systems.game.loop.time,this.systems.events.once(c.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(c.PRE_UPDATE,this.preUpdate,this),d.on(c.UPDATE,this.update,this),d.once(c.SHUTDOWN,this.shutdown,this)},"start"),addEvent:r(function(d){var v;if(d instanceof u){if(v=d,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat,v.delay<=0&&v.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else v=new u(d);return this._pendingInsertion.push(v),v},"addEvent"),delayedCall:r(function(d,v,f,p){return this.addEvent({delay:d,callback:v,args:f,callbackScope:p})},"delayedCall"),clearPendingEvents:r(function(){return this._pendingInsertion=[],this},"clearPendingEvents"),removeEvent:r(function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var f=d[v];l(this._pendingRemoval,f),l(this._pendingInsertion,f),l(this._active,f)}return this},"removeEvent"),removeAllEvents:r(function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},"removeAllEvents"),preUpdate:r(function(){var d=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(d===0&&v===0)){var f,p;for(f=0;f<d;f++){p=this._pendingRemoval[f];var g=this._active.indexOf(p);g>-1&&this._active.splice(g,1),p.destroy()}for(f=0;f<v;f++)p=this._pendingInsertion[f],this._active.push(p);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},"preUpdate"),update:r(function(d,v){if(this.now=d,!this.paused){v*=this.timeScale;for(var f=0;f<this._active.length;f++){var p=this._active[f];if(!p.paused&&(p.elapsed+=v*p.timeScale,p.elapsed>=p.delay)){var g=p.elapsed-p.delay;if(p.elapsed=p.delay,!p.hasDispatched&&p.callback&&(p.hasDispatched=!0,p.callback.apply(p.callbackScope,p.args)),p.repeatCount>0){if(p.repeatCount--,g>=p.delay)for(;g>=p.delay&&p.repeatCount>0;)p.callback&&p.callback.apply(p.callbackScope,p.args),g-=p.delay,p.repeatCount--;p.elapsed=g,p.hasDispatched=!1}else p.hasDispatched&&this._pendingRemoval.push(p)}}}},"update"),shutdown:r(function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(c.PRE_UPDATE,this.preUpdate,this),v.off(c.UPDATE,this.update,this),v.off(c.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null},"destroy")});m.register("Clock",o,"time"),n.exports=o}),96120:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50792),c=i(39429),u=i(95540),l=i(44594),o=i(89809),d=new h({Extends:m,initialize:r(function(f,p){m.call(this),this.scene=f,this.systems=f.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var g=this.systems.events;g.on(l.PRE_UPDATE,this.preUpdate,this),g.on(l.UPDATE,this.update,this),g.once(l.SHUTDOWN,this.destroy,this),p&&this.add(p)},"Timeline"),preUpdate:r(function(v,f){this.paused||(this.elapsed+=f*this.timeScale)},"preUpdate"),update:r(function(){if(!(this.paused||this.complete)){var v,f=this.events,p=!1,g=this.systems,y;for(v=0;v<f.length;v++){var C=f[v];if(!C.complete&&C.time<=this.elapsed){if(C.complete=!0,this.totalComplete++,y=C.target?C.target:this,C.if&&!C.if.call(y,C))continue;if(C.once&&(p=!0),C.set&&C.target)for(var S in C.set)C.target[S]=C.set[S];this.iteration&&C.repeat++,C.loop&&C.repeat&&C.loop.call(y),C.tween&&(C.tweenInstance=g.tweens.add(C.tween)),C.sound&&(typeof C.sound=="string"?g.sound.play(C.sound):g.sound.play(C.sound.key,C.sound.config)),C.event&&this.emit(C.event,y),C.run&&C.run.call(y),C.stop&&this.stop()}}if(p)for(v=0;v<f.length;v++)f[v].complete&&f[v].once&&(f.splice(v,1),v--);this.totalComplete>=f.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(o.COMPLETE,this)}},"update"),play:r(function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},"play"),pause:r(function(){this.paused=!0;for(var v=this.events,f=0;f<v.length;f++){var p=v[f];p.tweenInstance&&(p.tweenInstance.paused=!0)}return this},"pause"),repeat:r(function(v){return(v===void 0||v===!0)&&(v=-1),v===!1&&(v=0),this.loop=v,this},"repeat"),resume:r(function(){this.paused=!1;for(var v=this.events,f=0;f<v.length;f++){var p=v[f];p.tweenInstance&&(p.tweenInstance.paused=!1)}return this},"resume"),stop:r(function(){return this.paused=!0,this.complete=!0,this},"stop"),reset:r(function(v){v===void 0&&(v=!1),this.elapsed=0,v||(this.iteration=0);for(var f=this.events,p=0;p<f.length;p++){var g=f[p];g.complete=!1,v||(g.repeat=0),g.tweenInstance&&g.tweenInstance.stop()}return this.play(!1)},"reset"),add:r(function(v){Array.isArray(v)||(v=[v]);var f=this.events,p=0;f.length>0&&(p=f[f.length-1].time);for(var g=0;g<v.length;g++){var y=v[g],C=u(y,"at",0),S=u(y,"in",null);S!==null&&(C=this.elapsed+S);var E=u(y,"from",null);E!==null&&(C=p+E),f.push({complete:!1,time:C,repeat:0,if:u(y,"if",null),run:u(y,"run",null),loop:u(y,"loop",null),event:u(y,"event",null),target:u(y,"target",null),set:u(y,"set",null),tween:u(y,"tween",null),sound:u(y,"sound",null),once:u(y,"once",!1),stop:u(y,"stop",!1)}),p=C}return this.complete=!1,this},"add"),clear:r(function(){for(var v=this.events,f=0;f<v.length;f++){var p=v[f];p.tweenInstance&&p.tweenInstance.stop()}return v=[],this.elapsed=0,this.paused=!0,this},"clear"),isPlaying:r(function(){return!this.paused&&!this.complete},"isPlaying"),getProgress:r(function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},"getProgress"),destroy:r(function(){var v=this.systems.events;v.off(l.PRE_UPDATE,this.preUpdate,this),v.off(l.UPDATE,this.update,this),v.off(l.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null},"destroy")});c.register("timeline",function(v){return new d(this.scene,v)}),n.exports=d}),94880:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(95540),c=new h({initialize:r(function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},"TimerEvent"),reset:r(function(u){if(this.delay=m(u,"delay",0),this.repeat=m(u,"repeat",0),this.loop=m(u,"loop",!1),this.callback=m(u,"callback",void 0),this.callbackScope=m(u,"callbackScope",this),this.args=m(u,"args",[]),this.timeScale=m(u,"timeScale",1),this.startAt=m(u,"startAt",0),this.paused=m(u,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},"reset"),getProgress:r(function(){return this.elapsed/this.delay},"getProgress"),getOverallProgress:r(function(){if(this.repeat>0){var u=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/u}else return this.getProgress()},"getOverallProgress"),getRepeatCount:r(function(){return this.repeatCount},"getRepeatCount"),getElapsed:r(function(){return this.elapsed},"getElapsed"),getElapsedSeconds:r(function(){return this.elapsed*.001},"getElapsedSeconds"),getRemaining:r(function(){return this.delay-this.elapsed},"getRemaining"),getRemainingSeconds:r(function(){return this.getRemaining()*.001},"getRemainingSeconds"),getOverallRemaining:r(function(){return this.delay*(1+this.repeatCount)-this.elapsed},"getOverallRemaining"),getOverallRemainingSeconds:r(function(){return this.getOverallRemaining()*.001},"getOverallRemainingSeconds"),remove:r(function(u){u===void 0&&(u=!1),this.elapsed=this.delay,this.hasDispatched=!u,this.repeatCount=0},"remove"),destroy:r(function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]},"destroy")});n.exports=c}),35945:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),89809:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:i(35945)}}),90291:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}}),40382:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(72905),m=i(83419),c=i(43491),u=i(88032),l=i(37277),o=i(44594),d=i(93109),v=i(86081),f=i(8357),p=i(43960),g=i(26012),y=new m({initialize:r(function(S){this.scene=S,this.events=S.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},"TweenManager"),boot:r(function(){this.events.once(o.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(o.UPDATE,this.update,this),this.events.once(o.SHUTDOWN,this.shutdown,this)},"start"),create:r(function(C){Array.isArray(C)||(C=[C]);for(var S=[],E=0;E<C.length;E++){var w=C[E];w instanceof v||w instanceof p?S.push(w):Array.isArray(w.tweens)?S.push(g(this,w)):S.push(f(this,w))}return S.length===1?S[0]:S},"create"),add:r(function(C){var S=C,E=this.tweens;return S instanceof v||S instanceof p||(Array.isArray(S.tweens)?S=g(this,S):S=f(this,S)),E.push(S.reset()),S},"add"),addMultiple:r(function(C){for(var S,E=[],w=this.tweens,M=0;M<C.length;M++)S=C[M],S instanceof v||S instanceof p||(Array.isArray(S.tweens)?S=g(this,S):S=f(this,S)),w.push(S.reset()),E.push(S);return E},"addMultiple"),chain:r(function(C){var S=g(this,C);return this.tweens.push(S.init()),S},"chain"),getChainedTweens:r(function(C){return C.getChainedTweens()},"getChainedTweens"),has:r(function(C){return this.tweens.indexOf(C)>-1},"has"),existing:r(function(C){return this.has(C)||this.tweens.push(C.reset()),this},"existing"),addCounter:r(function(C){var S=u(this,C);return this.tweens.push(S.reset()),S},"addCounter"),stagger:r(function(C,S){return d(C,S)},"stagger"),setLagSmooth:r(function(C,S){return C===void 0&&(C=1/1e-8),S===void 0&&(S=0),this.maxLag=C,this.lagSkip=Math.min(S,this.maxLag),this},"setLagSmooth"),setFps:r(function(C){return C===void 0&&(C=240),this.gap=1e3/C,this.nextTime=this.time*1e3+this.gap,this},"setFps"),getDelta:r(function(C){var S=Date.now()-this.prevTime;S>this.maxLag&&(this.startTime+=S-this.lagSkip),this.prevTime+=S;var E=this.prevTime-this.startTime,w=E-this.nextTime,M=E-this.time*1e3;return w>0||C?(E/=1e3,this.time=E,this.nextTime+=w+(w>=this.gap?4:this.gap-w)):M=0,M},"getDelta"),tick:r(function(){return this.step(!0),this},"tick"),update:r(function(){this.paused||this.step(!1)},"update"),step:r(function(C){C===void 0&&(C=!1);var S=this.getDelta(C);if(!(S<=0)){this.processing=!0;var E,w,M=[],R=this.tweens;for(E=0;E<R.length;E++)w=R[E],w.update(S)&&M.push(w);var O=M.length;if(O&&R.length>0){for(E=0;E<O;E++){w=M[E];var b=R.indexOf(w);b>-1&&(w.isPendingRemove()||w.isDestroyed())&&(R.splice(b,1),w.destroy())}M.length=0}this.processing=!1}},"step"),remove:r(function(C){return this.processing?C.setPendingRemoveState():(h(this.tweens,C),C.setRemovedState()),this},"remove"),reset:r(function(C){return this.existing(C),C.seek(),C.setActiveState(),this},"reset"),makeActive:r(function(C){return this.existing(C),C.setActiveState(),this},"makeActive"),each:r(function(C,S){var E,w=[null];for(E=1;E<arguments.length;E++)w.push(arguments[E]);return this.tweens.forEach(function(M){w[0]=M,C.apply(S,w)}),this},"each"),getTweens:r(function(){return this.tweens.slice()},"getTweens"),getTweensOf:r(function(C){var S=[],E=this.tweens;Array.isArray(C)?C=c(C):C=[C];for(var w=C.length,M=0;M<E.length;M++)for(var R=E[M],O=0;O<w;O++)!R.isDestroyed()&&R.hasTarget(C[O])&&S.push(R);return S},"getTweensOf"),getGlobalTimeScale:r(function(){return this.timeScale},"getGlobalTimeScale"),setGlobalTimeScale:r(function(C){return this.timeScale=C,this},"setGlobalTimeScale"),isTweening:r(function(C){for(var S=this.tweens,E,w=0;w<S.length;w++)if(E=S[w],E.isPlaying()&&E.hasTarget(C))return!0;return!1},"isTweening"),killAll:r(function(){for(var C=this.processing?this.getTweens():this.tweens,S=0;S<C.length;S++)C[S].destroy();return this.processing||(C.length=0),this},"killAll"),killTweensOf:r(function(C){for(var S=this.getTweensOf(C),E=0;E<S.length;E++)S[E].destroy();return this},"killTweensOf"),pauseAll:r(function(){return this.paused=!0,this},"pauseAll"),resumeAll:r(function(){return this.paused=!1,this},"resumeAll"),shutdown:r(function(){this.killAll(),this.tweens=[],this.events.off(o.UPDATE,this.update,this),this.events.off(o.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.events=null},"destroy")});l.register("TweenManager",y,"tweens"),n.exports=y}),57355:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){return i&&i.hasOwnProperty(h)?i[h]:m},"GetBoolean");n.exports=T}),6113:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62640),m=i(35355),c=r(function(u,l){var o=h.Power0;if(typeof u=="string")if(h.hasOwnProperty(u))o=h[u];else{var d="";if(u.indexOf(".")){d=u.substring(u.indexOf(".")+1);var v=d.toLowerCase();v==="in"?d="easeIn":v==="out"?d="easeOut":v==="inout"&&(d="easeInOut")}u=m(u.substring(0,u.indexOf(".")+1)+d),h.hasOwnProperty(u)&&(o=h[u])}else typeof u=="function"&&(o=u);if(!l)return o;var f=l.slice(0);return f.unshift(0),function(p){return f[0]=p,o.apply(this,f)}},"GetEaseFunction");n.exports=c}),91389:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(89318),m=i(77259),c=i(28392),u={bezier:h,catmull:m,catmullrom:m,linear:c},l=r(function(o){if(o===null)return null;var d=u.linear;return typeof o=="string"?u.hasOwnProperty(o)&&(d=u[o]):typeof o=="function"&&(d=o),d},"GetInterpolationFunction");n.exports=l}),55292:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c;if(i.hasOwnProperty(h)){var u=typeof i[h];u==="function"?c=r(function(l,o,d,v,f,p){return i[h](l,o,d,v,f,p)},"valueCallback"):c=r(function(){return i[h]},"valueCallback")}else typeof m=="function"?c=m:c=r(function(){return m},"valueCallback");return c},"GetNewValue");n.exports=T}),82985:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81076),m=r(function(c){var u,l=[];if(c.hasOwnProperty("props"))for(u in c.props)u.substring(0,1)!=="_"&&l.push({key:u,value:c.props[u]});else for(u in c)h.indexOf(u)===-1&&u.substring(0,1)!=="_"&&l.push({key:u,value:c[u]});return l},"GetProps");n.exports=m}),62329:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),m=r(function(c){var u=h(c,"targets",null);return u===null||(typeof u=="function"&&(u=u.call()),Array.isArray(u)||(u=[u])),u},"GetTargets");n.exports=m}),17777:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30976),m=i(99472);function c(v){return!!v.getActive&&typeof v.getActive=="function"}r(c,"hasGetActive");function u(v){return!!v.getStart&&typeof v.getStart=="function"}r(u,"hasGetStart");function l(v){return!!v.getEnd&&typeof v.getEnd=="function"}r(l,"hasGetEnd");function o(v){return u(v)||l(v)||c(v)}r(o,"hasGetters");var d=r(function(v,f){var p,g=r(function(W,Y,N){return N},"getEnd"),y=r(function(W,Y,N){return N},"getStart"),C=null,S=typeof f;if(S==="number")g=r(function(){return f},"getEnd");else if(Array.isArray(f))y=r(function(){return f[0]},"getStart"),g=r(function(){return f[f.length-1]},"getEnd");else if(S==="string"){var E=f.toLowerCase(),w=E.substring(0,6)==="random",M=E.substring(0,3)==="int";if(w||M){var R=E.indexOf("("),O=E.indexOf(")"),b=E.indexOf(",");if(R&&O&&b){var A=parseFloat(E.substring(R+1,b)),I=parseFloat(E.substring(b+1,O));w?g=r(function(){return m(A,I)},"getEnd"):g=r(function(){return h(A,I)},"getEnd")}else throw new Error("invalid random() format")}else{E=E[0];var L=parseFloat(f.substr(2));switch(E){case"+":g=r(function(W,Y,N){return N+L},"getEnd");break;case"-":g=r(function(W,Y,N){return N-L},"getEnd");break;case"*":g=r(function(W,Y,N){return N*L},"getEnd");break;case"/":g=r(function(W,Y,N){return N/L},"getEnd");break;default:g=r(function(){return parseFloat(f)},"getEnd")}}}else if(S==="function")g=f;else if(S==="object")if(o(f))c(f)&&(C=f.getActive),l(f)&&(g=f.getEnd),u(f)&&(y=f.getStart);else if(f.hasOwnProperty("value"))p=d(v,f.value);else{var F=f.hasOwnProperty("to"),D=f.hasOwnProperty("from"),B=f.hasOwnProperty("start");if(F&&(D||B)){if(p=d(v,f.to),B){var V=d(v,f.start);p.getActive=V.getEnd}if(D){var U=d(v,f.from);p.getStart=U.getEnd}}}return p||(p={getActive:C,getEnd:g,getStart:y}),p},"GetValueOp");n.exports=d}),88032:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70402),m=i(69902),c=i(23568),u=i(57355),l=i(6113),o=i(95540),d=i(55292),v=i(35154),f=i(17777),p=i(269),g=i(86081),y=r(function(C,S,E){if(S instanceof g)return S.parent=C,S;E===void 0?E=m:E=p(m,E);var w=o(S,"from",0),M=o(S,"to",1),R=[{value:w}],O=o(S,"delay",E.delay),b=o(S,"easeParams",E.easeParams),A=o(S,"ease",E.ease),I=f("value",M),L=new g(C,R),F=L.add(0,"value",I.getEnd,I.getStart,I.getActive,l(o(S,"ease",A),o(S,"easeParams",b)),d(S,"delay",O),o(S,"duration",E.duration),u(S,"yoyo",E.yoyo),o(S,"hold",E.hold),o(S,"repeat",E.repeat),o(S,"repeatDelay",E.repeatDelay),!1,!1);F.start=w,F.current=w,L.completeDelay=c(S,"completeDelay",0),L.loop=Math.round(c(S,"loop",0)),L.loopDelay=Math.round(c(S,"loopDelay",0)),L.paused=u(S,"paused",!1),L.persist=u(S,"persist",!1),L.isNumberTween=!0,L.callbackScope=v(S,"callbackScope",L);for(var D=h.TYPES,B=0;B<D.length;B++){var V=D[B],U=v(S,V,!1);if(U){var W=v(S,V+"Params",[]);L.setCallback(V,U,W)}}return L},"NumberTweenBuilder");n.exports=y}),93109:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6113),m=i(35154),c=i(36383),u=r(function(l,o){o===void 0&&(o={});var d,v=m(o,"start",0),f=m(o,"ease",null),p=m(o,"grid",null),g=m(o,"from",0),y=g==="first",C=g==="center",S=g==="last",E=typeof g=="number",w=Array.isArray(l),M=parseFloat(w?l[0]:l),R=w?parseFloat(l[1]):0,O=Math.max(M,R);if(w&&(v+=M),p){var b=p[0],A=p[1],I=0,L=0,F=0,D=0,B=[];S?(I=b-1,L=A-1):E?(I=g%b,L=Math.floor(g/b)):C&&(I=(b-1)/2,L=(A-1)/2);for(var V=c.MIN_SAFE_INTEGER,U=0;U<A;U++){B[U]=[];for(var W=0;W<b;W++){F=I-W,D=L-U;var Y=Math.sqrt(F*F+D*D);Y>V&&(V=Y),B[U][W]=Y}}}var N=f?h(f):null;return p?d=r(function(z,G,X,k){var H=0,$=k%b,K=Math.floor(k/b);$>=0&&$<b&&K>=0&&K<A&&(H=B[K][$]);var Z;if(w){var J=R-M;N?Z=H/V*J*N(H/V):Z=H/V*J}else N?Z=H*M*N(H/V):Z=H*M;return Z+v},"result"):d=r(function(z,G,X,k,H){H--;var $;y?$=k:C?$=Math.abs(H/2-k):S?$=H-k:E&&($=Math.abs(g-k));var K;if(w){var Z;C?Z=(R-M)/H*($*2):Z=(R-M)/H*$,N?K=Z*N($/H):K=Z}else N?K=H*O*N($/H):K=$*M;return K+v},"result"),d},"StaggerBuilder");n.exports=u}),8357:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70402),m=i(69902),c=i(23568),u=i(57355),l=i(6113),o=i(95540),d=i(91389),v=i(55292),f=i(82985),p=i(62329),g=i(35154),y=i(17777),C=i(269),S=i(86081),E=r(function(w,M,R){if(M instanceof S)return M.parent=w,M;R===void 0?R=m:R=C(m,R);var O=p(M);!O&&R.targets&&(O=R.targets);for(var b=f(M),A=o(M,"delay",R.delay),I=o(M,"duration",R.duration),L=o(M,"easeParams",R.easeParams),F=o(M,"ease",R.ease),D=o(M,"hold",R.hold),B=o(M,"repeat",R.repeat),V=o(M,"repeatDelay",R.repeatDelay),U=u(M,"yoyo",R.yoyo),W=u(M,"flipX",R.flipX),Y=u(M,"flipY",R.flipY),N=o(M,"interpolation",R.interpolation),z=r(function(Q,tt,st,_){if(st==="texture"){var ot=_,ht=void 0;Array.isArray(_)?(ot=_[0],ht=_[1]):_.hasOwnProperty("value")?(ot=_.value,Array.isArray(_.value)?(ot=_.value[0],ht=_.value[1]):typeof _.value=="string"&&(ot=_.value)):typeof _=="string"&&(ot=_),Q.addFrame(tt,ot,ht,v(_,"delay",A),o(_,"duration",I),o(_,"hold",D),o(_,"repeat",B),o(_,"repeatDelay",V),u(_,"flipX",W),u(_,"flipY",Y))}else{var lt=y(st,_),et=d(o(_,"interpolation",N));Q.add(tt,st,lt.getEnd,lt.getStart,lt.getActive,l(o(_,"ease",F),o(_,"easeParams",L)),v(_,"delay",A),o(_,"duration",I),u(_,"yoyo",U),o(_,"hold",D),o(_,"repeat",B),o(_,"repeatDelay",V),u(_,"flipX",W),u(_,"flipY",Y),et,et?_:null)}},"addTarget"),G=new S(w,O),X=0;X<b.length;X++)for(var k=b[X].key,H=b[X].value,$=0;$<O.length;$++)k==="scale"&&!O[$].hasOwnProperty("scale")?(z(G,$,"scaleX",H),z(G,$,"scaleY",H)):z(G,$,k,H);G.completeDelay=c(M,"completeDelay",0),G.loop=Math.round(c(M,"loop",0)),G.loopDelay=Math.round(c(M,"loopDelay",0)),G.paused=u(M,"paused",!1),G.persist=u(M,"persist",!1),G.callbackScope=o(M,"callbackScope",G);for(var K=h.TYPES,Z=0;Z<K.length;Z++){var J=K[Z],j=g(M,J,!1);if(j){var q=g(M,J+"Params",[]);G.setCallback(J,j,q)}}return G},"TweenBuilder");n.exports=E}),26012:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70402),m=i(23568),c=i(57355),u=i(62329),l=i(35154),o=i(8357),d=i(43960),v=r(function(f,p){if(p instanceof d)return p.parent=f,p;var g=new d(f);g.startDelay=l(p,"delay",0),g.completeDelay=m(p,"completeDelay",0),g.loop=Math.round(m(p,"loop",l(p,"repeat",0))),g.loopDelay=Math.round(m(p,"loopDelay",l(p,"repeatDelay",0))),g.paused=c(p,"paused",!1),g.persist=c(p,"persist",!1),g.callbackScope=l(p,"callbackScope",g);var y,C=h.TYPES;for(y=0;y<C.length;y++){var S=C[y],E=l(p,S,!1);if(E){var w=l(p,S+"Params",[]);g.setCallback(S,E,w)}}var M=l(p,"tweens",null);if(Array.isArray(M)){var R=[],O=u(p),b=void 0;for(O&&(b={targets:O}),y=0;y<M.length;y++)R.push(o(g,M[y],b));g.add(R)}return g},"TweenChainBuilder");n.exports=v}),30231:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}}),73685:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"}),98540:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"}),67233:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"}),2859:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"}),98336:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"}),25764:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"}),32193:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"}),84371:(n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"}),70766:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"}),55659:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"}),842:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}}),43066:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};n.exports=h}),70402:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(50792),c=i(842),u=i(86353),l=new h({Extends:m,initialize:r(function(d){m.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=u.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},"BaseTween"),setTimeScale:r(function(o){return this.timeScale=o,this},"setTimeScale"),getTimeScale:r(function(){return this.timeScale},"getTimeScale"),isPlaying:r(function(){return!this.paused&&this.isActive()},"isPlaying"),isPaused:r(function(){return this.paused},"isPaused"),pause:r(function(){return this.paused||(this.paused=!0,this.dispatchEvent(c.TWEEN_PAUSE,"onPause")),this},"pause"),resume:r(function(){return this.paused&&(this.paused=!1,this.dispatchEvent(c.TWEEN_RESUME,"onResume")),this},"resume"),makeActive:r(function(){this.parent.makeActive(this),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")},"makeActive"),onCompleteHandler:r(function(){this.setPendingRemoveState(),this.dispatchEvent(c.TWEEN_COMPLETE,"onComplete")},"onCompleteHandler"),complete:r(function(o){return o===void 0&&(o=0),o?(this.setCompleteDelayState(),this.countdown=o):this.onCompleteHandler(),this},"complete"),completeAfterLoop:r(function(o){return o===void 0&&(o=0),this.loopCounter>o&&(this.loopCounter=o),this},"completeAfterLoop"),remove:r(function(){return this.parent&&this.parent.remove(this),this},"remove"),stop:r(function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(c.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},"stop"),updateLoopCountdown:r(function(o){this.countdown-=o,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"))},"updateLoopCountdown"),updateStartCountdown:r(function(o){return this.countdown-=o,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(c.TWEEN_START,"onStart"),o=0),o},"updateStartCountdown"),updateCompleteDelay:r(function(o){this.countdown-=o,this.countdown<=0&&this.onCompleteHandler()},"updateCompleteDelay"),setCallback:r(function(o,d,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(o)&&(this.callbacks[o]={func:d,params:v}),this},"setCallback"),setPendingState:r(function(){this.state=u.PENDING},"setPendingState"),setActiveState:r(function(){this.state=u.ACTIVE,this.hasStarted=!1},"setActiveState"),setLoopDelayState:r(function(){this.state=u.LOOP_DELAY},"setLoopDelayState"),setCompleteDelayState:r(function(){this.state=u.COMPLETE_DELAY},"setCompleteDelayState"),setStartDelayState:r(function(){this.state=u.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},"setStartDelayState"),setPendingRemoveState:r(function(){this.state=u.PENDING_REMOVE},"setPendingRemoveState"),setRemovedState:r(function(){this.state=u.REMOVED},"setRemovedState"),setFinishedState:r(function(){this.state=u.FINISHED},"setFinishedState"),setDestroyedState:r(function(){this.state=u.DESTROYED},"setDestroyedState"),isPending:r(function(){return this.state===u.PENDING},"isPending"),isActive:r(function(){return this.state===u.ACTIVE},"isActive"),isLoopDelayed:r(function(){return this.state===u.LOOP_DELAY},"isLoopDelayed"),isCompleteDelayed:r(function(){return this.state===u.COMPLETE_DELAY},"isCompleteDelayed"),isStartDelayed:r(function(){return this.state===u.START_DELAY},"isStartDelayed"),isPendingRemove:r(function(){return this.state===u.PENDING_REMOVE},"isPendingRemove"),isRemoved:r(function(){return this.state===u.REMOVED},"isRemoved"),isFinished:r(function(){return this.state===u.FINISHED},"isFinished"),isDestroyed:r(function(){return this.state===u.DESTROYED},"isDestroyed"),destroy:r(function(){this.data&&this.data.forEach(function(o){o.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()},"destroy")});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=l}),95042:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),m=i(842),c=i(86353),u=new h({initialize:r(function(o,d,v,f,p,g,y,C,S,E){this.tween=o,this.targetIndex=d,this.duration=f<=0?.01:f,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=p,this.hold=g,this.repeat=y,this.repeatDelay=C,this.repeatCounter=0,this.flipX=S,this.flipY=E,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},"BaseTweenData"),getTarget:r(function(){return this.tween.targets[this.targetIndex]},"getTarget"),setTargetValue:r(function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},"setTargetValue"),setCreatedState:r(function(){this.state=c.CREATED,this.isCountdown=!1},"setCreatedState"),setDelayState:r(function(){this.state=c.DELAY,this.isCountdown=!0},"setDelayState"),setPendingRenderState:r(function(){this.state=c.PENDING_RENDER,this.isCountdown=!1},"setPendingRenderState"),setPlayingForwardState:r(function(){this.state=c.PLAYING_FORWARD,this.isCountdown=!1},"setPlayingForwardState"),setPlayingBackwardState:r(function(){this.state=c.PLAYING_BACKWARD,this.isCountdown=!1},"setPlayingBackwardState"),setHoldState:r(function(){this.state=c.HOLD_DELAY,this.isCountdown=!0},"setHoldState"),setRepeatState:r(function(){this.state=c.REPEAT_DELAY,this.isCountdown=!0},"setRepeatState"),setCompleteState:r(function(){this.state=c.COMPLETE,this.isCountdown=!1},"setCompleteState"),isCreated:r(function(){return this.state===c.CREATED},"isCreated"),isDelayed:r(function(){return this.state===c.DELAY},"isDelayed"),isPendingRender:r(function(){return this.state===c.PENDING_RENDER},"isPendingRender"),isPlayingForward:r(function(){return this.state===c.PLAYING_FORWARD},"isPlayingForward"),isPlayingBackward:r(function(){return this.state===c.PLAYING_BACKWARD},"isPlayingBackward"),isHolding:r(function(){return this.state===c.HOLD_DELAY},"isHolding"),isRepeating:r(function(){return this.state===c.REPEAT_DELAY},"isRepeating"),isComplete:r(function(){return this.state===c.COMPLETE},"isComplete"),setStateFromEnd:r(function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},"setStateFromEnd"),setStateFromStart:r(function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},"setStateFromStart"),reset:r(function(){var l=this.tween,o=l.totalTargets,d=this.targetIndex,v=l.targets[d],f=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,f,0,d,o,l),this.repeatCounter=this.repeat===-1?c.MAX:this.repeat,this.setPendingRenderState();var p=this.duration+this.hold;this.yoyo&&(p+=this.duration);var g=p+this.repeatDelay;this.totalDuration=this.delay+p,this.repeat===-1?(this.totalDuration+=g*c.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=g*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},"reset"),onRepeat:r(function(l,o,d){var v=this.tween,f=v.totalTargets,p=this.targetIndex,g=v.targets[p],y=this.key,C=y!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&g.toggleFlipX(),this.flipY&&g.toggleFlipY(),C&&(o||d)&&(this.start=this.getStartValue(g,y,this.start,p,f,v)),d){this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,C&&(this.end=this.getEndValue(g,y,this.start,p,f,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,C&&(this.current=this.start,g[y]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat"))},"onRepeat"),destroy:r(function(){this.tween=null,this.getDelay=null,this.setCompleteState()},"destroy")});n.exports=u}),69902:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=T}),81076:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]}),86081:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70402),m=i(83419),c=i(842),u=i(44603),l=i(39429),o=i(36383),d=i(86353),v=i(48177),f=i(42220),p=new m({Extends:h,initialize:r(function(y,C){h.call(this,y),this.targets=C,this.totalTargets=C.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},"Tween"),add:r(function(g,y,C,S,E,w,M,R,O,b,A,I,L,F,D,B){var V=new v(this,g,y,C,S,E,w,M,R,O,b,A,I,L,F,D,B);return this.totalData=this.data.push(V),V},"add"),addFrame:r(function(g,y,C,S,E,w,M,R,O,b){var A=new f(this,g,y,C,S,E,w,M,R,O,b);return this.totalData=this.data.push(A),A},"addFrame"),getValue:r(function(g){g===void 0&&(g=0);var y=null;return this.data&&(y=this.data[g].current),y},"getValue"),hasTarget:r(function(g){return this.targets&&this.targets.indexOf(g)!==-1},"hasTarget"),updateTo:r(function(g,y,C){if(C===void 0&&(C=!1),g!=="texture")for(var S=0;S<this.totalData;S++){var E=this.data[S];E.key===g&&(E.isPlayingForward()||E.isPlayingBackward())&&(E.end=y,C&&(E.start=E.current))}return this},"updateTo"),restart:r(function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},"restart"),nextState:r(function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},"nextState"),onCompleteHandler:r(function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},"onCompleteHandler"),play:r(function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},"play"),seek:r(function(g,y,C){if(g===void 0&&(g=0),y===void 0&&(y=16.6),C===void 0&&(C=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;C||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive");var S=this.paused;if(this.paused=!1,g>0){for(var E=Math.floor(g/y),w=g-E*y,M=0;M<E;M++)this.update(y);w>0&&this.update(w)}return this.paused=S,this.isSeeking=!1,this},"seek"),initTweenData:r(function(g){g===void 0&&(g=!1),this.duration=0,this.startDelay=o.MAX_SAFE_INTEGER;for(var y=this.data,C=0;C<this.totalData;C++)y[C].reset(g);this.duration=Math.max(this.duration,.01);var S=this.duration,E=this.completeDelay,w=this.loopCounter,M=this.loopDelay;w>0?this.totalDuration=S+E+(S+M)*w:this.totalDuration=S+E},"initTweenData"),reset:r(function(g){return g===void 0&&(g=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=d.MAX),g||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")),this},"reset"),update:r(function(g){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(g*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(g),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(g),!1;this.hasStarted||(this.startDelay-=g,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(c.TWEEN_START,"onStart"),g=0));var y=!1;if(this.isActive())for(var C=this.data,S=0;S<this.totalData;S++)C[S].update(g)&&(y=!0);this.elapsed+=g,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=g,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),y||this.nextState();var E=this.isPendingRemove();return E&&this.persist&&(this.setFinishedState(),E=!1),E},"update"),forward:r(function(g){return this.update(g),this},"forward"),rewind:r(function(g){return this.update(-g),this},"rewind"),dispatchEvent:r(function(g,y){if(!this.isSeeking){if(this.emit(g,this,this.targets),!this.callbacks)return;var C=this.callbacks[y];C&&C.func.apply(this.callbackScope,[this,this.targets].concat(C.params))}},"dispatchEvent"),destroy:r(function(){h.prototype.destroy.call(this),this.targets=null},"destroy")});l.register("tween",function(g){return this.scene.sys.tweens.add(g)}),u.register("tween",function(g){return this.scene.sys.tweens.create(g)}),n.exports=p}),43960:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(72905),m=i(70402),c=i(83419),u=i(842),l=i(44603),o=i(39429),d=i(86353),v=new c({Extends:m,initialize:r(function(p){m.call(this,p),this.currentTween=null,this.currentIndex=0},"TweenChain"),init:r(function(){return this.loopCounter=this.loop===-1?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},"init"),add:r(function(f){var p=this.parent.create(f);Array.isArray(p)||(p=[p]);for(var g=this.data,y=0;y<p.length;y++){var C=p[y];C.parent=this,g.push(C.reset())}return this.totalData=g.length,this},"add"),remove:r(function(f){return h(this.data,f),f.setRemovedState(),f===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},"remove"),hasTarget:r(function(f){for(var p=this.data,g=0;g<this.totalData;g++)if(p[g].hasTarget(f))return!0;return!1},"hasTarget"),restart:r(function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},"restart"),reset:r(function(f){return f.seek(),f.setActiveState(),this},"reset"),makeActive:r(function(f){return f.reset(),f.setActiveState(),this},"makeActive"),nextState:r(function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},"nextState"),play:r(function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},"play"),resetTweens:r(function(){for(var f=this.data,p=this.totalData,g=0;g<p;g++)f[g].reset(!1);this.setCurrentTween(0)},"resetTweens"),update:r(function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(f*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(u.TWEEN_START,"onStart"),f=0));var p=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(f)&&this.nextTween()&&this.nextState(),p=this.isPendingRemove(),p&&this.persist&&(this.setFinishedState(),p=!1)),p},"update"),nextTween:r(function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},"nextTween"),setCurrentTween:r(function(f){this.currentIndex=f,this.currentTween=this.data[f],this.currentTween.setActiveState()},"setCurrentTween"),dispatchEvent:r(function(f,p){this.emit(f,this);var g=this.callbacks[p];g&&g.func.apply(this.callbackScope,[this].concat(g.params))},"dispatchEvent"),destroy:r(function(){m.prototype.destroy.call(this),this.currentTween=null},"destroy")});o.register("tweenchain",function(f){return this.scene.sys.tweens.chain(f)}),l.register("tweenchain",function(f){return this.scene.sys.tweens.create(f)}),n.exports=v}),48177:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95042),m=i(45319),c=i(83419),u=i(842),l=new c({Extends:h,initialize:r(function(d,v,f,p,g,y,C,S,E,w,M,R,O,b,A,I,L){h.call(this,d,v,S,E,w,M,R,O,b,A),this.key=f,this.getActiveValue=y,this.getEndValue=p,this.getStartValue=g,this.ease=C,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=I,this.interpolationData=L},"TweenData"),reset:r(function(o){h.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],v=this.key;o&&(d[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[v]=this.getActiveValue(d,v,0))},"reset"),update:r(function(o){var d=this.tween,v=d.totalTargets,f=this.targetIndex,p=d.targets[f],g=this.key;if(!p)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(p,g,p[g],f,v,d),this.end=this.getEndValue(p,g,this.start,f,v,d),this.current=this.start,p[g]=this.start,this.setPlayingForwardState(),!0;var y=this.isPlayingForward(),C=this.isPlayingBackward();if(y||C){var S=this.elapsed,E=this.duration,w=0,M=!1;S+=o,S>=E?(w=S-E,S=E,M=!0):S<0&&(S=0);var R=m(S/E,0,1);this.elapsed=S,this.progress=R,this.previous=this.current,y||(R=1-R);var O=this.ease(R);this.interpolation?this.current=this.interpolation(this.interpolationData,O):this.current=this.start+(this.end-this.start)*O,p[g]=this.current,M&&(y?(d.isNumberTween&&(this.current=this.end,p[g]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(w)):(d.isNumberTween&&(this.current=this.start,p[g]=this.current),this.setStateFromStart(w))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},"update"),dispatchEvent:r(function(o,d){var v=this.tween;if(!v.isSeeking){var f=v.targets[this.targetIndex],p=this.key,g=this.current,y=this.previous;v.emit(o,v,p,f,g,y);var C=v.callbacks[d];C&&C.func.apply(v.callbackScope,[v,f,p,g,y].concat(C.params))}},"dispatchEvent"),destroy:r(function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null},"destroy")});n.exports=l}),42220:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95042),m=i(45319),c=i(83419),u=i(842),l=new c({Extends:h,initialize:r(function(d,v,f,p,g,y,C,S,E,w,M){h.call(this,d,v,g,y,!1,C,S,E,w,M),this.key="texture",this.startTexture=null,this.endTexture=f,this.startFrame=null,this.endFrame=p,this.yoyo=S!==0},"TweenFrameData"),reset:r(function(o){h.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),o&&d.setTexture(this.startTexture,this.startFrame)},"reset"),update:r(function(o){var d=this.tween,v=this.targetIndex,f=d.targets[v];if(!f)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&f.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var p=this.isPlayingForward(),g=this.isPlayingBackward();if(p||g){var y=this.elapsed,C=this.duration,S=0,E=!1;y+=o,y>=C?(S=y-C,y=C,E=!0):y<0&&(y=0);var w=m(y/C,0,1);this.elapsed=y,this.progress=w,E&&(p?(f.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(S)):(f.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(S))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},"update"),dispatchEvent:r(function(o,d){var v=this.tween;if(!v.isSeeking){var f=v.targets[this.targetIndex],p=this.key;v.emit(o,v,p,f);var g=v.callbacks[d];g&&g.func.apply(v.callbackScope,[v,f,p].concat(g.params))}},"dispatchEvent"),destroy:r(function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null},"destroy")});n.exports=l}),86353:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=T}),83419:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}r(T,"hasGetterOrSetter");function i(l,o,d){var v=d?l[o]:Object.getOwnPropertyDescriptor(l,o);return!d&&v.value&&typeof v.value=="object"&&(v=v.value),v&&T(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}r(i,"getProperty");function h(l,o){var d=Object.getOwnPropertyDescriptor(l,o);return d?(d.value&&typeof d.value=="object"&&(d=d.value),d.configurable===!1):!1}r(h,"hasNonConfigurable");function m(l,o,d,v){for(var f in o)if(o.hasOwnProperty(f)){var p=i(o,f,d);if(p!==!1){var g=v||l;if(h(g.prototype,f)){if(u.ignoreFinals)continue;throw new Error("cannot override final property '"+f+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,f,p)}else l.prototype[f]=o[f]}}r(m,"extend");function c(l,o){if(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++)m(l,o[d].prototype||o[d])}}r(c,"mixin");function u(l){l||(l={});var o,d;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");o=l.initialize,delete l.initialize}else if(l.Extends){var v=l.Extends;o=r(function(){v.apply(this,arguments)},"initialize")}else o=r(function(){},"initialize");l.Extends?(o.prototype=Object.create(l.Extends.prototype),o.prototype.constructor=o,d=l.Extends,delete l.Extends):o.prototype.constructor=o;var f=null;return l.Mixins&&(f=l.Mixins,delete l.Mixins),c(o,f),m(o,l,!0,d),o}r(u,"Class"),u.extend=m,u.mixin=c,u.ignoreFinals=!1,n.exports=u}),29747:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){},"NOOP");n.exports=T}),20242:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){return null},"NULL");n.exports=T}),71146:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u){if(u===void 0&&(u=i),m>0){var l=m-i.length;if(l<=0)return null}if(!Array.isArray(h))return i.indexOf(h)===-1?(i.push(h),c&&c.call(u,h),h):null;for(var o=h.length-1;o>=0;)i.indexOf(h[o])!==-1&&h.splice(o,1),o--;if(o=h.length,o===0)return null;m>0&&o>l&&(h.splice(l),o=l);for(var d=0;d<o;d++){var v=h[d];i.push(v),c&&c.call(u,v)}return h},"Add");n.exports=T}),51067:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c,u,l){if(m===void 0&&(m=0),l===void 0&&(l=i),c>0){var o=c-i.length;if(o<=0)return null}if(!Array.isArray(h))return i.indexOf(h)===-1?(i.splice(m,0,h),u&&u.call(l,h),h):null;for(var d=h.length-1;d>=0;)i.indexOf(h[d])!==-1&&h.pop(),d--;if(d=h.length,d===0)return null;c>0&&d>o&&(h.splice(o),d=o);for(var v=d-1;v>=0;v--){var f=h[v];i.splice(m,0,f),u&&u.call(l,f)}return h},"AddAt");n.exports=T}),66905:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.indexOf(h);return m!==-1&&m<i.length&&(i.splice(m,1),i.push(h)),h},"BringToTop");n.exports=T}),21612:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),m=r(function(c,u,l,o,d){o===void 0&&(o=0),d===void 0&&(d=c.length);var v=0;if(h(c,o,d))for(var f=o;f<d;f++){var p=c[f];p[u]===l&&v++}return v},"CountAllMatching");n.exports=m}),95428:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c,u=[null];for(c=3;c<arguments.length;c++)u.push(arguments[c]);for(c=0;c<i.length;c++)u[0]=i[c],h.apply(m,u);return i},"Each");n.exports=T}),36914:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),m=r(function(c,u,l,o,d){if(o===void 0&&(o=0),d===void 0&&(d=c.length),h(c,o,d)){var v,f=[null];for(v=5;v<arguments.length;v++)f.push(arguments[v]);for(v=o;v<d;v++)f[0]=c[v],u.apply(l,f)}return c},"EachInRange");n.exports=m}),81957:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(h.length){if(h.length===1)return h[0]}else return NaN;var c=1,u,l;if(m){if(i<h[0][m])return h[0];for(;h[c][m]<i;)c++}else for(;h[c]<i;)c++;return c>h.length&&(c=h.length),m?(u=h[c-1][m],l=h[c][m],l-i<=i-u?h[c]:h[c-1]):(u=h[c-1],l=h[c],l-i<=i-u?l:u)},"FindClosestInSorted");n.exports=T}),43491:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h=[]);for(var m=0;m<i.length;m++)Array.isArray(i[m])?T(i[m],h):h.push(i[m]);return h},"Flatten");n.exports=T}),46710:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),m=r(function(c,u,l,o,d){o===void 0&&(o=0),d===void 0&&(d=c.length);var v=[];if(h(c,o,d))for(var f=o;f<d;f++){var p=c[f];(!u||u&&l===void 0&&p.hasOwnProperty(u)||u&&l!==void 0&&p[u]===l)&&v.push(p)}return v},"GetAll");n.exports=m}),58731:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),m=r(function(c,u,l,o,d){if(o===void 0&&(o=0),d===void 0&&(d=c.length),o!==-1){if(h(c,o,d))for(var v=o;v<d;v++){var f=c[v];if(!u||u&&l===void 0&&f.hasOwnProperty(u)||u&&l!==void 0&&f[u]===l)return f}}else if(h(c,0,d))for(var v=d;v>=0;v--){var f=c[v];if(!u||u&&l===void 0&&f.hasOwnProperty(u)||u&&l!==void 0&&f[u]===l)return f}return null},"GetFirst");n.exports=m}),26546:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){h===void 0&&(h=0),m===void 0&&(m=i.length);var c=h+Math.floor(Math.random()*m);return i[c]===void 0?null:i[c]},"GetRandom");n.exports=T}),85835:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(h===m)return i;var c=i.indexOf(h),u=i.indexOf(m);if(c<0||u<0)throw new Error("Supplied items must be elements of the same array");return c>u||(i.splice(c,1),u=i.indexOf(m),i.splice(u+1,0,h)),i},"MoveAbove");n.exports=T}),83371:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(h===m)return i;var c=i.indexOf(h),u=i.indexOf(m);if(c<0||u<0)throw new Error("Supplied items must be elements of the same array");return c<u||(i.splice(c,1),u===0?i.unshift(h):i.splice(u,0,h)),i},"MoveBelow");n.exports=T}),70864:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.indexOf(h);if(m>0){var c=i[m-1],u=i.indexOf(c);i[m]=c,i[u]=h}return i},"MoveDown");n.exports=T}),69693:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=i.indexOf(h);if(c===-1||m<0||m>=i.length)throw new Error("Supplied index out of bounds");return c!==m&&(i.splice(c,1),i.splice(m,0,h)),h},"MoveTo");n.exports=T}),40853:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.indexOf(h);if(m!==-1&&m<i.length-1){var c=i[m+1],u=i.indexOf(c);i[m]=c,i[u]=h}return i},"MoveUp");n.exports=T}),20283:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=[],l,o=!1;if((m||c)&&(o=!0,m||(m=""),c||(c="")),h<i)for(l=i;l>=h;l--)o?u.push(m+l.toString()+c):u.push(l);else for(l=i;l<=h;l++)o?u.push(m+l.toString()+c):u.push(l);return u},"NumberArray");n.exports=T}),593:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2284),m=r(function(c,u,l){c===void 0&&(c=0),u===void 0&&(u=null),l===void 0&&(l=1),u===null&&(u=c,c=0);for(var o=[],d=Math.max(h((u-c)/(l||1)),0),v=0;v<d;v++)o.push(c),c+=l;return o},"NumberArrayStep");n.exports=m}),43886:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(m,c,u){var l=m[c];m[c]=m[u],m[u]=l}r(T,"swap");function i(m,c){return m<c?-1:m>c?1:0}r(i,"defaultCompare");var h=r(function(m,c,u,l,o){for(u===void 0&&(u=0),l===void 0&&(l=m.length-1),o===void 0&&(o=i);l>u;){if(l-u>600){var d=l-u+1,v=c-u+1,f=Math.log(d),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(d-p)/d)*(v-d/2<0?-1:1),y=Math.max(u,Math.floor(c-v*p/d+g)),C=Math.min(l,Math.floor(c+(d-v)*p/d+g));h(m,c,y,C,o)}var S=m[c],E=u,w=l;for(T(m,u,c),o(m[l],S)>0&&T(m,u,l);E<w;){for(T(m,E,w),E++,w--;o(m[E],S)<0;)E++;for(;o(m[w],S)>0;)w--}o(m[u],S)===0?T(m,u,w):(w++,T(m,w,l)),w<=c&&(u=w+1),c<=w&&(l=w-1)}},"QuickSelect");n.exports=h}),88492:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),m=i(33680),c=r(function(l,o,d){for(var v=[],f=0;f<l.length;f++)for(var p=0;p<o.length;p++)for(var g=0;g<d;g++)v.push({a:l[f],b:o[p]});return v},"BuildChunk"),u=r(function(l,o,d){var v=h(d,"max",0),f=h(d,"qty",1),p=h(d,"random",!1),g=h(d,"randomB",!1),y=h(d,"repeat",0),C=h(d,"yoyo",!1),S=[];if(g&&m(o),y===-1)if(v===0)y=0;else{var E=l.length*o.length*f;C&&(E*=2),y=Math.ceil(v/E)}for(var w=0;w<=y;w++){var M=c(l,o,f);p&&m(M),S=S.concat(M),C&&(M.reverse(),S=S.concat(M))}return v&&S.splice(v),S},"Range");n.exports=u}),72905:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19133),m=r(function(c,u,l,o){o===void 0&&(o=c);var d;if(!Array.isArray(u))return d=c.indexOf(u),d!==-1?(h(c,d),l&&l.call(o,u),u):null;for(var v=u.length-1,f=[];v>=0;){var p=u[v];d=c.indexOf(p),d!==-1&&(h(c,d),f.push(p),l&&l.call(o,p)),v--}return f},"Remove");n.exports=m}),60248:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19133),m=r(function(c,u,l,o){if(o===void 0&&(o=c),u<0||u>c.length-1)throw new Error("Index out of bounds");var d=h(c,u);return l&&l.call(o,d),d},"RemoveAt");n.exports=m}),81409:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),m=r(function(c,u,l,o,d){if(u===void 0&&(u=0),l===void 0&&(l=c.length),d===void 0&&(d=c),h(c,u,l)){var v=l-u,f=c.splice(u,v);if(o)for(var p=0;p<f.length;p++){var g=f[p];o.call(d,g)}return f}else return[]},"RemoveBetween");n.exports=m}),31856:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19133),m=r(function(c,u,l){u===void 0&&(u=0),l===void 0&&(l=c.length);var o=u+Math.floor(Math.random()*l);return h(c,o)},"RemoveRandomElement");n.exports=m}),42169:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=i.indexOf(h),u=i.indexOf(m);return c!==-1&&u===-1?(i[c]=m,!0):!1},"Replace");n.exports=T}),86003:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h=1);for(var m=null,c=0;c<h;c++)m=i.shift(),i.push(m);return m},"RotateLeft");n.exports=T}),49498:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){h===void 0&&(h=1);for(var m=null,c=0;c<h;c++)m=i.pop(),i.unshift(m);return m},"RotateRight");n.exports=T}),82011:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){var u=i.length;if(h<0||h>=u||h>=m||m>u){if(c)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0},"SafeRange");n.exports=T}),89545:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){var m=i.indexOf(h);return m!==-1&&m>0&&(i.splice(m,1),i.unshift(h)),h},"SendToBack");n.exports=T}),17810:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),m=r(function(c,u,l,o,d){if(o===void 0&&(o=0),d===void 0&&(d=c.length),h(c,o,d))for(var v=o;v<d;v++){var f=c[v];f.hasOwnProperty(u)&&(f[u]=l)}return c},"SetAll");n.exports=m}),33680:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var h=i.length-1;h>0;h--){var m=Math.floor(Math.random()*(h+1)),c=i[h];i[h]=i[m],i[m]=c}return i},"Shuffle");n.exports=T}),90126:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h=/\D/g;return i.sort(function(m,c){return parseInt(m.replace(h,""),10)-parseInt(c.replace(h,""),10)}),i},"SortByDigits");n.exports=T}),19133:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){if(!(h>=i.length)){for(var m=i.length-1,c=i[h],u=h;u<m;u++)i[u]=i[u+1];return i.length=m,c}},"SpliceOne");n.exports=T}),19186:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82264);function m(o,d){return String(o).localeCompare(d)}r(m,"Compare");function c(o,d){var v=o.length;if(v<=1)return o;for(var f=new Array(v),p=1;p<v;p*=2){u(o,d,p,f);var g=o;o=f,f=g}return o}r(c,"Process");function u(o,d,v,f){var p=o.length,g=0,y=v*2,C,S,E,w,M;for(C=0;C<p;C+=y)for(S=C+v,E=S+v,S>p&&(S=p),E>p&&(E=p),w=C,M=S;;)if(w<S&&M<E)d(o[w],o[M])<=0?f[g++]=o[w++]:f[g++]=o[M++];else if(w<S)f[g++]=o[w++];else if(M<E)f[g++]=o[M++];else break}r(u,"RunPass");var l=r(function(o,d){if(d===void 0&&(d=m),!o||o.length<2)return o;if(h.features.stableSort)return o.sort(d);var v=c(o,d);return v!==o&&u(v,null,o.length,o),o},"StableSort");n.exports=l}),25630:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(h===m)return i;var c=i.indexOf(h),u=i.indexOf(m);if(c<0||u<0)throw new Error("Supplied items must be elements of the same array");return i[c]=m,i[u]=h,i},"Swap");n.exports=T}),37105:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}}),86922:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){if(!Array.isArray(i)||!Array.isArray(i[0]))return!1;for(var h=i[0].length,m=1;m<i.length;m++)if(i[m].length!==h)return!1;return!0},"CheckMatrix");n.exports=T}),63362:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41836),m=i(86922),c=r(function(u){var l="";if(!m(u))return l;for(var o=0;o<u.length;o++){for(var d=0;d<u[o].length;d++){var v=u[o][d].toString();v!=="undefined"?l+=h(v,2):l+="?",d<u[o].length-1&&(l+=" |")}if(o<u.length-1){l+=`
`;for(var f=0;f<u[o].length;f++)l+="---",f<u[o].length-1&&(l+="+");l+=`
`}}return l},"MatrixToString");n.exports=c}),92598:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.reverse()},"ReverseColumns");n.exports=T}),21224:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var h=0;h<i.length;h++)i[h].reverse();return i},"ReverseRows");n.exports=T}),98717:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37829),m=r(function(c){return h(c,180)},"Rotate180");n.exports=m}),44657:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37829),m=r(function(c,u){u===void 0&&(u=1);for(var l=0;l<u;l++)c=h(c,90);return c},"RotateLeft");n.exports=m}),37829:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(86922),m=i(2429),c=r(function(u,l){if(l===void 0&&(l=90),!h(u))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")u=m(u),u.reverse();else if(l===-90||l===270||l==="rotateRight")u.reverse(),u=m(u);else if(Math.abs(l)===180||l==="rotate180"){for(var o=0;o<u.length;o++)u[o].reverse();u.reverse()}return u},"RotateMatrix");n.exports=c}),92632:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37829),m=r(function(c,u){u===void 0&&(u=1);for(var l=0;l<u;l++)c=h(c,-90);return c},"RotateRight");n.exports=m}),69512:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(86003),m=i(49498),c=r(function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),o!==0&&(o<0?h(u,Math.abs(o)):m(u,o)),l!==0)for(var d=0;d<u.length;d++){var v=u[d];l<0?h(v,Math.abs(l)):m(v,l)}return u},"TranslateMatrix");n.exports=c}),2429:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var h=i.length,m=i[0].length,c=new Array(m),u=0;u<m;u++){c[u]=new Array(h);for(var l=h-1;l>-1;l--)c[u][l]=i[l][u]}return c},"TransposeMatrix");n.exports=T}),54915:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}}),71334:(n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=r(function(h,m){for(var c=new Uint8Array(h),u=c.length,l=m?"data:"+m+";base64,":"",o=0;o<u;o+=3)l+=T[c[o]>>2],l+=T[(c[o]&3)<<4|c[o+1]>>4],l+=T[(c[o+1]&15)<<2|c[o+2]>>6],l+=T[c[o+2]&63];return u%3===2?l=l.substring(0,l.length-1)+"=":u%3===1&&(l=l.substring(0,l.length-2)+"=="),l},"ArrayBufferToBase64");n.exports=i}),53134:(n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),h=0;h<T.length;h++)i[T.charCodeAt(h)]=h;var m=r(function(c){c=c.substr(c.indexOf(",")+1);var u=c.length,l=u*.75,o=0,d,v,f,p;c[u-1]==="="&&(l--,c[u-2]==="="&&l--);for(var g=new ArrayBuffer(l),y=new Uint8Array(g),C=0;C<u;C+=4)d=i[c.charCodeAt(C)],v=i[c.charCodeAt(C+1)],f=i[c.charCodeAt(C+2)],p=i[c.charCodeAt(C+3)],y[o++]=d<<2|v>>4,y[o++]=(v&15)<<4|f>>2,y[o++]=(f&3)<<6|p&63;return g},"Base64ToArrayBuffer");n.exports=m}),65839:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}}),91799:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}}),41786:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h={};for(var m in i)Array.isArray(i[m])?h[m]=i[m].slice(0):h[m]=i[m];return h},"Clone");n.exports=T}),62644:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var h,m,c;if(typeof i!="object"||i===null)return i;h=Array.isArray(i)?[]:{};for(c in i)m=i[c],h[c]=T(m);return h},"DeepCopy");n.exports=T}),79291:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41212),m=r(function(){var c,u,l,o,d,v,f=arguments[0]||{},p=1,g=arguments.length,y=!1;for(typeof f=="boolean"&&(y=f,f=arguments[1]||{},p=2),g===p&&(f=this,--p);p<g;p++)if((c=arguments[p])!=null)for(u in c)l=f[u],o=c[u],f!==o&&(y&&o&&(h(o)||(d=Array.isArray(o)))?(d?(d=!1,v=l&&Array.isArray(l)?l:[]):v=l&&h(l)?l:{},f[u]=m(y,v,o)):o!==void 0&&(f[u]=o));return f},"Extend");n.exports=m}),23568:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(75508),m=i(35154),c=r(function(u,l,o){var d=m(u,l,null);if(d===null)return o;if(Array.isArray(d))return h.RND.pick(d);if(typeof d=="object"){if(d.hasOwnProperty("randInt"))return h.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return h.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if(typeof d=="function")return d(l);return d},"GetAdvancedValue");n.exports=c}),95540:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){var c=typeof i;return!i||c==="number"||c==="string"?m:i.hasOwnProperty(h)&&i[h]!==void 0?i[h]:m},"GetFastValue");n.exports=T}),82840:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),m=i(45319),c=r(function(u,l,o,d,v){v===void 0&&(v=o);var f=h(u,l,v);return m(f,o,d)},"GetMinMaxValue");n.exports=c}),35154:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){if(!i&&!c||typeof i=="number")return m;if(i&&i.hasOwnProperty(h))return i[h];if(c&&c.hasOwnProperty(h))return c[h];if(h.indexOf(".")!==-1){for(var u=h.split("."),l=i,o=c,d=m,v=m,f=!0,p=!0,g=0;g<u.length;g++)l&&l.hasOwnProperty(u[g])?(d=l[u[g]],l=l[u[g]]):f=!1,o&&o.hasOwnProperty(u[g])?(v=o[u[g]],o=o[u[g]]):p=!1;return f?d:p?v:m}else return m},"GetValue");n.exports=T}),69036:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){for(var m=0;m<h.length;m++)if(!i.hasOwnProperty(h[m]))return!1;return!0},"HasAll");n.exports=T}),1985:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){for(var m=0;m<h.length;m++)if(i.hasOwnProperty(h[m]))return!0;return!1},"HasAny");n.exports=T}),97022:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.hasOwnProperty(h)},"HasValue");n.exports=T}),41212:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){if(!i||typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},"IsPlainObject");n.exports=T}),46975:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41786),m=r(function(c,u){var l=h(c);for(var o in u)l.hasOwnProperty(o)||(l[o]=u[o]);return l},"Merge");n.exports=m}),269:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41786),m=r(function(c,u){var l=h(c);for(var o in u)l.hasOwnProperty(o)&&(l[o]=u[o]);return l},"MergeRight");n.exports=m}),18254:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(97022),m=r(function(c,u){for(var l={},o=0;o<u.length;o++){var d=u[o];h(c,d)&&(l[d]=c[d])}return l},"Pick");n.exports=m}),61622:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(h))return i[h]=m,!0;if(h.indexOf(".")!==-1){for(var c=h.split("."),u=i,l=i,o=0;o<c.length;o++)if(u.hasOwnProperty(c[o]))l=u,u=u[c[o]];else return!1;return l[c[c.length-1]]=m,!0}return!1},"SetValue");n.exports=T}),1183:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}}),27902:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return i.replace(/%([0-9]+)/g,function(m,c){return h[Number(c)-1]})},"Format");n.exports=T}),41836:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h,m,c){h===void 0&&(h=0),m===void 0&&(m=" "),c===void 0&&(c=3),i=i.toString();var u=0;if(h+1>=i.length)switch(c){case 1:i=new Array(h+1-i.length).join(m)+i;break;case 3:var l=Math.ceil((u=h-i.length)/2),o=u-l;i=new Array(o+1).join(m)+i+new Array(l+1).join(m);break;default:i=i+new Array(h+1-i.length).join(m);break}return i},"Pad");n.exports=T}),33628:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,h){return h===0?i.slice(1):i.slice(0,h)+i.slice(h+1)},"RemoveAt");n.exports=T}),27671:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.split("").reverse().join("")},"Reverse");n.exports=T}),45650:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var h=Math.random()*16|0,m=i==="x"?h:h&3|8;return m.toString(16)})},"UUID");n.exports=T}),35355:(n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i&&i[0].toUpperCase()+i.slice(1)},"UppercaseFirst");n.exports=T}),31749:((n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}})},a={};function x(n){var T=a[n];if(T!==void 0)return T.exports;var i=a[n]={exports:{}};return s[n](i,i.exports,x),i.exports}r(x,"__webpack_require__"),x.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();var P=x(85454);return P})())})(wd)),wd.exports}r(T4,"requirePhaser");var S4=T4();const is=Bx(S4),P4=`/*
 * SPDX-FileCopyrightText: 2024-2025 Pagefault Games
 * SPDX-FileContributor: FlashfyreDev
 * SPDX-FileContributor: SirzBenjie
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

precision mediump float;

uniform sampler2D uMainSampler;

varying vec2 outTexCoord;

void main()
{
	gl_FragColor = 1.0 - texture2D(uMainSampler, outTexCoord);
}`,tC=class tC extends is.Renderer.WebGL.Pipelines.PostFXPipeline{constructor(t){super({game:t,name:"InvertPostFX",fragShader:P4,uniforms:["uMainSampler"]})}};r(tC,"InvertPostFX");let lm=tC;const dL="1.11.3",E4={version:dL},M4=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),w4=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),R4=/[-_ ]+/giu,tw="$1\0$2";function Wl(e){let t=e.trim();return t=t.replace(M4,tw).replace(w4,tw),t=t.replace(R4,"\0"),O4(t,"\0").split(/\0/g)}r(Wl,"splitWords");function O4(e,t){let s=0,a=e.length;const x=t.length;for(;e.startsWith(t,s);)s+=x;if(s-a===x)return"";for(;e.endsWith(t,a);)a-=x;return e.slice(s,a)}r(O4,"trimFromStartAndEnd");function Jnt(e){return e.charAt(0).toUpperCase()+e.slice(1)}r(Jnt,"capitalizeFirstLetter");function jnt(e){return Wl(e).map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}r(jnt,"toTitleCase");function Qnt(e){return Wl(e).map((t,s)=>s===0?t.toLowerCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join("")}r(Qnt,"toCamelCase");function qnt(e){return Wl(e).map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join("")}r(qnt,"toPascalCase");function ew(e){return Wl(e).map(t=>t.toLowerCase()).join("-")}r(ew,"toKebabCase");function _nt(e){return Wl(e).map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join("_")}r(_nt,"toPascalSnakeCase");function tat(e,t){const s=Math.ceil(e.length/t),a=new Array(s);for(let x=0;x<s;x++)a[x]=e.substring(x*t,(x+1)*t);return a}r(tat,"chunkString");const pt=r(e=>typeof e=="string","isString"),$o=r(()=>{let e,t;const s=new Promise((a,x)=>{e=a,t=x});return s.resolve=e,s.reject=t,s},"defer"),iw=r(e=>e==null?"":""+e,"makeString"),b4=r((e,t,s)=>{e.forEach(a=>{t[a]&&(s[a]=t[a])})},"copy"),A4=/###/g,sw=r(e=>e&&e.indexOf("###")>-1?e.replace(A4,"."):e,"cleanKey"),rw=r(e=>!e||pt(e),"canNotTraverseDeeper"),wh=r((e,t,s)=>{const a=pt(t)?t.split("."):t;let x=0;for(;x<a.length-1;){if(rw(e))return{};const P=sw(a[x]);!e[P]&&s&&(e[P]=new s),Object.prototype.hasOwnProperty.call(e,P)?e=e[P]:e={},++x}return rw(e)?{}:{obj:e,k:sw(a[x])}},"getLastOfPath"),nw=r((e,t,s)=>{const{obj:a,k:x}=wh(e,t,Object);if(a!==void 0||t.length===1){a[x]=s;return}let P=t[t.length-1],n=t.slice(0,t.length-1),T=wh(e,n,Object);for(;T.obj===void 0&&n.length;)P=`${n[n.length-1]}.${P}`,n=n.slice(0,n.length-1),T=wh(e,n,Object),T?.obj&&typeof T.obj[`${T.k}.${P}`]<"u"&&(T.obj=void 0);T.obj[`${T.k}.${P}`]=s},"setPath"),L4=r((e,t,s,a)=>{const{obj:x,k:P}=wh(e,t,Object);x[P]=x[P]||[],x[P].push(s)},"pushPath"),Id=r((e,t)=>{const{obj:s,k:a}=wh(e,t);if(s&&Object.prototype.hasOwnProperty.call(s,a))return s[a]},"getPath"),F4=r((e,t,s)=>{const a=Id(e,s);return a!==void 0?a:Id(t,s)},"getPathWithDefaults"),fL=r((e,t,s)=>{for(const a in t)a!=="__proto__"&&a!=="constructor"&&(a in e?pt(e[a])||e[a]instanceof String||pt(t[a])||t[a]instanceof String?s&&(e[a]=t[a]):fL(e[a],t[a],s):e[a]=t[a]);return e},"deepExtend"),Sn=r(e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape");var I4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const D4=r(e=>pt(e)?e.replace(/[&<>"'\/]/g,t=>I4[t]):e,"escape"),eC=class eC{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const s=this.regExpMap.get(t);if(s!==void 0)return s;const a=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,a),this.regExpQueue.push(t),a}};r(eC,"RegExpCache");let um=eC;const B4=[" ",",","?","!",";"],G4=new um(20),N4=r((e,t,s)=>{t=t||"",s=s||"";const a=B4.filter(n=>t.indexOf(n)<0&&s.indexOf(n)<0);if(a.length===0)return!0;const x=G4.getRegExp(`(${a.map(n=>n==="?"?"\\?":n).join("|")})`);let P=!x.test(e);if(!P){const n=e.indexOf(s);n>0&&!x.test(e.substring(0,n))&&(P=!0)}return P},"looksLikeObjectPath"),dm=r((e,t,s=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const a=t.split(s);let x=e;for(let P=0;P<a.length;){if(!x||typeof x!="object")return;let n,T="";for(let i=P;i<a.length;++i)if(i!==P&&(T+=s),T+=a[i],n=x[T],n!==void 0){if(["string","number","boolean"].indexOf(typeof n)>-1&&i<a.length-1)continue;P+=i-P+1;break}x=n}return x},"deepFind"),Dh=r(e=>e?.replace("_","-"),"getCleanedCode"),k4={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}},Lh=class Lh{constructor(t,s={}){this.init(t,s)}init(t,s={}){this.prefix=s.prefix||"i18next:",this.logger=t||k4,this.options=s,this.debug=s.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,s,a,x){return x&&!this.debug?null:(pt(t[0])&&(t[0]=`${a}${this.prefix} ${t[0]}`),this.logger[s](t))}create(t){return new Lh(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Lh(this.logger,t)}};r(Lh,"Logger");let fm=Lh;var es=new fm,ha;let ac=(ha=class{constructor(){this.observers={}}on(t,s){return t.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const x=this.observers[a].get(s)||0;this.observers[a].set(s,x+1)}),this}off(t,s){if(this.observers[t]){if(!s){delete this.observers[t];return}this.observers[t].delete(s)}}emit(t,...s){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([x,P])=>{for(let n=0;n<P;n++)x(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([x,P])=>{for(let n=0;n<P;n++)x.apply(x,[t,...s])})}},r(ha,"EventEmitter"),ha);const iC=class iC extends ac{constructor(t,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const s=this.options.ns.indexOf(t);s>-1&&this.options.ns.splice(s,1)}getResource(t,s,a,x={}){const P=x.keySeparator!==void 0?x.keySeparator:this.options.keySeparator,n=x.ignoreJSONStructure!==void 0?x.ignoreJSONStructure:this.options.ignoreJSONStructure;let T;t.indexOf(".")>-1?T=t.split("."):(T=[t,s],a&&(Array.isArray(a)?T.push(...a):pt(a)&&P?T.push(...a.split(P)):T.push(a)));const i=Id(this.data,T);return!i&&!s&&!a&&t.indexOf(".")>-1&&(t=T[0],s=T[1],a=T.slice(2).join(".")),i||!n||!pt(a)?i:dm(this.data?.[t]?.[s],a,P)}addResource(t,s,a,x,P={silent:!1}){const n=P.keySeparator!==void 0?P.keySeparator:this.options.keySeparator;let T=[t,s];a&&(T=T.concat(n?a.split(n):a)),t.indexOf(".")>-1&&(T=t.split("."),x=s,s=T[1]),this.addNamespaces(s),nw(this.data,T,x),P.silent||this.emit("added",t,s,a,x)}addResources(t,s,a,x={silent:!1}){for(const P in a)(pt(a[P])||Array.isArray(a[P]))&&this.addResource(t,s,P,a[P],{silent:!0});x.silent||this.emit("added",t,s,a)}addResourceBundle(t,s,a,x,P,n={silent:!1,skipCopy:!1}){let T=[t,s];t.indexOf(".")>-1&&(T=t.split("."),x=a,a=s,s=T[1]),this.addNamespaces(s);let i=Id(this.data,T)||{};n.skipCopy||(a=JSON.parse(JSON.stringify(a))),x?fL(i,a,P):i={...i,...a},nw(this.data,T,i),n.silent||this.emit("added",t,s,a)}removeResourceBundle(t,s){this.hasResourceBundle(t,s)&&delete this.data[t][s],this.removeNamespaces(s),this.emit("removed",t,s)}hasResourceBundle(t,s){return this.getResource(t,s)!==void 0}getResourceBundle(t,s){return s||(s=this.options.defaultNS),this.getResource(t,s)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const s=this.getDataByLanguage(t);return!!(s&&Object.keys(s)||[]).find(x=>s[x]&&Object.keys(s[x]).length>0)}toJSON(){return this.data}};r(iC,"ResourceStore");let Dd=iC;var cL={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,s,a,x){return e.forEach(P=>{t=this.processors[P]?.process(t,s,a,x)??t}),t}};const vL=Symbol("i18next/PATH_KEY");function V4(){const e=[],t=Object.create(null);let s;return t.get=(a,x)=>(s?.revoke?.(),x===vL?e:(e.push(x),s=Proxy.revocable(a,t),s.proxy)),Proxy.revocable(Object.create(null),t).proxy}r(V4,"createProxy");function cm(e,t){const{[vL]:s}=e(V4());return s.join(t?.keySeparator??".")}r(cm,"keysFromSelector");const aw={},ow=r(e=>!pt(e)&&typeof e!="boolean"&&typeof e!="number","shouldHandleAsObject"),Zf=class Zf extends ac{constructor(t,s={}){super(),b4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=es.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,s={interpolation:{}}){const a={...s};return t==null?!1:this.resolve(t,a)?.res!==void 0}extractFromKey(t,s){let a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const x=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let P=s.ns||this.options.defaultNS||[];const n=a&&t.indexOf(a)>-1,T=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!N4(t,a,x);if(n&&!T){const i=t.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:t,namespaces:pt(P)?[P]:P};const h=t.split(a);(a!==x||a===x&&this.options.ns.indexOf(h[0])>-1)&&(P=h.shift()),t=h.join(x)}return{key:t,namespaces:pt(P)?[P]:P}}translate(t,s,a){let x=typeof s=="object"?{...s}:s;if(typeof x!="object"&&this.options.overloadTranslationOptionHandler&&(x=this.options.overloadTranslationOptionHandler(arguments)),typeof x=="object"&&(x={...x}),x||(x={}),t==null)return"";typeof t=="function"&&(t=cm(t,{...this.options,...x})),Array.isArray(t)||(t=[String(t)]);const P=x.returnDetails!==void 0?x.returnDetails:this.options.returnDetails,n=x.keySeparator!==void 0?x.keySeparator:this.options.keySeparator,{key:T,namespaces:i}=this.extractFromKey(t[t.length-1],x),h=i[i.length-1];let m=x.nsSeparator!==void 0?x.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const c=x.lng||this.language,u=x.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c?.toLowerCase()==="cimode")return u?P?{res:`${h}${m}${T}`,usedKey:T,exactUsedKey:T,usedLng:c,usedNS:h,usedParams:this.getUsedParamsDetails(x)}:`${h}${m}${T}`:P?{res:T,usedKey:T,exactUsedKey:T,usedLng:c,usedNS:h,usedParams:this.getUsedParamsDetails(x)}:T;const l=this.resolve(t,x);let o=l?.res;const d=l?.usedKey||T,v=l?.exactUsedKey||T,f=["[object Number]","[object Function]","[object RegExp]"],p=x.joinArrays!==void 0?x.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=x.count!==void 0&&!pt(x.count),C=Zf.hasDefaultValue(x),S=y?this.pluralResolver.getSuffix(c,x.count,x):"",E=x.ordinal&&y?this.pluralResolver.getSuffix(c,x.count,{ordinal:!1}):"",w=y&&!x.ordinal&&x.count===0,M=w&&x[`defaultValue${this.options.pluralSeparator}zero`]||x[`defaultValue${S}`]||x[`defaultValue${E}`]||x.defaultValue;let R=o;g&&!o&&C&&(R=M);const O=ow(R),b=Object.prototype.toString.apply(R);if(g&&R&&O&&f.indexOf(b)<0&&!(pt(p)&&Array.isArray(R))){if(!x.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,R,{...x,ns:i}):`key '${T} (${this.language})' returned an object instead of string.`;return P?(l.res=A,l.usedParams=this.getUsedParamsDetails(x),l):A}if(n){const A=Array.isArray(R),I=A?[]:{},L=A?v:d;for(const F in R)if(Object.prototype.hasOwnProperty.call(R,F)){const D=`${L}${n}${F}`;C&&!o?I[F]=this.translate(D,{...x,defaultValue:ow(M)?M[F]:void 0,joinArrays:!1,ns:i}):I[F]=this.translate(D,{...x,joinArrays:!1,ns:i}),I[F]===D&&(I[F]=R[F])}o=I}}else if(g&&pt(p)&&Array.isArray(o))o=o.join(p),o&&(o=this.extendTranslation(o,t,x,a));else{let A=!1,I=!1;!this.isValidLookup(o)&&C&&(A=!0,o=M),this.isValidLookup(o)||(I=!0,o=T);const F=(x.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:o,D=C&&M!==o&&this.options.updateMissing;if(I||A||D){if(this.logger.log(D?"updateKey":"missingKey",c,h,T,D?M:o),n){const W=this.resolve(T,{...x,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,x.lng||this.language);if(this.options.saveMissingTo==="fallback"&&V&&V[0])for(let W=0;W<V.length;W++)B.push(V[W]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(x.lng||this.language):B.push(x.lng||this.language);const U=r((W,Y,N)=>{const z=C&&N!==o?N:F;this.options.missingKeyHandler?this.options.missingKeyHandler(W,h,Y,z,D,x):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(W,h,Y,z,D,x),this.emit("missingKey",W,h,Y,o)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&y?B.forEach(W=>{const Y=this.pluralResolver.getSuffixes(W,x);w&&x[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(N=>{U([W],T+N,x[`defaultValue${N}`]||M)})}):U(B,T,M))}o=this.extendTranslation(o,t,x,l,a),I&&o===T&&this.options.appendNamespaceToMissingKey&&(o=`${h}${m}${T}`),(I||A)&&this.options.parseMissingKeyHandler&&(o=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${T}`:T,A?o:void 0,x))}return P?(l.res=o,l.usedParams=this.getUsedParamsDetails(x),l):o}extendTranslation(t,s,a,x,P){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||x.usedLng,x.usedNS,x.usedKey,{resolved:x});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const i=pt(t)&&(a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(i){const c=t.match(this.interpolator.nestingRegexp);h=c&&c.length}let m=a.replace&&!pt(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,a.lng||this.language||x.usedLng,a),i){const c=t.match(this.interpolator.nestingRegexp),u=c&&c.length;h<u&&(a.nest=!1)}!a.lng&&x&&x.res&&(a.lng=this.language||x.usedLng),a.nest!==!1&&(t=this.interpolator.nest(t,(...c)=>P?.[0]===c[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${c[0]} in key: ${s[0]}`),null):this.translate(...c,s),a)),a.interpolation&&this.interpolator.reset()}const n=a.postProcess||this.options.postProcess,T=pt(n)?[n]:n;return t!=null&&T?.length&&a.applyPostProcessor!==!1&&(t=cL.handle(T,t,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...x,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),t}resolve(t,s={}){let a,x,P,n,T;return pt(t)&&(t=[t]),t.forEach(i=>{if(this.isValidLookup(a))return;const h=this.extractFromKey(i,s),m=h.key;x=m;let c=h.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=s.count!==void 0&&!pt(s.count),l=u&&!s.ordinal&&s.count===0,o=s.context!==void 0&&(pt(s.context)||typeof s.context=="number")&&s.context!=="",d=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(v=>{this.isValidLookup(a)||(T=v,!aw[`${d[0]}-${v}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(T)&&(aw[`${d[0]}-${v}`]=!0,this.logger.warn(`key "${x}" for languages "${d.join(", ")}" won't get resolved as namespace "${T}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach(f=>{if(this.isValidLookup(a))return;n=f;const p=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(p,m,f,v,s);else{let y;u&&(y=this.pluralResolver.getSuffix(f,s.count,s));const C=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(s.ordinal&&y.indexOf(S)===0&&p.push(m+y.replace(S,this.options.pluralSeparator)),p.push(m+y),l&&p.push(m+C)),o){const E=`${m}${this.options.contextSeparator||"_"}${s.context}`;p.push(E),u&&(s.ordinal&&y.indexOf(S)===0&&p.push(E+y.replace(S,this.options.pluralSeparator)),p.push(E+y),l&&p.push(E+C))}}let g;for(;g=p.pop();)this.isValidLookup(a)||(P=g,a=this.getResource(f,v,g,s))}))})}),{res:a,usedKey:x,exactUsedKey:P,usedLng:n,usedNS:T}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,s,a,x={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,s,a,x):this.resourceStore.getResource(t,s,a,x)}getUsedParamsDetails(t={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=t.replace&&!pt(t.replace);let x=a?t.replace:t;if(a&&typeof t.count<"u"&&(x.count=t.count),this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),!a){x={...x};for(const P of s)delete x[P]}return x}static hasDefaultValue(t){const s="defaultValue";for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s===a.substring(0,s.length)&&t[a]!==void 0)return!0;return!1}};r(Zf,"Translator");let Bd=Zf;const sC=class sC{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=es.create("languageUtils")}getScriptPartFromCode(t){if(t=Dh(t),!t||t.indexOf("-")<0)return null;const s=t.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(t){if(t=Dh(t),!t||t.indexOf("-")<0)return t;const s=t.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(t){if(pt(t)&&t.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(t)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let s;return t.forEach(a=>{if(s)return;const x=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(x))&&(s=x)}),!s&&this.options.supportedLngs&&t.forEach(a=>{if(s)return;const x=this.getScriptPartFromCode(a);if(this.isSupportedCode(x))return s=x;const P=this.getLanguagePartFromCode(a);if(this.isSupportedCode(P))return s=P;s=this.options.supportedLngs.find(n=>{if(n===P)return n;if(!(n.indexOf("-")<0&&P.indexOf("-")<0)&&(n.indexOf("-")>0&&P.indexOf("-")<0&&n.substring(0,n.indexOf("-"))===P||n.indexOf(P)===0&&P.length>1))return n})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(t,s){if(!t)return[];if(typeof t=="function"&&(t=t(s)),pt(t)&&(t=[t]),Array.isArray(t))return t;if(!s)return t.default||[];let a=t[s];return a||(a=t[this.getScriptPartFromCode(s)]),a||(a=t[this.formatLanguageCode(s)]),a||(a=t[this.getLanguagePartFromCode(s)]),a||(a=t.default),a||[]}toResolveHierarchy(t,s){const a=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],t),x=[],P=r(n=>{n&&(this.isSupportedCode(n)?x.push(n):this.logger.warn(`rejecting language code not found in supportedLngs: ${n}`))},"addCode");return pt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&P(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&P(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&P(this.getLanguagePartFromCode(t))):pt(t)&&P(this.formatLanguageCode(t)),a.forEach(n=>{x.indexOf(n)<0&&P(this.formatLanguageCode(n))}),x}};r(sC,"LanguageUtil");let Gd=sC;const hw={zero:0,one:1,two:2,few:3,many:4,other:5},lw={select:r(e=>e===1?"one":"other","select"),resolvedOptions:r(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},rC=class rC{constructor(t,s={}){this.languageUtils=t,this.options=s,this.logger=es.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,s){this.rules[t]=s}clearCache(){this.pluralRulesCache={}}getRule(t,s={}){const a=Dh(t==="dev"?"en":t),x=s.ordinal?"ordinal":"cardinal",P=JSON.stringify({cleanedCode:a,type:x});if(P in this.pluralRulesCache)return this.pluralRulesCache[P];let n;try{n=new Intl.PluralRules(a,{type:x})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),lw;if(!t.match(/-|_/))return lw;const i=this.languageUtils.getLanguagePartFromCode(t);n=this.getRule(i,s)}return this.pluralRulesCache[P]=n,n}needsPlural(t,s={}){let a=this.getRule(t,s);return a||(a=this.getRule("dev",s)),a?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,s,a={}){return this.getSuffixes(t,a).map(x=>`${s}${x}`)}getSuffixes(t,s={}){let a=this.getRule(t,s);return a||(a=this.getRule("dev",s)),a?a.resolvedOptions().pluralCategories.sort((x,P)=>hw[x]-hw[P]).map(x=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${x}`):[]}getSuffix(t,s,a={}){const x=this.getRule(t,a);return x?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${x.select(s)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",s,a))}};r(rC,"PluralResolver");let vm=rC;const uw=r((e,t,s,a=".",x=!0)=>{let P=F4(e,t,s);return!P&&x&&pt(s)&&(P=dm(e,s,a),P===void 0&&(P=dm(t,s,a))),P},"deepFindWithDefaults"),yg=r(e=>e.replace(/\$/g,"$$$$"),"regexSafe"),nC=class nC{constructor(t={}){this.logger=es.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(s=>s),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:s,escapeValue:a,useRawValueToEscape:x,prefix:P,prefixEscaped:n,suffix:T,suffixEscaped:i,formatSeparator:h,unescapeSuffix:m,unescapePrefix:c,nestingPrefix:u,nestingPrefixEscaped:l,nestingSuffix:o,nestingSuffixEscaped:d,nestingOptionsSeparator:v,maxReplaces:f,alwaysFormat:p}=t.interpolation;this.escape=s!==void 0?s:D4,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=x!==void 0?x:!1,this.prefix=P?Sn(P):n||"{{",this.suffix=T?Sn(T):i||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=u?Sn(u):l||Sn("$t("),this.nestingSuffix=o?Sn(o):d||Sn(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=f||1e3,this.alwaysFormat=p!==void 0?p:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=r((s,a)=>s?.source===a?(s.lastIndex=0,s):new RegExp(a,"g"),"getOrResetRegExp");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,s,a,x){let P,n,T;const i=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=r(l=>{if(l.indexOf(this.formatSeparator)<0){const f=uw(s,i,l,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(f,void 0,a,{...x,...s,interpolationkey:l}):f}const o=l.split(this.formatSeparator),d=o.shift().trim(),v=o.join(this.formatSeparator).trim();return this.format(uw(s,i,d,this.options.keySeparator,this.options.ignoreJSONStructure),v,a,{...x,...s,interpolationkey:d})},"handleFormat");this.resetRegExp();const m=x?.missingInterpolationHandler||this.options.missingInterpolationHandler,c=x?.interpolation?.skipOnVariables!==void 0?x.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:r(l=>yg(l),"safeValue")},{regex:this.regexp,safeValue:r(l=>this.escapeValue?yg(this.escape(l)):yg(l),"safeValue")}].forEach(l=>{for(T=0;P=l.regex.exec(t);){const o=P[1].trim();if(n=h(o),n===void 0)if(typeof m=="function"){const v=m(t,P,x);n=pt(v)?v:""}else if(x&&Object.prototype.hasOwnProperty.call(x,o))n="";else if(c){n=P[0];continue}else this.logger.warn(`missed to pass in variable ${o} for interpolating ${t}`),n="";else!pt(n)&&!this.useRawValueToEscape&&(n=iw(n));const d=l.safeValue(n);if(t=t.replace(P[0],d),c?(l.regex.lastIndex+=n.length,l.regex.lastIndex-=P[0].length):l.regex.lastIndex=0,T++,T>=this.maxReplaces)break}}),t}nest(t,s,a={}){let x,P,n;const T=r((i,h)=>{const m=this.nestingOptionsSeparator;if(i.indexOf(m)<0)return i;const c=i.split(new RegExp(`${m}[ ]*{`));let u=`{${c[1]}`;i=c[0],u=this.interpolate(u,n);const l=u.match(/'/g),o=u.match(/"/g);((l?.length??0)%2===0&&!o||o.length%2!==0)&&(u=u.replace(/'/g,'"'));try{n=JSON.parse(u),h&&(n={...h,...n})}catch(d){return this.logger.warn(`failed parsing options string in nesting for key ${i}`,d),`${i}${m}${u}`}return n.defaultValue&&n.defaultValue.indexOf(this.prefix)>-1&&delete n.defaultValue,i},"handleHasOptions");for(;x=this.nestingRegexp.exec(t);){let i=[];n={...a},n=n.replace&&!pt(n.replace)?n.replace:n,n.applyPostProcessor=!1,delete n.defaultValue;const h=/{.*}/.test(x[1])?x[1].lastIndexOf("}")+1:x[1].indexOf(this.formatSeparator);if(h!==-1&&(i=x[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),x[1]=x[1].slice(0,h)),P=s(T.call(this,x[1].trim(),n),n),P&&x[0]===t&&!pt(P))return P;pt(P)||(P=iw(P)),P||(this.logger.warn(`missed to resolve ${x[1]} for nesting ${t}`),P=""),i.length&&(P=i.reduce((m,c)=>this.format(m,c,a.lng,{...a,interpolationkey:x[1].trim()}),P.trim())),t=t.replace(x[0],P),this.regexp.lastIndex=0}return t}};r(nC,"Interpolator");let pm=nC;const z4=r(e=>{let t=e.toLowerCase().trim();const s={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const x=a[1].substring(0,a[1].length-1);t==="currency"&&x.indexOf(":")<0?s.currency||(s.currency=x.trim()):t==="relativetime"&&x.indexOf(":")<0?s.range||(s.range=x.trim()):x.split(";").forEach(n=>{if(n){const[T,...i]=n.split(":"),h=i.join(":").trim().replace(/^'+|'+$/g,""),m=T.trim();s[m]||(s[m]=h),h==="false"&&(s[m]=!1),h==="true"&&(s[m]=!0),isNaN(h)||(s[m]=parseInt(h,10))}})}return{formatName:t,formatOptions:s}},"parseFormatStr"),dw=r(e=>{const t={};return(s,a,x)=>{let P=x;x&&x.interpolationkey&&x.formatParams&&x.formatParams[x.interpolationkey]&&x[x.interpolationkey]&&(P={...P,[x.interpolationkey]:void 0});const n=a+JSON.stringify(P);let T=t[n];return T||(T=e(Dh(a),x),t[n]=T),T(s)}},"createCachedFormatter"),U4=r(e=>(t,s,a)=>e(Dh(s),a)(t),"createNonCachedFormatter"),aC=class aC{constructor(t={}){this.logger=es.create("formatter"),this.options=t,this.init(t)}init(t,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const a=s.cacheInBuiltFormats?dw:U4;this.formats={number:a((x,P)=>{const n=new Intl.NumberFormat(x,{...P});return T=>n.format(T)}),currency:a((x,P)=>{const n=new Intl.NumberFormat(x,{...P,style:"currency"});return T=>n.format(T)}),datetime:a((x,P)=>{const n=new Intl.DateTimeFormat(x,{...P});return T=>n.format(T)}),relativetime:a((x,P)=>{const n=new Intl.RelativeTimeFormat(x,{...P});return T=>n.format(T,P.range||"day")}),list:a((x,P)=>{const n=new Intl.ListFormat(x,{...P});return T=>n.format(T)})}}add(t,s){this.formats[t.toLowerCase().trim()]=s}addCached(t,s){this.formats[t.toLowerCase().trim()]=dw(s)}format(t,s,a,x={}){const P=s.split(this.formatSeparator);if(P.length>1&&P[0].indexOf("(")>1&&P[0].indexOf(")")<0&&P.find(T=>T.indexOf(")")>-1)){const T=P.findIndex(i=>i.indexOf(")")>-1);P[0]=[P[0],...P.splice(1,T)].join(this.formatSeparator)}return P.reduce((T,i)=>{const{formatName:h,formatOptions:m}=z4(i);if(this.formats[h]){let c=T;try{const u=x?.formatParams?.[x.interpolationkey]||{},l=u.locale||u.lng||x.locale||x.lng||a;c=this.formats[h](T,l,{...m,...x,...u})}catch(u){this.logger.warn(u)}return c}else this.logger.warn(`there was no format function for ${h}`);return T},t)}};r(aC,"Formatter");let gm=aC;const X4=r((e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)},"removePending"),oC=class oC extends ac{constructor(t,s,a,x={}){super(),this.backend=t,this.store=s,this.services=a,this.languageUtils=a.languageUtils,this.options=x,this.logger=es.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=x.maxParallelReads||10,this.readingCalls=0,this.maxRetries=x.maxRetries>=0?x.maxRetries:5,this.retryTimeout=x.retryTimeout>=1?x.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(a,x.backend,x)}queueLoad(t,s,a,x){const P={},n={},T={},i={};return t.forEach(h=>{let m=!0;s.forEach(c=>{const u=`${h}|${c}`;!a.reload&&this.store.hasResourceBundle(h,c)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?n[u]===void 0&&(n[u]=!0):(this.state[u]=1,m=!1,n[u]===void 0&&(n[u]=!0),P[u]===void 0&&(P[u]=!0),i[c]===void 0&&(i[c]=!0)))}),m||(T[h]=!0)}),(Object.keys(P).length||Object.keys(n).length)&&this.queue.push({pending:n,pendingCount:Object.keys(n).length,loaded:{},errors:[],callback:x}),{toLoad:Object.keys(P),pending:Object.keys(n),toLoadLanguages:Object.keys(T),toLoadNamespaces:Object.keys(i)}}loaded(t,s,a){const x=t.split("|"),P=x[0],n=x[1];s&&this.emit("failedLoading",P,n,s),!s&&a&&this.store.addResourceBundle(P,n,a,void 0,void 0,{skipCopy:!0}),this.state[t]=s?-1:2,s&&a&&(this.state[t]=0);const T={};this.queue.forEach(i=>{L4(i.loaded,[P],n),X4(i,t),s&&i.errors.push(s),i.pendingCount===0&&!i.done&&(Object.keys(i.loaded).forEach(h=>{T[h]||(T[h]={});const m=i.loaded[h];m.length&&m.forEach(c=>{T[h][c]===void 0&&(T[h][c]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",T),this.queue=this.queue.filter(i=>!i.done)}read(t,s,a,x=0,P=this.retryTimeout,n){if(!t.length)return n(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:s,fcName:a,tried:x,wait:P,callback:n});return}this.readingCalls++;const T=r((h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(h&&m&&x<this.maxRetries){setTimeout(()=>{this.read.call(this,t,s,a,x+1,P*2,n)},P);return}n(h,m)},"resolver"),i=this.backend[a].bind(this.backend);if(i.length===2){try{const h=i(t,s);h&&typeof h.then=="function"?h.then(m=>T(null,m)).catch(T):T(null,h)}catch(h){T(h)}return}return i(t,s,T)}prepareLoading(t,s,a={},x){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),x&&x();pt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),pt(s)&&(s=[s]);const P=this.queueLoad(t,s,a,x);if(!P.toLoad.length)return P.pending.length||x(),null;P.toLoad.forEach(n=>{this.loadOne(n)})}load(t,s,a){this.prepareLoading(t,s,{},a)}reload(t,s,a){this.prepareLoading(t,s,{reload:!0},a)}loadOne(t,s=""){const a=t.split("|"),x=a[0],P=a[1];this.read(x,P,"read",void 0,void 0,(n,T)=>{n&&this.logger.warn(`${s}loading namespace ${P} for language ${x} failed`,n),!n&&T&&this.logger.log(`${s}loaded namespace ${P} for language ${x}`,T),this.loaded(t,n,T)})}saveMissing(t,s,a,x,P,n={},T=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${a}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend?.create){const i={...n,isUpdate:P},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(t,s,a,x,i):m=h(t,s,a,x),m&&typeof m.then=="function"?m.then(c=>T(null,c)).catch(T):T(null,m)}catch(m){T(m)}else h(t,s,a,x,T,i)}!t||!t[0]||this.store.addResource(t[0],s,a,x)}}};r(oC,"Connector");let mm=oC;const fw=r(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r(e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),pt(e[1])&&(t.defaultValue=e[1]),pt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const s=e[3]||e[2];Object.keys(s).forEach(a=>{t[a]=s[a]})}return t},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:r(e=>e,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),cw=r(e=>(pt(e.ns)&&(e.ns=[e.ns]),pt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),pt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),"transformOptions"),hu=r(()=>{},"noop"),Y4=r(e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(s=>{typeof e[s]=="function"&&(e[s]=e[s].bind(e))})},"bindMemberFunctions"),Fh=class Fh extends ac{constructor(t={},s){if(super(),this.options=cw(t),this.services={},this.logger=es,this.modules={external:[]},Y4(this),s&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,s),this;setTimeout(()=>{this.init(t,s)},0)}}init(t={},s){this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),t.defaultNS==null&&t.ns&&(pt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=fw();this.options={...a,...this.options,...cw(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const x=r(h=>h?typeof h=="function"?new h:h:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?es.init(x(this.modules.logger),this.options):es.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=gm;const m=new Gd(this.options);this.store=new Dd(this.options.resources,this.options);const c=this.services;c.logger=es,c.resourceStore=this.store,c.languageUtils=m,c.pluralResolver=new vm(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(c.formatter=x(h),c.formatter.init&&c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new pm(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new mm(x(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",(l,...o)=>{this.emit(l,...o)}),this.modules.languageDetector&&(c.languageDetector=x(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=x(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Bd(this.services,this.options),this.translator.on("*",(l,...o)=>{this.emit(l,...o)}),this.modules.external.forEach(l=>{l.init&&l.init(this)})}if(this.format=this.options.interpolation.format,s||(s=hu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const T=$o(),i=r(()=>{const h=r((m,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),T.resolve(c),s(m,c)},"finish");if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)},"load");return this.options.resources||!this.options.initAsync?i():setTimeout(i,0),T}loadResources(t,s=hu){let a=s;const x=pt(t)?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if(x?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const P=[],n=r(T=>{if(!T||T==="cimode")return;this.services.languageUtils.toResolveHierarchy(T).forEach(h=>{h!=="cimode"&&P.indexOf(h)<0&&P.push(h)})},"append");x?n(x):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(i=>n(i)),this.options.preload?.forEach?.(T=>n(T)),this.services.backendConnector.load(P,this.options.ns,T=>{!T&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(T)})}else a(null)}reloadResources(t,s,a){const x=$o();return typeof t=="function"&&(a=t,t=void 0),typeof s=="function"&&(a=s,s=void 0),t||(t=this.languages),s||(s=this.options.ns),a||(a=hu),this.services.backendConnector.reload(t,s,P=>{x.resolve(),a(P)}),x}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&cL.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let s=0;s<this.languages.length;s++){const a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,s){this.isLanguageChangingTo=t;const a=$o();this.emit("languageChanging",t);const x=r(T=>{this.language=T,this.languages=this.services.languageUtils.toResolveHierarchy(T),this.resolvedLanguage=void 0,this.setResolvedLanguage(T)},"setLngProps"),P=r((T,i)=>{i?this.isLanguageChangingTo===t&&(x(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,a.resolve((...h)=>this.t(...h)),s&&s(T,(...h)=>this.t(...h))},"done"),n=r(T=>{!t&&!T&&this.services.languageDetector&&(T=[]);const i=pt(T)?T:T&&T[0],h=this.store.hasLanguageSomeTranslations(i)?i:this.services.languageUtils.getBestMatchFromCodes(pt(T)?[T]:T);h&&(this.language||x(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,m=>{P(m,h)})},"setLng");return!t&&this.services.languageDetector&&!this.services.languageDetector.async?n(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(n):this.services.languageDetector.detect(n):n(t),a}getFixedT(t,s,a){const x=r((P,n,...T)=>{let i;typeof n!="object"?i=this.options.overloadTranslationOptionHandler([P,n].concat(T)):i={...n},i.lng=i.lng||x.lng,i.lngs=i.lngs||x.lngs,i.ns=i.ns||x.ns,i.keyPrefix!==""&&(i.keyPrefix=i.keyPrefix||a||x.keyPrefix);const h=this.options.keySeparator||".";let m;return i.keyPrefix&&Array.isArray(P)?m=P.map(c=>(typeof c=="function"&&(c=cm(c,{...this.options,...n})),`${i.keyPrefix}${h}${c}`)):(typeof P=="function"&&(P=cm(P,{...this.options,...n})),m=i.keyPrefix?`${i.keyPrefix}${h}${P}`:P),this.t(m,i)},"fixedT");return pt(t)?x.lng=t:x.lngs=t,x.ns=s,x.keyPrefix=a,x}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=s.lng||this.resolvedLanguage||this.languages[0],x=this.options?this.options.fallbackLng:!1,P=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const n=r((T,i)=>{const h=this.services.backendConnector.state[`${T}|${i}`];return h===-1||h===0||h===2},"loadNotPending");if(s.precheck){const T=s.precheck(this,n);if(T!==void 0)return T}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||n(a,t)&&(!x||n(P,t)))}loadNamespaces(t,s){const a=$o();return this.options.ns?(pt(t)&&(t=[t]),t.forEach(x=>{this.options.ns.indexOf(x)<0&&this.options.ns.push(x)}),this.loadResources(x=>{a.resolve(),s&&s(x)}),a):(s&&s(),Promise.resolve())}loadLanguages(t,s){const a=$o();pt(t)&&(t=[t]);const x=this.options.preload||[],P=t.filter(n=>x.indexOf(n)<0&&this.services.languageUtils.isSupportedCode(n));return P.length?(this.options.preload=x.concat(P),this.loadResources(n=>{a.resolve(),s&&s(n)}),a):(s&&s(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const x=new Intl.Locale(t);if(x&&x.getTextInfo){const P=x.getTextInfo();if(P&&P.direction)return P.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services?.languageUtils||new Gd(fw());return t.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(a.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},s){return new Fh(t,s)}cloneInstance(t={},s=hu){const a=t.forkResourceStore;a&&delete t.forkResourceStore;const x={...this.options,...t,isClone:!0},P=new Fh(x);if((t.debug!==void 0||t.prefix!==void 0)&&(P.logger=P.logger.clone(t)),["store","services","language"].forEach(T=>{P[T]=this[T]}),P.services={...this.services},P.services.utils={hasLoadedNamespace:P.hasLoadedNamespace.bind(P)},a){const T=Object.keys(this.store.data).reduce((i,h)=>(i[h]={...this.store.data[h]},i[h]=Object.keys(i[h]).reduce((m,c)=>(m[c]={...i[h][c]},m),i[h]),i),{});P.store=new Dd(T,x),P.services.resourceStore=P.store}return P.translator=new Bd(P.services,x),P.translator.on("*",(T,...i)=>{P.emit(T,...i)}),P.init(x,s),P.translator.options=x,P.translator.backendConnector.services.utils={hasLoadedNamespace:P.hasLoadedNamespace.bind(P)},P}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};r(Fh,"I18n");let Nd=Fh;const $t=Nd.createInstance();$t.createInstance=Nd.createInstance;$t.createInstance;$t.dir;$t.init;$t.loadResources;$t.reloadResources;$t.use;$t.changeLanguage;$t.getFixedT;const eat=$t.t;$t.exists;$t.setDefaultNamespace;$t.hasLoadedNamespace;$t.loadNamespaces;$t.loadLanguages;const{slice:W4,forEach:H4}=[];function $4(e){return H4.call(W4.call(arguments,1),t=>{if(t)for(const s in t)e[s]===void 0&&(e[s]=t[s])}),e}r($4,"defaults");function K4(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(e))}r(K4,"hasXSS");const vw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Z4=r(function(e,t){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},x=encodeURIComponent(t);let P=`${e}=${x}`;if(a.maxAge>0){const n=a.maxAge-0;if(Number.isNaN(n))throw new Error("maxAge should be a Number");P+=`; Max-Age=${Math.floor(n)}`}if(a.domain){if(!vw.test(a.domain))throw new TypeError("option domain is invalid");P+=`; Domain=${a.domain}`}if(a.path){if(!vw.test(a.path))throw new TypeError("option path is invalid");P+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");P+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(P+="; HttpOnly"),a.secure&&(P+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"strict":P+="; SameSite=Strict";break;case"none":P+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(P+="; Partitioned"),P},"serializeCookie"),pw={create(e,t,s,a){let x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(x.expires=new Date,x.expires.setTime(x.expires.getTime()+s*60*1e3)),a&&(x.domain=a),document.cookie=Z4(e,t,x)},read(e){const t=`${e}=`,s=document.cookie.split(";");for(let a=0;a<s.length;a++){let x=s[a];for(;x.charAt(0)===" ";)x=x.substring(1,x.length);if(x.indexOf(t)===0)return x.substring(t.length,x.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var J4={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return pw.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:s,cookieMinutes:a,cookieDomain:x,cookieOptions:P}=t;s&&typeof document<"u"&&pw.create(s,e,a,x,P)}},j4={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,s;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const P=a.substring(1).split("&");for(let n=0;n<P.length;n++){const T=P[n].indexOf("=");T>0&&P[n].substring(0,T)===t&&(s=P[n].substring(T+1))}}return s}},Q4={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:s}=e,a;if(typeof window<"u"){const{hash:x}=window.location;if(x&&x.length>2){const P=x.substring(1);if(t){const n=P.split("&");for(let T=0;T<n.length;T++){const i=n[T].indexOf("=");i>0&&n[T].substring(0,i)===t&&(a=n[T].substring(i+1))}}if(a)return a;if(!a&&s>-1){const n=x.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof s=="number"?s:0]?.replace("/",""):void 0}}}return a}};let Pn=null;const gw=r(()=>{if(Pn!==null)return Pn;try{if(Pn=typeof window<"u"&&window.localStorage!==null,!Pn)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Pn=!1}return Pn},"localStorageAvailable");var q4={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&gw())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:s}=t;s&&gw()&&window.localStorage.setItem(s,e)}};let En=null;const mw=r(()=>{if(En!==null)return En;try{if(En=typeof window<"u"&&window.sessionStorage!==null,!En)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{En=!1}return En},"sessionStorageAvailable");var _4={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&mw())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:s}=t;s&&mw()&&window.sessionStorage.setItem(s,e)}},t5={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:s,userLanguage:a,language:x}=navigator;if(s)for(let P=0;P<s.length;P++)t.push(s[P]);a&&t.push(a),x&&t.push(x)}return t.length>0?t:void 0}},e5={name:"htmlTag",lookup(e){let{htmlTag:t}=e,s;const a=t||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(s=a.getAttribute("lang")),s}},i5={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof t=="number"?t:0]?.replace("/",""):void 0}},s5={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const s=typeof t=="number"?t+1:1,a=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(a)return a[s]}};let pL=!1;try{document.cookie,pL=!0}catch{}const gL=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];pL||gL.splice(1,1);const r5=r(()=>({order:gL,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r(e=>e,"convertDetectedLanguage")}),"getDefaults$1"),hC=class hC{constructor(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,s)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=$4(s,this.options||{},r5()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=x=>x.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(J4),this.addDetector(j4),this.addDetector(q4),this.addDetector(_4),this.addDetector(t5),this.addDetector(e5),this.addDetector(i5),this.addDetector(s5),this.addDetector(Q4)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return t.forEach(a=>{if(this.detectors[a]){let x=this.detectors[a].lookup(this.options);x&&typeof x=="string"&&(x=[x]),x&&(s=s.concat(x))}}),s=s.filter(a=>a!=null&&!K4(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||s.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(t,this.options)}))}};r(hC,"Browser");let kd=hC;kd.type="languageDetector";function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}r(xm,"_typeof$2");function mL(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":xm(XMLHttpRequest))==="object"}r(mL,"hasXMLHttpRequest");function n5(e){return!!e&&typeof e.then=="function"}r(n5,"isPromise");function a5(e){return n5(e)?e:Promise.resolve(e)}r(a5,"makePromise");function xw(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(x){return Object.getOwnPropertyDescriptor(e,x).enumerable})),s.push.apply(s,a)}return s}r(xw,"ownKeys$1");function yw(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(s),!0).forEach(function(a){o5(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xw(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}r(yw,"_objectSpread$1");function o5(e,t,s){return(t=h5(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}r(o5,"_defineProperty$1");function h5(e){var t=l5(e,"string");return Hr(t)=="symbol"?t:t+""}r(h5,"_toPropertyKey$1");function l5(e,t){if(Hr(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(Hr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}r(l5,"_toPrimitive$1");function Hr(e){"@babel/helpers - typeof";return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(e)}r(Hr,"_typeof$1");var rr=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?rr=global.fetch:typeof window<"u"&&window.fetch&&(rr=window.fetch);var Bh;mL()&&(typeof global<"u"&&global.XMLHttpRequest?Bh=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Bh=window.XMLHttpRequest));var Vd;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Vd=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Vd=window.ActiveXObject));typeof rr!="function"&&(rr=void 0);if(!rr&&!Bh&&!Vd)try{hm(()=>import("./browser-ponyfill-D8ohpVyQ.js").then(e=>e.b),[],import.meta.url).then(function(e){rr=e.default}).catch(function(){})}catch{}var ym=r(function(t,s){if(s&&Hr(s)==="object"){var a="";for(var x in s)a+="&"+encodeURIComponent(x)+"="+encodeURIComponent(s[x]);if(!a)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+a.slice(1)}return t},"addQueryString"),Cw=r(function(t,s,a,x){var P=r(function(i){if(!i.ok)return a(i.statusText||"Error",{status:i.status});i.text().then(function(h){a(null,{status:i.status,data:h})}).catch(a)},"resolver");if(x){var n=x(t,s);if(n instanceof Promise){n.then(P).catch(a);return}}typeof fetch=="function"?fetch(t,s).then(P).catch(a):rr(t,s).then(P).catch(a)},"fetchIt"),Tw=!1,u5=r(function(t,s,a,x){t.queryStringParams&&(s=ym(s,t.queryStringParams));var P=yw({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(P["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),a&&(P["Content-Type"]="application/json");var n=typeof t.requestOptions=="function"?t.requestOptions(a):t.requestOptions,T=yw({method:a?"POST":"GET",body:a?t.stringify(a):void 0,headers:P},Tw?{}:n),i=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{Cw(s,T,x,i)}catch(h){if(!n||Object.keys(n).length===0||!h.message||h.message.indexOf("not implemented")<0)return x(h);try{Object.keys(n).forEach(function(m){delete T[m]}),Cw(s,T,x,i),Tw=!0}catch(m){x(m)}}},"requestWithFetch"),d5=r(function(t,s,a,x){a&&Hr(a)==="object"&&(a=ym("",a).slice(1)),t.queryStringParams&&(s=ym(s,t.queryStringParams));try{var P=Bh?new Bh:new Vd("MSXML2.XMLHTTP.3.0");P.open(a?"POST":"GET",s,1),t.crossDomain||P.setRequestHeader("X-Requested-With","XMLHttpRequest"),P.withCredentials=!!t.withCredentials,a&&P.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),P.overrideMimeType&&P.overrideMimeType("application/json");var n=t.customHeaders;if(n=typeof n=="function"?n():n,n)for(var T in n)P.setRequestHeader(T,n[T]);P.onreadystatechange=function(){P.readyState>3&&x(P.status>=400?P.statusText:null,{status:P.status,data:P.responseText})},P.send(a)}catch(i){}},"requestWithXmlHttpRequest"),f5=r(function(t,s,a,x){if(typeof a=="function"&&(x=a,a=void 0),x=x||function(){},rr&&s.indexOf("file:")!==0)return u5(t,s,a,x);if(mL()||typeof ActiveXObject=="function")return d5(t,s,a,x);x(new Error("No fetch and no xhr implementation found!"))},"request");function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}r(to,"_typeof");function Sw(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(x){return Object.getOwnPropertyDescriptor(e,x).enumerable})),s.push.apply(s,a)}return s}r(Sw,"ownKeys");function Cg(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(s),!0).forEach(function(a){xL(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Sw(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}r(Cg,"_objectSpread");function c5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r(c5,"_classCallCheck");function v5(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yL(a.key),a)}}r(v5,"_defineProperties");function p5(e,t,s){return t&&v5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}r(p5,"_createClass");function xL(e,t,s){return(t=yL(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}r(xL,"_defineProperty");function yL(e){var t=g5(e,"string");return to(t)=="symbol"?t:t+""}r(yL,"_toPropertyKey");function g5(e,t){if(to(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(to(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}r(g5,"_toPrimitive");var m5=r(function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:r(function(s){return JSON.parse(s)},"parse"),stringify:JSON.stringify,parsePayload:r(function(s,a,x){return xL({},a,x||"")},"parsePayload"),parseLoadPayload:r(function(s,a){},"parseLoadPayload"),request:f5,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},"getDefaults"),CL=(function(){function e(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c5(this,e),this.services=t,this.options=s,this.allOptions=a,this.type="backend",this.init(t,s,a)}return r(e,"Backend"),p5(e,[{key:"init",value:r(function(s){var a=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=s,this.options=Cg(Cg(Cg({},m5()),this.options||{}),x),this.allOptions=P,this.services&&this.options.reloadInterval){var n=setInterval(function(){return a.reload()},this.options.reloadInterval);to(n)==="object"&&typeof n.unref=="function"&&n.unref()}},"init")},{key:"readMulti",value:r(function(s,a,x){this._readAny(s,s,a,a,x)},"readMulti")},{key:"read",value:r(function(s,a,x){this._readAny([s],s,[a],a,x)},"read")},{key:"_readAny",value:r(function(s,a,x,P,n){var T=this,i=this.options.loadPath;typeof this.options.loadPath=="function"&&(i=this.options.loadPath(s,x)),i=a5(i),i.then(function(h){if(!h)return n(null,{});var m=T.services.interpolator.interpolate(h,{lng:s.join("+"),ns:x.join("+")});T.loadUrl(m,n,a,P)})},"_readAny")},{key:"loadUrl",value:r(function(s,a,x,P){var n=this,T=typeof x=="string"?[x]:x,i=typeof P=="string"?[P]:P,h=this.options.parseLoadPayload(T,i);this.options.request(this.options,s,h,function(m,c){if(c&&(c.status>=500&&c.status<600||!c.status))return a("failed loading "+s+"; status code: "+c.status,!0);if(c&&c.status>=400&&c.status<500)return a("failed loading "+s+"; status code: "+c.status,!1);if(!c&&m&&m.message){var u=m.message.toLowerCase(),l=["failed","fetch","network","load"].find(function(v){return u.indexOf(v)>-1});if(l)return a("failed loading "+s+": "+m.message,!0)}if(m)return a(m,!1);var o,d;try{typeof c.data=="string"?o=n.options.parse(c.data,x,P):o=c.data}catch{d="failed parsing "+s+" to json"}if(d)return a(d,!1);a(null,o)})},"loadUrl")},{key:"create",value:r(function(s,a,x,P,n){var T=this;if(this.options.addPath){typeof s=="string"&&(s=[s]);var i=this.options.parsePayload(a,x,P),h=0,m=[],c=[];s.forEach(function(u){var l=T.options.addPath;typeof T.options.addPath=="function"&&(l=T.options.addPath(u,a));var o=T.services.interpolator.interpolate(l,{lng:u,ns:a});T.options.request(T.options,o,i,function(d,v){h+=1,m.push(d),c.push(v),h===s.length&&typeof n=="function"&&n(m,c)})})}},"create")},{key:"reload",value:r(function(){var s=this,a=this.services,x=a.backendConnector,P=a.languageUtils,n=a.logger,T=x.language;if(!(T&&T.toLowerCase()==="cimode")){var i=[],h=r(function(c){var u=P.toResolveHierarchy(c);u.forEach(function(l){i.indexOf(l)<0&&i.push(l)})},"append");h(T),this.allOptions.preload&&this.allOptions.preload.forEach(function(m){return h(m)}),i.forEach(function(m){s.allOptions.ns.forEach(function(c){x.read(m,c,"read",null,null,function(u,l){u&&n.warn("loading namespace ".concat(c," for language ").concat(m," failed"),u),!u&&l&&n.log("loaded namespace ".concat(c," for language ").concat(m),l),x.loaded("".concat(m,"|").concat(c),u,l)})})})}},"reload")}])})();CL.type="backend";var Cr={},Ko={},Pw;function x5(){if(Pw)return Ko;Pw=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.PostPositionMap=void 0;var e=[["ì","ë¥¼"],["ì´","ê°"],["ì","ë"],["ì¼ë¡","ë¡"],["ê³¼","ì"],["ì´ë","ë"]],t={};Ko.PostPositionMap=t;for(var s=0,a=e;s<a.length;s++){var x=a[s];t[x[0]]=x,t[x[1]]=x}return Ko}r(x5,"requireConsts");var lu={},Ew;function y5(){if(Ew)return lu;Ew=1,Object.defineProperty(lu,"__esModule",{value:!0});function e(t){var s=t.charCodeAt(t.length-1);if(s>=44032&&s<=55203){var a=(s-44032)%28;return a!==0}}return r(e,"TestHangul"),lu.default=e,lu}r(y5,"requireHangul");var uu={},Mw;function C5(){if(Mw)return uu;Mw=1,Object.defineProperty(uu,"__esModule",{value:!0});function e(a){switch(a[a.length-1]){case"1":case"3":case"6":case"7":case"8":return!0;case"2":case"4":case"5":case"9":return!1;case"0":break;default:return}return t(a)}r(e,"TestNumber"),uu.default=e;function t(a){for(var x=a.length-1,P=!0,n=0;x>0;x--){var T=a[x];if(T===".")return!0;if(P)if(T==="0")n++;else{if(T===",")continue;P=!1}}return s(n)}r(t,"TestNumberEndsWithZero");function s(a){var x=[12,20,24,32,44];return!(x.indexOf(a)!==-1||a>=52)}return r(s,"TestLargeNumberPostfix"),uu}r(C5,"requireNumber");var du={},ww;function T5(){if(ww)return du;ww=1,Object.defineProperty(du,"__esModule",{value:!0});var e=[12387,12435,12483,12531,110877,110878,65437],t=[[12353,12438],[12448,12538],[110592,110876],[12784,12799],[65382,65436],[12441,12447]];function s(a){var x=a.charCodeAt(a.length-1);if(x===65438||x===65439)return null;if(e.indexOf(x)!==-1)return!0;for(var P=0,n=t;P<n.length;P++){var T=n[P];if(x>=T[0]&&x<=T[1])return!1}}return r(s,"TestKana"),du.default=s,du}r(T5,"requireKana");var fu={},Rw;function S5(){if(Rw)return fu;Rw=1,Object.defineProperty(fu,"__esModule",{value:!0});function e(t){for(var s=[],a=t.length-1;a>0;a--){var x=t[a];if(x===")")s.push(a);else if(x==="(")s.pop();else if(s.length===0)return t.substring(0,a+1)}return t.substr(0,s[s.length-1])}return r(e,"ParenthesisModifier"),fu.default=e,fu}r(S5,"requireParenthesis");var Ow;function P5(){return Ow||(Ow=1,(function(e){var t=Cr&&Cr.__spreadArrays||function(){for(var m=0,c=0,u=arguments.length;c<u;c++)m+=arguments[c].length;for(var l=Array(m),o=0,c=0;c<u;c++)for(var d=arguments[c],v=0,f=d.length;v<f;v++,o++)l[o]=d[v];return l},s=Cr&&Cr.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.KoreanPostpositionProcessor=e.default_modifiers=e.default_testers=void 0;var a=x5(),x=s(y5()),P=s(C5()),n=s(T5()),T=s(S5());e.default_testers=[x.default,P.default,n.default],e.default_modifiers=[T.default];var i=(function(){function m(c){var u=e.default_modifiers,l=e.default_testers;c!==void 0&&(c.modifiers&&(u=c.modifiers),c.testers&&(l=c.testers)),this.modifiers=t(u),this.testers=t(l)}return r(m,"KoreanPostpositionProcessor"),Object.defineProperty(m.prototype,"name",{get:r(function(){return"korean-postposition"},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"type",{get:r(function(){return"postProcessor"},"get"),enumerable:!1,configurable:!0}),m.prototype.process=function(c){var u=/\[\[(?:ì|ë¥¼|ì´|ê°|ì|ë|(?:ì¼ë¡)|ë¡|ê³¼|ì|(?:ì´ë)|ë)\]\]/g,l=0,o=[];do{var d=u.exec(c);if(d===null)break;var v=c.substring(l,d.index);o.push(v);var f=d[0].replace("[[","").replace("]]",""),p=this.runTests(v,f);o.push(a.PostPositionMap[f][p?0:1]),l=d.index+d[0].length}while(!0);return l!==c.length&&o.push(c.substring(l)),o.join("")},m.prototype.runTests=function(c,u){c=this.applyModifiers(c);for(var l=a.PostPositionMap[u].indexOf(u)===0,o=0,d=this.testers;o<d.length;o++){var v=d[o],f=v(c);if(f!==void 0){f!==null&&(l=f);break}}return l},m.prototype.applyModifiers=function(c){for(var u=0,l=this.modifiers;u<l.length;u++){var o=l[u];c=o(c)}return c},m})();e.KoreanPostpositionProcessor=i;var h=new i;e.default=h})(Cr)),Cr}r(P5,"requireI18nextKoreanPostpositionProcessor");var TL=P5();const E5=Bx(TL),bw={titles:"trainer-titles",moveTriggers:"move-trigger",abilityTriggers:"ability-trigger",battlePokemonForm:"pokemon-form-battle",miscDialogue:"dialogue-misc",battleSpecDialogue:"dialogue-final-boss",doubleBattleDialogue:"dialogue-double-battle",splashMessages:"splash-texts",mysteryEncounterMessages:"mystery-encounter-texts",biome:"biomes"};let Cm=!1;const Bi={fullwidth:"U+FF00-FFEF",hangul:"U+1100-11FF,U+3130-318F,U+A960-A97F,U+AC00-D7AF,U+D7B0-D7FF",kana:"U+3040-30FF",CJKCommon:"U+2E80-2EFF,U+3000-303F,U+31C0-31EF,U+3200-32FF,U+3400-4DBF,U+F900-FAFF,U+FE30-FE4F",CJKIdeograph:"U+4E00-9FFF",specialCharacters:"U+266A,U+2605,U+2665,U+2663"},Mn={korean:[Bi.CJKCommon,Bi.hangul].join(","),chinese:[Bi.CJKCommon,Bi.fullwidth,Bi.CJKIdeograph].join(","),japanese:[Bi.CJKCommon,Bi.fullwidth,Bi.kana,Bi.CJKIdeograph].join(",")},M5=[{face:new FontFace("emerald","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:Bi.specialCharacters})},{face:new FontFace("pkmnems","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:Bi.specialCharacters}),extraOptions:{sizeAdjust:"133%"}},{face:new FontFace("emerald","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:Mn.korean})},{face:new FontFace("pkmnems","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:Mn.korean}),extraOptions:{sizeAdjust:"133%"}},{face:new FontFace("emerald","url(./fonts/unifont-15.1.05.subset.woff2)",{unicodeRange:Mn.chinese}),extraOptions:{sizeAdjust:"70%",format:"woff2"},only:["zh"]},{face:new FontFace("pkmnems","url(./fonts/unifont-15.1.05.subset.woff2)",{unicodeRange:Mn.chinese}),extraOptions:{format:"woff2"},only:["zh"]},{face:new FontFace("emerald","url(./fonts/pokemon-bw.ttf)",{unicodeRange:Mn.japanese}),only:["en","es","fr","it","de","pt","ko","ja","ca","da","tr","ro","ru","tl"]},{face:new FontFace("pkmnems","url(./fonts/pokemon-bw.ttf)",{unicodeRange:Mn.japanese}),only:["en","es","fr","it","de","pt","ko","ja","ca","da","tr","ro","ru","tl"]}];async function w5(e){const t=await Promise.allSettled(M5.filter(s=>!s.only||s.only.some(a=>e?.indexOf(a)===0)).map(s=>Object.assign(s.face,s.extraOptions??{}).load()));for(const s of t)s.status==="fulfilled"?document.fonts?.add(s.value):console.error(s.reason)}r(w5,"initFonts");function R5(e){return Number.isNaN(Number(e))&&console.warn(`i18nMoneyFormatter: value "${e}" is not a number!`),`@[MONEY]{${$t.t("common:money",{amount:e})}}`}r(R5,"i18nMoneyFormatter");const O5=["abilityTriggers","ability","achv","arenaFlyout","arenaTag","battleInfo","battleMessageUiHandler","battleScene","battle","battlerTags","berry","bgmName","biome","challenges","commandUiHandler","common","doubleBattleDialogue","battleSpecDialogue","miscDialogue","dialogue","egg","fightUiHandler","filterBar","filterText","gameMode","gameStatsUiHandler","growth","menuUiHandler","menu","modifierSelectUiHandler","modifierType","modifier","moveTriggers","move","mysteryEncounterMessages","mysteryEncounters/aTrainersTest","mysteryEncounters/absoluteAvarice","mysteryEncounters/anOfferYouCantRefuse","mysteryEncounters/berriesAbound","mysteryEncounters/bugTypeSuperfan","mysteryEncounters/clowningAround","mysteryEncounters/dancingLessons","mysteryEncounters/darkDeal","mysteryEncounters/delibirdy","mysteryEncounters/departmentStoreSale","mysteryEncounters/fieldTrip","mysteryEncounters/fieryFallout","mysteryEncounters/fightOrFlight","mysteryEncounters/funAndGames","mysteryEncounters/globalTradeSystem","mysteryEncounters/lostAtSea","mysteryEncounters/mysteriousChallengers","mysteryEncounters/mysteriousChest","mysteryEncounters/partTimer","mysteryEncounters/safariZone","mysteryEncounters/shadyVitaminDealer","mysteryEncounters/slumberingSnorlax","mysteryEncounters/teleportingHijinks","mysteryEncounters/theExpertPokemonBreeder","mysteryEncounters/thePokemonSalesman","mysteryEncounters/theStrongStuff","mysteryEncounters/theWinstrateChallenge","mysteryEncounters/trainingSession","mysteryEncounters/trashToTreasure","mysteryEncounters/uncommonBreed","mysteryEncounters/weirdDream","nature","partyUiHandler","pokeball","pokedexUiHandler","pokemonCategory","pokemonEvolutions","battlePokemonForm","pokemonForm","pokemonInfoContainer","pokemonInfo","pokemonSummary","pokemon","ribbons","runHistory","saveSlotSelectUiHandler","settings","splashMessages","starterSelectUiHandler","statusEffect","terrain","trainerClasses","trainerNames","titles","trainersCommon","tutorial","voucher","weather"];async function b5(){Cm||(Cm=!0,$t.use(CL),$t.use(kd),$t.use(E5),$t.use(new TL.KoreanPostpositionProcessor),await $t.init({fallbackLng:{"es-419":["es-ES","en"],default:["en"]},supportedLngs:["en","es-ES","es-419","fr","it","de","zh-Hans","zh-Hant","pt-BR","ko","ja","ca","da","tr","ro","ru","tl"],backend:{loadPath(e,[t]){let s;return bw[t]?s=bw[t]:t.startsWith("mysteryEncounters/")?s=ew(t+"-dialogue"):s=ew(t),`./locales/${e}/${s}.json?v=${E4.version}`}},defaultNS:"menu",ns:O5,detection:{lookupLocalStorage:"prLang"},debug:!1,interpolation:{escapeValue:!1},postProcess:["korean-postposition"]}),$t.services.formatter&&$t.services.formatter.add("money",R5),await w5(localStorage.getItem("prLang")??void 0))}r(b5,"initI18n");function iat(){return Cm}r(iat,"getIsInitialized");var A5=Phaser.Renderer.WebGL.Utils,L5=r(function(e,t,s,a){if(!(t.width===0||t.height===0)){s.addToRenderList(t);var x=t.frame,P=x.width,n=x.height,T=A5.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),h=i.setTexture2D(x.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,x.glTexture,P,n,t.x,t.y,P/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,P,n,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,a,!1,h),e.pipelines.postBatch(t)}},"WebGLRenderer$3"),F5=r(function(e,t,s,a){t.width===0||t.height===0||(s.addToRenderList(t),e.batchSprite(t,t.frame,s,a))},"CanvasRenderer$3");const I5={renderWebGL:L5,renderCanvas:F5},Tg=Phaser.Display.Canvas.CanvasPool;var D5=r(function(e,t,s){s===void 0&&(s={});var a=Tg.create(this),x=a.getContext("2d",{willReadFrequently:!0});e.syncFont(a,x);var P=x.measureText(t),n=Math.ceil(P.width*e.baselineX),T=n,i=2*T;if(T=T*e.baselineY|0,a.width=n,a.height=i,x.fillStyle="#f00",x.fillRect(0,0,n,i),x.font=e._font,x.textBaseline="alphabetic",x.fillStyle="#000",x.fillText(e.testString,0,T),s.left=0,n===0||i===0||!x.getImageData(0,0,n,i))return Tg.remove(a),s;for(var h=x.getImageData(0,0,n,i).data,m=!1,c=0;c<n;c++){for(var u=0;u<i;u++){var l=(u*n+c)*4;if(h[l]!==255){s.left=c,m=!0;break}}if(m)break}return Tg.remove(a),s},"MeasureTextMargins");const B5=60;var Aw=!1,oc=r(function(e){if(!Aw){e===void 0&&(e=B5);var t=Phaser.VERSION.split("."),s=parseInt(t[0]);if(s===3){var a=parseInt(t[1]);a<e&&console.error(`Minimum supported version : ${s}.${a}`)}else console.error(`Can't supported version : ${s}`);Aw=!0}},"CheckP3Version");oc();const G5=Phaser.GameObjects.GameObject,lC=class lC extends G5{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,s){return this.style.setFixedSize(t,s)}setBackgroundColor(t,s,a){return this.style.setBackgroundColor(t,s,a)}setBackgroundStrokeColor(t,s){return this.style.setBackgroundStrokeColor(t,s)}setBackgroundCornerRadius(t,s){return this.style.setBackgroundCornerRadius(t,s)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,s){return this.style.setStroke(t,s)}setShadow(t,s,a,x,P,n){return this.style.setShadow(t,s,a,x,P,n)}setShadowOffset(t,s){return this.style.setShadowOffset(t,s)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,s,a){return this.style.setUnderline(t,s,a)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,s,a){return this.style.setStrikethrough(t,s,a)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,s){return this.style.setTextMetrics(t,s)}measureTextMargins(t,s){return D5(this.style,t,s)}};r(lC,"TextBase");let zd=lC;const Be=Phaser.GameObjects.Components;Phaser.Class.mixin(zd,[Be.Alpha,Be.BlendMode,Be.ComputedSize,Be.Crop,Be.Depth,Be.Flip,Be.GetBounds,Be.Mask,Be.Origin,Be.Pipeline,Be.PostPipeline,Be.ScrollFactor,Be.Tint,Be.Transform,Be.Visible,I5]);const N5=Phaser.Utils.String.Pad;var mt=r(function(e,t,s){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${N5(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,s);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}},"GetStyle"),k5={backgroundColor:["backgroundColor",null,mt],backgroundColor2:["backgroundColor2",null,mt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,mt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",mt],stroke:["stroke","#fff",mt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",mt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",mt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",mt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃâ°qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const cu=Phaser.Display.Canvas.CanvasPool;var Lw=r(function(e){var t=cu.create(this),s=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,s);var a=s.measureText(e.testString);if("actualBoundingBoxAscent"in a){var x=a.actualBoundingBoxAscent,P=a.actualBoundingBoxDescent,h={ascent:x,descent:P,fontSize:x+P};return cu.remove(t),h}var n=Math.ceil(a.width*e.baselineX),T=n,i=2*T;T=T*e.baselineY|0,t.width=n,t.height=i,s.fillStyle="#f00",s.fillRect(0,0,n,i),s.font=e._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(e.testString,0,T);var h={ascent:0,descent:0,fontSize:0};if(!s.getImageData(0,0,n,i))return h.ascent=T,h.descent=T+6,h.fontSize=h.ascent+h.descent,cu.remove(t),h;var m=s.getImageData(0,0,n,i).data,c=m.length,u=n*4,l,o,d=0,v=!1;for(l=0;l<T;l++){for(o=0;o<u;o+=4)if(m[d+o]!==255){v=!0;break}if(!v)d+=u;else break}for(h.ascent=T-l,d=c-u,v=!1,l=i;l>T;l--){for(o=0;o<u;o+=4)if(m[d+o]!==255){v=!0;break}if(!v)d-=u;else break}return h.descent=l-T,h.fontSize=h.ascent+h.descent,cu.remove(t),h},"MeasureText"),re={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const Ud={none:re.NO_WRAP,word:re.WORD_WRAP,char:re.CHAR_WRAP,character:re.CHAR_WRAP,mix:re.MIX_WRAP},V5=Phaser.Utils.Objects.GetAdvancedValue,Qe=Phaser.Utils.Objects.GetValue;var la;let iy=(la=class{constructor(t,s,a){this.parent=t,a===void 0&&(a=k5),this.propertyMap=a,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(s,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==re.NO_WRAP&&this.wrapWidth===0}setStyle(t,s,a){if(s===void 0&&(s=!0),a===void 0&&(a=!1),t&&t.hasOwnProperty("wordWrap")){var x=t.wordWrap;x.hasOwnProperty("width")&&(t.wrap={mode:"word",width:x.width})}if(t&&t.hasOwnProperty("wrap")){var P=t.wrap;if(P.hasOwnProperty("mode")){var n=P.mode;typeof n=="string"&&(P.mode=Ud[n])}else P.hasOwnProperty("width")&&(P.mode=1)}t&&t.rtl&&a&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var T=this.propertyMap;for(var i in T){var h=T[i],m=h[0],c=a?h[1]:this[i],u=h[2];if(i==="wrapCallback"||i==="wrapCallbackScope")this[i]=Qe(t,m,c);else{var l=V5(t,m,c);u&&(l=u(l)),this[i]=l}}var o=Qe(t,"font",null);o===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=o;var d=Qe(t,"fill",null);d!==null&&(this.color=mt(d));var v=Qe(t,"metrics",!1);return v?this.metrics={ascent:Qe(v,"ascent",0),descent:Qe(v,"descent",0),fontSize:Qe(v,"fontSize",0)}:(s||!this.metrics)&&(this.metrics=Lw(this)),s?this.parent.updateText():this.parent}syncFont(t,s){s.font=this._font}syncStyle(t,s){s.textBaseline="alphabetic",s.fillStyle=this.color,s.strokeStyle=this.stroke,s.lineWidth=this.strokeThickness,s.lineCap="round",s.lineJoin="round"}syncShadow(t,s){s?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=Lw(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Qe(t,"fontFamily","Courier"),this.fontSize=Qe(t,"fontSize","16px"),this.fontStyle=Qe(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,s){return this.fixedWidth=t,this.fixedHeight=s,t&&(this.parent.width=t),s&&(this.parent.height=s),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,s,a){return a===void 0&&(a=!0),this.backgroundColor=mt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=mt(s,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=a,this.update(!1)}setBackgroundStrokeColor(t,s){return this.backgroundStrokeColor=mt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=s,this.update(!1)}setBackgroundCornerRadius(t,s){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=s,this.update(!1)}setFill(t){return this.color=mt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=mt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,s){return t===void 0?this.strokeThickness=0:(s===void 0&&(s=this.strokeThickness),this.stroke=mt(t,this.parent.canvas,this.parent.context),this.strokeThickness=s),this.update(!0)}setShadow(t,s,a,x,P,n){return t===void 0&&(t=0),s===void 0&&(s=0),a===void 0&&(a="#000"),x===void 0&&(x=0),P===void 0&&(P=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=s,this.shadowColor=mt(a,this.parent.canvas,this.parent.context),this.shadowBlur=x,this.shadowStroke=P,this.shadowFill=n,this.update(!1)}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=t),this.shadowOffsetX=t,this.shadowOffsetY=s,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=mt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,s,a){return t===void 0&&(t="#000"),s===void 0&&(s=0),a===void 0&&(a=0),this.underlineColor=mt(t,this.parent.canvas,this.parent.context),this.underlineThickness=s,this.underlineOffset=a,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=mt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,s,a){return t===void 0&&(t="#000"),s===void 0&&(s=0),a===void 0&&(a=0),this.strikethroughColor=mt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=s,this.strikethroughOffset=a,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=mt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=Ud[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,s){return t===void 0&&(t="left"),s===void 0&&(s="top"),this.halign=t,this.valign=s,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,s){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,s&&(typeof s=="string"?(this.fontFamily=s,this.fontSize="",this.fontStyle=""):(this.fontFamily=Qe(s,"fontFamily",this.fontFamily),this.fontSize=Qe(s,"fontSize",this.fontSize),this.fontStyle=Qe(s,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},s=this.propertyMap;for(var a in s)t[a]=this[a];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}},r(la,"TextStyle"),la);var na=r(function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e},"GetString");const Zs=Phaser.Utils.Objects.GetValue;var ua;let sy=(ua=class{constructor(t,s,a,x,P){t===void 0&&(t=0),s===void 0&&(s=t),a===void 0&&(a=0),x===void 0&&(x=0),P===void 0&&(P=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,s,a,x,P)}setTo(t,s,a,x,P){return this.setPosition(t,s),this.setRadius(P),this.setSize(a,x),this}setPosition(t,s){return this.x=t,this.y=s,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,s){return this.width=t,this.height=s,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var s,a;typeof t=="number"?(s=t,a=t):(s=Zs(t,"x",0),a=Zs(t,"y",0));var x=this.cornerRadius;x.tl=vu(Zs(t,"tl",void 0),s,a),x.tr=vu(Zs(t,"tr",void 0),s,a),x.bl=vu(Zs(t,"bl",void 0),s,a),x.br=vu(Zs(t,"br",void 0),s,a)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){pu(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){pu(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){pu(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){pu(this.cornerRadius.br,t)}},r(ua,"RoundRectangle"),ua);var vu=r(function(e,t,s){return e===void 0?e={x:t,y:s}:typeof e=="number"&&(e={x:e,y:e}),SL(e),e},"GetRadius"),pu=r(function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=Zs(t,"x",0),e.y=Zs(t,"y",0)),SL(e)},"SetRadius"),SL=r(function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},"SetConvex");const Fw=Phaser.Math.DegToRad;var PL=r(function(e,t,s,a,x,P,n){var T=new sy(t,s,a,x,P),i=T.minWidth,h=T.minHeight,m=a>=i?1:a/i,c=x>=h?1:x/h,u=T.cornerRadius,l,o,d,v,f,p,g;e.save(),e.beginPath(),e.translate(t,s),l=u.tl,mu(l)?(o=l.x*m,d=l.y*c,gu(l)?(v=o,f=d,Is(e,v,f,o,d,180,270,!1,n)):(v=0,f=0,Is(e,v,f,o,d,90,0,!0,n)),p=0,g=d):(e.lineTo(0,0),p=0,g=0),l=u.tr,mu(l)?(o=l.x*m,d=l.y*c,gu(l)?(v=a-o,f=d,Is(e,v,f,o,d,270,360,!1,n)):(v=a,f=0,Is(e,v,f,o,d,180,90,!0,n))):e.lineTo(a,0),l=u.br,mu(l)?(o=l.x*m,d=l.y*c,gu(l)?(v=a-o,f=x-d,Is(e,v,f,o,d,0,90,!1,n)):(v=a,f=x,Is(e,v,f,o,d,270,180,!0,n))):e.lineTo(a,x),l=u.bl,mu(l)?(o=l.x*m,d=l.y*c,gu(l)?(v=o,f=x-d,Is(e,v,f,o,d,90,180,!1,n)):(v=0,f=x,Is(e,v,f,o,d,360,270,!0,n))):e.lineTo(0,x),e.lineTo(p,g),e.closePath(),e.restore()},"AddRoundRectanglePath"),gu=r(function(e){return!e.hasOwnProperty("convex")||e.convex},"IsConvexArc"),mu=r(function(e){return e.x>0&&e.y>0},"IsArcCorner$1"),Is=r(function(e,t,s,a,x,P,n,T,i){if(T&&n>P?n-=360:!T&&n<P&&(n+=360),P=Fw(P),n=Fw(n),i==null)e.ellipse(t,s,a,x,0,P,n,T);else{i+=1;for(var h,m,c,u=(n-P)/i,l=0;l<=i;l++)c=P+u*l,h=t+a*Math.cos(c),m=s+x*Math.sin(c),e.lineTo(h,m)}},"ArcTo$1"),z5=r(function(e,t,s,a,x,P,n,T,i,h,m,c,u){if(PL(t,s,a,x,P,n,u),T!=null){if(m!=null){var l;c?l=t.createLinearGradient(0,0,x,0):l=t.createLinearGradient(0,0,0,P),l.addColorStop(0,T),l.addColorStop(1,m),T=l}t.fillStyle=T,t.fill()}i!=null&&h>0&&(t.strokeStyle=i,t.lineWidth=h,t.stroke())},"DrawRoundRectangle"),ry=r(function(e,t,s,a,x,P,n,T){if(!(t==null&&s==null)){var i=e.canvas.width,h=e.canvas.height;s==null&&(a=0);var m=a/2;i=Math.max(1,i-a),h=Math.max(1,h-a),z5(e.canvas,e.context,m,m,i,h,x,t,s,a,P,n,T)}},"DrawRoundRectangleBackground");const U5={draw(e,t,s,a){var x=this.penManager;this.hitAreaManager.clear();var P=this.context;P.save();var n=this.defaultStyle;this.clear(),ry(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var T=n.halign,i=n.valign,h,m=n.lineHeight,c=x.lines,u=c.length,l=n.maxLines,o,d,v;l>0&&u>l?(o=l,i==="center"?d=Math.floor((u-o)/2):i==="bottom"?d=u-o:d=0):(o=u,d=0),v=d+o;var f,p,g=this.rtl,y=g?this.parent.width:void 0;i==="center"?p=Math.max((a-o*m)/2,0):i==="bottom"?p=Math.max(a-o*m-2,0):p=0,p+=t;for(var C=d;C<v;C++)if(h=x.getLineWidth(C),h!==0){for(var S=c[C],E=S.length,w=T,M=0;M<E;M++){var R=S[M].prop.align;if(R!==void 0){w=R;break}}w==="center"?f=(s-h)/2:w==="right"?f=g?0:s-h:f=g?s-h:0,f+=e;for(var M=0;M<E;M++)this.drawPen(S[M],f,p,y)}P.restore()},drawPen(e,t,s,a){t+=e.x,s+=e.y+(e.prop.y||0),a!==void 0&&(t=a-t);var x=this.canvas,P=this.context;P.save();var n=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(n.bgcolor!==null&&e.width>0){var T=this.defaultStyle.metrics,i=s-T.ascent,h=T.fontSize;this.drawRectangle(t,i,e.width,h,n.bgcolor,n)}if(n.underlineThickness>0&&e.width>0){var m=s+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,m,e.width,n.underlineThickness,n.underlineColor,n)}if(e.isTextPen&&(n.buildFont(),n.syncFont(x,P),n.syncStyle(x,P),this.drawText(t,s,e.text,n)),e.isImagePen&&this.drawImage(t,s,e.prop.img,e.prop.color,n),n.strikethroughThickness>0&&e.width>0){var m=s+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,m,e.width,n.strikethroughThickness,n.strikethroughColor,n)}if(P.restore(),e.hasAreaMarker&&e.width>0){var c,u=e.prop.area;if(u)c={key:u};else{var l=e.prop.url;c={key:`url:${l}`,url:l}}this.hitAreaManager.add(t,s-this.startYOffset,e.width,this.defaultStyle.lineHeight,c)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,s,a,x,P){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;n.fillStyle=x,n.fillRect(e,t,s,a)},drawLine(e,t,s,a,x,P){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;P.syncShadow(n,P.shadowStroke);var T=n.lineCap;n.lineCap="butt",n.strokeStyle=x,n.lineWidth=a,n.beginPath(),n.moveTo(e,t),n.lineTo(e+s,t),n.stroke(),n.lineCap=T},drawText(e,t,s,a){this.autoRound&&(e=Math.round(e),t=Math.round(t));var x=this.context;a.stroke&&a.stroke!=="none"&&a.strokeThickness>0&&(a.syncShadow(x,a.shadowStroke),x.strokeText(s,e,t)),a.color&&a.color!=="none"&&(a.syncShadow(x,a.shadowFill),x.fillText(s,e,t))},drawImage(e,t,s,a,x){t-=this.startYOffset,this.parent.imageManager.draw(s,this.context,e,t,a,this.autoRound)}},Tr=Phaser.Utils.Objects.GetValue,X5=re.NO_NEWLINE,Iw=re.RAW_NEWLINE,uC=class uC{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=Tr(t,"text",""),this.x=Tr(t,"x",0),this.y=Tr(t,"y",0),this.width=Tr(t,"width",0);var s=Tr(t,"prop",null);s===null&&(s={}),this.prop=s,this.newLineMode=Tr(t,"newLineMode",0),this.startIndex=Tr(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===Iw&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==X5&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===Iw&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}};r(uC,"Pen");let Tm=uC;var er=r(function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e},"Clear$1"),Ni=r(function(e,t){var s=Array.isArray(e);if(t===void 0?t=s?[]:{}:er(t),s){t.length=e.length;for(var a=0,x=e.length;a<x;a++)t[a]=e[a]}else for(var P in e)t[P]=e[P];return t},"Clone$2"),fe=r(function(){},"NOOP");const Dw=Phaser.Utils.Objects.GetFastValue,Bw=re.NO_NEWLINE,Y5=re.WRAPPED_NEWLINE,Jf=class Jf{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=Dw(t,"tagToText",fe),this.tagToTextScope=Dw(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,s=this.lines.length;t<s;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,s,a,x,P,n){var T=this.pensPool.pop();return T==null&&(T=new Tm),Sr.text=t,Sr.x=s,Sr.y=a,Sr.width=x,Sr.prop=P,Sr.newLineMode=n,T.resetFromJSON(Sr),this.addPen(T),this}addImagePen(t,s,a,x){return this.addTextPen("",t,s,a,x,Bw),this}addNewLinePen(){var t=this.lastPen,s=t?t.lastX:0,a=t?t.y:0,x=t?Ni(t.prop):null;return this.addTextPen("",s,a,0,x,Y5),this}addPen(t){var s=this.lastPen;s==null?t.startIndex=0:t.startIndex=s.endIndex,this.pens.push(t);var a=this.lastLine;a==null&&(a=this.linesPool.pop()||[],this.lines.push(a)),a.push(t),t.newLineMode!==Bw&&(a=this.linesPool.pop()||[],this.lines.push(a)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new Jf),t.clear();for(var s=0,a=this.lines.length;s<a;s++)for(var x=this.lines[s],P=0,n=x.length;P<n;P++){var T=x[P];t.addPen(T.text,T.x,T.y,T.width,Ni(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var s=this.lines[t];return s&&s[0]?s[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var s,a=!1,x;for(s=t;s>=0&&(x=this.lines[s],a=x!=null&&x.length>0,!a);s--);if(!a)return 0;var P=x[x.length-1];return P.endIndex}getLineWidth(t){var s=this.lines[t];if(!s)return 0;var a=s[s.length-1];if(a==null)return 0;var x=a.lastX;return x}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,s=0,a=0,x=this.lines.length;a<x;a++)t=this.getLineWidth(a),t>s&&(s=t);return this.maxLinesWidth=s,s}getLineWidths(){for(var t=[],s=0,a=this.lines.length;s<a;s++)t.push(this.getLineWidth(s));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",s=this.pens,a=0,x=s.length;a<x;a++)t+=s[a].plainText;return t}get rawTextLength(){for(var t=0,s=this.pens,a=0,x=this.pens.length;a<x;a++)t+=s[a].rawTextLength;return t}getSliceTagText(t,s,a){var x=this.lastPen;if(x==null)return"";var P=x.endIndex;(t===void 0||t===0)&&(t=-1),(s===void 0||s===P)&&(s=P+1),a===void 0&&(a=!1);for(var n="",T,i,h,m,c,u,l,o=0,d=this.pens.length;o<d&&(T=this.pens[o],m=T.endIndex,!(!(m<=t)&&(T=this.pens[o],i=a?T.wrapText:T.plainText,u=T.prop,h=T.startIndex,c=h>=t&&m<=s,c||(i=i.substring(t-h,s-h)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,i,u,l):n+=this.tagToText(i,u,l),l=u,m>=s)));o++);return n}get length(){return this.lines.length}set length(t){this.clear()}};r(Jf,"PenManager");let Sm=Jf;var Sr={};const dC=class dC{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}};r(dC,"Stack");let Ci=dC;const W5=Phaser.Geom.Rectangle;var Gw=new Ci;const fC=class fC{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,s=this.hitAreas.length;t<s;t++)this.hitAreas[t].data=null;return Gw.pushMultiple(this.hitAreas),this}add(t,s,a,x,P){P===void 0&&(P={});var n=Gw.pop();return n===null?n=new W5(t,s,a,x):n.setTo(t,s,a,x),n.data=P,this.hitAreas.push(n),this}getFirst(t,s){for(var a=0,x=this.hitAreas.length;a<x;a++){var P=this.hitAreas[a];if(P.contains(t,s))return P}return null}getByKey(t){for(var s=0,a=this.hitAreas.length;s<a;s++){var x=this.hitAreas[s];if(x.data.key===t)return x}return null}drawBounds(t,s,a){s===void 0&&(s=16777215),a&&t.save().translateCanvas(a.x,a.y).rotateCanvas(a.rotation).scaleCanvas(a.scaleX,a.scaleY);for(var x=0,P=this.hitAreas.length;x<P;x++){var n=this.hitAreas[x];t.lineStyle(1,s).strokeRect(n.x,n.y,n.width,n.height)}return a&&t.restore(),this}};r(fC,"HitAreaManager");let Pm=fC;var H5=r(function(){this.parent.on("pointerdown",$5,this).on("pointerup",K5,this).on("pointermove",Sg,this).on("pointerover",Sg,this).on("pointerout",function(e,t){Sg.call(this,e,null,null,t)},this)},"SetInteractive$1"),$5=r(function(e,t,s,a){var x=this.hitAreaManager.getFirst(t,s);if(x!==null){var P=x.data.key;aa.call(this,"areadown",P,e,t,s,a),x.data&&(x.data.isDown=!0)}},"OnAreaDown"),K5=r(function(e,t,s,a){var x=this.hitAreaManager.getFirst(t,s);if(x!==null){var P=x.data.key;if(aa.call(this,"areaup",P,e,t,s,a),!!x.data){if(x.data.isDown){if(aa.call(this,"areaclick",P,e,t,s,a),!x.data)return;var n=x.data.url;n&&window.open(n,"_blank")}x.data.isDown=!1}}},"OnAreaUp"),Sg=r(function(e,t,s,a){if(t===null){if(this.lastHitAreaKey!==null){aa.call(this,"areaout",this.lastHitAreaKey,e,t,s,a);var x=this.hitAreaManager.getByKey(this.lastHitAreaKey);x&&x.data&&(x.data.isDown=!1),this.lastHitAreaKey=null}return}var x=this.hitAreaManager.getFirst(t,s),P=x?x.data.key:null;if(this.lastHitAreaKey!==P){if(this.lastHitAreaKey!==null){aa.call(this,"areaout",this.lastHitAreaKey,e,t,s,a);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);n&&(this.urlTagCursorStyle&&Nw(this.scene,n,""),n.data.isDown=!1)}P!==null&&(aa.call(this,"areaover",P,e,t,s,a),x.data&&this.urlTagCursorStyle&&Nw(this.scene,x,this.urlTagCursorStyle)),this.lastHitAreaKey=P}},"OnAreaOverOut"),aa=r(function(e,t,s,a,x,P){this.parent.emit(`${e}-${t}`,s,a,x,P),this.parent.emit(e,t,s,a,x,P)},"FireEvent$2"),Nw=r(function(e,t,s){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=s)},"SetCursorStyle");const kw=Phaser.GameObjects.Components.TransformMatrix,Z5=Phaser.Math.TransformXY;var EL=r(function(e,t,s,a,x){a===void 0&&(a=e.scene.cameras.main),x===void 0?x={}:x===!0&&(x=J5);var P=a.scrollX,n=a.scrollY,T=t+P*e.scrollFactorX-P,i=s+n*e.scrollFactorY-n;return e.parentContainer?(xu===void 0&&(xu=new kw,Vw=new kw),e.getWorldTransformMatrix(xu,Vw),xu.applyInverse(T,i,x)):Z5(T,i,e.x,e.y,e.rotation,e.scaleX,e.scaleY,x),x.x+=e.displayOriginX,x.y+=e.displayOriginY,x},"WorldXYToGameObjectLocalXY"),xu,Vw,J5={},j5=r(function(e,t,s){var a=EL(this.parent,e,t,s,!0),x=this.hitAreaManager.getFirst(a.x,a.y);if(x!==null)return x.data.key},"GetHitArea"),Q5=/^[\x00-\x7F]+$/,Gh=r(function(e){return Q5.test(e)},"IsASCIIString");const q5=re.NO_NEWLINE,_5=re.RAW_NEWLINE,Pg=re.WRAPPED_NEWLINE,zw=re.NO_WRAP,tB=re.WORD_WRAP,ML=re.CHAR_WRAP,eB=re.SPLITREGEXP;var wL=r(function(e,t,s,a,x,P){a<=0&&(s=zw);var n=[];if(!e||!e.length)return n;for(var T=s===zw,i=e.split(eB),h,m,c,u=0,l=i.length;u<l;u++){if(h=i[u],c=u===l-1?q5:_5,T){var o=t.measureText(h).width;n.push(P.getLine(h,o,c));continue}if(m=u===0?a-x:a,h.length<=100){var o=t.measureText(h).width;if(o<=m){n.push(P.getLine(h,o,c));continue}}for(var d=iB(h,s),v,f,p="",g=0,y,C=0,S=d.length;C<S;C++){if(v=d[C],f=t.measureText(v).width,f>a&&sB(v)){p!==""?n.push(P.getLine(p,g,Pg)):C===0&&x>0&&n.push(P.getLine("",0,Pg)),n.push(...wL(v,t,ML,a,0,P));var E=n.pop();p=E.text,g=E.width,P.freeLine(E),p===" "&&(p="",g=0);continue}y=g+f,y>m?(n.push(P.getLine(p,g,Pg)),p=v,g=f,m=a):(p+=v,g=y),C===S-1&&n.push(P.getLine(p,g,c))}}return n},"WrapText"),iB=r(function(e,t){var s;switch(t){case tB:s=[],e=e.split(" ");for(var a=0,x=e.length;a<x;a++){var P=e[a];a<x-1?s.push(P+" "):P!==""&&s.push(P)}break;case ML:s=e.split("");break;default:s=[],e=e.split(" ");for(var a=0,x=e.length;a<x;a++){var P=e[a];a<x-1?Gh(P)?s.push(P+" "):(s.push(...P.split("")),s.push(" ")):P!==""&&(Gh(P)?s.push(P):s.push(...P.split("")))}break}return s},"ParseLine"),sB=r(function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}},"IsWord");const Eg=Phaser.Utils.Objects.GetValue,rB=re.NO_WRAP,Uw=re.NO_NEWLINE,nB=re.WRAPPED_NEWLINE,cC=class cC{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Eg(t,"context",null),this.canvas=this.context.canvas,this.parser=Eg(t,"parser",null),this.defaultStyle=Eg(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new Pm,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,s,a,x,P){if(P===void 0&&(P=this.penManager),P.clear(),t==="")return P;var n=this.parent.style;if(n.isWrapFitMode){var T=this.parent.padding;a=n.fixedWidth-T.left-T.right}for(var i=this.canvas,h=this.context,m=0,c=0,u=n.wrapCallback,l=n.wrapCallbackScope,o=!0,d,v,f,p=this.parser.splitText(t),g,y,C=this.wrapTextLinesPool,S=0,E=p.length;S<E;S++)if(g=this.parser.tagTextToProp(p[S],v),d=g.plainText,v=g.prop,v.img){var w=this.imageManager.getOuterWidth(v.img);a>0&&s!==rB&&a<m+w&&(P.addNewLinePen(),c+=x,m=0),P.addImagePen(m,c,w,Ni(v)),m+=w}else if(d!==""){if(h.save(),f=this.parser.propToContextStyle(this.defaultStyle,v),f.buildFont(),f.syncFont(i,h),f.syncStyle(i,h),!u)y=wL(d,h,s,a,m,C);else{y=u.call(l,d,h,a,m),typeof y=="string"&&(y=y.split(`
`));for(var O,M=0,R=y.length;M<R;M++)O=y[M],typeof O=="string"?y[M]=C.getLine(O,h.measureText(O).width,M<R-1?nB:Uw):o=!1}for(var O,M=0,R=y.length;M<R;M++)O=y[M],P.addTextPen(O.text,m,c,O.width,Ni(v),O.newLineMode),O.newLineMode!==Uw?(m=0,c+=x):m+=O.width;o&&C.freeLines(y),y=null,h.restore()}for(var S=0,E=this.lines.length;S<E;S++){var b=this.lines[S],A=b[b.length-1];A&&(A.width+=this.parser.getStrokeThinkness(this.defaultStyle,A.prop))}return P}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,s=this.defaultStyle.maxLines;return s>0&&t>s&&(t=s),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,s=this.defaultStyle.lineHeight*t;return t>0&&(s-=this.defaultStyle.lineSpacing),s}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new Sm({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,s,a){var x;if(t==null)x=this.penManager.plainText;else{var P=this.parser.splitText(t,1);x="";for(var n=0,T=P.length;n<T;n++)x+=P[n]}return(s!=null||a!=null)&&(s==null&&(s=0),a==null&&(a=x.length),x=x.substring(s,a)),x}getPenManager(t,s){if(t===void 0)return this.copyPenManager(s,this.penManager);s===void 0&&(s=this.newPenManager());var a=this.defaultStyle;return this.updatePenManager(t,a.wrapMode,a.wrapWidth,a.lineHeight,s),s}getText(t,s,a,x){if(t==null)return this.penManager.getSliceTagText(s,a,x);var P=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,P),P.getSliceTagText(s,a,x)}copyPenManager(t,s){return s===void 0&&(s=this.penManager),s.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}};r(cC,"CanvasText");let Xd=cC;var aB={setInteractive:H5,getHitArea:j5};Object.assign(Xd.prototype,U5,aB);const vC=class vC extends Ci{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,s,a){var x=this.pop();return x===null&&(x={}),x.text=t,x.width=s,x.newLineMode=a,x}};r(vC,"WrapTextLinesPool");let Yd=vC;const oB=Phaser.Utils.Objects.IsPlainObject,wn=Phaser.Utils.Objects.GetValue;var Mg=r(function(e,t){oB(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var s=t.key,a=t.frame,x=t.width,P=t.height;if(x===void 0||P===void 0){var n=this.textureManager.getFrame(s,a),T=n?n.cutWidth:0,i=n?n.cutHeight:0;x===void 0&&P===void 0?(x=T,P=i):x===void 0?x=T*(P/i):P===void 0&&(P=i*(x/T))}this.images[e]={key:s,frame:a,width:x,height:P,y:wn(t,"y",0),left:wn(t,"left",0),right:wn(t,"right",0),originX:wn(t,"originX",0),originY:wn(t,"originY",0),tintFill:wn(t,"tintFill",!1)}},"AddImage$2");const Xw=Phaser.Display.Canvas.CanvasPool;var RL=r(function(e,t,s,a,x,P,n,T){s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=e.cutWidth),P===void 0&&(P=e.cutHeight),T===void 0&&(T=!1),T&&(s=Math.round(s),a=Math.round(a));var i=t.getContext("2d",{willReadFrequently:!0});if(n){var h=Xw.create(null,x,P,Phaser.CANVAS,!0),m=h.getContext("2d",{willReadFrequently:!0});m.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,x,P),m.globalCompositeOperation="source-in",m.fillStyle=n,m.fillRect(0,0,x,P),i.drawImage(h,0,0,x,P,s,a,x,P),Xw.remove(h)}else i.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,s,a,x,P)},"DrawFrameToCanvas"),hB=r(function(e,t,s,a,x,P){var n=this.get(e);if(n){var T=this.textureManager.getFrame(n.key,n.frame),i=n.width,h=n.height;s+=n.left-n.originX*i,a+=n.y-n.originY*h,n.tintFill||(x=void 0),RL(T,t.canvas,s,a,i,h,x,P)}},"DrawImage$2");const pC=class pC{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,s){if(typeof t=="string")Mg.call(this,t,s);else if(Array.isArray(t))for(var a=t,x=0,P=a.length;x<P;x++)Mg.call(this,a[x]);else{var a=t;for(var t in a)Mg.call(this,t,a[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var s=this.get(t);return s?s.width+s.left+s.right:0}getFrame(t){var s=this.get(t);return s?this.textureManager.getFrame(s.key,s.frame):void 0}hasTexture(t){return!!this.getFrame(t)}};r(pC,"ImageManager");let Nh=pC;var lB={draw:hB};Object.assign(Nh.prototype,lB);var OL=r(function(e,t,s,a,x,P,n){var T=e.sys.textures,i=e.renderer;a===void 0&&(a=0),x===void 0&&(x=0),P===void 0&&(P=t.width),n===void 0&&(n=t.height);var h;T.exists(s)?h=T.get(s):h=T.createCanvas(s,P,n);var m=h.getSourceImage();m.width!==P&&(m.width=P),m.height!==n&&(m.height=n);var c=m.getContext("2d",{willReadFrequently:!0});c.clearRect(0,0,P,n),c.drawImage(t,a,x,P,n),i.gl&&h&&i.canvasToTexture(m,h.source[0].glTexture,!0,0)},"CopyCanvasToTexture"),bL=r(function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var s;return t?s=`${this.text}
${e}`:s=`${this.text}${e}`,s!=this.text&&this.setText(s),this},"AppendText$1");const uB=Phaser.Utils.Objects.IsPlainObject,Yw=Phaser.DOM.AddToDOM,Ww=Phaser.Display.Canvas.CanvasPool,dB=Phaser.GameObjects.GameObject,Xe=Phaser.Utils.Objects.GetValue,fB=Phaser.DOM.RemoveFromDOM,cB=re.SPLITREGEXP,vB=Phaser.Utils.String.UUID;var Rn=null,wg=null,Rg=null;const gC=class gC extends zd{constructor(t,s,a,x,P,n,T){if(uB(s)){var i=s;s=Xe(i,"x",0),a=Xe(i,"y",0),x=Xe(i,"text",""),P=Xe(i,"style")}if(s===void 0&&(s=0),a===void 0&&(a=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(s,a),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=Ww.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,P){if(P.hasOwnProperty("align")){var h=P.align;delete P.align,P.halign=h}P.hasOwnProperty("stroke")&&!P.hasOwnProperty("strokeThickness")&&(P.strokeThickness=1)}this.style=new iy(this,P);var m=Xe(P,"images",void 0);m&&this.addImage(m),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=vB(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var c=Xe(P,"sharedPool",!0),u,l,o;c?(Rn||(Rn={},wg=new Ci,Rg=new Yd,this.scene.game.events.once("destroy",function(){Rn=null,wg=null,Rg=null})),Rn.hasOwnProperty(n)||(Rn[n]=new Ci),u=Rn[n],l=wg,o=Rg):(u=new Ci,l=new Ci,o=new Yd),this.canvasText=new Xd({parent:this,context:this.context,parser:T,style:this.style,pensPool:u,linesPool:l,wrapTextLinesPool:o}),this.parser=T,this.initRTL(),P&&P.padding&&this.setPadding(P.padding),this.setText(x),this.setUrlTagCursorStyle(Xe(P,"urlTagCursorStyle","pointer")),Xe(P,"interactive",!1)&&this.setInteractive()}preDestroy(){fB(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),Ww.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Yw(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var s=this.style;if(s.rtl===t)return this;if(s.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Yw(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),s.halign==="left"?s.halign="right":s.halign==="right"&&(s.halign="left"),this._imageManager){var a=this._imageManager.images;for(var x in a)a[x].originX=1-a[x].originX}return this}setText(t){return t=na(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,s,a,x){if(typeof t=="object"){var P=t,n=Xe(P,"x",null);n!==null?(t=n,a=n):(t=Xe(P,"left",0),a=Xe(P,"right",t));var T=Xe(P,"y",null);T!==null?(s=T,x=T):(s=Xe(P,"top",0),x=Xe(P,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),a===void 0&&(a=t),x===void 0&&(x=s);return this.padding.left=t,this.padding.top=s,this.padding.right=a,this.padding.bottom=x,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var s=this.canvasText,a=this.style;t&&s.updatePenManager(this._text,a.wrapMode,a.wrapWidth,a.lineHeight);var x=this.padding,P,n,T=Math.ceil(s.linesWidth);a.fixedWidth===0?(this.width=T+x.left+x.right,P=T):(this.width=a.fixedWidth,P=this.width-x.left-x.right,P<T&&(P=T)),a.fixedHeight===0?(this.height=s.linesHeight+x.top+x.bottom,n=s.linesHeight):(this.height=a.fixedHeight,n=this.height-x.top-x.bottom,n<s.linesHeight&&(n=s.linesHeight));var i=this.width,h=this.height;this.updateDisplayOrigin();var m=a.resolution;i*=m,h*=m,i=Math.max(Math.ceil(i),1),h=Math.max(Math.ceil(h),1);var c=this.canvas,u=this.context;c.width!==i||c.height!==h?(c.width=i,c.height=h,this.frame.setSize(i,h)):u.clearRect(0,0,i,h),u.save(),u.scale(m,m);var l=this.style.rtl?x.right:x.left,o=x.top;s.draw(l,o,P,n),u.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),s={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=s,t}setInteractive(t,s,a){var x=!!this.input;return dB.prototype.setInteractive.call(this,t,s,a),x||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,s,a){return typeof t=="number"&&(a=s,s=t,t=void 0),t=this.canvasText.getText(t,s,a,!0),t.split(cB)}getPlainText(t,s,a){return typeof t=="number"&&(a=s,s=t,t=void 0),this.canvasText.getPlainText(t,s,a)}getText(t,s,a,x){return typeof t=="number"&&(x=a,a=s,s=t,t=void 0),x===void 0&&(x=!1),this.canvasText.getText(t,s,a,x)}getSubString(t,s,a){return typeof t=="number"&&(a=s,s=t,t=void 0),this.getText(t,s,a)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,s){return this.canvasText.getPenManager(t,s)}setSize(t,s){return this.setFixedSize(t,s)}resize(t,s){return this.setFixedSize(t,s)}get imageManager(){return this._imageManager||(this._imageManager=new Nh(this.scene)),this._imageManager}addImage(t,s){return this.imageManager.add(t,s),this}drawAreaBounds(t,s){return this.canvasText.hitAreaManager.drawBounds(t,s,this),this}generateTexture(t,s,a,x,P){var n=this.canvas;return x===void 0?x=n.width:x*=this.resolution,P===void 0?P=n.height:P*=this.resolution,OL(this.scene,n,t,s,a,x,P),this}getHitArea(t,s,a){return this.canvasText.getHitArea(t,s,a)}};r(gC,"Text");let kh=gC;var pB={appendText:bL};Object.assign(kh.prototype,pB);var gB=r(function(e,t){for(var s=this.tagRegex,a=[],x=0,P=!1,n=!1;;){var T=s.RE_SPLITTEXT.exec(e);if(!T)break;var i=T[0];if(n)if(s.RE_ESC_CLOSE.test(i))n=!1;else continue;else if(P)if(s.RE_RAW_CLOSE.test(i))P=!1;else continue;else s.RE_ESC_OPEN.test(i)?n=!0:s.RE_RAW_OPEN.test(i)&&(P=!0);var h=s.RE_SPLITTEXT.lastIndex,m=h-i.length;if(x<m){var c=e.substring(x,m);a.push(c)}t===void 0&&a.push(i),x=h}var u=e.length;return x<u&&a.push(e.substring(x,u)),a},"SplitText");const Zt=!1,Ut=!0;var mB={plainText:null,prevProp:null},xB=r(function(e,t){var s=this.tagRegex;t==null&&(t={});var a="";if(t.img&&gt(t,Zt,"img"),t.esc)s.RE_ESC_CLOSE.test(e)?gt(t,Zt,"esc"):a=e;else if(t.raw)s.RE_RAW_CLOSE.test(e)?gt(t,Zt,"raw"):a=e;else if(s.RE_ESC_OPEN.test(e))gt(t,Ut,"esc",!0);else if(s.RE_ESC_CLOSE.test(e))gt(t,Zt,"esc");else if(s.RE_RAW_OPEN.test(e))gt(t,Ut,"raw",!0);else if(s.RE_RAW_CLOSE.test(e))gt(t,Zt,"raw");else if(s.RE_BLOD_OPEN.test(e))gt(t,Ut,"b",!0);else if(s.RE_BLOD_CLOSE.test(e))gt(t,Zt,"b");else if(s.RE_ITALICS_OPEN.test(e))gt(t,Ut,"i",!0);else if(s.RE_ITALICS_CLOSE.test(e))gt(t,Zt,"i");else if(s.RE_WEIGHT_OPEN.test(e)){var x=e.match(s.RE_WEIGHT_OPEN);gt(t,Ut,"weight",x[1])}else if(s.RE_WEIGHT_CLOSE.test(e))gt(t,Zt,"weight");else if(s.RE_SIZE_OPEN.test(e)){var x=e.match(s.RE_SIZE_OPEN);gt(t,Ut,"size",`${x[1]}px`)}else if(s.RE_SIZE_CLOSE.test(e))gt(t,Zt,"size");else if(s.RE_FAMILY_OPEN.test(e)){var x=e.match(s.RE_FAMILY_OPEN);gt(t,Ut,"family",x[1])}else if(s.RE_FAMILY_CLOSE.test(e))gt(t,Zt,"family");else if(s.RE_COLOR_OPEN.test(e)){var x=e.match(s.RE_COLOR_OPEN);gt(t,Ut,"color",x[1])}else if(s.RE_COLOR_CLOSE.test(e))gt(t,Zt,"color");else if(s.RE_UNDERLINE_OPEN.test(e))gt(t,Ut,"u",!0);else if(s.RE_UNDERLINE_OPENC.test(e)){var x=e.match(s.RE_UNDERLINE_OPENC);gt(t,Ut,"u",x[1])}else if(s.RE_UNDERLINE_CLOSE.test(e))gt(t,Zt,"u");else if(s.RE_STRIKETHROUGH_OPEN.test(e))gt(t,Ut,"s",!0);else if(s.RE_STRIKETHROUGH_OPENC.test(e)){var x=e.match(s.RE_STRIKETHROUGH_OPENC);gt(t,Ut,"s",x[1])}else if(s.RE_STRIKETHROUGH_CLOSE.test(e))gt(t,Zt,"s");else if(s.RE_SHADOW_OPEN.test(e))gt(t,Ut,"shadow",!0);else if(s.RE_SHADOW_OPENC.test(e)){var x=e.match(s.RE_SHADOW_OPENC);gt(t,Ut,"shadow",x[1])}else if(s.RE_SHADOW_CLOSE.test(e))gt(t,Zt,"shadow");else if(s.RE_STROKE_OPEN.test(e))gt(t,Ut,"stroke",!0);else if(s.RE_STROKE_OPENC.test(e)){var x=e.match(s.RE_STROKE_OPENC);gt(t,Ut,"stroke",x[1])}else if(s.RE_STROKE_CLOSE.test(e))gt(t,Zt,"stroke");else if(s.RE_BGCOLOR_OPEN.test(e)){var x=e.match(s.RE_BGCOLOR_OPEN);gt(t,Ut,"bgcolor",x[1])}else if(s.RE_BGCOLOR_CLOSE.test(e))gt(t,Zt,"bgcolor");else if(s.RE_OFFSETY_OPEN.test(e)){var x=e.match(s.RE_OFFSETY_OPEN);gt(t,Ut,"y",parseFloat(x[1]))}else if(s.RE_OFFSETY_CLOSE.test(e))gt(t,Zt,"y");else if(s.RE_IMAGE_OPEN.test(e)){var x=e.match(s.RE_IMAGE_OPEN);gt(t,Ut,"img",x[1])}else if(s.RE_IMAGE_CLOSE.test(e))gt(t,Zt,"img");else if(s.RE_AREA_OPEN.test(e)){var x=e.match(s.RE_AREA_OPEN);gt(t,Ut,"area",x[1])}else if(s.RE_AREA_CLOSE.test(e))gt(t,Zt,"area");else if(s.RE_URL_OPEN.test(e)){var x=e.match(s.RE_URL_OPEN);gt(t,Ut,"url",x[1])}else if(s.RE_URL_CLOSE.test(e))gt(t,Zt,"url");else if(s.RE_ALIGN_OPEN.test(e)){var x=e.match(s.RE_ALIGN_OPEN);gt(t,Ut,"align",x[1])}else if(s.RE_ALIGN_CLOSE.test(e))gt(t,Zt,"align");else if(s.RE_ID_OPEN.test(e)){var x=e.match(s.RE_ID_OPEN);gt(t,Ut,"id",x[1])}else s.RE_ID_CLOSE.test(e)?gt(t,Zt,"id"):a=e;var P=mB;return P.plainText=a,P.prop=t,P},"TagTextToProp"),gt=r(function(e,t,s,a){return t===Ut?e[s]=a:e.hasOwnProperty(s)&&delete e[s],e},"UpdateProp"),yB=r(function(e,t){var s=TB;if(t.hasOwnProperty("img"))s.image=t.img;else{if(s.image=null,t.hasOwnProperty("family")?s.fontFamily=t.family:s.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var a=t.size;typeof a=="number"&&(a=`${a}px`),s.fontSize=a}else s.fontSize=e.fontSize;s.fontStyle=CB(t),t.hasOwnProperty("color")?s.color=t.color:s.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(s.stroke=e.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=t.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=e.stroke,s.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(s.shadowColor=e.shadowColor,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor=t.shadow,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor="#000",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowStroke=!1,s.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(s.underlineColor=e.underlineColor,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor=t.u,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor="#000",s.underlineThickness=0,s.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(s.strikethroughColor=e.strikethroughColor,s.strikethroughThickness=e.strikethroughThickness,s.strikethroughOffset=e.strikethroughOffset):(s.strikethroughColor=t.s,s.strikethroughThickness=e.strikethroughThickness,s.strikethroughOffset=e.strikethroughOffset):(s.strikethroughColor="#000",s.strikethroughThickness=0,s.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?s.bgcolor=t.bgcolor:s.bgcolor=null,s},"PropToContextStyle"),CB=r(function(e){var t=e.b,s=e.weight,a=e.i;return t||s||a?a?t?"bold italic":s?`${s} italic`:"italic":t?"bold":s.toString():""},"GetFontStyle"),TB=new iy,SB=r(function(e,t,s){s==null&&(s=PB);var a=this.delimiters[0],x=this.delimiters[1],P=[];for(var n in s)t.hasOwnProperty(n)||P.push(`${a}/${n}${x}`);for(var n in t){var T=t[n];if(n!=="img"){if(s[n]===T)continue}switch(n){case"size":P.push(`${a}size=${T.replace("px","")}${x}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":P.push(`${a}${n}=${T}${x}`);break;case"u":case"s":T===!0?P.push(`${a}${n}${x}`):P.push(`${a}${n}=${T}${x}`);break;default:P.push(`${a}${n}${x}`);break}}return P.push(e),P.join("")},"PropToTagText"),PB={},eo=r(function(e){return e.replace(EB,"\\$&").replace(MB,"\\x2d")},"EscapeRegex"),EB=/[|\\{}()[\]^$+*?.]/g,MB=/-/g,Hw,$w,xt={},Yt=r(function(e,t,s,a){return a===void 0?`${e}${s}${t}`:`${e}${s}=(${a})${t}`},"GetOpenTagRegString"),ue=r(function(e,t,s){return`${e}/${s}${t}`},"GetCloseTagRegString"),wB=r(function(e){return`[^${e}]+`},"GenerateStringRegEx"),Og="[-.0-9]+",RB=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],On=RB.join("|"),AL=r(function(e,t){if(t===void 0){var s=e;e=s[0],t=s[1]}if(Hw===e&&$w===t)return!1;Hw=e,$w=t,e=eo(e),t=eo(t);var a=wB(t),x="esc",P=Yt(e,t,x),n=ue(e,t,x),T="raw",i=Yt(e,t,T),h=ue(e,t,T),m="b",c=Yt(e,t,m),u=ue(e,t,m),l="i",o=Yt(e,t,l),d=ue(e,t,l),v="weight",f=Yt(e,t,v,Og),p=ue(e,t,v),g="size",y=Yt(e,t,g,Og),C=ue(e,t,g),S="family",E=Yt(e,t,S,a),w=ue(e,t,S),M="color",R=Yt(e,t,M,On),O=ue(e,t,M),b="u",A=Yt(e,t,b),I=Yt(e,t,b,On),L=ue(e,t,b),F="s",D=Yt(e,t,F),B=Yt(e,t,F,On),V=ue(e,t,F),U="shadow",W=Yt(e,t,U),Y=Yt(e,t,U,On),N=ue(e,t,U),z="stroke",G=Yt(e,t,z),X=Yt(e,t,z,On),k=ue(e,t,z),H="bgcolor",$=Yt(e,t,H,On),K=ue(e,t,H),Z="y",J=Yt(e,t,Z,Og),j=ue(e,t,Z),q="img",Q=Yt(e,t,q,a),tt=ue(e,t,q),st="area",_=Yt(e,t,st,a),ot=ue(e,t,st),ht="url",lt=Yt(e,t,ht,a),et=ue(e,t,ht),nt="align",at=Yt(e,t,nt,a),ct=ue(e,t,nt),St="id",It=Yt(e,t,St,a),Ct=ue(e,t,St);return xt.RE_ESC_OPEN=new RegExp(P,"i"),xt.RE_ESC_CLOSE=new RegExp(n,"i"),xt.RE_RAW_OPEN=new RegExp(i,"i"),xt.RE_RAW_CLOSE=new RegExp(h,"i"),xt.RE_BLOD_OPEN=new RegExp(c,"i"),xt.RE_BLOD_CLOSE=new RegExp(u,"i"),xt.RE_ITALICS_OPEN=new RegExp(o,"i"),xt.RE_ITALICS_CLOSE=new RegExp(d,"i"),xt.RE_WEIGHT_OPEN=new RegExp(f,"i"),xt.RE_WEIGHT_CLOSE=new RegExp(p,"i"),xt.RE_SIZE_OPEN=new RegExp(y,"i"),xt.RE_SIZE_CLOSE=new RegExp(C,"i"),xt.RE_FAMILY_OPEN=new RegExp(E,"i"),xt.RE_FAMILY_CLOSE=new RegExp(w,"i"),xt.RE_COLOR_OPEN=new RegExp(R,"i"),xt.RE_COLOR_CLOSE=new RegExp(O,"i"),xt.RE_UNDERLINE_OPEN=new RegExp(A,"i"),xt.RE_UNDERLINE_OPENC=new RegExp(I,"i"),xt.RE_UNDERLINE_CLOSE=new RegExp(L,"i"),xt.RE_STRIKETHROUGH_OPEN=new RegExp(D,"i"),xt.RE_STRIKETHROUGH_OPENC=new RegExp(B,"i"),xt.RE_STRIKETHROUGH_CLOSE=new RegExp(V,"i"),xt.RE_SHADOW_OPEN=new RegExp(W,"i"),xt.RE_SHADOW_OPENC=new RegExp(Y,"i"),xt.RE_SHADOW_CLOSE=new RegExp(N,"i"),xt.RE_STROKE_OPEN=new RegExp(G,"i"),xt.RE_STROKE_OPENC=new RegExp(X,"i"),xt.RE_STROKE_CLOSE=new RegExp(k,"i"),xt.RE_BGCOLOR_OPEN=new RegExp($,"i"),xt.RE_BGCOLOR_CLOSE=new RegExp(K,"i"),xt.RE_OFFSETY_OPEN=new RegExp(J,"i"),xt.RE_OFFSETY_CLOSE=new RegExp(j,"i"),xt.RE_IMAGE_OPEN=new RegExp(Q,"i"),xt.RE_IMAGE_CLOSE=new RegExp(tt,"i"),xt.RE_AREA_OPEN=new RegExp(_,"i"),xt.RE_AREA_CLOSE=new RegExp(ot,"i"),xt.RE_URL_OPEN=new RegExp(lt,"i"),xt.RE_URL_CLOSE=new RegExp(et,"i"),xt.RE_ALIGN_OPEN=new RegExp(at,"i"),xt.RE_ALIGN_CLOSE=new RegExp(ct,"i"),xt.RE_ID_OPEN=new RegExp(It,"i"),xt.RE_ID_CLOSE=new RegExp(Ct,"i"),xt.RE_SPLITTEXT=new RegExp([i,h,P,n,c,u,o,d,f,p,y,C,E,w,R,O,A,I,L,D,B,V,W,Y,N,G,X,k,$,K,J,j,Q,tt,_,ot,lt,et,at,ct,It,Ct].join("|"),"ig"),!0},"SetDelimiters"),Kw=r(function(e,t){return e!==void 0&&AL(e,t),Object.assign({},xt)},"GetTagRegex");const OB=Phaser.Utils.Objects.GetValue;var da;let LL=(da=class{constructor(t){var s=OB(t,"delimiters","[]");this.tagRegex=Kw(s),this.delimiters=s}getStrokeThinkness(t,s){var a;return s.hasOwnProperty("stroke")?a=t.strokeThickness:a=0,a}setDelimiters(t,s){return AL(t,s)&&(this.tagRegex=Kw()),this}},r(da,"Parser"),da);var bB={splitText:gB,tagTextToProp:xB,propToContextStyle:yB,propToTagText:SB};Object.assign(LL.prototype,bB);const mC=class mC extends kh{constructor(t,s,a,x,P){var n=new LL(P);super(t,s,a,x,P,"rexBBCodeText",n)}setDelimiters(t,s){return this.parser.setDelimiters(t,s),this}};r(mC,"BBCodeText");let nr=mC;function AB(e,t,s,a){var x=new nr(this.scene,e,t,s,a);return this.scene.add.existing(x),x}r(AB,"Factory$2");const yu=Phaser.Utils.Objects.GetAdvancedValue,LB=Phaser.GameObjects.BuildGameObject;function FB(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var s=yu(e,"text",""),a=yu(e,"style",null),x=yu(e,"padding",null);x!==null&&(a.padding=x);var P=new nr(this.scene,0,0,s,a);return LB(this.scene,P,e),P.autoRound=yu(e,"autoRound",!0),P}r(FB,"Creator$2");var FL=r(function(e){return e==null||e===""||e.length===0},"IsInValidKey"),IB=r(function(e,t,s){var a=e;if(!FL(t)){typeof t=="string"&&(t=t.split("."));for(var x,P=0,n=t.length;P<n;P++){if(x=t[P],a[x]==null||typeof a[x]!="object"){var T;P===n-1?T={}:T={},a[x]=T}a=a[x]}}return a},"GetEntry"),it=r(function(e,t,s,a){if(a===void 0&&(a="."),typeof e=="object"){if(FL(t)){if(s==null)return;typeof s=="object"&&(e=s)}else{typeof t=="string"&&(t=t.split(a));var x=t.pop(),P=IB(e,t);P[x]=s}return e}},"SetValue");const xC=class xC extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexBBCodeText",AB,FB)}start(){var t=this.game.events;t.on("destroy",this.destroy,this)}};r(xC,"BBCodeTextPlugin");let Em=xC;it(window,"RexPlugins.GameObjects.BBCodeText",nr);var ny=r(function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var s=this.node.style;return s.width=`${e}px`,s.height=`${t}px`,this.updateSize(),this},"Resize$2");const Zw={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},Jw={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},DB={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},BB=Phaser.Utils.Objects.GetValue;var Wd=r(function(e,t,s){s===void 0&&(s={});var a,x;for(var P in e)a=e[P],x=BB(t,P,a[1]),x!==void 0&&(s[a[0]]=x);return s},"SetProperties");const jw=Phaser.Utils.Objects.GetValue;var IL=r(function(e,t,s,a){var x=jw(a,"preventDefault",!1),P=jw(a,"preTest");for(let n in s)t.addEventListener(n,function(T){(!P||P(e,n))&&e.emit(s[n],e,T),x&&T.preventDefault()})},"RouteEvents"),DL=r(function(e){e.addEventListener("touchstart",bn,!1),e.addEventListener("touchmove",bn,!1),e.addEventListener("touchend",bn,!1),e.addEventListener("mousedown",bn,!1),e.addEventListener("mouseup",bn,!1),e.addEventListener("mousemove",bn,!1)},"StopPropagationTouchEvents"),bn=r(function(e){e.stopPropagation()},"callback");const GB=Phaser.GameObjects.DOMElement,Qw=Phaser.Utils.Objects.IsPlainObject,Wi=Phaser.Utils.Objects.GetValue,yC=class yC extends GB{constructor(t,s,a,x,P,n){Qw(s)?(n=s,s=Wi(n,"x",0),a=Wi(n,"y",0),x=Wi(n,"width",0),P=Wi(n,"height",0)):Qw(x)&&(n=x,x=Wi(n,"width",0),P=Wi(n,"height",0)),n===void 0&&(n={});var T,i=Wi(n,"inputType",void 0);i===void 0&&(i=Wi(n,"type","text")),i==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=i),Wd(Zw,n,T);var h=Wi(n,"style",void 0);h=Wd(Jw,n,h);var m=T.style;for(var c in n)if(!(c in Zw||c in Jw)){if(c in m)h[c]=n[c];else if(c in T){if(c==="type")continue;T[c]=n[c]}}h["box-sizing"]="border-box",super(t,s,a,T,h),this.type="rexInputText",this.resize(x,P),IL(this,T,DB),DL(T),Wi(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return t===void 0?this.node.select():this.node.setSelectionRange(t,s),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node.style[t]=s,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}};r(yC,"InputText");let Ms=yC;var NB={resize:ny};Object.assign(Ms.prototype,NB);function kB(e,t,s,a,x){var P=new Ms(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P}r(kB,"Factory$1");const qw=Phaser.Utils.Objects.GetAdvancedValue,VB=Phaser.GameObjects.BuildGameObject;function zB(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var s=qw(e,"width",void 0),a=qw(e,"height",void 0),x=new Ms(this.scene,0,0,s,a,e);return VB(this.scene,x,e),x}r(zB,"Creator$1");const CC=class CC extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexInputText",kB,zB)}start(){var t=this.game.events;t.on("destroy",this.destroy,this)}};r(CC,"InputTextPlugin");let Mm=CC;it(window,"RexPlugins.GameObjects.InputText",Ms);oc();const UB=Phaser.GameObjects.Zone,XB=Phaser.Utils.Array.Add,YB=Phaser.Utils.Array.Remove;var fa;let Hl=(fa=class extends UB{constructor(t,s,a,x,P){s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=1),P===void 0&&(P=1),super(t,s,a,x,P),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s,a=this.children.length-1;a>=0;a--)s=this.children[a],!s.parentContainer&&!s.displayList&&s.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var s=this;return XB(this.children,t,0,function(a){a.once("destroy",s.onChildDestroy,s)},this),this}remove(t,s){var a=this;return YB(this.children,t,function(x){x.off("destroy",a.onChildDestroy,a),s&&x.destroy()}),this}onChildDestroy(t,s){this.remove(t,!1)}clear(t){for(var s=this,a,x=0,P=this.children.length;x<P;x++)a=this.children[x],a.off("destroy",s.onChildDestroy,s),t&&a.destroy();return this.children.length=0,this}},r(fa,"Base"),fa);const _w=Phaser.GameObjects.Components;Phaser.Class.mixin(Hl,[_w.Alpha,_w.Flip]);var ni=r(function(e,t){var s;if(t===void 0)e.hasOwnProperty("rexContainer")&&(s=e.rexContainer.parent);else for(s=ni(e);s&&s.name!==t;)s=ni(s);return s},"GetParent$1"),BL=r(function(e){for(var t=ni(e);t;)e=t,t=ni(t);return e},"GetTopmostParent$1");const WB=Phaser.Math.DegToRad,HB=Phaser.Math.RadToDeg;var Tt=r(function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:r(function(){return HB(this.rotation)},"get"),set:r(function(s){this.rotation=WB(s)},"set")}),Object.defineProperty(t,"displayWidth",{get:r(function(){return e.width*this.scaleX},"get"),set:r(function(s){this.scaleX=s/e.width},"set")}),Object.defineProperty(t,"displayHeight",{get:r(function(){return e.height*this.scaleY},"get"),set:r(function(s){this.scaleY=s/e.height},"set")}),e.rexContainer=t}return e.rexContainer},"GetLocalState");const $B={setParent(e,t){t===void 0&&(t=this);var s=Tt(e);return t?(s.parent=t,s.self=e):(s.parent=null,s.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),ni(e,t)},getTopmostParent(e){return e===void 0&&(e=this),BL(e)}},Pr=Phaser.Utils.Objects.GetValue,GL=Hl.prototype.add;var tR=r(function(e,t){this.setParent(e);var s=Tt(e);return NL(s,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),GL.call(this,e),kL.call(this,e,s),this},"Add$8"),bg=r(function(e,t){this.setParent(e);var s=Tt(e);return NL(s,t),s.x=e.x,s.y=e.y,s.rotation=e.rotation,s.scaleX=e.scaleX,s.scaleY=e.scaleY,s.alpha=e.alpha,s.visible=e.visible,s.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),GL.call(this,e),kL.call(this,e,s),this},"AddLocal"),NL=r(function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=Pr(t,"syncPosition",!0),e.syncRotation=Pr(t,"syncRotation",!0),e.syncScale=Pr(t,"syncScale",!0),e.syncAlpha=Pr(t,"syncAlpha",!0),e.syncScrollFactor=Pr(t,"syncScrollFactor",!0),e.syncCameraFilter=Pr(t,"syncCameraFilter",!0),e.syncDisplayList=Pr(t,"syncDisplayList",!0))},"SetupSyncFlags"),kL=r(function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)},"SyncDisplayList$1");const KB={add(e){return Array.isArray(e)?this.addMultiple(e):tR.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):tR.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),s=0,a=e.length;s<a;s++)t[0]=e[s],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):bg.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):bg.call(this,e,t),this},addLocalMultiple(e){for(var t=0,s=e.length;t<s;t++)bg.call(this,e[t]);return this}},eR=Hl.prototype.remove,ZB=Hl.prototype.clear,JB={remove(e,t){return ni(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),eR.call(this,e,t),this)},unpin(e,t){return ni(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),eR.call(this,e,t),this)},clear(e){for(var t=this.children,s=0,a=t.length;s<a;s++){var x=t[s];this.setParent(x,null),e||this.removeFromRenderLayer(x)}return ZB.call(this,e),this}},jB={getLocalState(e){return Tt(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,s=e.length;t<s;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},QB={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),s=Math.sin(-this.rotation),a=e.x,x=e.y;return e.x=a*t-x*s,e.y=a*s+x*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),s=Math.sin(this.rotation),a=e.x,x=e.y;return e.x=a*t-x*s,e.y=a*s+x*t,e.x+=this.x,e.y+=this.y,e}};var Vh=r(function(e,t){return e===t?1:e/t},"GetScale");const qB={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=Tt(e),s=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,s.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+s.rotation),t.syncScale&&(e.scaleX=t.scaleX*s.scaleX,e.scaleY=t.scaleY*s.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=Tt(e),s=t.parent;return t.x=e.x,t.y=e.y,s.worldToLocal(t),t.scaleX=Vh(e.scaleX,s.scaleX),t.scaleY=Vh(e.scaleY,s.scaleY),t.rotation=e.rotation-s.rotation,this},setChildPosition(e,t,s){return e.x=t,e.y=s,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,s){var a=Tt(e);return a.x=t,a.y=s,this.updateChildPosition(e),this},resetLocalPositionState(){var e=Tt(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=Tt(e);return t.x},getChildLocalY(e){var t=Tt(e);return t.y}},_B=Phaser.Math.DegToRad,t9={updateChildRotation(e){var t=Tt(e),s=t.parent;return t.syncRotation&&(e.rotation=s.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=Tt(e),s=t.parent;return t.rotation=e.rotation-s.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var s=Tt(e);return s.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var s=Tt(e);return s.rotation=_B(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=Tt(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=Tt(e);return t.rotation}},e9={updateChildScale(e){var t=Tt(e),s=t.parent;return t.syncScale&&(e.scaleX=s.scaleX*t.scaleX,e.scaleY=s.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=Tt(e),s=t.parent;return t.scaleX=Vh(e.scaleX,s.scaleX),t.scaleY=Vh(e.scaleY,s.scaleY),this},setChildScale(e,t,s){return s===void 0&&(s=t),e.scaleX=t,e.scaleY=s,this.resetChildScaleState(e),this},setChildLocalScale(e,t,s){s===void 0&&(s=t);var a=Tt(e);return a.scaleX=t,a.scaleY=s,this.updateChildScale(e),this},setChildDisplaySize(e,t,s){return e.setDisplaySize(t,s),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=Tt(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=Tt(e);return t.scaleX},getChildLocalScaleY(e){var t=Tt(e);return t.scaleY}},i9={updateChildVisible(e){var t=Tt(e),s=t.parent,a=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,x=s?s.visible:!0;return e.visible=x&&t.visible&&a,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=Tt(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var s=Tt(e);return s.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var s=Tt(e);return s.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=Tt(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=Tt(e);return t.visible}},s9={updateChildAlpha(e){var t=Tt(e),s=t.parent;return t.syncAlpha&&(e.alpha=s.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=Tt(e),s=t.parent;return t.alpha=Vh(e.alpha,s.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var s=Tt(e);return s.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=Tt(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=Tt(e);return t.alpha}},r9={updateChildActive(e){var t=Tt(e),s=t.parent;return e.active=s.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=Tt(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var s=Tt(e);return s.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=Tt(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=Tt(e);return t.active}},n9={updateChildScrollFactor(e){var t=Tt(e),s=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=s.scrollFactorX,e.scrollFactorY=s.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},a9={updateCameraFilter(e){var t=Tt(e),s=t.parent;return t.syncCameraFilter&&(e.cameraFilter=s.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},o9={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(s){s.clearMask&&s.clearMask(!1),s.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(s)}),e&&this.mask&&this.mask.destroy(),this}};var yi=r(function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var s,a=0,x=e.length;a<x;a++){var P=e[a];if(P.displayList?s=P.displayList:P.parentContainer&&(s=P.parentContainer.list),s)break}return s||(s=P.scene.sys.displayList),s.depthSort&&(s.depthSort(),s=s.list),t?e.sort(function(n,T){return s.indexOf(T)-s.indexOf(n)}):e.sort(function(n,T){return s.indexOf(n)-s.indexOf(T)}),e},"SortGameObjectsByDepth"),Cu=r(function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})},"FilterDisplayGameObjects");const h9={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var s=this.getAllChildren(),a=0,x=s.length;a<x;a++)s[a].depth=e;return this},swapDepth(e){var t=this.depth,s=e.depth;return this.setDepth(s),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),s=0,a=t.length;s<a;s++)t[s].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);yi(t,!1);for(var s=0,a=t.length;s<a;s++){var x=t[s];e.exists(x)&&e.bringToTop(x)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);yi(t,!0);for(var s=0,a=t.length;s<a;s++){var x=t[s];e.exists(x)&&e.sendToBack(x)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var s=this.getAllChildren([this]);yi(s,!1);for(var a=0,x=s.length;a<x;a++){var P=s[a];if(t.exists(P)){t.moveBelow(e,P);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var s=this.getAllChildren([this]);yi(s,!0);for(var a=0,x=s.length;a<x;a++){var P=s[a];if(t.exists(P)){t.moveAbove(e,P);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Cu(t),t=yi(t,!1)):t=[e];var s=this.getAllChildren([this]);s=Cu(s),s=yi(s,!1);for(var a=s[s.length-1],x=0,P=t.length;x<P;x++){var n=t[x];a!==n&&(n!==this&&a.displayList!==n.displayList||(a.displayList.moveAbove(n,a),a=n))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Cu(t),t=yi(t,!1)):t=[e];var s=this.getAllChildren([this]);s=Cu(s),s=yi(s,!1);for(var a=s[0],x=t.length-1;x>=0;x--){var P=t[x];a!==P&&(P!==this&&a.displayList!==P.displayList||(a.displayList.moveBelow(P,a),a=P))}return this}};var VL=r(function(e,t){var s=t(e);if(!s&&e.isRexContainerLite)for(var a=e.children,x=0,P=a.length;x<P;x++)VL(a[x],t)},"DepthFirstSearch"),Ag=r(function(e,t){for(var s=[e];s.length>0;){var a=s.shift(),x=t(a);!x&&a.isRexContainerLite&&s.push(...a.children)}},"BreadthFirstSearch");const Er=Phaser.Utils.Array,l9={getChildren(e){if(!e)e=this.children;else for(var t=0,s=this.children.length;t<s;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return Ag(t,function(s){s!==t&&e.push(s)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return Ag(t,function(s){if(s!==t){if(!s.visible)return!0;e.push(s)}}),e},bfs(e,t){return t===void 0&&(t=this),Ag(t,e),this},dfs(e,t){return t===void 0&&(t=this),VL(t,e),this},contains(e){var t=ni(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var s=[this],a,x;s.length;){a=s.shift();for(var P=0,n=a.children.length;P<n;P++){if(x=a.children[P],x.name===e)return x;x.isRexContainerLite&&s.push(x)}}return null}else return Er.GetFirst(this.children,"name",e)},getRandom(e,t){return Er.GetRandom(this.children,e,t)},getFirst(e,t,s,a){return Er.GetFirstElement(this.children,e,t,s,a)},getAll(e,t,s,a){return Er.GetAll(this.children,e,t,s,a)},count(e,t,s,a){return Er.CountAllMatching(this.children,e,t,s,a)},swap(e,t){return Er.Swap(this.children,e,t),this},setAll(e,t,s,a){return Er.SetAll(this.children,e,t,s,a),this}};var iR=r(function(e){for(var t=[],s=0,a=e.length;s<a;s++){var x=e[s];x.hasOwnProperty("rexContainer")&&t.push(x.rexContainer)}return t},"GetLocalStates"),u9=r(function(e){for(var t=0,s=e.length;t<s;t++){var a=e[t].scene;if(a)return a}return null},"GetScene"),sR=r(function(e,t,s){if(!s.parent){e.remove();return}var a=s.parent,x=s.self;switch(t){case"x":case"y":a.updateChildPosition(x);break;case"angle":case"rotation":a.updateChildRotation(x);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":a.updateChildScale(x);break;case"alpha":a.updateChildAlpha(x);break;default:a.updateChildPosition(x),a.updateChildRotation(x),a.updateChildScale(x),a.updateChildAlpha(x);break}},"UpdateChild");const d9={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var s=this.scene||u9(t);if(s){e.targets=iR(t);var a=s.tweens.add(e);return a.on("update",sR),a}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=iR(t));var s=e.onUpdate;return e.onUpdate=function(a,x){s&&s(a,x),sR(a,void 0,x)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},f9=Phaser.GameObjects.Container;var c9=r(function(e){return e instanceof f9},"IsContainerGameObject");const v9=Phaser.GameObjects.Layer;var Rh=r(function(e){return e instanceof v9},"IsLayerGameObject"),zL=r(function(e){var t=e.getAllChildren([e]);return t=t.filter(function(s){return!!s.displayList||!!s.parentContainer}),t},"GetValidChildren"),rR=r(function(e){var t=zL(this);t.indexOf(this)===-1&&t.push(this),yi(t),e.add(t)},"AddToContainer"),nR=r(function(e,t,s){if(this.scene){var a=zL(this);yi(a,t),e.remove(a),s&&a.forEach(function(x){x.addToDisplayList()})}},"RemoveFromContainer");const p9={addToContainer(e){return c9(e)?(this._setParentContainerFlag=!0,rR.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Rh(e)?(rR.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,nR.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Rh(this.displayList)?(nR.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(Rh(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},g9={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var s=Tt(e);return s.layer=t,this},removeFromRenderLayer(e){var t=Tt(e),s=t.layer;return s?(e.isRexContainerLite?e.removeFromLayer(!0):s.remove(e),t.layer=null,this):this}};var Ot=r(function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},"GetDisplayWidth"),bt=r(function(e){return e.displayHeight!==void 0?e.displayHeight:e.height},"GetDisplayHeight");const aR=Phaser.Geom.Rectangle,ss=Phaser.Math.Vector2,m9=Phaser.Math.RotateAround,x9=Phaser.GameObjects.Container;var ay=r(function(e,t){if(t===void 0?t=new aR:t===!0&&(Lg===void 0&&(Lg=new aR),t=Lg),e.getBounds&&!(e instanceof x9))return e.getBounds(t);var s,a,x,P,n,T,i,h;if(e.parentContainer){var m=e.parentContainer.getBoundsTransformMatrix();Ur(e,t),m.transformPoint(t.x,t.y,t),s=t.x,a=t.y,zh(e,t),m.transformPoint(t.x,t.y,t),x=t.x,P=t.y,Uh(e,t),m.transformPoint(t.x,t.y,t),n=t.x,T=t.y,wm(e,t),m.transformPoint(t.x,t.y,t),i=t.x,h=t.y}else Ur(e,t),s=t.x,a=t.y,zh(e,t),x=t.x,P=t.y,Uh(e,t),n=t.x,T=t.y,wm(e,t),i=t.x,h=t.y;return t.x=Math.min(s,x,n,i),t.y=Math.min(a,P,T,h),t.width=Math.max(s,x,n,i)-t.x,t.height=Math.max(a,P,T,h)-t.y,t},"GetBounds"),Lg=void 0,Ur=r(function(e,t,s){return t===void 0?t=new ss:t===!0&&(ke===void 0&&(ke=new ss),t=ke),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-Ot(e)*e.originX,t.y=e.y-bt(e)*e.originY,$l(e,t,s))},"GetTopLeft"),zh=r(function(e,t,s){return t===void 0?t=new ss:t===!0&&(ke===void 0&&(ke=new ss),t=ke),e.getTopRight?e.getTopRight(t):(t.x=e.x-Ot(e)*e.originX+Ot(e),t.y=e.y-bt(e)*e.originY,$l(e,t,s))},"GetTopRight"),Uh=r(function(e,t,s){return t===void 0?t=new ss:t===!0&&(ke===void 0&&(ke=new ss),t=ke),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-Ot(e)*e.originX,t.y=e.y-bt(e)*e.originY+bt(e),$l(e,t,s))},"GetBottomLeft"),wm=r(function(e,t,s){return t===void 0?t=new ss:t===!0&&(ke===void 0&&(ke=new ss),t=ke),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-Ot(e)*e.originX+Ot(e),t.y=e.y-bt(e)*e.originY+bt(e),$l(e,t,s))},"GetBottomRight"),oR=r(function(e,t,s){t===void 0?t=new ss:t===!0&&(ke===void 0&&(ke=new ss),t=ke);var a=Ot(e),x=bt(e);return t.x=e.x+a*(.5-e.originX),t.y=e.y+x*(.5-e.originY),$l(e,t,s)},"GetCenter"),ke=void 0,$l=r(function(e,t,s){if(s===void 0&&(s=!1),e.rotation!==0&&m9(t,e.x,e.y,e.rotation),s&&e.parentContainer){var a=e.parentContainer.getBoundsTransformMatrix();a.transformPoint(t.x,t.y,t)}return t},"PrepareBoundsOutput");const hR=Phaser.Geom.Rectangle,y9=Phaser.Geom.Rectangle.Union;var C9=r(function(e,t){t===void 0?t=new hR:t===!0&&(Fg===void 0&&(Fg=new hR),t=Fg),t.setTo(0,0,0,0);for(var s,a=!0,x=0,P=e.length;x<P;x++)if(s=e[x],!!s.getBounds){var n=ay(s,!0);a?(t.setTo(n.x,n.y,n.width,n.height),a=!1):y9(n,t,t)}return t},"GetBoundsOfGameObjects"),Fg;const T9=Phaser.GameObjects.GameObject,S9=Phaser.GameObjects.Layer;var Ke=r(function(e){return e instanceof T9||e instanceof S9},"IsGameObject"),Mr=Phaser.Utils.Objects.GetValue,oy=r(function(e){if(e){var t=e.gameObjects,s=e.renderTexture,a=e.saveTexture,x=Mr(e,"x",void 0),P=Mr(e,"y",void 0),n=Mr(e,"width",void 0),T=Mr(e,"height",void 0),i=Mr(e,"originX",0),h=Mr(e,"originY",0),m=Mr(e,"padding",0),c,u;if(n===void 0||T===void 0||x===void 0||P===void 0){var l=C9(t,!0),o=x!==void 0&&P!==void 0;o?(n=Math.max(x-l.left,l.right-x)*2,T=Math.max(P-l.top,l.bottom-P)*2,i=.5,h=.5):(x=l.x,P=l.y,n=l.width,T=l.height,i=0,h=0),c=l.x,u=l.y}else c=x+(0-i)*n,u=P+(0-h)*T;c-=m,u-=m,n+=m*2,T+=m*2;var d=t[0].scene,v=d.sys.textures;return a&&!s&&(s=v.addDynamicTexture(a,n,T)),s||(s=d.add.renderTexture(0,0,n,T)),s.setPosition&&s.setPosition(x,P),(s.width!==n||s.height!==T)&&s.setSize(n,T),s.setOrigin&&s.setOrigin(i,h),s.camera.setScroll(c,u),t=yi(Ni(t)),s.draw(t),a&&(Ke(s)?s.saveTexture(a):s.key!==a&&v.renameTexture(s.key,key)),s}},"Snapshot");const P9={snapshot(e){var t=this.scaleX,s=this.scaleY,a=t===1&&s===1;a||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var x=oy(e),P=!!x.scene;return a||(this.setScale(t,s),P&&x.setScale(t,s)),P?x:this}},Zo=Phaser.Utils.Objects.GetValue;var UL=r(function(e,t,s){var a,x,P,n,T;if(typeof s=="number"?a=s:(a=Zo(s,"color"),x=Zo(s,"lineWidth"),P=Zo(s,"fillColor"),n=Zo(s,"fillAlpha",1),T=Zo(s,"padding",0)),Array.isArray(e))for(var i=0,h=e.length;i<h;i++)lR(e[i],t,a,x,P,n,T);else lR(e,t,a,x,P,n,T)},"DrawBounds$2"),lR=r(function(e,t,s,a,x,P,n){var T=e.getBounds||e.width!==void 0&&e.height!==void 0;if(T){s===void 0&&(s=16777215),a===void 0&&(a=1),x===void 0&&(x=null),P===void 0&&(P=1),n===void 0&&(n=0);var i=Ur(e,An[0]);i.x-=n,i.y-=n;var h=zh(e,An[1]);h.x+=n,h.y-=n;var m=wm(e,An[2]);m.x+=n,m.y+=n;var c=Uh(e,An[3]);c.x-=n,c.y+=n,x!==null&&t.fillStyle(x,P).fillPoints(An,!0,!0),s!==null&&t.lineStyle(a,s).strokePoints(An,!0,!0)}},"Draw"),An=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}];const uR=Phaser.Utils.Objects.GetValue;var E9=r(function(e,t){var s=uR(t,"drawContainer",!0),a=uR(t,"children");return a===void 0&&(a=this.getAllVisibleChildren([this])),s||(a=a.filter(function(x){return!x.isRexContainerLite})),UL(a,e,t),this},"DrawBounds$1");const M9=Phaser.Math.RotateAround;var w9=r(function(e,t,s){s===void 0&&(s=t);var a={x:(t-e.originX)*e.displayWidth,y:(s-e.originY)*e.displayHeight};return M9(a,0,0,e.rotation),e.originX=t,e.originY=s,e.x=e.x+a.x,e.y=e.y+a.y,e},"ChangeOrigin$1"),R9=r(function(e,t){this.syncChildrenEnable=!1,w9(this,e,t),this.syncChildrenEnable=!0;for(var s=this.getAllChildren(),a=0,x=s.length;a<x;a++)this.resetChildPositionState(s[a]);return this},"ChangeOrigin"),XL={changeOrigin:R9,drawBounds:E9};Object.assign(XL,$B,KB,JB,jB,QB,qB,t9,e9,i9,s9,r9,n9,a9,o9,h9,l9,d9,p9,g9,P9);const TC=class TC extends Hl{constructor(t,s,a,x,P,n){Array.isArray(x)&&(n=x,x=void 0,P=void 0),super(t,s,a,x,P),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,s){return this.setSize(t,s),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return ni(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=ni(this);return t?t.setParentContainerFlag:!1}};r(TC,"ContainerLite");let Ve=TC;Object.assign(Ve.prototype,XL);const O9={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}},Kl={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},b9=Phaser.Scene;var Yr=r(function(e){return e instanceof b9},"IsSceneObject"),Vo=r(function(e){return e==null||typeof e!="object"?null:Yr(e)?e:e.scene&&Yr(e.scene)?e.scene:e.parent&&e.parent.scene&&Yr(e.parent.scene)?e.parent.scene:null},"GetSceneObject");const A9=Phaser.Game;var dR=r(function(e){return e instanceof A9},"IsGame"),$r=r(function(e){if(e==null||typeof e!="object")return null;if(dR(e))return e;if(dR(e.game))return e.game;if(Yr(e))return e.sys.game;if(Yr(e.scene))return e.scene.sys.game},"GetGame");const L9=Phaser.Utils.Objects.GetValue,SC=class SC{constructor(t,s){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(L9(s,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,s){this.destroy(s)}setParent(t){return this.parent=t,this.scene=Vo(t),this.game=$r(t),this}};r(SC,"ComponentBase");let Nt=SC;Object.assign(Nt.prototype,Kl);const F9=Phaser.Utils.Objects.GetValue,PC=class PC extends Nt{constructor(t,s){super(t,s),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(F9(s,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=I9[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}};r(PC,"TickTask");let io=PC;const I9={no:0,lazy:1,always:2},D9=Phaser.Utils.Objects.GetValue,EC=class EC extends io{constructor(t,s){super(t,s);var a=this.scene?"update":"step";this.tickEventName=D9(s,"tickEventName",a),this.isSceneTicker=!B9(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}};r(EC,"SceneUpdateTickTask");let Rm=EC;var B9=r(function(e){return e==="step"||e==="poststep"},"IsGameUpdateEvent");const vs=Phaser.Utils.Objects.GetValue,fR=Phaser.Math.Clamp;var ca;let YL=(ca=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=vs(t,"state",Jo),this.timeScale=vs(t,"timeScale",1),this.delay=vs(t,"delay",0),this.repeat=vs(t,"repeat",0),this.repeatCounter=vs(t,"repeatCounter",0),this.repeatDelay=vs(t,"repeatDelay",0),this.duration=vs(t,"duration",0),this.nowTime=vs(t,"nowTime",0),this.justRestart=vs(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Ln:jo,this.repeatCounter=0,this}stop(){return this.state=Jo,this}update(t,s){this.state===Jo||this.state===Tu||s===0||this.timeScale===0||(this.nowTime+=s*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=cR)):(this.nowTime=this.duration,this.state=Tu):this.nowTime>=0&&(this.state=Ln))}get t(){var t;switch(this.state){case Jo:case jo:case cR:t=0;break;case Ln:t=this.nowTime/this.duration;break;case Tu:t=1;break}return fR(t,0,1)}set t(t){t=fR(t,-1,1),t<0?(this.state=jo,this.nowTime=-this.delay*t):(this.state=Ln,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Jo}get isDelay(){return this.state===jo}get isCountDown(){return this.state===Ln}get isRunning(){return this.state===jo||this.state===Ln}get isDone(){return this.state===Tu}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}},r(ca,"Timer"),ca);const Jo=0,jo=1,Ln=2,cR=3,Tu=-1,MC=class MC extends Rm{constructor(t,s){super(t,s),this.timer=new YL}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}};r(MC,"TimerTickTask");let Om=MC;const Qo=Phaser.Utils.Objects.GetValue,vR=Phaser.Utils.Objects.GetAdvancedValue,G9=Phaser.Tweens.Builders.GetEaseFunction,wC=class wC extends Om{resetFromJSON(t){return this.timer.resetFromJSON(Qo(t,"timer")),this.setEnable(Qo(t,"enable",!0)),this.setTarget(Qo(t,"target",this.parent)),this.setDelay(vR(t,"delay",0)),this.setDuration(vR(t,"duration",1e3)),this.setEase(Qo(t,"ease","Linear")),this.setRepeat(Qo(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=G9(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,s){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var a=this.target,x=this.timer;return x.update(t,s),x.isDelay||this.updateTarget(a,x),this.emit("update",a,this),x.isDone&&this.complete(),this}updateTarget(t,s){}};r(wC,"EaseValueTaskBase");let ws=wC;const Ds=Phaser.Utils.Objects.GetValue,N9=Phaser.Math.Linear,RC=class RC extends ws{constructor(t,s){super(t,s),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var s=this.target;this.propertyKey=Ds(t,"key","value");var a=s[this.propertyKey];return this.fromValue=Ds(t,"from",a),this.toValue=Ds(t,"to",a),this.setEase(Ds(t,"ease",this.ease)),this.setDuration(Ds(t,"duration",this.duration)),this.setRepeat(Ds(t,"repeat",0)),this.setDelay(Ds(t,"delay",0)),this.setRepeatDelay(Ds(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),s[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,s){var a=s.t;a=this.easeFn(a),t[this.propertyKey]=N9(this.fromValue,this.toValue,a)}};r(RC,"EaseValueTask");let ai=RC;var hy=r(function(e,t,s,a){if(s===void 0)s=0;else{var x=typeof s;x==="boolean"?(a=s,s=0):x==="string"&&(s=k9[s])}a===void 0?a={}:a===!0&&(a=V9);var P=t.width/e.width,n=t.height/e.height,T=s?Math.max(P,n):Math.min(P,n);return a.width=e.width*T,a.height=e.height*T,a},"FitTo");const k9={fit:0,FIT:0,envelop:1,ENVELOP:1};var V9={},WL=r(function(){for(var e=this.scaleMode-1,t=0,s=this.images.length;t<s;t++){var a=this.images[t],x=hy(a,this,e,!0),P=x.width/a.width;this.setChildLocalScale(a,P),a.biasScale=P}},"FitImages"),Rd=r(function(e){this.scaleMode===0?this.resize(e.width,e.height):WL.call(this)},"OnTextureChange");const pR=Phaser.Utils.Objects.IsPlainObject,Ig=Phaser.Utils.Objects.GetValue,z9=Phaser.Utils.Array.GetRandom;var U9={out:0,in:1},Hi=r(function(e,t,...s){for(var a=0,x=s.length;a<x;a++){var P=s[a];if(P&&P.hasOwnProperty(e))return P[e]}return t},"GetValueFromConfigs");const X9={setTransitionDirection(e){return typeof e=="string"&&(e=U9[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),Rd.call(this,this.nextImage),this},transit(e,t,s){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),s!==void 0&&(e={key:e,frame:t,mode:s}),this.currentTransitionMode=void 0,pR(e)){var a=e;e=Ig(a,"key",void 0),t=Ig(a,"frame",void 0),s=Ig(a,"mode"),Array.isArray(s)&&(s=z9(s));var x;this.transitionModes&&this.transitionModes.hasOwnProperty(s)&&(x=this.transitionModes[s],this.currentTransitionMode=s),this.setDuration(Hi("duration",this.duration,a,x)).setEaseFunction(Hi("ease",this.easeFunction,a,x)).setTransitionDirection(Hi("dir",this.dir,a,x));var P=Hi("mask",void 0,a,x);P&&this.setMaskGameObject(P),this.setMaskEnable(P===!0);var n=Hi("onStart",void 0,a,x),T=Hi("onProgress",void 0,a,x),i=Hi("onComplete",void 0,a,x);(n!==void 0||T!==void 0||i!==void 0)&&this.setTransitionStartCallback(n,Hi("onStartScope",void 0,a,x)).setTransitionProgressCallback(T,Hi("onProgressScope",void 0,a,x)).setTransitionCompleteCallback(i,Hi("onCompleteScope",void 0,a,x))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),pR(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new ai(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},Y9=Phaser.GameObjects.Graphics.prototype.setPosition;var W9=r(function(e,t){var s=this.parent;return e===void 0&&(e=s.x),t===void 0&&(t=s.y),Y9.call(this,e,t),this},"SetPosition$1");const gR=Phaser.Geom.Rectangle,mR=Phaser.Geom.Circle;var H9=r(function(e,t,s,a,x,P,n){switch(e){case 1:a=a.left;var T=-t*(x-.5),i=-s*(P-.5),h=Math.min(t,s)/2+a;(n===void 0||!(n instanceof mR))&&(n=new mR),n.setTo(T,i,h);break;default:var m=-(t*x)-a.left,c=-(s*P)-a.top,u=t+a.left+a.right,l=s+a.top+a.bottom;(n===void 0||!(n instanceof gR))&&(n=new gR),n.setTo(m,c,u,l);break}return n},"GetGeom"),HL=r(function(e,t,s,a,x){switch(this.geom=H9(this.shapeType,e,t,s,a,x,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},"DrawShape"),Zl=r(function(e,t){for(var s in e)if(!(s in t)||e[s]!==t[s])return!1;for(var s in t)if(!(s in e))return!1;return!0},"IsKeyValueEqual"),$9=r(function(e,t,s){var a=this.parent;e===void 0&&(e=a.width),t===void 0&&(t=a.height),s===void 0?s=this.padding:typeof s=="number"&&(s=GetBoundsConfig(s));var x=this.width!==e||this.height!==t,P=this.padding!==s&&!Zl(this.padding,s);return!x&&!P?this:(this.width=e,this.height=t,P&&Ni(s,this.padding),this.originX=a.originX,this.originY=a.originY,HL.call(this,e,t,s,a.originX,a.originY),this)},"Resize$1"),K9=r(function(e,t){t===void 0&&(t=e);var s=this.parent;return e===void 0&&(e=s.originX),t===void 0&&(t=s.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,HL.call(this,this.width,this.height,this.padding,e,t),this)},"SetOrigin"),Z9=r(function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},"Contains$2"),J9={setPosition:W9,resize:$9,setOrigin:K9,contains:Z9};const Su=Phaser.Utils.Objects.GetValue;var mn=r(function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=Su(e,"left",0),t.right=Su(e,"right",0),t.top=Su(e,"top",0),t.bottom=Su(e,"bottom",0)),t},"GetBoundsConfig$1");const j9=Phaser.GameObjects.Graphics,OC=class OC extends j9{constructor(t,s,a){s===void 0&&(s=0),typeof s=="string"&&(s=Q9[s]),super(t.scene),this.parent=t,this.shapeType=s,this.padding=mn(a),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}};r(OC,"DefaultMaskGraphics");let so=OC;const Q9={rectangle:0,circle:1};Object.assign(so.prototype,J9);const q9={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof so)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new so(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,s){return t===void 0&&(t=!0),s===void 0&&(s=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(s)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var s=this.getCellImages(),a=0,x=s.length;a<x;a++)this.setImageMaskEnable(s[a],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var _9=r(function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var s;return e==="__BASE"?s=r(function(a,x){return`${a}${t}${x}`},"callback"):s=r(function(a,x){return`${e}_${a}${t}${x}`},"callback"),s},"GetFrameNameCallback"),tG=r(function(e,t,s,a,x,P){s==null&&(s="__BASE"),P||(P=_9(s,P));for(var n=e.sys.textures.get(t),T=typeof s=="object"?s:n.get(s),i=T.width,h=T.height,m,c,u,l=i/a,o=h/x,d=T.cutX,v=T.cutY,f=0,p=0,g=0;g<x;g++){f=0;for(var y=0;y<a;y++)u=P(y,g),m=f+d,c=p+v,n.add(u,0,m,c,l,o),f+=l;p+=o}return{getFrameNameCallback:P,cellWidth:l,cellHeight:o,columns:a,rows:x}},"GenerateFrames");const ps=Phaser.Utils.Objects.GetValue,eG=Phaser.GameObjects.Image,iG=Phaser.Utils.Objects.IsPlainObject,sG=Phaser.Math.RotateAround;var rG=r(function(e,t,s,a){iG(t)&&(a=t,t=ps(a,"columns",1),s=ps(a,"rows",1));var x=ps(a,"createImageCallback");if(!x){var P=ps(a,"ImageClass",eG);x=r(function(D,B,V){return new P(D,0,0,B,V)},"createImageCallback")}for(var n=ps(a,"originX",.5),T=ps(a,"originY",.5),i=ps(a,"add",!0),h=ps(a,"align",i),m=ps(a,"objectPool",void 0),c=e.scene,u=e.texture,l=e.frame,o=tG(c,u,l,t,s),d=o.getFrameNameCallback,v=e.scaleX,f=e.scaleY,p=e.rotation,g=e.getTopLeft(),y=g.x,C=g.y,S=[],E=o.cellWidth*v,w=o.cellHeight*f,M=0;M<s;M++)for(var R=0;R<t;R++){var O,b=d(R,M);if(m&&m.length>0?O=m.pop().setTexture(u,b):O=x(c,u,b),i&&c.add.existing(O),h){var A=y+E*R,I=C+w*M,L=A+n*E,F=I+T*w;O.setOrigin(n,T).setPosition(L,F).setScale(v,f).setRotation(p),sG(O,y,C,p)}S.push(O)}return S},"GridCutImage");const nG={gridCutImage(e,t,s,a){a===void 0&&(a={}),a.objectPool=this.imagesPool;for(var x=rG(e,t,s,a),P,n=0,T=x.length;n<T;n++)P=x[n],P.setVisible(!0),this.add(P);return this.cellImages=x,this.setChildLocalVisible(e,!1),x},gridCutCurrentImage(e,t,s){return this.gridCutImage(this.currentImage,e,t,s)},gridCutNextImage(e,t,s){return this.gridCutImage(this.nextImage,e,t,s)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,s,a,x=0,P=t.length;x<P;x++)s=t[x],this.setChildLocalAlpha(s,1).setChildLocalScale(s,1).setChildLocalVisible(s,!1),s.clearMask(),a=s.frame.name,s.setTexture(),e.remove(a);return this.imagesPool.push(...t),t.length=0,this}},$L={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var KL={};Object.assign(KL,O9,X9,q9,nG,$L);var aG=r(function(e,t,s,a){},"OnStart"),oG=r(function(e,t,s,a){e.setChildLocalAlpha(t,1-a).setChildLocalAlpha(s,a)},"OnProgress"),hG=r(function(e,t,s,a){e.setChildLocalAlpha(t,1)},"OnComplete");const xR=Phaser.Utils.Objects.IsPlainObject,de=Phaser.Utils.Objects.GetValue,lG=Phaser.Math.Clamp,bC=class bC extends Ve{constructor(t,s,a,x,P,n){xR(s)?(n=s,s=de(n,"x",0),a=de(n,"y",0),x=de(n,"key",void 0),P=de(n,"frame",void 0)):xR(P)&&(n=P,P=void 0);var T=de(n,"back",void 0),i=de(n,"front",void 0);T||(T=t.add.image(s,a,x,P)),i||(i=t.add.image(s,a,x,P));var h=de(n,"width",void 0),m=de(n,"height",void 0),c=h!==void 0&&m!==void 0?1:0;h===void 0&&(h=i.width),m===void 0&&(m=i.height),super(t,s,a,h,m),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,c=de(n,"scaleMode",c),typeof c=="string"&&(c=uG[c]),this.scaleMode=c,T.setVisible(!1),this.addMultiple([T,i]),this.backImage=T,this.frontImage=i,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var u=de(n,"onStart",void 0),l=de(n,"onProgress",void 0),o=de(n,"onComplete",void 0),d=de(n,"dir",0);u===void 0&&l===void 0&&o===void 0&&(u=aG,l=oG,o=hG,d=0),this.setTransitionStartCallback(u,de(n,"onStartScope",void 0)).setTransitionProgressCallback(l,de(n,"onProgressScope",void 0)).setTransitionCompleteCallback(o,de(n,"onCompleteScope",void 0)).setTransitionDirection(d).setDuration(de(n,"duration",1e3)).setEaseFunction(de(n,"ease","Linear"));var v=de(n,"mask",void 0);v&&this.setMaskGameObject(v),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,Rd.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,s){return this.flipX=t,this.flipY=s,this}get t(){return this._t}set t(t){if(t=lG(t,0,1),this._t!==t){this._t=t;var s=this.currentImage,a=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),Dg.call(this,this.onStartCallback,this.onStartCallbackScope,this,s,a,t)),Dg.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,s,a,t),t===1){Dg.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,s,a,t);var x=a.texture.key,P=a.frame.name;this.frontImage.setTexture(x,P),this.backImage.setTexture(x,P),Rd.call(this,a),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,s){return super.setOrigin(t,s),this.backImage.setOrigin(t,s),this.frontImage.setOrigin(t,s),this.maskGameObject&&this.maskGameObject.setOrigin(t,s),this}setTexture(t,s){return this.frontImage.setTexture(t,s),this.backImage.setTexture(t,s).setVisible(!1),Rd.call(this,this.frontImage),this}setSize(t,s){return super.setSize(t,s),this.scaleMode&&WL.call(this),this}};r(bC,"TransitionImage");let ro=bC;var Dg=r(function(e,t,s,a,x,P){if(e){if(this.scaleMode){var n;a.biasScale>0&&(n=this.getChildLocalScaleX(a),n=n/a.biasScale,this.setChildLocalScale(a,n)),x.biasScale&&(n=this.getChildLocalScaleX(x),n=n/x.biasScale,this.setChildLocalScale(x,n))}if(t?e.call(t,s,a,x,P):e(s,a,x,P),this.scaleMode){var n;a.biasScale>0&&(n=this.getChildLocalScaleX(a),n=n*a.biasScale,this.setChildLocalScale(a,n)),x.biasScale&&(n=this.getChildLocalScaleX(x),n=n*x.biasScale,this.setChildLocalScale(x,n))}}},"RunCallback");Object.assign(ro.prototype,KL);const uG={fit:1,FIT:1,envelop:2,ENVELOP:2},dG="slideLeft",fG="slideRight",cG="slideUp",vG="slideDown",pG="slideAwayLeft",gG="slideAwayRight",mG="slideAwayUp",xG="slideAwayDown",yG="pushLeft",CG="pushRight",TG="pushUp",SG="pushDown",PG="zoomOut",EG="zoomIn",MG="zoomInOut",wG="fade",RG="crossFade",OG="wipeLeft",bG="wipeRight",AG="wipeUp",LG="wipeDown",FG="irisOut",IG="irisIn",DG="irisInOut",BG="pieOut",GG="pieIn",NG="pieInOut",kG="blinds",VG="squares",zG="diamonds",UG="circles",XG="curtain",YG="pixellate",WG="dissolve",HG="revealLeft",$G="revealRight",KG="revealUp",ZG="revealDown";var JG=r(function(e){e.addTransitionMode(gG,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=s.width*x;t.setChildLocalPosition(s,P,0)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(s,0,0)},"onComplete")}).addTransitionMode(pG,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=s.width*-x;t.setChildLocalPosition(s,P,0)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(s,0,0)},"onComplete")}).addTransitionMode(xG,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=s.height*x;t.setChildLocalPosition(s,0,P)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(s,0,0)},"onComplete")}).addTransitionMode(mG,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=s.height*-x;t.setChildLocalPosition(s,0,P)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(s,0,0)},"onComplete")})},"AddSlideAwayModes"),jG=r(function(e){e.addTransitionMode(fG,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=a.width*(x-1);t.setChildLocalPosition(a,P,0)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(dG,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=a.width*(1-x);t.setChildLocalPosition(a,P,0)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(vG,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=a.height*(x-1);t.setChildLocalPosition(a,0,P)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(cG,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=a.height*(1-x);t.setChildLocalPosition(a,0,P)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(a,0,0)},"onComplete")})},"AddSlideModes"),QG=r(function(e){e.addTransitionMode(CG,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=s.width*x;t.setChildLocalPosition(s,P,0);var P=a.width*(x-1);t.setChildLocalPosition(a,P,0)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(yG,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=s.width*-x;t.setChildLocalPosition(s,P,0);var P=a.width*(1-x);t.setChildLocalPosition(a,P,0)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(SG,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=s.height*x;t.setChildLocalPosition(s,0,P);var P=a.height*(x-1);t.setChildLocalPosition(a,0,P)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(TG,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=s.height*-x;t.setChildLocalPosition(s,0,P);var P=a.height*(1-x);t.setChildLocalPosition(a,0,P)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(a,0,0)},"onComplete")})},"AddSliderModes"),Bt=r(function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e},"Yoyo$1"),qG=r(function(e){e.addTransitionMode(PG,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=1-x;t.setChildLocalScale(s,P,P)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalScale(s,1,1)},"onComplete")}).addTransitionMode(EG,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){var P=x;t.setChildLocalScale(a,P,P)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalScale(a,1,1)},"onComplete")}).addTransitionMode(MG,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,a,x){a.tint=0},"onStart"),onProgress:r(function(t,s,a,x){var P;x<.5?(P=1-Bt(x),t.setChildLocalScale(s,P,P)):(s.visible&&t.setChildVisible(s,!1),P=1-Bt(x),t.setChildLocalScale(a,P,P))},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalScale(s,1,1),t.setChildVisible(s,!0),s.tint=16777215,t.setChildLocalScale(a,1,1),t.setChildVisible(a,!0),a.tint=16777215},"onComplete")})},"AddZoomModes"),_G=r(function(e){e.addTransitionMode(wG,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,a,x){a.tint=0},"onStart"),onProgress:r(function(t,s,a,x){var P;x<.5?(x=Bt(x),P=Math.floor(255*(1-x)),s.tint=(P<<16)+(P<<8)+P):(s.visible&&t.setChildVisible(s,!1),x=Bt(x),P=Math.floor(255*(1-x)),a.tint=(P<<16)+(P<<8)+P)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildVisible(s,!0),s.tint=16777215,t.setChildVisible(a,!0),a.tint=16777215},"onComplete")}).addTransitionMode(RG,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,a,x){},"onStart"),onProgress:r(function(t,s,a,x){t.setChildLocalAlpha(s,1-x),t.setChildLocalAlpha(a,x)},"onProgress"),onComplete:r(function(t,s,a,x){t.setChildLocalAlpha(s,1)},"onComplete")})},"AddFadeModes");const t8=Phaser.GameObjects.GetCalcMatrix;var e8=r(function(e,t,s,a){t.updateData(),s.addToRenderList(t);var x=e.pipelines.set(t.pipeline),P=t8(t,s,a),n=x.calcMatrix.copyFrom(P.calc),T=t._displayOriginX,i=t._displayOriginY,h=s.alpha*t.alpha;e.pipelines.preBatch(t);for(var m=t.geom,c,u=0,l=m.length;u<l;u++)c=m[u],c.visible&&c.webglRender(x,n,h,T,i);e.pipelines.postBatch(t)},"WebGLRenderer$2");const i8=Phaser.Renderer.Canvas.SetTransform;var s8=r(function(e,t,s,a){t.updateData(),s.addToRenderList(t);var x=e.currentContext;if(i8(e,x,t,s,a)){for(var P=t._displayOriginX,n=t._displayOriginY,T=t.geom,i,h=0,m=T.length;h<m;h++)i=T[h],i.visible&&i.canvasRender(x,P,n);x.restore()}},"CanvasRenderer$2");const r8={renderWebGL:e8,renderCanvas:s8},n8=Phaser.GameObjects.Shape,a8=Phaser.Utils.Array.Remove,AC=class AC extends n8{constructor(t,s,a,x,P){s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=2),P===void 0&&(P=x),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(s,a),this.setSize(x,P),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,s){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==s,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=s,this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=t,a.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==s,this._fillColor=t,this._fillAlpha=s,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,s,a){return a===void 0&&(a=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==s||this.strokeAlpha!==a,this._lineWidth=t,this._strokeColor=s,this._strokeAlpha=a,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,s=0,a=t.length;s<a;s++){var x=t[s];x.dirty&&x.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,er(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var s=t.name;return s&&(this.shapes[s]=t),this.dirty=!0,this}deleteShape(t){var s=this.getShape(t);return s&&(delete this.shapes[t],a8(this.geom,s)),this}};r(AC,"BaseShapes");let ki=AC;Object.assign(ki.prototype,r8);var o8=r(function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},"FillStyle"),h8=r(function(e,t,s){return e==null||t==null?this.isStroked=!1:(s===void 0&&(s=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=s),this},"LineStyle");const l8={fillStyle:o8,lineStyle:h8};var At=r(function(e,t,s){if(!e||typeof e=="number")return s;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return s}for(var a=t,x=e,P=s,n=0;n<a.length;n++)if(t=a[n],x.hasOwnProperty(t))P=x[t],x=P;else{P=s;break}return P},"GetValue$3A");const hc={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var s=e;for(e in s)this.data[e]=s[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:At(this.data,e,t)},incData(e,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(e,this.getData(e,s)+t),this},mulData(e,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(e,this.getData(e,s)*t),this},clearData(){return this.data&&er(this.data),this}},LC=class LC{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,s,a,x,P){}canvasRender(t,s,a){}updateData(){this.dirty=!1}};r(LC,"BaseGeom");let no=LC;Object.assign(no.prototype,l8,hc);var u8=Phaser.Renderer.WebGL.Utils,ZL=r(function(e,t,s,a,x,P){for(var n=u8.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*a),T=s.pathData,i=s.pathIndexes,h=0;h<i.length;h+=3){var m=i[h]*2,c=i[h+1]*2,u=i[h+2]*2,l=T[m+0]-x,o=T[m+1]-P,d=T[c+0]-x,v=T[c+1]-P,f=T[u+0]-x,p=T[u+1]-P,g=t.getX(l,o),y=t.getY(l,o),C=t.getX(d,v),S=t.getY(d,v),E=t.getX(f,p),w=t.getY(f,p);e.batchTri(s,g,y,C,S,E,w,0,0,1,1,n,n,n,2)}},"FillPathWebGL"),d8=Phaser.Renderer.WebGL.Utils,lc=r(function(e,t,s,a,x){var P=e.strokeTint,n=d8.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*s);P.TL=n,P.TR=n,P.BL=n,P.BR=n;var T=t.pathData,i=T.length-1,h=t.lineWidth,m=h/2,c=T[0]-a,u=T[1]-x;t.closePath||(i-=2);for(var l=2;l<i;l+=2){var o=T[l]-a,d=T[l+1]-x;e.batchLine(c,u,o,d,m,m,h,l-2,t.closePath?l===i-1:!1),c=o,u=d}},"StrokePathWebGL"),Jl=r(function(e,t,s,a){var x=t.fillColor,P=t.fillAlpha,n=(x&16711680)>>>16,T=(x&65280)>>>8,i=x&255;e.fillStyle="rgba("+n+","+T+","+i+","+P+")"},"FillStyleCanvas"),jl=r(function(e,t,s,a){var x=t.strokeColor,P=t.strokeAlpha,n=(x&16711680)>>>16,T=(x&65280)>>>8,i=x&255;e.strokeStyle="rgba("+n+","+T+","+i+","+P+")",e.lineWidth=t.lineWidth},"LineStyleCanvas");const f8=Phaser.Geom.Polygon.Earcut,FC=class FC extends no{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=f8(this.pathData),super.updateData(),this}webglRender(t,s,a,x,P){this.isFilled&&ZL(t,s,this,a,x,P),this.isStroked&&lc(t,this,a,x,P)}canvasRender(t,s,a){var x=this.pathData,P=x.length-1,n=x[0]-s,T=x[1]-a;t.beginPath(),t.moveTo(n,T),this.closePath||(P-=2);for(var i=2;i<P;i+=2){var h=x[i]-s,m=x[i+1]-a;t.lineTo(h,m)}this.closePath&&t.closePath(),this.isFilled&&(Jl(t,this),t.fill()),this.isStroked&&(jl(t,this),t.stroke())}};r(FC,"PathBase");let Kr=FC;var ge=r(function(e,t,s){var a=s.length;if(a>=2){var x=s[a-2],P=s[a-1];if(e===x&&t===P)return s}return s.push(e,t),s},"LineTo");const yR=Phaser.Math.DegToRad;var me=r(function(e,t,s,a,x,P,n,T,i){n&&P>x?P-=360:!n&&P<x&&(P+=360);var h=P-x,m=yR(h)/T;x=yR(x);for(var c=0;c<=T;c++){var u=x+m*c,l=e+s*Math.cos(u),o=t+a*Math.sin(u);ge(l,o,i)}return i},"ArcTo");const CR=Phaser.Math.DegToRad,IC=class IC extends Kr{constructor(t,s,a,x,P,n,T,i){t===void 0&&(t=0),s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=0),P===void 0&&(P=0),n===void 0&&(n=360),T===void 0&&(T=!1),i===void 0&&(i=!1),super(),this.setCenterPosition(t,s),this.setRadius(a,x),this.setAngle(P,n,T),this.setPie(i),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,s){return s===void 0&&(s=t),this.x=t,this.y=s,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,s){return s===void 0&&(s=t),this.radiusX=t,this.radiusY=s,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,s,a){return a===void 0&&(a=!1),this.startAngle=t,this.endAngle=s,this.anticlockwise=a,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),me(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,s,a){t.beginPath();var x=this.x-s,P=this.y-a,n=CR(this.startAngle),T=CR(this.endAngle);this.pie&&(t.moveTo(x,P),t.lineTo(x+Math.cos(n)*this.radiusX,P+Math.sin(n)*this.radiusY)),t.ellipse(x,P,this.radiusX,this.radiusY,0,n,T,this.anticlockwise),this.pie&&t.lineTo(x,P),this.isFilled&&(Jl(t,this),t.fill()),this.isStroked&&(jl(t,this),t.stroke())}};r(IC,"Arc");let ar=IC;const DC=class DC extends ar{constructor(t,s,a){super(t,s,a,a,0,360)}};r(DC,"Circle");let Ze=DC;const BC=class BC extends Kr{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),s=0,a=t.length;s<a;s++)this.pathData.push(t[s].x,t[s].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}};r(BC,"Curve");let bm=BC;const GC=class GC extends ar{constructor(t,s,a,x){super(t,s,a,x,0,360)}};r(GC,"Ellipse");let Am=GC;const NC=class NC extends Kr{constructor(t,s,a,x){t===void 0&&(t=0),s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=0),super(),this.setP0(t,s),this.setP1(a,x)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}};r(NC,"Line");let rs=NC;var c8=r(function(e,t,s){return s.length=0,e!=null&&s.push(e,t),s},"StartAt");const TR=Phaser.Math.Interpolation.QuadraticBezier;var v8=r(function(e,t,s,a,x,P){for(var n=P.length,T=P[n-2],i=P[n-1],h=1,m=x-1;h<=m;h++){var c=h/m;P.push(TR(c,T,e,s),TR(c,i,t,a))}return P},"QuadraticBezierTo");const SR=Phaser.Math.Interpolation.CubicBezier;var p8=r(function(e,t,s,a,x,P,n,T){for(var i=T.length,h=T[i-2],m=T[i-1],c=1,u=n-1;c<=u;c++){var l=c/u;T.push(SR(l,h,e,s,x),SR(l,m,t,a,P))}return T},"CubicBezierCurveTo");const PR=Phaser.Math.Interpolation.CatmullRom;var g8=r(function(e,t,s){for(var a=s.length,x=s[a-2],P=s[a-1],n=[x],T=[P],i=0,h=e.length;i<h;i+=2)n.push(e[i]),T.push(e[i+1]);for(var i=1,m=t-1;i<=m;i++){var c=i/m;s.push(PR(n,c),PR(T,c))}return s},"CatmullRomTo"),JL=r(function(e){var t=e.length;if(t<2)return e;var s=e[t-2],a=e[t-1];return e.push(s),e.push(a),e},"DuplicateLast");const m8={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,c8(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,s){return s===void 0&&(s=!1),s&&(e+=this.lastPointX,t+=this.lastPointY),ge(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,s,a,x,P,n){return n===void 0&&(n=!1),me(e,t,s,a,x,P,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,s,a,x,P){return this.ellipticalArc(e,t,s,s,a,x,P),this},quadraticBezierTo(e,t,s,a){return v8(e,t,s,a,this.iterations,this.pathData),this.lastPointX=s,this.lastPointY=a,this},cubicBezierTo(e,t,s,a,x,P){return p8(e,t,s,a,x,P,this.iterations,this.pathData),this.lastPointX=x,this.lastPointY=P,this},catmullRomTo(...e){return g8(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return JL(this.pathData),this}},x8=Phaser.Math.RotateAround;var y8=r(function(e,t,s,a){for(var x={x:0,y:0},P=0,n=a.length-1;P<n;P+=2)x.x=a[P],x.y=a[P+1],x8(x,e,t,s),a[P]=x.x,a[P+1]=x.y;return a},"RotateAround$5"),C8=r(function(e,t,s,a,x){for(var P=0,n=x.length-1;P<n;P+=2){var T=x[P]-e,i=x[P+1]-t;T*=s,i*=a,x[P]=T+e,x[P+1]=i+t}return x},"Scale$1"),jL=r(function(e,t,s){for(var a=0,x=s.length-1;a<x;a+=2)s[a]+=e,s[a+1]+=t;return s},"Offset");const T8=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const S8={rotateAround(e,t,s){if(this.pathData.length===0)return this;s=T8(s),y8(e,t,s,this.pathData);var a=this.pathData.length;return this.lastPointX=this.pathData[a-2],this.lastPointY=this.pathData[a-1],this},scale(e,t,s,a){return this.pathData.length===0?this:(C8(e,t,s,a,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return jL(e,t,this.pathData),this}};var Hd=r(function(e,t,s,a){s===void 0&&(s=0),a===void 0&&(a=t.length),e.length=a-s;for(var x=0,P=e.length;x<P;x++)e[x]=t[x+s];return e},"Copy");const P8={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(Hd(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},E8=Phaser.Math.Distance.Between,M8=Phaser.Math.Wrap,w8=Phaser.Math.Linear;var ER=r(function(e,t,s,a,x){if(a===void 0&&(a=s,s=0),s=MR(s),a=MR(a),s!==a){var P=t[t.length-1],n=P*s,T=P*a;s<a?Bg(e,t,n,T,x):(Bg(e,t,n,P,x),Bg(e,t,0,T,x)),JL(x)}},"AppendFromPathSegment"),Bg=r(function(e,t,s,a,x){for(var P=s>0,n=0,T=t.length;n<T;n++){var i=n*2,h=t[n];if(P){if(h<s)continue;if(h==s)P=!1;else{var m=h-t[n-1],c=1-(h-s)/m;x.push(Pu(e,i-2,i,c)),x.push(Pu(e,i-1,i+1,c)),P=!1}}if(h<=a){if(x.push(e[i]),x.push(e[i+1]),h===a)break}else{var m=h-t[n-1],c=1-(h-a)/m;x.push(Pu(e,i-2,i,c)),x.push(Pu(e,i-1,i+1,c));break}}},"AddPathSegment"),Pu=r(function(e,t,s,a){var x=e[t],P=e[s];return w8(x,P,a)},"GetInterpolation"),MR=r(function(e){return e===0?0:e%1===0?1:M8(e,0,1)},"WrapT");const R8={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,s,a,x,P,n,T=0,i=0,h=t.length;i<h;i+=2)x=t[i],P=t[i+1],n=s===void 0?0:E8(s,a,x,P),T+=n,e.push(T),s=x,a=P;return this.totalPathLength=T,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,ER(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,s){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),ER(e.pathData,e.accumulationLengths,t,s,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},O8={draw(e,t,s){var a=this.toPoints();return t&&e.fillPoints(a,this.closePath,this.closePath),s&&e.strokePoints(a,this.closePath,this.closePath),this}};var b8=r(function(e,t){t===void 0&&(t=[]);for(var s=0,a=e.length-1;s<a;s+=2)t.push({x:e[s],y:e[s+1]});return t},"ToPoints");const A8=Phaser.Geom.Polygon;var L8=r(function(e,t){return t===void 0&&(t=new A8),t.setTo(e),t},"ToPolygon");const kC=class kC{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return b8(this.pathData)}toPolygon(t){return L8(this.pathData,t)}};r(kC,"PathDataBuilder");let $d=kC;Object.assign($d.prototype,m8,S8,P8,R8,O8);const VC=class VC extends Kr{constructor(){super(),this.builder=new $d(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,s){return this.builder.startAt(t,s),this.dirty=!0,this}lineTo(t,s,a){return this.builder.lineTo(t,s,a),this.dirty=!0,this}verticalLineTo(t,s){return this.builder.verticalLineTo(t,s),this.dirty=!0,this}horizontalLineTo(t,s){return this.builder.horizontalLineTo(t,s),this.dirty=!0,this}ellipticalArc(t,s,a,x,P,n,T){return this.builder.ellipticalArc(t,s,a,x,P,n,T),this.dirty=!0,this}arc(t,s,a,x,P,n){return this.builder.arc(t,s,a,x,P,n),this.dirty=!0,this}quadraticBezierTo(t,s,a,x){return this.builder.quadraticBezierTo(t,s,a,x),this.dirty=!0,this}cubicBezierTo(t,s,a,x,P,n){return this.builder.cubicBezierTo(t,s,a,x,P,n),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,s,a){return this.builder.rotateAround(t,s,a),this.dirty=!0,this}scale(t,s,a,x){return this.builder.scale(t,s,a,x),this.dirty=!0,this}offset(t,s){return this.builder.offset(t,s),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,s,a){return this.builder.appendFromPathSegment(t.builder,s,a),this}copyPathFrom(t,s,a){return this.builder.clear().appendFromPathSegment(t.builder,s,a),this}setDisplayPathSegment(t,s){return this.builder.setDisplayPathSegment(t,s),this}};r(VC,"Lines");let ve=VC;const F8=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var va;let I8=(va=class extends no{constructor(t,s,a,x){t===void 0&&(t=0),s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=a),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,s),this.setSize(a,x)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}updateData(){this.pathData.length=0;var t=this.x,s=t+this.width,a=this.y,x=a+this.height;return this.pathData.push(t,a),this.pathData.push(s,a),this.pathData.push(s,x),this.pathData.push(t,x),this.pathData.push(t,a),super.updateData(),this}webglRender(t,s,a,x,P){if(this.isFilled){var n=t.fillTint,T=F8(this.fillColor,this.fillAlpha*a);n.TL=T,n.TR=T,n.BL=T,n.BR=T,t.batchFillRect(-x+this.x,-P+this.y,this.width,this.height)}this.isStroked&&lc(t,this,a,x,P)}canvasRender(t,s,a){this.isFilled&&(Jl(t,this),t.fillRect(-s,-a,this.width,this.height)),this.isStroked&&(jl(t,this),t.beginPath(),t.rect(-s,-a,this.width,this.height),t.stroke())}},r(va,"Rectangle"),va);const Eu=Phaser.Utils.Objects.GetValue;var pa;let Kd=(pa=class extends Kr{constructor(t,s,a,x,P,n){t===void 0&&(t=0),s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=a),P===void 0&&(P=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,s),this.setSize(a,x),this.setRadius(P),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var s=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==s,this._convexTL=s,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var s=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==s,this._convexTR=s,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var s=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==s,this._convexBL=s,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var s=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==s,this._convexBR=s,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=Eu(t,"tl",0),this.radiusTR=Eu(t,"tr",0),this.radiusBL=Eu(t,"bl",0),this.radiusBR=Eu(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var s=this.width,a=this.height,x,P=this.iterations+1;if(x=this.radiusTL,x>0)if(this._convexTL){var n=x,T=x;me(n,T,x,x,180,270,!1,P,t)}else{var n=0,T=0;me(n,T,x,x,90,0,!0,P,t)}else ge(0,0,t);if(x=this.radiusTR,x>0)if(this._convexTR){var n=s-x,T=x;me(n,T,x,x,270,360,!1,P,t)}else{var n=s,T=0;me(n,T,x,x,180,90,!0,P,t)}else ge(s,0,t);if(x=this.radiusBR,x>0)if(this._convexBR){var n=s-x,T=a-x;me(n,T,x,x,0,90,!1,P,t)}else{var n=s,T=a;me(n,T,x,x,270,180,!0,P,t)}else ge(s,a,t);if(x=this.radiusBL,x>0)if(this._convexBL){var n=x,T=a-x;me(n,T,x,x,90,180,!1,P,t)}else{var n=0,T=a;me(n,T,x,x,360,270,!0,P,t)}else ge(0,a,t);return t.push(t[0],t[1]),jL(this.x,this.y,t),super.updateData(),this}},r(pa,"RoundRectangle"),pa);const D8=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var ga;let B8=(ga=class extends no{constructor(t,s,a,x,P,n){t===void 0&&(t=0),s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=0),P===void 0&&(P=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,s),this.setP1(a,x),this.setP2(P,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,s){return this.dirty=this.dirty||this.x2!==t||this.y2!==s,this.x2=t,this.y2=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,s,a,x,P){if(this.isFilled){var n=D8(this.fillColor,this.fillAlpha*a),T=this.x0-x,i=this.y0-P,h=this.x1-x,m=this.y1-P,c=this.x2-x,u=this.y2-P,l=s.getX(T,i),o=s.getY(T,i),d=s.getX(h,m),v=s.getY(h,m),f=s.getX(c,u),p=s.getY(c,u);t.batchTri(l,o,d,v,f,p,n,n,n)}this.isStroked&&lc(t,this,a,x,P)}canvasRender(t,s,a){var x=this.x1-s,P=this.y1-a,n=this.x2-s,T=this.y2-a,i=this.x3-s,h=this.y3-a;t.beginPath(),t.moveTo(x,P),t.lineTo(n,T),t.lineTo(i,h),t.closePath(),this.isFilled&&(Jl(t,this),t.fill()),this.isStroked&&(jl(t,this),t.stroke())}},r(ga,"Triangle"),ga);const G8={arc:ar,circle:Ze,curve:bm,ellipse:Am,line:rs,lines:ve,rectangle:I8,roundRectangle:Kd,triangle:B8},wR=Phaser.Utils.Objects.GetValue,N8=Phaser.Utils.Objects.IsPlainObject,k8=r(function(){for(var e=this.getShapes(),t=0,s=e.length;t<s;t++)e[t].lineStyle().fillStyle()},"ClearAll"),V8={createShape(e,t){var s=G8[e],a=new s;return t&&a.setName(t),a},buildShapes(e){var t=wR(e,"create",void 0);if(N8(t)){var s=t;for(var a in s){var x=s[a];switch(typeof x){case"number":for(var P=0;P<x;P++)this.addShape(this.createShape(a));break;case"string":this.addShape(this.createShape(a,x));break;default:for(var n=x,P=0,T=n.length;P<T;P++)this.addShape(this.createShape(a,n[P]));break}}}else if(Array.isArray(t))for(var s=t,P=0,T=s.length;P<T;P++){var i=s[P];this.addShape(this.createShape(i.type,i.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(wR(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=k8),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},qo=Phaser.Utils.Objects.GetValue,z8=Phaser.Utils.Objects.IsPlainObject,zC=class zC extends ki{constructor(t,s,a,x,P,n){z8(s)&&(n=s,s=qo(n,"x",0),a=qo(n,"y",0),x=qo(n,"width",2),P=qo(n,"height",2)),super(t,s,a,x,P),this.type=qo(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,s,a,x){return typeof a=="boolean"&&(x=a,a=void 0),EL(this,t,s,a,x)}};r(zC,"CustomShapes");let ao=zC;Object.assign(ao.prototype,V8);const U8=Phaser.Math.Linear,RR=Phaser.Math.Percent,X8={setValue(e,t,s){return e==null?this:(t!==void 0&&(e=RR(e,t,s)),this.value=e,this)},addValue(e,t,s){return t!==void 0&&(e=RR(e,t,s)),this.value+=e,this},getValue(e,t){var s=this.value;return e!==void 0&&t!==void 0&&(s=U8(e,t,s)),s}},Y8=Phaser.Math.Percent,W8={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,s){return e==null?this:(t!==void 0&&(e=Y8(e,t,s)),this.easeValueTask===void 0&&(this.easeValueTask=new ai(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,s,a){return s===void 0&&(s=-1),a===void 0&&(a=0),this.easeValueTask===void 0&&(this.easeValueTask=new ai(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:s,repeatDelay:a}),this}},_o=Phaser.Utils.Objects.GetValue,H8=Phaser.Math.Clamp;function fr(e){const s=class s extends e{bootProgressBase(x){this.eventEmitter=_o(x,"eventEmitter",this);var P=_o(x,"valuechangeCallback",null);if(P!==null){var n=_o(x,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",P,n)}return this.setEaseValuePropName("value").setEaseValueDuration(_o(x,"easeValue.duration",0)).setEaseValueFunction(_o(x,"easeValue.ease","Linear")),this}get value(){return this._value}set value(x){x=H8(x,0,1);var P=this._value,n=P!=x;this.dirty=this.dirty||n,this._value=x,n&&this.eventEmitter.emit("valuechange",this._value,P,this.eventEmitter)}};r(s,"ProgressBase");let t=s;return Object.assign(t.prototype,X8,W8),t}r(fr,"ProgressBase");const th=Phaser.Utils.Objects.GetValue,$8=Phaser.Utils.Objects.IsPlainObject,UC=class UC extends fr(ao){constructor(t,s,a,x,P,n){$8(s)&&(n=s,s=th(n,"x",0),a=th(n,"y",0),x=th(n,"width",2),P=th(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,s,a,x,P,n),this.bootProgressBase(n),this.setValue(th(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}};r(UC,"CustomProgress");let Ti=UC;var K8=r(function(e){var t=new Ti(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:r(function(){var s=this.getShape("rect").fillStyle(16777215),a=1-this.value;switch(this.wipeMode){case"right":s.setSize(this.width*a,this.height).setTopLeftPosition(this.width-s.width,0);break;case"left":s.setSize(this.width*a,this.height).setTopLeftPosition(0,0);break;case"down":s.setSize(this.width,this.height*a).setTopLeftPosition(0,this.height-s.height);break;case"up":s.setSize(this.width,this.height*a).setTopLeftPosition(0,0);break}},"update")});return t},"CreateMask$7"),Z8=r(function(e){var t=K8(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(bG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="right"},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(OG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="left"},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(LG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="down"},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(AG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="up"},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")})},"AddWipeModes"),J8=r(function(e){var t=new Ti(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:r(function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)},"update")});return t},"CreateMask$6"),j8=r(function(e){var t=J8(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(FG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(IG,{ease:"Linear",dir:"in",mask:t,onStart:r(function(s,a,x,P){s.setNextImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(1-P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(DG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){x.tint=0,s.setCurrentImageMaskEnable(!0),s.setNextImageMaskEnable(!0)},"onStart"),onProgress:r(function(s,a,x,P){var n;P<.5?(P=Bt(P),n=Math.floor(255*(1-P)),s.maskGameObject.setValue(1-P),a.tint=(n<<16)+(n<<8)+n):(a.visible&&s.setChildVisible(a,!1),P=Bt(P),n=Math.floor(255*(1-P)),s.maskGameObject.setValue(1-P),x.tint=(n<<16)+(n<<8)+n)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1),s.setChildVisible(a,!0),a.tint=16777215,s.setChildVisible(x,!0),x.tint=16777215},"onComplete")})},"AddIrisModes"),Q8=r(function(e){var t=new Ti(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:r(function(){var s=Math.max(this.width,this.height)*2,a=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(s).setAngle(90-a,90+a).setPie()},"update")});return t},"CreateMask$5"),q8=r(function(e){var t=Q8(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(BG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(GG,{ease:"Linear",dir:"in",mask:t,onStart:r(function(s,a,x,P){s.setNextImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(1-P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(NG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){x.tint=0,s.setCurrentImageMaskEnable(!0),s.setNextImageMaskEnable(!0)},"onStart"),onProgress:r(function(s,a,x,P){var n;P<.5?(P=Bt(P),n=Math.floor(255*(1-P)),s.maskGameObject.setValue(1-P),a.tint=(n<<16)+(n<<8)+n):(a.visible&&s.setChildVisible(a,!1),P=Bt(P),n=Math.floor(255*(1-P)),s.maskGameObject.setValue(1-P),x.tint=(n<<16)+(n<<8)+n)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1),s.setChildVisible(a,!0),a.tint=16777215,s.setChildVisible(x,!0),x.tint=16777215},"onComplete")})},"AddPieModes"),_8=r(function(e,t){var s=new Ti(e,{type:"Graphics",create:{rectangle:t},update:r(function(){for(var a=this.getShapes(),x=this.width/t,P=0;P<t;P++)a[P].fillStyle(16777215).setSize(x*this.value,this.height).setTopLeftPosition(x*P,0)},"update")});return s},"CreateMask$4"),t6=r(function(e){var t=_8(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(kG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")})},"AddBlindsModes"),e6=r(function(e,t,s){var a=new Ti(e,{type:"Graphics",create:{rectangle:t*s},update:r(function(){for(var x=this.getShapes(),P=this.width/t,n=this.height/s,T=0;T<s;T++)for(var i=0;i<t;i++)x[i*s+T].fillStyle(16777215).setSize(P*this.value,n*this.value).setCenterPosition(P*(i+.5),n*(T+.5))},"update")});return a},"CreateMask$3"),i6=r(function(e){var t=e6(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(VG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")})},"AddSquaresModes"),s6=r(function(e,t,s){var a=new Ti(e,{type:"Graphics",create:{lines:t*s},update:r(function(){for(var x=this.getShapes(),P=this.width/(t-1),n=this.height/s,T=n*2,i=P*this.value,h=n*this.value,m=0;m<s;m++)for(var c=0;c<t;c++){var u=c*P,l=m*T+c%2*n;x[c*s+m].fillStyle(16777215).start(u+i,l).lineTo(u,l+h).lineTo(u-i,l).lineTo(u,l-h).lineTo(u+i,l).close()}},"update")});return a},"CreateMask$2"),r6=r(function(e){var t=s6(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(zG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")})},"AddDiamondsMode"),n6=r(function(e,t,s){var a=new Ti(e,{type:"Graphics",create:{circle:t*s},update:r(function(){for(var x=this.getShapes(),P=this.width/(t-1),n=this.height/s,T=n*2,i=Math.max(P,n)*this.value,h=0;h<s;h++)for(var m=0;m<t;m++){var c=m*P,u=h*T+m%2*n;x[m*s+h].fillStyle(16777215).setCenterPosition(c,u).setRadius(i)}},"update")});return a},"CreateMask$1"),a6=r(function(e){var t=n6(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(UG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,a,x,P){s.maskGameObject.setValue(P)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1)},"onComplete")})},"AddCirclesMode"),o6=r(function(e,t){var s=new Ti(e,{type:"Graphics",create:{lines:t},update:r(function(){for(var a=this.getShapes(),x=this.width/t,P=x/2,n=0;n<t;n++){var T=x*n,i=this.height*this.value,h=T+P;a[n].fillStyle(16777215).start(T,0).horizontalLineTo(i).arc(h,i,P,180,0,!0).horizontalLineTo(-i).lineTo(T,0).close()}},"update")});return s},"CreateMask"),h6=r(function(e){var t=o6(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(XG,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,a,x,P){x.tint=0,s.setCurrentImageMaskEnable(!0,!0),s.setNextImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,a,x,P){var n;P<.5?(P=Bt(P),n=Math.floor(255*(1-P)),s.maskGameObject.setValue(P),a.tint=(n<<16)+(n<<8)+n):(a.visible&&s.setChildVisible(a,!1),P=Bt(P),n=Math.floor(255*(1-P)),s.maskGameObject.setValue(P),x.tint=(n<<16)+(n<<8)+n)},"onProgress"),onComplete:r(function(s,a,x,P){s.removeMaskGameObject(!1),s.setChildVisible(a,!0),a.tint=16777215,s.setChildVisible(x,!0),x.tint=16777215},"onComplete")})},"AddCurtainMode"),l6=r(function(e){e.addTransitionMode(YG,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,a,x){t.setChildVisible(a,!1),s.effect=s.preFX.addPixelate(0),a.effect=a.preFX.addPixelate(0)},"onStart"),onProgress:r(function(t,s,a,x){if(x<.5){x=Bt(x);var P=Math.min(s.width,s.height)/5;s.effect.amount=Math.ceil(P*x)}else{s.visible&&t.setChildVisible(s,!1),a.visible||t.setChildVisible(a,!0),x=Bt(x);var P=Math.min(a.width,a.height)/5;a.effect.amount=Math.ceil(P*x)}},"onProgress"),onComplete:r(function(t,s,a,x){s.preFX.remove(s.effect),delete s.effect,t.setChildVisible(s,!0),a.preFX.remove(a.effect),delete a.effect},"onComplete")})},"AddPixellateMode");const u6=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,d6=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${u6}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,f6=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,wi=Phaser.Utils.Objects.GetValue,c6=Phaser.Math.Clamp,XC=class XC extends f6{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:d6}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(wi(t,"progress",0)),this.setTransitionTargetTexture(wi(t,"toTexture","__DEFAULT"),wi(t,"toFrame",void 0),wi(t,"resizeMode",1)),this.setNoise(wi(t,"noiseX",void 0),wi(t,"noiseY",void 0),wi(t,"noiseZ",void 0)),this.setFromEdge(wi(t,"fromEdgeStart",.01),wi(t,"fromEdgeWidth",.05)),this.setToEdge(wi(t,"toEdgeStart",.01),wi(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=c6(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,s,a){t===void 0&&(t="__DEFAULT");var x=this.game.textures.getFrame(t,s);return x||(x=this.game.textures.getFrame("__DEFAULT")),this.toRatio=x.width/x.height,this.toFrame=x,this.targetTexture=x.glTexture,a!==void 0&&(this.resizeMode=a),this}setResizeMode(t){return typeof t=="string"&&(t=v6[t]),this.resizeMode=t,this}setNoise(t,s,a){return t===void 0&&(t=4+Math.random()*6),s===void 0&&(s=4+Math.random()*6),a===void 0&&(a=Math.random()*10),this.noiseX=t,this.noiseY=s,this.noiseZ=a,this}setFromEdge(t,s){return this.fromEdgeStart=t,this.fromEdgeWidth=s,this}setToEdge(t,s){return this.toEdgeStart=t,this.toEdgeWidth=s,this}};r(XC,"DissolvePostFxPipeline");let Oh=XC;var v6={stretch:0,contain:1,cover:2},p6=r(function(e,t,s){$r(e).renderer.pipelines.addPostPipeline(t,s)},"RegisterPostPipeline"),g6=r(function(e,t,s){s===void 0&&(s={}),e.setPostPipeline(t);var a=e.postPipelines[e.postPipelines.length-1];return a.resetFromJSON(s),s.name&&(a.name=s.name),a},"AddPostFxPipelineInstance");const m6=Phaser.Utils.Array.SpliceOne;var x6=r(function(e,t,s){for(var a,x,P,a=e.postPipelines,x=a.length-1;x>=0;x--){var P=a[x];P instanceof t&&(P.destroy(),m6(a,x))}e.hasPostPipeline=e.postPipelines.length>0},"RemovePostFxPipelineInstance"),y6=r(function(e){p6(e.scene.game,"rexDissolvePostFx",Oh),e.addTransitionMode(WG,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,a,x){s.effect=g6(s,Oh)},"onStart"),onProgress:r(function(t,s,a,x){s.effect.setProgress(x)},"onProgress"),onComplete:r(function(t,s,a,x){x6(s,Oh),delete s.effect},"onComplete")})},"AddDissolveMode");const Mu=.1,C6=0,T6=0,S6=1,P6=1,OR=0,bR=1;var E6=r(function(e){e.addTransitionMode($G,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,a,x){a.effect=a.preFX.addReveal(Mu,C6,OR)},"onStart"),onProgress:r(function(t,s,a,x){a.effect.progress=x},"onProgress"),onComplete:r(function(t,s,a,x){a.preFX.remove(a.effect),delete a.effect},"onComplete")}).addTransitionMode(HG,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,a,x){a.effect=a.preFX.addReveal(Mu,S6,OR)},"onStart"),onProgress:r(function(t,s,a,x){a.effect.progress=x},"onProgress"),onComplete:r(function(t,s,a,x){a.preFX.remove(a.effect),delete a.effect},"onComplete")}).addTransitionMode(ZG,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,a,x){a.effect=a.preFX.addReveal(Mu,T6,bR)},"onStart"),onProgress:r(function(t,s,a,x){a.effect.progress=x},"onProgress"),onComplete:r(function(t,s,a,x){a.preFX.remove(a.effect),delete a.effect},"onComplete")}).addTransitionMode(KG,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,a,x){a.effect=a.preFX.addReveal(Mu,P6,bR)},"onStart"),onProgress:r(function(t,s,a,x){a.effect.progress=x},"onProgress"),onComplete:r(function(t,s,a,x){a.preFX.remove(a.effect),delete a.effect},"onComplete")})},"AddRevealModes");const AR=[JG,jG,QG,qG,_G,j8,q8,Z8,t6,i6,r6,a6,h6,l6,y6,E6],YC=class YC extends ro{constructor(t,s,a,x,P,n){super(t,s,a,x,P,n);for(var T=0,i=AR.length;T<i;T++)AR[T](this)}};r(YC,"TransitionImagePack");let Zr=YC;function M6(e,t,s,a,x){var P=new Zr(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P}r(M6,"Factory");const LR=Phaser.Utils.Objects.GetAdvancedValue,w6=Phaser.GameObjects.BuildGameObject;function R6(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var s=LR(e,"key",null),a=LR(e,"frame",null),x=new Zr(this.scene,0,0,s,a,e);return w6(this.scene,x,e),x}r(R6,"Creator");const WC=class WC extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexTransitionImagePack",M6,R6)}boot(){var t=this.game.events;t.on("destroy",this.destroy,this)}};r(WC,"TransitionImagePackPlugin");let Lm=WC;it(window,"RexPlugins.GameObjects.TransitionImagePack",Zr);const jf=class jf{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,s){jf.prototype[t]=s}};r(jf,"ObjectFactory");let rt=jf;var O6=r(function(e){return e===void 0&&(e=b6),this.getFrameNameCallback=e,this},"SetGetFrameNameCallback"),b6=r(function(e,t,s){return s==="__BASE"?`${e},${t}`:`${s}:${e},${t}`},"DefaultGetFrameNameCallback");function Ce(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(s=>Ce(s));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let s in e)e.hasOwnProperty(s)&&(t[s]=Ce(e[s]));return t}r(Ce,"DeepClone");var A6=r(function(e,t,s,a){Array.isArray(t)&&(a=s,s=t,t=void 0),t==null&&(t="__BASE"),typeof s=="number"&&arguments.length>=6?(s=[arguments[2],void 0,arguments[3]],a=[arguments[4],void 0,arguments[5]]):s===void 0&&a===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(s=this.columns.data,a=this.rows.data):(s=Ce(s),a=Ce(a)),this.textureKey=e,this.baseFrameName=t,this.columns.data=s,this.columns.count=s?s.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=a,this.rows.count=a?a.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var x=this.scene.sys.textures.get(e);if(!x)return this.clear(),this;if(!s||!a)return this.clear(),this;for(var P=x.get(t),n=P.width,T=0,i=0,h=s.length;i<h;i++)s[i]===void 0?T++:typeof s[i]=="number"?n-=s[i]:n-=s[i].width;for(var m=T>0?n/T:0,c=P.height,u=0,i=0,h=a.length;i<h;i++)a[i]===void 0?u++:typeof a[i]=="number"?c-=a[i]:c-=a[i].width;for(var l=u?c/u:0,o,d,v,f,p,g=0,y=0,C=0,S=a.length;C<S;C++){a[C]===void 0&&(a[C]=l),typeof a[C]=="number"&&(a[C]={height:a[C],stretch:C%2}),o=a[C],v=o.height,this.rows.stretch+=o.stretch|0,this.rows.minHeight+=o.stretch>0?0:v,g=0;for(var i=0,E=s.length;i<E;i++){if(s[i]===void 0&&(s[i]=m),typeof s[i]=="number"&&(s[i]={width:s[i],stretch:i%2}),d=s[i],f=d.width,C===0&&(this.columns.stretch+=d.stretch|0,this.columns.minWidth+=d.stretch>0?0:f),f>=1&&v>=1){p=this.getFrameNameCallback(i,C,t);var w=typeof p;(w==="string"||w==="number")&&x.add(p,0,g+P.cutX,y+P.cutY,f,v)}g+=f}y+=v}return this.updateTexture(),this},"SetBaseTexture"),L6=r(function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,s=this.rows.minHeight*this.maxFixedPartScaleY,a=this.width-t,x=this.height-s,P=a>=0?this.maxFixedPartScaleX:this.width/t,n=x>=0?this.maxFixedPartScaleY:this.height/s;if(this.preserveRatio){var T=Math.min(P,n);if(P>T){var i=(P-T)*t;a>=0?a+=i:a=i,P=T}if(n>T){var h=(n-T)*s;x>=0?x+=h:x=h,n=T}}this.columns.scale=P,this.rows.scale=n;var m;a>0?m=this.columns.stretch>0?a/this.columns.stretch:0:m=0;var c;x>0?c=this.rows.stretch>0?x/this.rows.stretch:0:c=0;var u,l,o,d,v,f=0,p=0,g;this._beginDraw();for(var y=0,C=this.rows.count;y<C;y++){o=this.rows.data[y],v=o.stretch===0?o.height*n:c*o.stretch,f=0;for(var S=0,E=this.columns.count;S<E;S++)l=this.columns.data[S],d=l.stretch===0?l.width*P:m*l.stretch,u=this.getFrameNameCallback(S,y,this.baseFrameName),e.has(u)&&d>0&&v>0&&(o.stretch===0&&l.stretch===0||this.getStretchMode(S,y)===0?g=0:g=1,g===0?this._drawImage(this.textureKey,u,f,p,d,v):this._drawTileSprite(this.textureKey,u,f,p,d,v)),f+=d;p+=v}this._endDraw()},"UpdateTexture");const F6=Phaser.Utils.Objects.IsPlainObject,FR=Phaser.Utils.Objects.GetValue;var I6=r(function(e){return F6(e)?(this.stretchMode.edge=Gg(FR(e,"edge",0)),this.stretchMode.internal=Gg(FR(e,"internal",0))):(e=Gg(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},"SetStretchMode"),Gg=r(function(e){return typeof e=="string"&&(e=D6[e]),e},"parseMode");const D6={scale:0,repeat:1};var B6=r(function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},"IsEdge"),G6=r(function(e,t){return B6.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},"GetStretchMode"),N6=r(function(e){return e==null&&(e=!0),this.preserveRatio=e,this},"SetPreserveRatio"),k6=r(function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},"SetMaxFixedPartScale");const V6={_beginDraw:fe,_drawImage:fe,_drawTileSprite:fe,_endDraw:fe,setGetFrameNameCallback:O6,setBaseTexture:A6,updateTexture:L6,setStretchMode:I6,getStretchMode:G6,setPreserveRatio:N6,setMaxFixedPartScale:k6},eh=Phaser.Utils.Objects.IsPlainObject,Et=Phaser.Utils.Objects.GetValue;var QL=r(function(e,t){const a=class a extends e{constructor(P,n,T,i,h,m,c,u,l,o){if(eh(n)?(o=n,n=Et(o,"x",0),T=Et(o,"y",0),i=Et(o,"width",1),h=Et(o,"height",1),m=Et(o,"key",void 0),c=Et(o,"baseFrame",void 0),u=Et(o,"columns",void 0),l=Et(o,"rows",void 0)):eh(i)?(o=i,i=Et(o,"width",1),h=Et(o,"height",1),m=Et(o,"key",void 0),c=Et(o,"baseFrame",void 0),u=Et(o,"columns",void 0),l=Et(o,"rows",void 0)):eh(m)?(o=m,m=Et(o,"key",void 0),c=Et(o,"baseFrame",void 0),u=Et(o,"columns",void 0),l=Et(o,"rows",void 0)):eh(c)?(o=c,c=Et(o,"baseFrame",void 0),u=Et(o,"columns",void 0),l=Et(o,"rows",void 0)):Array.isArray(c)?(o=l,l=u,u=c,c=Et(o,"baseFrame",void 0)):eh(u)&&(o=u,u=Et(o,"columns",void 0),l=Et(o,"rows",void 0)),c===void 0&&(c=Et(o,"frame",void 0)),u===void 0){var d=Et(o,"leftWidth",void 0),v=Et(o,"rightWidth",void 0);d!==void 0&&v!==void 0&&(u=[d,void 0,v])}if(l===void 0){var f=Et(o,"topHeight",void 0),p=Et(o,"bottomHeight",void 0);f!==void 0&&p!==void 0&&(l=[f,void 0,p])}super(P),this.type=t,this.setPosition(n,T).setSize(i,h).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Et(o,"getFrameNameCallback",void 0)),this.setStretchMode(Et(o,"stretchMode",0)),this.setPreserveRatio(Et(o,"preserveRatio",!0));var g=Et(o,"maxFixedPartScale",1),y=Et(o,"maxFixedPartScaleX",g),C=Et(o,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(y,C),this.setBaseTexture(m,c,u,l)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(P,n){return this.width===P&&this.height===n?this:(super.resize?super.resize(P,n):super.setSize(P,n),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}};r(a,"NinePatch");let s=a;return Object.assign(s.prototype,V6),s},"NinePatchBase");const z6=Phaser.GameObjects;var Bs=void 0,qL=r(function(e,t){if(Bs||(Bs={},$r(e).events.once("destroy",function(){for(var a in Bs)Bs[a].destroy();Bs=void 0})),!Bs.hasOwnProperty(t)){var s=$r(e).scene.systemScene,e=new z6[t](s);e.setOrigin(0),Bs[t]=e}return Bs[t]},"GetStampGameObject"),U6=r(function(e,t,s,a,x,P){var n=qL(this,"Image").setTexture(e,t).setDisplaySize(x,P);this.draw(n,s,a)},"DrawImage$1"),X6=r(function(e,t,s,a,x,P){var n=qL(this,"TileSprite").setTexture(e,t).setSize(x,P);this.draw(n,s,a)},"DrawTileSprite$1");const Y6=Phaser.GameObjects.RenderTexture;var ma;let uc=(ma=class extends QL(Y6,"rexNinePatch"){},r(ma,"NinePatch"),ma);var W6={_drawImage:U6,_drawTileSprite:X6};Object.assign(uc.prototype,W6);rt.register("ninePatch",function(e,t,s,a,x,P,n,T){var i=new uc(this.scene,e,t,s,a,x,P,n,T);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.NinePatch",uc);const H6=Phaser.GameObjects.GetCalcMatrix;var $6=r(function(e,t,s,a){var x=t.getRenderList();if(x.length!==0){s.addToRenderList(t);var P=e.pipelines.set(t.pipeline),n=t.frame.glTexture,T=P.setGameObject(t),i=s.roundPixels,h=H6(t,s,a),m=P.calcMatrix.copyFrom(h.calc),c=t._displayOriginX,u=t._displayOriginY,l=s.alpha*t.alpha;e.pipelines.preBatch(t);for(var o=0,d=x.length;o<d;o++)x[o].webglRender(P,m,l,c,u,n,T,i);e.pipelines.postBatch(t)}},"WebGLRenderer$1");const K6=Phaser.Renderer.Canvas.SetTransform;var Z6=r(function(e,t,s,a){var x=e.currentContext,P=t.getRenderList();if(!(P.length===0||!K6(e,x,t,s,a))){s.addToRenderList(t);var n=s.roundPixels,T=-t._displayOriginX,i=-t._displayOriginY;x.translate(T,i);for(var h=0,m=P.length;h<m;h++)P[h].canvasRender(x,T,i,n);x.restore()}},"CanvasRenderer$1");const J6={renderWebGL:$6,renderCanvas:Z6};var j6=r(function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},"SetTexture"),IR=r(function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=e,s.hitArea.height=t),this},"Resize"),Q6=r(function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this},"AddChild$3");const q6=Phaser.Utils.Array.Remove;var _6=r(function(e){return this.poolManager&&this.poolManager.free(e),q6(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},"RemoveChild$2"),DR=r(function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},"RemoveChildren$1"),t7=r(function(){return this.lastAppendedChildren},"GetLastAppendedChildren$1"),e7=r(function(){return this.children.list},"GetChildren$1");const i7={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var _L={setTexture:j6,resize:IR,setSize:IR,addChild:Q6,removeChild:_6,removeChildren:DR,clear:DR,getLastAppendedChildren:t7,getChildren:e7};Object.assign(_L,i7);const s7=Phaser.Utils.Objects.GetValue;var r7={},xa;let n7=(xa=class{constructor(t){this.pools=s7(t,"pools",r7)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new Ci),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,a=t.length;s<a;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}},r(xa,"PoolManager"),xa);oc();const a7=Phaser.GameObjects.GameObject,o7=Phaser.Utils.Objects.IsPlainObject,ih=Phaser.Utils.Objects.GetValue,h7=Phaser.Structs.List,l7=Phaser.Utils.Array.StableSort,HC=class HC extends a7{constructor(t,s,a,x,P,n){o7(s)&&(n=s,s=ih(n,"x",0),a=ih(n,"y",0),x=ih(n,"texture"),P=ih(n,"frame")),s===void 0&&(s=0),a===void 0&&(a=0),super(t,"rexBlitter"),this.children=new h7,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=ih(n,"reuseBob",!0);this.poolManager=T?new n7(n):void 0,this.setTexture(x,P),this.setPosition(s,a),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,s=this.children.list,a=0,x=s.length;a<x;a++){var P=s[a];u7(P)&&(this.renderList.push(P),t||(t=P.depth!==0))}t&&l7(this.renderList,d7),this.displayListDirty=!1}return this.renderList}};r(HC,"Blitter");let Zd=HC;var u7=r(function(e){return e.active&&e.visible&&e.alpha>0},"ChildCanRender"),d7=r(function(e,t){return e._depth-t._depth},"SortByDepth");const li=Phaser.GameObjects.Components;Phaser.Class.mixin(Zd,[li.Alpha,li.BlendMode,li.ComputedSize,li.Depth,li.GetBounds,li.Mask,li.Origin,li.Pipeline,li.PostPipeline,li.ScrollFactor,li.Transform,li.Visible,J6,_L]);const tF="image";var ya;let eF=(ya=class{constructor(t,s){this.type=s,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}},r(ya,"Base"),ya);Object.assign(eF.prototype,hc);const f7=Phaser.Math.DegToRad,c7=Phaser.Math.RadToDeg,Fn=Phaser.Utils.Objects.GetValue;var Ca;let v7=(Ca=class extends eF{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setRotation(t){return this.rotation=t,this}get angle(){return c7(this.rotation)}set angle(t){this.rotation=f7(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,s){return s===void 0&&(s=!1),this.displayWidth=t,s&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,s){return s===void 0&&(s=!1),this.displayHeight=t,s&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,s){return s===void 0&&(s=t),this.setOriginX(t).setOriginY(s),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=Fn(t,"width",void 0),a=Fn(t,"height",void 0),x=Fn(t,"scale",void 0),P=Fn(t,"scaleX",x),n=Fn(t,"scaleY",x);s!==void 0?a===void 0&&n===void 0?this.setWidth(s,!0):this.setWidth(s):P!==void 0?this.setScaleX(P):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),a!==void 0?s===void 0&&P===void 0?this.setHeight(a,!0):this.setHeight(a):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=Fn(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,s,a,x,P,n,T,i){}canvasRender(t,s,a,x){}},r(Ca,"RenderBase"),Ca);const p7=Phaser.GameObjects.Components.TransformMatrix,g7=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var wu=new p7,m7=r(function(e,t,s,a,x,P,n,T){var i=this.frame;if(i){var h=this._width,m=this._height,c=h*this.originX,u=m*this.originY,l=this.x-a,o=this.y-x,d,v,f,p,g,y,C,S;if(this.isCropped){var E=this._crop;(E.flipX!==this.flipX||E.flipY!==this.flipY)&&i.updateCropUVs(E,this.flipX,this.flipY),d=E.u0,v=E.v0,f=E.u1,p=E.v1,C=E.width,S=E.height,g=E.x,y=E.y}else d=this.frame.u0,v=this.frame.v0,f=this.frame.u1,p=this.frame.v1,C=h,S=m,g=0,y=0;var w=1,M=1;this.flipX&&(l+=h-c*2,w=-1),this.flipY&&(o+=m-u*2,M=-1),wu.applyITRS(l,o,this.rotation,this.scaleX*w,this.scaleY*M),t.multiply(wu,wu);var R=-c+g,O=-u+y,b=R+C,A=O+S,I=wu.setQuad(R,O,b,A,T),L=g7(this.tint,this.alpha*s);e.batchQuad(this.parent,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],d,v,f,p,L,L,L,L,this.tintFill,P,n)}},"WebglRender"),x7=r(function(e,t,s,a){var x=this.frame;if(x){e.save();var P=this._width,n=this._height,T=P*this.originX,i=n*this.originY,h=this.x-T,m=this.y-i,c,u,l,o;if(this.isCropped){var d=this._crop;(d.flipX!==this.flipX||d.flipY!==this.flipY)&&x.updateCropUVs(d,this.flipX,this.flipY),l=d.cw,o=d.ch,c=d.cx,u=d.cy}else l=x.cutWidth,o=x.cutHeight,c=x.cutX,u=x.cutY;var v=1,f=1;this.flipX&&(h+=P,v=-1),this.flipY&&(m+=n,f=-1);var p=x.source.resolution,g=l/p,y=o/p;a&&(h=Math.floor(h+.5),m=Math.floor(m+.5),g+=.5,y+=.5),e.translate(h,m),e.rotate(this.rotation),e.scale(this.scaleX*v,this.scaleY*f),e.drawImage(x.source.image,c,u,l,o,0,0,g,y),e.restore()}},"CanvasRender");const y7=Phaser.Utils.Objects.IsPlainObject;var Ta;let iF=(Ta=class extends v7{constructor(t,s){super(t,tF),this._crop=C7(),this.setFrame(s)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!y7(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,s,a,x){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&s===0&&a===this._width&&x===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,s,a,x,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}},r(Ta,"ImageData"),Ta);var C7=r(function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},"ResetCropObject"),T7={webglRender:m7,canvasRender:x7};Object.assign(iF.prototype,T7);var sF=r(function(e,t){typeof t=="string"&&(t={frame:t});var s=e.poolManager?e.poolManager.allocate(tF):null;return s===null?s=new iF(e):s.setParent(e).setActive(),s.modifyPorperties(t),e.addChild(s),s},"AddImage$1"),S7=r(function(e,t,s,a,x,P){sF(this,{frame:t,x:s,y:a,width:x,height:P})},"DrawImage"),P7=r(function(e,t,s,a,x,P){var n=this.texture.get(t),T=n.width,i=n.height,h=x%T,m=P%i;h===0&&(h=T),m===0&&(m=i);for(var c=Math.ceil(x/T),u=Math.ceil(P/i),l=c-1,o=u-1,d=0;d<c;d++)for(var v=0;v<u;v++){let g=sF(this,{frame:t,x:s+d*T,y:a+v*i});var f=d===l?h:T,p=v===o?m:i;(f!==T||p!==i)&&g.setCrop(0,0,f,p)}},"DrawTileSprite");const E7={_drawImage:S7,_drawTileSprite:P7},$C=class $C extends QL(Zd,"rexNinePatch2"){setBaseTexture(t,s,a,x){return this.setTexture(t,s),super.setBaseTexture(t,s,a,x),this}};r($C,"NinePatch");let Xh=$C;Object.assign(Xh.prototype,E7);rt.register("ninePatch2",function(e,t,s,a,x,P,n,T){var i=new Xh(this.scene,e,t,s,a,x,P,n,T);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.NinePatch2",Xh);const M7=Phaser.GameObjects.GetCalcMatrix;var w7=r(function(e,t,s,a){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var x=e.pipelines.set(t.pipeline),P=M7(t,s,a),n=x.calcMatrix.copyFrom(P.calc),T=t._displayOriginX,i=t._displayOriginY,h=s.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&ZL(x,n,t,h,T,i),t.isStroked&&lc(x,t,h,T,i),e.pipelines.postBatch(t)},"PolygonWebGLRenderer");const R7=Phaser.Renderer.Canvas.SetTransform;var O7=r(function(e,t,s,a){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var x=e.currentContext;if(R7(e,x,t,s,a)){var P=t._displayOriginX,n=t._displayOriginY,T=t.pathData,i=T.length-1,h=T[0]-P,m=T[1]-n;x.beginPath(),x.moveTo(h,m),t.closePath||(i-=2);for(var c=2;c<i;c+=2){var u=T[c]-P,l=T[c+1]-n;x.lineTo(u,l)}x.closePath(),t.isFilled&&(Jl(x,t),x.fill()),t.isStroked&&(jl(x,t),x.stroke()),x.restore()}},"PolygonCanvasRenderer");const b7={renderWebGL:w7,renderCanvas:O7},A7=Phaser.GameObjects.Shape,KC=class KC extends A7{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,s){return s===void 0&&(s=1),this.fillColor=t,this.fillAlpha=s,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,s,a){return a===void 0&&(a=1),this.lineWidth=t,this.strokeColor=s,this.strokeAlpha=a,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,s){var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=t,a.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}};r(KC,"PolygnBase");let Yh=KC;Object.assign(Yh.prototype,b7);var Xt=r(function(e){return e.x>0&&e.y>0},"IsArcCorner");const L7=Phaser.Utils.Objects.IsPlainObject,BR=Phaser.Utils.Objects.GetValue,F7=Phaser.Geom.Polygon.Earcut;var Sa;let xn=(Sa=class extends Yh{constructor(t,s,a,x,P,n,T,i){var h,m,c,u;if(L7(s)){var l=s;s=l.x,a=l.y,x=l.width,P=l.height,n=l.radius,T=l.color,i=l.alpha,h=l.strokeColor,m=l.strokeAlpha,c=l.strokeWidth,u=l.shape}s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=1),P===void 0&&(P=x),n===void 0&&(n=0),u===void 0&&(u=0);var o=new sy;if(super(t,"rexRoundRectangleShape",o),this.setShapeType(u),this.shapeType===0){var d=BR(n,"radius",n);o.setTo(0,0,x,P,d)}else{var d={x:x/2,y:P/2};o.setTo(0,0,x,P,d)}this.setIteration(BR(n,"iteration",void 0)),this.setPosition(s,a),this.setFillStyle(T,i),c===void 0&&(c=2),this.setStrokeStyle(c,h,m),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,s=this.pathData;s.length=0;var a=t.width,x=t.height,P=t.cornerRadius,n,T=this.iteration+1;if(n=P.tl,Xt(n))if(n.convex){var i=n.x,h=n.y;me(i,h,n.x,n.y,180,270,!1,T,s)}else{var i=0,h=0;me(i,h,n.x,n.y,90,0,!0,T,s)}else ge(0,0,s);if(n=P.tr,Xt(n))if(n.convex){var i=a-n.x,h=n.y;me(i,h,n.x,n.y,270,360,!1,T,s)}else{var i=a,h=0;me(i,h,n.x,n.y,180,90,!0,T,s)}else ge(a,0,s);if(n=P.br,Xt(n))if(n.convex){var i=a-n.x,h=x-n.y;me(i,h,n.x,n.y,0,90,!1,T,s)}else{var i=a,h=x;me(i,h,n.x,n.y,270,180,!0,T,s)}else ge(a,x,s);if(n=P.bl,Xt(n))if(n.convex){var i=n.x,h=x-n.y;me(i,h,n.x,n.y,90,180,!1,T,s)}else{var i=0,h=x;me(i,h,n.x,n.y,360,270,!0,T,s)}else ge(0,x,s);return s.push(s[0],s[1]),this.pathIndexes=F7(s),this}setShapeType(t){return typeof t=="string"&&(t=I7[t]),this.shapeType=t,this}setSize(t,s){return s===void 0&&(s=t),this.geom.width===t&&this.geom.height===s?this:(this.geom.setSize(t,s),this.shapeType===1&&this.setRadius({x:t/2,y:s/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,s),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}},r(Sa,"RoundRectangle"),Sa);const I7={rectangle:0,circle:1};rt.register("roundRectangle",function(e,t,s,a,x,P,n){var T=new xn(this.scene,e,t,s,a,x,P,n);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.RoundRectangle",xn);const D7=Phaser.Renderer.WebGL.Utils;var B7=r(function(e,t,s,a){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){s.addToRenderList(t);var x=t.frame,P=x.width,n=x.height,T=D7.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),h=i.setTexture2D(x.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,x.glTexture,P,n,t.x,t.y,P/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,P,n,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,a,!1,h),e.pipelines.postBatch(t)}},"WebGLRenderer"),G7=r(function(e,t,s,a){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(s.addToRenderList(t),e.batchSprite(t,t.frame,s,a))},"CanvasRenderer");const N7={renderWebGL:B7,renderCanvas:G7},k7=Phaser.Display.Color,V7={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,s,a,x,P,n,T,i,h){var m=this.scene.sys.textures.getFrame(e,t);if(!m)return this;var c=m.cutWidth,u=m.cutHeight;s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=c),P===void 0&&(P=u),n===void 0&&(n=0),T===void 0&&(T=0),i===void 0&&(i=c),h===void 0&&(h=u);var l=m.cutX+n,o=m.cutY+T;return this.context.drawImage(m.source.image,l,o,i,h,s,a,x,P),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,s){s===void 0&&(s=new k7);var a=this.context.getImageData(e,t,1,1);return s.setTo(a.data[0],a.data[1],a.data[2],a.data[3]),s},setPixel(e,t,s,a,x,P){if(typeof s!="number"){var n=s;s=n.red,a=n.green,x=n.blue,P=n.alpha}P===void 0&&(P=s!==0||a!==0||x!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=s,T.data[1]=a,T.data[2]=x,T.data[3]=P,this.context.putImageData(T,e,t),this.dirty=!0,this}},z7={updateTexture(e,t){if(e){var s=this.resolution;s!==1&&(this.context.save(),this.context.scale(s,s)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),s!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},generateTexture(e,t,s,a,x){var P=this.canvas;return a===void 0?a=P.width:a*=this.resolution,x===void 0?x=P.height:x*=this.resolution,OL(this.scene,P,e,t,s,a,x),this},loadTexture(e,t){var s=this.scene.sys.textures.getFrame(e,t);return s?(this.width!==s.cutWidth||this.height!==s.cutHeight?this.setSize(s.cutWidth,s.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};oc();const GR=Phaser.Display.Canvas.CanvasPool,U7=Phaser.GameObjects.GameObject,X7=Phaser.Utils.String.UUID;var Pa;let cr=(Pa=class extends U7{constructor(t,s,a,x,P,n){s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=1),P===void 0&&(P=1),n===void 0&&(n=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=x,this._height=P,this.resolution=n,x=Math.max(Math.ceil(x*this.resolution),1),P=Math.max(Math.ceil(P*this.resolution),1),this.canvas=GR.create(this,x,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(s,a),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=X7(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){GR.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var s=Math.max(Math.ceil(this.width*t),1),a=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=s,this.canvas.height=a,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,s){return this._width===t&&this._height===s?this:(this._width=t,this._height=s,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),s=Math.max(Math.ceil(s*this.resolution),1),this.canvas.width=t,this.canvas.height=s,this.frame.setSize(t,s),this.dirty=!0,this)}setSize(t,s){return this.setCanvasSize(t,s),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,s){return this.displayWidth=t,this.displayHeight=s,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,s){return this.setSize(t,s),this}},r(Pa,"Canvas"),Pa);const Ye=Phaser.GameObjects.Components;Phaser.Class.mixin(cr,[Ye.Alpha,Ye.BlendMode,Ye.Crop,Ye.Depth,Ye.Flip,Ye.GetBounds,Ye.Mask,Ye.Origin,Ye.Pipeline,Ye.PostPipeline,Ye.ScrollFactor,Ye.Tint,Ye.Transform,Ye.Visible,N7,V7,z7]);var Y7=r(function(){ry(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)},"DrawContent$2");const NR=Phaser.Utils.Objects.GetValue,ZC=class ZC extends cr{constructor(t,s,a,x,P,n,T,i,h,m,c,u){s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=1),P===void 0&&(P=x),n===void 0&&(n=0),u===void 0&&(u=1),super(t,s,a,x,P,u),this.type="rexRoundRectangleCanvas";var l=NR(n,"radius",n),o=NR(n,"iteration",void 0);this.setRadius(l),this.setIteration(o),this.setFillStyle(T,m,c),this.setStrokeStyle(i,h)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=mt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=mt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,s,a){return a===void 0&&(a=!0),this.fillStyle=t,this.fillColor2=s,this.isHorizontalGradient=a,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=mt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,s){return this.strokeStyle=t,this.lineWidth=s,this}updateTexture(){return super.updateTexture(function(){this.clear(),Y7.call(this)},this),this}};r(ZC,"RoundRectangle");let Jd=ZC;rt.register("roundRectangleCanvas",function(e,t,s,a,x,P,n,T,i,h){var m=new Jd(this.scene,e,t,s,a,x,P,n,T,i,h);return this.scene.add.existing(m),m});it(window,"RexPlugins.UI.RoundRectangleCanvas",Jd);var Rt=r(function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},"HasProperty"),Gs=r(function(e,t,s){!t||Rt(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:r(function(){return s.x},"get"),set:r(function(a){s.x=a,e.dirty=!0},"set")}),Object.defineProperty(e,`${t}Y`,{get:r(function(){return s.y},"get"),set:r(function(a){s.y=a,e.dirty=!0},"set")}),Object.defineProperty(e,`${t}T`,{get:r(function(){return s.t},"get"),set:r(function(a){s.t=a,e.dirty=!0},"set")}))},"InjectPointAccessProperties");const W7={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,s,a){var x=this.geom.topSidePoints;if(Array.isArray(e))for(var x=e,P,n=0,T=x.length;n<T;n++)P=x[n],this.geom.insertTopSidePoint(P.t,P.x,P.y),Gs(this,P.key,x[x.length-1]);else this.geom.insertTopSidePoint(e,t,s),Gs(this,a,x[x.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,s,a){var x=this.geom.rightSidePoints;if(Array.isArray(e))for(var x=e,P,n=0,T=x.length;n<T;n++)P=x[n],this.geom.insertRightSidePoint(P.t,P.x,P.y),Gs(this,P.key,x[x.length-1]);else this.geom.insertRightSidePoint(e,t,s),Gs(this,a,x[x.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,s,a){var x=this.geom.bottomSidePoints;if(Array.isArray(e))for(var x=e,P,n=0,T=x.length;n<T;n++)P=x[n],this.geom.insertBottomSidePoint(P.t,P.x,P.y),Gs(this,P.key,x[x.length-1]);else this.geom.insertBottomSidePoint(e,t,s),Gs(this,a,x[x.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,s,a){var x=this.geom.leftSidePoints;if(Array.isArray(e))for(var x=e,P,n=0,T=x.length;n<T;n++)P=x[n],this.geom.insertLeftSidePoint(P.t,P.x,P.y),Gs(this,P.key,x[x.length-1]);else this.geom.insertLeftSidePoint(e,t,s),Gs(this,a,x[x.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}},JC=class JC{constructor(t,s,a,x){t===void 0&&(t=0),s===void 0&&(s=t),a===void 0&&(a=0),x===void 0&&(x=0),this.setTo(t,s,a,x),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,s,a,x){return this.setPosition(t,s),this.setSize(a,x),this}setPosition(t,s){return this.x=t,this.y=s,this}setSize(t,s){return this.width=t,this.height=s,this}setTLPosition(t,s){return this.tlx=t,this.tly=s,this}setTRPosition(t,s){return this.trx=t,this.try=s,this}setBLPosition(t,s){return this.blx=t,this.bly=s,this}setBRPosition(t,s){return this.brx=t,this.bry=s,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,s,a){return Ru(this.topSidePoints,t,s,a),this}insertRightSidePoint(t,s,a){return Ru(this.rightSidePoints,t,s,a),this}insertBottomSidePoint(t,s,a){return Ru(this.bottomSidePoints,t,s,a),this}insertLeftSidePoint(t,s,a){return Ru(this.leftSidePoints,t,s,a),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}};r(JC,"QuadGeom");let Fm=JC;var Ru=r(function(e,t,s,a){if(typeof t!="number"){var x=t;t=x.t,s=x.x,a=x.y}e.push({t,x:s,y:a})},"AddPoint");const H7=Phaser.Utils.Objects.IsPlainObject,ui=Phaser.Utils.Objects.GetValue,Ns=Phaser.Math.Linear,$7=Phaser.Geom.Polygon.Earcut,jC=class jC extends Yh{constructor(t,s,a,x,P,n,T){var i,h,m;if(H7(s)){var c=s;s=c.x,a=c.y,x=c.width,P=c.height,n=c.color,T=c.alpha,i=c.strokeColor,h=c.strokeAlpha,m=c.strokeWidth}s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=1),P===void 0&&(P=x);var u=new Fm;super(t,"rexQuadShape",u),u.setTo(0,0,x,P),this.setPosition(s,a),this.setFillStyle(n,T),i!==void 0&&m===void 0&&(m=2),this.setStrokeStyle(m,i,h),this.setTLPosition(ui(c,"tlx",0),ui(c,"tly",0)).setTRPosition(ui(c,"trx",0),ui(c,"try",0)).setBLPosition(ui(c,"blx",0),ui(c,"bly",0)).setBRPosition(ui(c,"brx",0),ui(c,"bry",0));var l=ui(c,"leftSidePoints");l&&this.insertLeftSidePoint(l);var o=ui(c,"topSidePoints");o&&this.insertTopSidePoint(o);var d=ui(c,"rightSidePoints");d&&this.insertRightSidePoint(d);var v=ui(c,"bottomSidePoints");v&&this.insertBottomSidePoint(v),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,s=this.pathData;s.length=0;var a=t.width,x=t.height,P=0+t.tlx,n=0+t.tly,T=a+t.trx,i=0+t.try,h=a+t.brx,m=x+t.bry,c=0+t.blx,u=x+t.bly,l=t.topSidePoints,o=t.rightSidePoints,d=t.bottomSidePoints,v=t.leftSidePoints;ge(P,n,s),Ou(l);for(var f=0,p=l.length;f<p;f++){var g=l[f],y=Ns(P,T,g.t)+g.x,C=Ns(n,i,g.t)+g.y;ge(y,C,s)}ge(T,i,s),Ou(o);for(var f=0,p=o.length;f<p;f++){var g=o[f],y=Ns(T,h,g.t)+g.x,C=Ns(i,m,g.t)+g.y;ge(y,C,s)}ge(h,m,s),Ou(d);for(var f=d.length-1;f>=0;f--){var g=d[f],y=Ns(c,h,g.t)+g.x,C=Ns(u,m,g.t)+g.y;ge(y,C,s)}ge(c,u,s),Ou(v);for(var f=v.length-1;f>=0;f--){var g=v[f],y=Ns(P,c,g.t)+g.x,C=Ns(n,u,g.t)+g.y;ge(y,C,s)}return s.push(s[0],s[1]),this.pathIndexes=$7(s),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}};r(jC,"Quad");let Wh=jC;var Ou=r(function(e){e.length<=1||e.sort(function(t,s){return t.t-s.t})},"SortPoints");Object.assign(Wh.prototype,W7);rt.register("QuadShape",function(e,t,s,a,x,P){var n=new Wh(this.scene,e,t,s,a,x,P);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.QuadShape",Wh);rt.register("BBCodeText",function(e,t,s,a){var x=new nr(this.scene,e,t,s,a);return this.scene.add.existing(x),x});it(window,"RexPlugins.UI.BBCodeText",nr);var K7={plainText:null,prevProp:null},Z7=new iy,Ea;let J7=(Ea=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,s){this.tags[t]=s}getTag(t){return this.tags[t]}splitText(t,s){for(var a=[],x=0;;){var P=Ng.exec(t);if(!P)break;var n=P[0],T=Ng.lastIndex-n.length;if(x<T&&a.push(t.substring(x,T)),s===void 0)a.push(n);else if(s===1){if(VR.test(n)){var i=n.match(zR);a.push(i[2])}else if(UR.test(n)){var i=n.match(XR);a.push(i[2])}}x=Ng.lastIndex}var h=t.length;return x<h&&a.push(t.substring(x,h)),a}tagTextToProp(t,s){var a,x;if(VR.test(t)){var P=t.match(zR);if(P!=null){var n=P[1],T=this.tags;T.hasOwnProperty(n)?x=T[n]:x={},x._class=n,a=P[2]}}else if(UR.test(t)){var P=t.match(XR);if(P!=null){var i=P[1];x=j7(i),x._style=i,a=P[2]}}a==null&&(a=t),x==null&&(x={});var h=K7;return h.plainText=a,h.prop=x,h}propToContextStyle(t,s){var a=Z7;if(s.hasOwnProperty("img"))a.image=s.img;else{if(a.image=null,s.hasOwnProperty("family")||s.hasOwnProperty("fontFamily")||s.hasOwnProperty("font-family")){var x=s.hasOwnProperty("family")?s.family:s.hasOwnProperty("fontFamily")?s.fontFamily:s["font-family"];a.fontFamily=x}else a.fontFamily=t.fontFamily;if(s.hasOwnProperty("size")||s.hasOwnProperty("fontSize")||s.hasOwnProperty("font-size")){var P=s.hasOwnProperty("size")?s.size:s.hasOwnProperty("fontSize")?s.fontSize:s["font-size"];typeof P=="number"&&(P=`${P}px`),a.fontSize=P}else a.fontSize=t.fontSize;if(s.hasOwnProperty("style")||s.hasOwnProperty("fontStyle")||s.hasOwnProperty("font-style")){var n=s.hasOwnProperty("style")?s.style:s.hasOwnProperty("fontStyle")?s.fontStyle:s["font-style"];a.fontStyle=n}else a.fontStyle=t.fontStyle;if(s.hasOwnProperty("color")||s.hasOwnProperty("font-color")){var T=s.hasOwnProperty("color")?s.color:s["font-color"];a.color=T}else a.color=t.color;if(s.hasOwnProperty("stroke")){var i=s.stroke;a.stroke=i.hasOwnProperty("color")?i.color:t.stroke,a.strokeThickness=i.hasOwnProperty("thickness")?i.thickness:t.strokeThickness}else a.stroke=t.stroke,a.strokeThickness=t.strokeThickness}if(s.hasOwnProperty("shadow")){var h=s.shadow;a.shadowColor=h.hasOwnProperty("color")?h.color:t.shadowColor,a.shadowOffsetX=h.hasOwnProperty("offsetX")?h.offsetX:t.shadowOffsetX,a.shadowOffsetY=h.hasOwnProperty("offsetY")?h.offsetY:t.shadowOffsetY,a.shadowBlur=h.hasOwnProperty("blur")?h.blur:t.shadowBlur,a.shadowStroke=!0,a.shadowFill=!0}else a.shadowColor=t.shadowColor,a.shadowOffsetX=t.shadowOffsetX,a.shadowOffsetY=t.shadowOffsetY,a.shadowBlur=t.shadowBlur,a.shadowStroke=t.shadowStroke,a.shadowFill=t.shadowFill;if(s.hasOwnProperty("u")||s.hasOwnProperty("underline")){var m=s.hasOwnProperty("u")?s.u:s.underline;a.underlineColor=m.hasOwnProperty("color")?m.color:t.underlineColor,a.underlineThickness=m.hasOwnProperty("thickness")?m.thickness:t.underlineThickness,a.underlineOffset=m.hasOwnProperty("offset")?m.offset:t.underlineOffset}else a.underlineColor=t.underlineColor,a.underlineThickness=t.underlineThickness,a.underlineOffset=t.underlineOffset;if(s.hasOwnProperty("s")||s.hasOwnProperty("strikethrough")){var c=s.hasOwnProperty("s")?s.s:s.strikethrough;a.strikethroughColor=c.hasOwnProperty("color")?c.color:t.strikethroughColor,a.strikethroughThickness=c.hasOwnProperty("thickness")?c.thickness:t.strikethroughThickness,a.strikethroughOffset=c.hasOwnProperty("offset")?c.offset:t.strikethroughOffset}else a.strikethroughColor=t.strikethroughColor,a.strikethroughThickness=t.strikethroughThickness,a.strikethroughOffset=t.strikethroughOffset;return a}getStrokeThinkness(t,s){var a;if(s.hasOwnProperty("stroke")){var x=s.stroke;a=x.hasOwnProperty("thickness")?x.thickness:t.strokeThickness}else a=t.strokeThickness;return a}propToTagText(t,s,a){return s.hasOwnProperty("_class")?t===""&&this.isTextTag(s._class)?"":`<class='${s._class}'>${t}</class>`:s.hasOwnProperty("_style")?`<style='${s._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var s=this.tags[t];return s?s.img==null:!1}},r(Ea,"Parser"),Ea);var j7=r(function(e){e=e.split(";");for(var t={},s,a,x,P=0,n=e.length;P<n;P++)if(s=e[P].split(":"),a=s[0],x=s[1],!(kR(a)||kR(x))){switch(a){case"stroke":var T=x.split(" "),i=T.length;x={},i>=1&&(x.color=T[0]),i>=2&&(x.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var T=x.split(" "),i=T.length;x={},i>=1&&(x.color=T[0]),i>=2&&(x.offsetX=parseInt(T[1].replace("px",""))),i>=3&&(x.offsetY=parseInt(T[2].replace("px",""))),i>=4&&(x.blur=parseInt(T[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var T=x.split(" "),i=T.length;x={},i>=1&&(x.color=T[0]),i>=2&&(x.thickness=parseInt(T[1].replace("px",""))),i>=3&&(x.offset=parseInt(T[2].replace("px",""))),a==="underline"?a="u":a==="strikethrough"&&(a="s");break;case"y":x=parseFloat(x);break}t[a]=x}return t},"StyleToProp"),kR=r(function(e){return e=e.replace(Q7,""),e.length===0},"isEmpty"),Ng=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,VR=/<\s*class=/i,zR=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,UR=/<\s*style=/i,XR=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,Q7=/^\s+|\s+$/;const q7=Phaser.Utils.Objects.GetValue,QC=class QC extends kh{constructor(t,s,a,x,P){var n=q7(P,"tags",void 0),T=new J7(n);super(t,s,a,x,P,"rexTagText",T)}addTag(t,s){return this.parser.addTag(t,s),this.updateText(!0)}addTags(t){for(var s in t)this.parser.addTag(s,t[s]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}};r(QC,"TagText");let jd=QC;rt.register("tagText",function(e,t,s,a){var x=new jd(this.scene,e,t,s,a);return this.scene.add.existing(x),x});it(window,"RexPlugins.UI.TagText",jd);const bu=Phaser.Utils.Objects.GetValue;var Od=r(function(e,t){return t===void 0?e:e[t]},"GetPadding$1"),ir=r(function(e,t,s){e===void 0&&(e={}),t===void 0&&(t=0);var a=typeof t;return a==="string"?e[t]=s:a==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=bu(t,"left",0),e.right=bu(t,"right",0),e.top=bu(t,"top",0),e.bottom=bu(t,"bottom",0)),e},"SetPadding$1"),Ma;let ly=(Ma=class{constructor(t,s){this.setParent(t),this.type=s,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,s){return!1}},r(Ma,"Base"),Ma);Object.assign(ly.prototype,hc);const _7={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,s=this.drawY;this.autoRound&&(t=Math.round(t),s=Math.round(s)),e.translate(t,s),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},tN=Phaser.Math.RotateAround;var eN=r(function(e,t,s,a){return a===void 0?a={}:a===!0&&(kg===void 0&&(kg={}),a=kg),a.x=(e-s.drawX)/s.scaleX,a.y=(t-s.drawY)/s.scaleY,s.rotation!==0&&tN(a,0,0,-s.rotation),a},"CanvasPositionToBobPosition"),kg;const iN=Phaser.Geom.Rectangle;var sN=r(function(e,t){if(this.width===0||this.height===0)return!1;var s=eN(e,t,this,!0);return rN(this).contains(s.x,s.y)},"Contains$1"),rN=r(function(e){Au===void 0&&(Au=new iN);var t=e.drawTLX,s=e.drawTLY;return Au.setTo(t,s,e.drawTRX-t,e.drawBLY-s),Au},"GetBobBounds"),Au;const nN=Phaser.Math.RotateAround;var rF=r(function(e,t,s,a){return a===void 0?a={}:a===!0&&(Vg===void 0&&(Vg={}),a=Vg),a.x=t,a.y=s,e.rotation!==0&&nN(a,0,0,e.rotation),a.x=a.x*e.scaleX+e.drawX,a.y=a.y*e.scaleY+e.drawY,a},"BobPositionToCanvasPosition"),Vg;const YR=Phaser.GameObjects.Components.TransformMatrix;var aN=r(function(e,t,s,a){a===void 0?a={}:a===!0&&(a=oN);var x=t-e.width*e.originX,P=s-e.height*e.originY;return sh===void 0&&(sh=new YR,WR=new YR),e.parentContainer?e.getWorldTransformMatrix(sh,WR):sh.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),sh.transformPoint(x,P,a),a},"GameObjectLocalXYToWorldXY"),sh,WR,oN={},hN=r(function(e,t,s,a,x){var P=rF(t,s,a,!0),n=aN(e,P.x,P.y,x);return n},"BobPositionToWorldPosition"),nF=r(function(e,t,s,a,x){typeof s!="number"&&(x=s,s=0,a=0);var P=t.drawCenterX+s,n=t.drawCenterY+a;return hN(e,t,P,n,x)},"GetBobWorldPosition"),lN=r(function(e,t,s){return nF(this.parent,this,e,t,s)},"GetWorldPosition"),aF={contains:sN,getWorldPosition:lN};Object.assign(aF,_7);const uN=Phaser.Math.DegToRad,dN=Phaser.Math.RadToDeg,Lu=Phaser.Utils.Objects.GetValue,qC=class qC extends ly{constructor(t,s){super(t,s),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setInitialPosition(t,s){return this.x0=t,this.y0=s,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,s){return s===void 0&&(s=t),this.scrollFactorX=t,this.scrollFactorY=s,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return dN(this._rotation)}set angle(t){this.rotation=uN(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=Lu(t,"width",void 0),a=Lu(t,"height",void 0),x=Lu(t,"scaleX",void 0),P=Lu(t,"scaleY",void 0);return s!==void 0?a===void 0&&P===void 0?this.setWidth(s,!0):this.setWidth(s):x!==void 0&&this.setScaleX(x),a!==void 0?s===void 0&&x===void 0?this.setHeight(a,!0):this.setHeight(a):P!==void 0&&this.setScaleY(P),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}};r(qC,"RenderBase");let Rs=qC;Object.assign(Rs.prototype,aF);var tr=r(function(e,t,s){return t.hasOwnProperty(e)?t[e]:s[e]},"GetProperty");const wr=Phaser.Utils.Objects.GetValue,_C=class _C extends Rs{constructor(t,s){super(t,"background"),this.setScrollFactor(0),this.setColor(wr(s,"color",null),wr(s,"color2",null),wr(s,"horizontalGradient",!0)),this.setStroke(wr(s,"stroke",null),wr(s,"strokeThickness",2)),this.setCornerRadius(wr(s,"cornerRadius",0),wr(s,"cornerIteration",null))}set color(t){t=mt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=mt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,a){return a===void 0&&(a=!0),this.color=t,this.color2=s,this.horizontalGradient=a,this}set stroke(t){t=mt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,tr("color2",t,this),tr("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,tr("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,tr("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,s){return this.cornerRadius=t,this.cornerIteration=s,this}renderContent(){ry(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}};r(_C,"Background");let Im=_C;const ks=Phaser.Utils.Objects.GetValue,tT=class tT extends Rs{constructor(t,s){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(ks(s,"color",null),ks(s,"color2",null),ks(s,"horizontalGradient",!0)),this.setStroke(ks(s,"stroke",null),ks(s,"strokeThickness",2))}set color(t){t=mt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=mt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,a){return a===void 0&&(a=!0),this.color=t,this.color2=s,this.horizontalGradient=a,this}set stroke(t){t=mt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,ks(t,"color2",null),ks(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,ks(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,s=t.left,a=t.top,x=this.parent.width-t.left-t.right,P=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var T;if(this.color2!=null){var i;this.horizontalGradient?i=n.createLinearGradient(0,0,x,0):i=n.createLinearGradient(0,0,0,P),i.addColorStop(0,this.color),i.addColorStop(1,this.color2),T=i}else T=this.color;n.fillStyle=T,n.fillRect(s,a,x,P)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(s,a,x,P))}};r(tT,"InnerBounds");let Dm=tT;const ie=Phaser.Utils.Objects.GetValue,Qf=class Qf{constructor(t,s){this.parent=t,this.set(s)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(ie(t,"bold",!1)),this.setItalic(ie(t,"italic",!1)),this.setFontSize(ie(t,"fontSize","16px")),this.setFontFamily(ie(t,"fontFamily","Courier")),this.setColor(ie(t,"color","#fff")),this.setStrokeStyle(ie(t,"stroke",null),ie(t,"strokeThickness",0)),this.setShadow(ie(t,"shadowColor",null),ie(t,"shadowOffsetX",0),ie(t,"shadowOffsetY",0),ie(t,"shadowBlur",0)),this.setOffset(ie(t,"offsetX",0),ie(t,"offsetY",0)),this.setSpace(ie(t,"leftSpace",0),ie(t,"rightSpace",0)),this.setAlign(ie(t,"align",void 0)),this.setBackgroundColor(ie(t,"backgroundColor",null)),this.setBackgroundHeight(ie(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(ie(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(ie(t,"backgroundLeftX",0)),this.setBackgroundRightX(ie(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(tr("stroke",t,this),tr("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(tr("shadowOffsetX",t,this),tr("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new Qf(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=mt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,s){return this.stroke=mt(t),s!==void 0&&(this.strokeThickness=s),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=mt(t),this}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=0),this.shadowOffsetX=t,this.shadowOffsetY=s,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,s,a,x){return this.setShadowColor(t).setShadowOffset(s,a).setShadowBlur(x),this}setBackgroundColor(t){return this.backgroundColor=mt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,s){return this.setOffsetX(t).setOffsetY(s),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,s){return this.setLeftSpace(t).setRightSpace(s),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var s=this.hasFill,a=this.hasStroke;return t.fillStyle=s?this.color:"#000",t.strokeStyle=a?this.stroke:"#000",t.lineWidth=a?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,s){return this.syncFont(t).syncStyle(t),t.measureText(s)}};r(Qf,"TextStyle");let Qd=Qf;var fN=r(function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},"SetFixedSize"),cN=r(function(e,t){var s=this.padding,a=s.left,x=s.right,P=s.top,n=s.bottom;return ir(s,e,t),this.dirty=this.dirty||a!=s.left||x!=s.right||P!=s.top||n!=s.bottom,this},"SetPadding"),vN=r(function(e){return Od(this.padding,e)},"GetPadding"),pN=r(function(e){return this.textStyle.modify(e),this},"ModifyTextStyle"),gN=r(function(e){return this.defaultTextStyle.modify(e),this},"ModifyDefaultTextStyle"),mN=r(function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},"ResetTextStyle"),xN=r(function(e){return this.testString=e,this},"SetTestString");const yN=Phaser.Utils.Array.Remove;var CN=r(function(e){return this.poolManager.free(e),yN(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},"RemoveChild$1"),TN=r(function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},"RemoveChildren");const SN=Phaser.Utils.Array.Remove;var PN=r(function(e){return SN(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},"PopChild"),EN=r(function(){return this.setText(),this},"ClearContent"),MN=r(function(e,t){var s=Array.isArray(e);return t===void 0||t===this.children.length?s?this.children.push(...e):this.children.push(e):s?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,s?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this},"AddChild$2");const Os="text",oF="image",hF="drawer",lF="space",uy="command";var uF=r(function(e){return e.type===Os&&e.text===`
`},"IsNewLineChar"),dF=r(function(e){return e.type===Os&&e.text==="\f"},"IsPageBreakChar"),wN=r(function(e){return e.type===Os&&e.text===" "},"IsSpaceChar"),Wr=r(function(e){return e.type===Os},"IsChar"),RN=r(function(e){return e.type===uy},"IsCommand");const eT=class eT extends Rs{constructor(t,s,a){super(t,Os),this.updateTextFlag=!1,this.style=new Qd(this,a),this.setText(s)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var s=this.style.getTextMetrics(this.context,this.text);this.textWidth=s.width;var a,x;"actualBoundingBoxAscent"in s?(a=s.actualBoundingBoxAscent,x=s.actualBoundingBoxDescent):(a=0,x=0),this.textHeight=a+x,this.ascent=a,this.descent=x}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,s=this.style;if(s.hasBackgroundColor){t.fillStyle=s.backgroundColor;var a=this.drawTLX+s.backgroundLeftX,x=this.drawTRX+s.backgroundRightX,P=a,n=x-a+1;if(n>0){var T=s.backgroundBottomY;T==null&&(T=this.drawBLY);var i=s.backgroundHeight;i==null&&(i=T-this.drawTLY);var h=T-i;t.fillRect(P,h,n,i)}}var m=s.hasFill,c=s.hasStroke;!m&&!c||(s.syncFont(t).syncStyle(t),c&&(s.syncShadow(t),t.strokeText(this.text,0,0)),m&&(s.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}};r(eT,"CharData");let qd=eT;var ON=r(function(e,t){t&&this.textStyle.modify(t);var s=this.poolManager.allocate(Os);return s===null?s=new qd(this,e,this.textStyle):s.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),s},"CreateCharChild"),bN=r(function(e,t){t&&this.textStyle.modify(t);for(var s=[],a=0,x=e.length;a<x;a++){var P=e.charAt(a),n=this.poolManager.allocate(Os);n===null?n=new qd(this,P,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(P),s.push(n)}return s},"CreateCharChildren"),Ql=r(function(e,t){var s=this.createCharChildren(e,t);return this.addChild(s),this},"AppendText"),AN=r(function(e,t){return e===void 0&&(e=""),this.removeChildren(),Ql.call(this,e,t),this.dirty=!0,this},"SetText$2"),LN=r(function(e,t,s){var a=this.createCharChildren(t,s);return e=this.getCharChildIndex(e,!0),this.addChild(a,e),this},"InsertText"),FN=r(function(e,t){t===void 0&&(t=1);for(var s=0;s<t;s++){var a=this.getCharChildIndex(e,!0);if(a===void 0)break;this.removeChild(this.children[a])}return this},"RemoveText"),IN=r(function(e){var t="";return this.forEachCharChild(function(s){t+=s.text},void 0,e),t},"GetText");Phaser.Display.Canvas.CanvasPool;const iT=class iT extends Rs{constructor(t,s,a){super(t,oF),this.setTexture(s,a),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,s){return this.key=t,this.frame=s,this.frameObj=this.scene.sys.textures.getFrame(t,s),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){RL(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}};r(iT,"ImageData");let Bm=iT;var DN=r(function(e,t,s){var a=this.poolManager.allocate(oF);return a===null?a=new Bm(this,e,t):a.setParent(this).setActive().setTexture(e,t),a.modifyPorperties(s),a},"CreateImageChild"),fF=r(function(e,t,s){var a=this.createImageChild(e,t,s);return this.addChild(a),this},"AppendImage");const sT=class sT extends Rs{constructor(t,s,a,x){super(t,hF),this.setRenderCallback(s),this.setDrawerSize(a,x)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,s){return t===!0?(this.toLocalPosition=!1,t=void 0,s=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),s===void 0&&(s=t),this.drawerWidth=t,this.drawerHeight=s,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}};r(sT,"Drawer");let Gm=sT;var BN=r(function(e,t,s){var a=this.poolManager.allocate(hF);return a===null?a=new Gm(this,e,t,s):a.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,s),a},"CreateDrawerChild"),GN=r(function(e,t,s){var a=this.createDrawerChild(e,t,s);return this.addChild(a),this},"AppendDrawer"),wa;let NN=(wa=class extends Rs{constructor(t,s){super(t,lF),this.setSpaceWidth(s)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}},r(wa,"Space"),wa);var kN=r(function(e){var t=this.poolManager.allocate(lF);return t===null?t=new NN(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},"CreateSpaceChild"),cF=r(function(e){var t=this.createSpaceChild(e);return this.addChild(t),this},"AppendSpace");const rT=class rT extends ly{constructor(t,s,a,x,P){super(t,uy),this.setName(s).setParameter(x).setCallback(a,P)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,s){return this.callback=t,this.scope=s,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}};r(rT,"Command");let Nm=rT;var VN=r(function(e,t,s,a){var x=this.poolManager.allocate(uy);return x===null?x=new Nm(this,e,t,s,a):x.setParent(this).setActive().setName(e).setCallback(t,a).setParameter(s),x},"CreateCommandChild"),dt=r(function(e,t,s,a){var x=this.createCommandChild(e,t,s,a);return this.addChild(x),this},"AppendCommand$3"),zN=r(function(e){return e===void 0?e={}:typeof e=="object"&&(e=Ce(e)),this.wrapConfig=e,this},"SetWrapConfig"),vF=r(function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)},"CreateWrapResultData");const UN={none:0,word:1,char:2,character:2,mix:3};var XN=r(function(e,t,s,a){a===void 0&&(a={word:[],width:0}),a.word.length=0;for(var x=s===2,P=s===3,n=!x&&!P,T=e.length,i=t,h=a.word,m=0,c=!1;i<T;){var u=e[i];if(!u.renderable){h.push(u),i++;continue}var l=u.type===Os?u.text:null;if(l===null||l===`
`||l==="\f"){i===t&&(h.push(u),m+=u.outerWidth);break}if(n){if(h.push(u),m+=u.outerWidth,l===" ")break;i++}else if(x){h.push(u),m+=u.outerWidth;break}else if(P)if(Gh(l)){if(h.push(u),m+=u.outerWidth,l===" ")break;i++,c=!0}else{if(c)break;h.push(u),m+=u.outerWidth;var o=e[i+1];o&&o.type===Os&&o.text===" "&&(h.push(o),m+=o.outerWidth);break}}return a.width=m,a},"GetWord"),pF=r(function(e){for(var t=0,s=e.length;t<s;t++){var a=e[t];if(a.align!==void 0)return a.align}},"GetChildrenAlign"),gF=r(function(e,t,s){if(!(t===0&&s===0))for(var a=0,x=e.length;a<x;a++){var P=e[a];P.renderable&&(P.x+=t,P.y+=s)}},"OffsetChildren"),YN=r(function(e,t,s){for(var a=e.hAlign,x=e.vAlign,P=e.justifyPercentage,n=e.lines,T,i,h=0,m=n.length;h<m;h++){var c=n[h],u=c.width,l=c.children,o=pF(l);switch(o===void 0&&(o=a),o){case 0:case"left":T=0;break;case 1:case"center":var d=t-u;T=d/2;break;case 2:case"right":var d=t-u;T=d;break;case 3:case"justify":case"justify-left":var d=t-u,v=d/t;v<P&&zg(l,d),T=0;break;case 4:case"justify-center":var d=t-u,v=d/t;v<P?(zg(l,d),T=0):T=d/2;break;case 5:case"justify-right":var d=t-u,v=d/t;v<P?(zg(l,d),T=0):T=d;break;default:T=0;break}var f=e.linesHeight;switch(x){case 1:case"center":i=(s-f)/2;break;case 2:case"bottom":i=s-f;break;default:i=0;break}gF(l,T,i)}},"AlignLines$1"),zg=r(function(e,t){for(var s=t/e.length,a=0,x=e.length;a<x;a++){var P=e[a];P.renderable&&(P.x+=s*a)}},"JustifyChildren"),HR=r(function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,s;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,s=e.actualBoundingBoxDescent):(t=0,s=0),Fu.ascent=t,Fu.descent=s,Fu.height=t+s,Fu},"GetDefaultTextHeight"),Fu={};const Ge=Phaser.Utils.Objects.GetValue;var WN=r(function(e){var t=Ge(e,"start",0);ir(this.wrapPadding,Ge(e,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,a=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,x=Ge(e,"lineHeight"),P=Ge(e,"ascent",x),n;if(x===void 0){var T=Ge(e,"useDefaultTextHeight",!1);if(n=Ge(e,"maxLines",0),this.fixedHeight>0&&!T){var K=this.fixedHeight-s;if(n>0)x=K/n;else{var i=HR.call(this);x=i.height,P=i.ascent,n=Math.floor((K-P)/x)}}else{var i=HR.call(this);x=i.height,P=i.ascent}}else if(this.fixedHeight>0){if(n=Ge(e,"maxLines"),n===void 0){var K=this.fixedHeight-s;n=Math.floor(K/x)}}else n=Ge(e,"maxLines",0);P===void 0&&(P=x);var h=n===0,m=Ge(e,"wrapMode");if(m===void 0){var c=Ge(e,"charWrap",!1);m=c?"char":"word"}typeof m=="string"&&(m=UN[m]);var u=Ge(e,"wrapWidth",void 0);u===void 0&&(this.fixedWidth>0?u=this.fixedWidth-a:(u=1/0,m=0));for(var l=Ge(e,"letterSpacing",0),o=Ge(e,"hAlign",0),d=Ge(e,"vAlign",0),v=Ge(e,"justifyPercentage",.25),f=vF({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:l,maxLines:n,hAlign:o,vAlign:d,justifyPercentage:v,ascent:P,lineHeight:x,wrapWidth:u,wrapMode:m}),p=this.children,g=0,y=p.length;g<y;g++)p[g].setActive(!1);u+=l;for(var C=this.padding.left+this.wrapPadding.left,S=this.padding.top+this.wrapPadding.top+P,E=C,w=S,M=u,R=t,O=p.length,b=f.children,A=f.lines,I=[],L=0,F=0,D,B=!1;R<O;){D=XN(p,R,m,D);var V=D.word,U=V.length,W=D.width+U*l;R+=U;var Y=uF(V[0]);B=dF(V[0]);var N=Y||B;if(M<W||N){if(N){var z=V[0];z.setActive().setPosition(E,w),b.push(z),I.push(z)}E=C,w+=x,M=u,A.push({children:I,width:L}),F=Math.max(F,L),L=0,I=[];var G=B||!h&&A.length===n;if(G)break;if(N)continue}M-=W,L+=W;for(var g=0,y=V.length;g<y;g++){var X=V[g];X.setActive(),b.push(X),I.push(X),X.renderable&&(X.setPosition(E,w),E+=X.outerWidth+l)}}I.length>0&&(A.push({children:I,width:L}),F=Math.max(F,L)),f.start+=b.length,f.isLastPage=!B&&f.start===O,f.maxLineWidth=F,f.linesHeight=A.length*x;var k=this.fixedWidth>0?this.fixedWidth:f.maxLineWidth+a,H=this.fixedHeight>0?this.fixedHeight:f.linesHeight+s,$=k-a,K=H-s;YN(f,$,K),this.setCanvasSize(k,H);for(var g=0,y=b.length;g<y;g++){var X=b[g];X.renderable&&(X.x0=X.x,X.y0=X.y)}return f},"RunWordWrap$1");const HN=Phaser.Utils.Objects.Merge;var $N=r(function(e){return e===void 0&&(e={}),WN.call(this,HN(e,this.wrapConfig))},"RunWordWrap"),KN=r(function(e,t,s){var a=e.hAlign,x=e.vAlign,P,n,T=e.rtl,i=e.lines,h=e.lineWidth,m=e.linesWidth;switch(a){case 1:case"center":P=(t-m)/2;break;case 2:case"right":P=t-m;break;default:P=0;break}T&&(P+=h);for(var c=0,u=i.length;c<u;c++){var l=i[T?u-c-1:c],o=l.children,d=l.height,v=pF(o);switch(v===void 0&&(v=x),v){case 1:case"center":n=(s-d)/2;break;case 2:case"bottom":n=s-d;break;default:n=0;break}gF(o,P,n),P+=h}},"AlignLines");const qe=Phaser.Utils.Objects.GetValue;var ZN=r(function(e){var t=qe(e,"start",0);ir(this.wrapPadding,qe(e,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,a=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,x=qe(e,"lineWidth",void 0),P;if(x===void 0)if(P=qe(e,"maxLines",0),this.fixedWidth>0){var Y=this.fixedWidth-a;x=Y/P}else x=0;else if(this.fixedWidth>0){if(P=qe(e,"maxLines",void 0),P===void 0){var Y=this.fixedWidth-a;P=Math.floor(Y/x)+1}}else P=qe(e,"maxLines",0);var n=P===0,T=qe(e,"fixedCharacterHeight",void 0);if(T===void 0){var i=qe(e,"charPerLine",void 0);if(i!==void 0){var N=this.fixedHeight-s;T=Math.floor(N/i)}}var h=qe(e,"wrapHeight",void 0);h===void 0&&(this.fixedHeight>0?h=this.fixedHeight-s:h=1/0);for(var m=qe(e,"letterSpacing",0),c=qe(e,"rtl",!0),u=qe(e,"hAlign",c?2:0),l=qe(e,"vAlign",0),o=vF({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:m,maxLines:P,hAlign:u,vAlign:l,lineWidth:x,fixedCharacterHeight:T,wrapHeight:h,rtl:c}),d=this.children,v=0,f=d.length;v<f;v++)d[v].setActive(!1);h+=m;for(var p=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top,y=p,C=g,S=h,E=t,w=d.length,M=o.children,R=o.lines,O=[],b=0,A=0;E<w;){var I=d[E];if(E++,!I.renderable){I.setActive(),M.push(I),O.push(I);continue}var L=(T!==void 0?T:I.height)+m,F=uF(I),D=dF(I),B=F||D;if(S<L||B){F&&(I.setActive().setPosition(y,C).setOrigin(.5),M.push(I),O.push(I)),y=p,C=g,S=h,R.push({children:O,height:b}),A=Math.max(A,b),b=0,O=[];var V=D||!n&&R.length===P;if(V)break;if(B)continue}S-=L,b+=L,I.setActive().setPosition(y,C).setOrigin(.5),M.push(I),O.push(I),C+=L}O.length>0&&(R.push({children:O,height:b}),A=Math.max(A,b)),o.start+=M.length,o.isLastPage=o.start===w,o.maxLineHeight=A,o.linesWidth=R.length*x;var U=this.fixedWidth>0?this.fixedWidth:o.linesWidth+a,W=this.fixedHeight>0?this.fixedHeight:o.maxLineHeight+s,Y=U-a,N=W-s;KN(o,Y,N),this.setCanvasSize(U,W);for(var v=0,f=M.length;v<f;v++){var I=M[v];I.renderable&&(I.x0=I.x,I.y0=I.y)}return o},"RunVerticalWrap$1");const JN=Phaser.Utils.Objects.Merge;var jN=r(function(e){return e===void 0&&(e={}),ZN.call(this,JN(e,this.wrapConfig))},"RunVerticalWrap");const $R=Phaser.Utils.Objects.GetValue;var QN=r(function(e){var t=$R(this.wrapConfig,"callback");return t||(t=$R(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)},"RunWrap");const qN={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},_N={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var tk=r(function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,s=this.children.length;t<s;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},"RenderContent"),ek=r(function(e,t,s){s===void 0&&(s=!0);for(var a=this.children.filter(function(i){return!(s&&!i.active)}),x=0,P=a.length;x<P;x++){var n=a[x],T;if(t?T=e.call(this,n,x,a):T=e(n,x,a),T)break}return this},"ForEachChild"),ik=r(function(e,t,s){s===void 0&&(s=!0);for(var a=this.children.filter(function(i){return!(s&&!i.active||!i.renderable||i.removed)}),x=0,P=a.length;x<P;x++){var n=a[x],T;if(t?T=e.call(this,n,x,a):T=e(n,x,a),T)break}return this},"ForEachRenderableChild"),sk=r(function(e,t,s){s===void 0&&(s=!0);for(var a=this.children.filter(function(i){return!(s&&!i.active||!Wr(i)||i.removed)}),x=0,P=a.length;x<P;x++){var n=a[x],T;if(t?T=e.call(this,n,x,a):T=e(n,x,a),T)break}return this},"ForEachCharChild"),rk=r(function(){return this.children},"GetChildren");const nk=Phaser.Utils.Array.GetAll;var ak=r(function(){return nk(this.children,"active",!0)},"GetActiveChildren"),ok=r(function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(s){t.push(s)},void 0,e),t},"GetCharChildren"),hk=r(function(){return this.lastAppendedChildren},"GetLastAppendedChildren"),lk=r(function(e,t,s,a){typeof t!="number"&&(a=t,t=0,s=0);var x=e.drawCenterX+t,P=e.drawCenterY+s;return rF(e,x,P,a)},"GetBobCenterPosition");const uk=Phaser.Math.Distance.BetweenPointsSquared;var dk=r(function(e,t){var s={x:e,y:t},a=1/0,x=null;return this.forEachRenderableChild(function(P){var n=uk(s,lk(P,!0));a>n&&(a=n,x=P)}),x},"GetNearestChild"),fk=r(function(e,t,s,a){return typeof e=="number"&&(e=this.getCharChild(e,!0)),nF(this,e,t,s,a)},"GetCharWorldPosition"),ck=r(function(){for(var e=this.children,t=0,s=0,a=0,x=e.length;a<x;a++){var P=e[a];if(!(!P.renderable||!P.active||!P.visible)){var n=P.x0!==void 0?P.x0:P.x,T=P.y0!==void 0?P.y0:P.y;t=Math.max(t,n),s=Math.max(s,T)}}var i=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,h=s+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==i||this.height!==h)&&(this.dirty=!0,this.setCanvasSize(i,h)),this},"SetToMinSize"),vk=r(function(e,t){t===void 0&&(t=!0);for(var s=this.children,a=0,x=s.length;a<x;a++){var P=s[a];if(!(t&&!P.active)&&Wr(P)&&!P.removed){if(e===0)return a;e--}}},"GetCharChildIndex"),pk=r(function(e,t){t===void 0&&(t=!0);for(var s=this.children,a=0,x=s.length;a<x;a++){var P=s[a];if(!(t&&!P.active)&&Wr(P)&&!P.removed){if(e===0)return P;e--}}},"GetCharChild"),gk=r(function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var s=this.children;e>=s.length&&(e=s.length);for(var a=0,x=0;x<e;x++){var P=s[x];t&&!P.active||Wr(P)&&!P.removed&&a++}return a},"GetCharIndex"),mk=r(function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},"SetChildrenInteractiveEnable"),dy=r(function(a,t,s){for(var a=a,x=0,P=a.length;x<P;x++){var n=a[x];if(!(!n.active||!n.renderable)&&n.contains(t,s))return n}return null},"GetFirstChildContains"),xk=r(function(){return this.on("pointerdown",yk,this).on("pointerdown",Ck,this).on("pointermove",Ug,this).on("pointerover",Ug,this).on("pointerout",function(e,t){Ug.call(this,e,null,null,t)},this),this},"SetChildrenInteractive$2"),yk=r(function(e,t,s,a){if(this.childrenInteractiveEnable){var x=dy(this.children,t,s);x&&this.emit("child.pointerdown",x,e,t,s,a)}},"OnPointerDown$1"),Ck=r(function(e,t,s,a){if(this.childrenInteractiveEnable){var x=dy(this.children,t,s);x&&this.emit("child.pointerup",x,e,t,s,a)}},"OnPointerUp$1"),Ug=r(function(e,t,s,a){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,s,a),this.lastOverChild=null);return}var x=dy(this.children,t,s);x!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,s,a),x!==null&&this.emit("child.pointerover",x,e,t,s,a),this.lastOverChild=x)}},"OnPointOverOut");const Tk=Phaser.GameObjects.GameObject;var Sk=r(function(e,t,s){var a=!!this.input;return Tk.prototype.setInteractive.call(this,e,t,s),a||xk.call(this),this},"SetInteractive");const Pk=Phaser.Utils.Array.BringToTop,Ek=Phaser.Utils.Array.SendToBack,Mk=Phaser.Utils.Array.MoveUp,wk=Phaser.Utils.Array.MoveDown,Rk=Phaser.Utils.Array.MoveAbove,Ok=Phaser.Utils.Array.MoveBelow,bk={moveChildToFist(e){return Ek(this.children,e),this},moveChildToLast(e){return Pk(this.children,e),this},movechildUp(e){return Mk(this.children,e),this},movechildDown(e){return wk(this.children,e),this},movechildAbove(e,t){return Rk(this.children,e,t),this},movechildBelow(e,t){return Ok(this.children,e,t),this}},Ak={setBackgroundColor(e,t,s){return this.background.setColor(e,t,s),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},Lk={setInnerBoundsColor(e,t,s){return this.innerBounds.setColor(e,t,s),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var mF={setFixedSize:fN,setPadding:cN,getPadding:vN,modifyTextStyle:pN,modifyDefaultTextStyle:gN,resetTextStyle:mN,setTestString:xN,removeChild:CN,removeChildren:TN,popChild:PN,clearContent:EN,addChild:MN,createCharChild:ON,createCharChildren:bN,setText:AN,appendText:Ql,insertText:LN,removeText:FN,getText:IN,createImageChild:DN,appendImage:fF,createDrawerChild:BN,appendDrawer:GN,createSpaceChild:kN,appendSpace:cF,createCommandChild:VN,appendCommand:dt,setWrapConfig:zN,runWordWrap:$N,runVerticalWrap:jN,runWrap:QN,renderContent:tk,forEachChild:ek,forEachRenderableChild:ik,forEachCharChild:sk,getChildren:rk,getActiveChildren:ak,getCharChildren:ok,getLastAppendedChildren:hk,getNearestChild:dk,getCharWorldPosition:fk,setToMinSize:ck,getCharChildIndex:vk,getCharChild:pk,getCharIndex:gk,setChildrenInteractiveEnable:mk,setInteractive:Sk};Object.assign(mF,bk,Ak,Lk,qN,_N);const Fk=Phaser.Utils.Objects.GetFastValue;var Ik={};const nT=class nT{constructor(t){this.pools=Fk(t,"pools",Ik)}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new Ci),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,a=t.length;s<a;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};r(nT,"PoolManager");let km=nT;const Xg=Phaser.Utils.Objects.IsPlainObject,Te=Phaser.Utils.Objects.GetValue,aT=class aT extends cr{constructor(t,s,a,x,P,n,T){Xg(s)?(T=s,s=Te(T,"x",0),a=Te(T,"y",0),x=Te(T,"width",0),P=Te(T,"height",0),n=Te(T,"resolution",1)):Xg(x)?(T=x,x=Te(T,"width",0),P=Te(T,"height",0),n=Te(T,"resolution",1)):Xg(n)&&(T=n,n=Te(T,"resolution",1));var i=x===0?1:x,h=P===0?1:P;super(t,s,a,i,h,n),this.type="rexDynamicText",this.autoRound=!0,this.padding=ir(),this.wrapPadding=ir();var m=Te(T,"style",void 0);this.defaultTextStyle=new Qd(null,m),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(Te(T,"testString","|MÃqgy")),this._textOX=0,this._textOY=0,this.background=new Im(this,Te(T,"background",void 0)),this.innerBounds=new Dm(this,Te(T,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new km(T),this.setFixedSize(x,P),this.setPadding(Te(T,"padding",0)),this.setWrapConfig(Te(T,"wrap",void 0)),this.setChildrenInteractiveEnable(Te(T,"childrenInteractive",!1));var c=Te(T,"text",void 0);c&&this.setText(c)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,s){return this.setFixedSize(t,s),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}};r(aT,"DynamicText");let or=aT;Object.assign(or.prototype,mF);rt.register("dynamicText",function(e,t,s,a,x){var P=new or(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.DynamicText",or);const Dk={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var s=t[e];return s!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(u){var t=u.property,s=u.value,a=u.duration,x=u.delay,P=u.ease,n=u.repeat,T=u.yoyo,i=u.from,h=u.complete,m=u.target;if(a===void 0&&(a=1e3),x===void 0&&(x=0),P===void 0&&(P="Linear"),n===void 0&&(n=0),T===void 0&&(T=!1),m===void 0&&(m=this.gameObject),i){var c=s;s=m[t],m[t]=c}var u={targets:m,duration:a,delay:x,ease:P,repeat:n,yoyo:T,onComplete:h};return u[t]=s,this.addTweenTask(t,u),this},addTweenTask(e,t){var s=this.tweens,a=s[e];a&&a.remove();var x=t.onComplete;return t.onComplete=function(){s[e].remove(),s[e]=null,x&&x(t.targets,e)},a=this.scene.tweens.add(t),a.timeScale=this.timeScale,s[e]=a,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var s in e)t=e[s],t&&t.remove(),e[s]=null;return this}},Bk={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var s=this.gameObject;return s[e].apply(s,t),this}},Gk={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}},oT=class oT{constructor(t,s,a){this.GOManager=t,this.tweens={},this.effects={},this.setGO(s,a)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,s){return t.goName=s,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=s,this.freeTweens(),this}setTimeScale(t){var s=this.tweens;for(var a in s){var x=s[a];x&&(x.timeScale=t)}return this}};r(oT,"BobBase");let Hh=oT;Object.assign(Hh.prototype,Dk,Bk,Gk);var ql=r(function(e){for(var t in e)return!1;return!0},"IsEmpty"),Xr=r(function(e){return e&&e.charAt(0)!=="!"},"IsSingleBob");const Nk={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(Xr(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var s in this.bobs)e&&s===e||t.push(this.bobs[s]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var s=this.get(e);if(s)if(Array.isArray(s)){t===void 0&&(t=[]);var a=s;return a.forEach(function(x){t.push(x.gameObject)}),t}else return s.gameObject;else return null},forEachGO(e,t){for(var s in this.bobs){var a=this.bobs[s].gameObject,x;if(t?x=e.call(t,a,s,this):x=e(a,s,this),x)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var s=this.bobs[t].gameObject;e.push(s)}return e}};var $h=r(function(e){return e>>16&255},"GetR"),Kh=r(function(e){return e>>8&255},"GetG"),Zh=r(function(e){return e&255},"GetB"),KR=r(function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t},"GetRGB");const kk=65535,Vk=16711935,zk=16776960;var Uk=r(function(e,t){return(t&255)<<16|e&kk},"SetR"),Xk=r(function(e,t){return(t&255)<<8|e&Vk},"SetG"),Yk=r(function(e,t){return t&255|e&zk},"SetB"),Wk=r(function(e,t,s,a){return(t&255)<<16|(s&255)<<8|a&255},"SetRGB"),Hk=r(function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var s=$h(t),a=Kh(t),x=Zh(t);return Object.defineProperty(e,"tint",{get:r(function(){return t},"get"),set:r(function(P){P=Math.floor(P)&16777215,e.setTint&&e.setTint(P),t!==P&&(t=P,s=$h(t),a=Kh(t),x=Zh(t))},"set")}),Object.defineProperty(e,"tintR",{get:r(function(){return s},"get"),set:r(function(P){P=Math.floor(P)&255,s!==P&&(s=P,e.tint=Uk(t,P))},"set")}),Object.defineProperty(e,"tintG",{get:r(function(){return a},"get"),set:r(function(P){P=Math.floor(P)&255,a!==P&&(a=P,e.tint=Xk(t,P))},"set")}),Object.defineProperty(e,"tintB",{get:r(function(){return x},"get"),set:r(function(P){P=Math.floor(P)&255,x!==P&&(x=P,e.tint=Yk(t,P))},"set")}),Object.defineProperty(e,"tintGray",{get:r(function(){return Math.floor((s+a+x)/3)},"get"),set:r(function(P){P=Math.floor(P)&255,(s!==P||a!==P||x!==P)&&(s=P,a=P,x=P,e.tint=Wk(t,P,P,P))},"set")}),e.tint=t,e},"AddTintRGBProperties");const $k=Phaser.Events.EventEmitter;var Kk=r(function(e){if(e.events)return e;var t=new $k,s=e.x;Object.defineProperty(e,"x",{get:r(function(){return s},"get"),set:r(function(n){s!==n&&(s=n,t.emit("update",e))},"set")});var a=e.y;Object.defineProperty(e,"y",{get:r(function(){return a},"get"),set:r(function(n){a!==n&&(a=n,t.emit("update",e))},"set")});var x=e.width;Object.defineProperty(e,"width",{get:r(function(){return x},"get"),set:r(function(n){x!==n&&(x=n,t.emit("update",e))},"set")});var P=e.height;return Object.defineProperty(e,"height",{get:r(function(){return P},"get"),set:r(function(n){P!==n&&(P=n,t.emit("update",e))},"set")}),e.events=t,e},"MonitorViewport"),Zk=r(function(e,t,s,a,x,P){return P===void 0?P={}:P===!0&&(P=Jk),typeof s!="number"&&(s=0,a=0),P.x=x.x+x.width*e+s,P.y=x.y+x.height*t+a,P},"VPXYToXY"),Jk={},jk=r(function(e,t,s,a,x,P,n){if(e.hasOwnProperty("vp"))return e;typeof s=="function"&&(n=s,s=void 0),typeof x=="function"&&(n=x,x=void 0),s===void 0&&(s=.5),a===void 0&&(a=.5),x===void 0&&(x=0),P===void 0&&(P=0),n===void 0&&(n=Zk),Kk(t);var T=t.events;e.vp=t;var i=r(function(){n(s,a,x,P,t,e)},"Transform");T.on("update",i),e.once("destroy",function(){T.off("update",i),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:r(function(){return s},"get"),set:r(function(h){s!==h&&(s=h,i())},"set")}),Object.defineProperty(e,"vpy",{get:r(function(){return a},"get"),set:r(function(h){a!==h&&(a=h,i())},"set")}),Object.defineProperty(e,"vpxOffset",{get:r(function(){return x},"get"),set:r(function(h){x!==h&&(x=h,i())},"set")}),Object.defineProperty(e,"vpyOffset",{get:r(function(){return P},"get"),set:r(function(h){P!==h&&(P=h,i())},"set")}),i()},"AddViewportCoordinateProperties"),De=r(function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},"GetFXFactory"),_t=r(function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var s=e._effectSwitchNames,a=0,x=s.length;a<x;a++)e[s[a]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},"AddClearEffectCallback"),Qk=r(function(e){if(Rt(e,"barrel"))return e;var t=De(e);if(!t)return e;var s;return Object.defineProperty(e,"barrel",{get:r(function(){return s},"get"),set:r(function(a){s!==a&&(s=a,s===null||s===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=s))},"set")}),e.barrel=null,_t(e,"barrel"),e},"AddBarrelProperties"),Me=r(function(e,t,s){if(Rt(e,t))return e;var a=De(e);if(!a)return e;var x=`_${t}Effect`,P;return Object.defineProperty(e,t,{get:r(function(){return P},"get"),set:r(function(n){if(P!==n)if(P=n,P===null||P===!1)e[x]&&(a.remove(e[x]),e[x]=void 0);else{e[x]||(e[x]=a.addColorMatrix());var T=e[x];T[t](s===1?n:void 0)}},"set")}),e[t]=null,_t(e,t),e},"AddColorMatrixEffectPropertiesBase"),qk=r(function(e){return Me(e,"blackWhite"),e},"AddBlackWhiteProperties"),_k=r(function(e){if(Rt(e,"bloomColor"))return e;var t=De(e);if(!t)return e;var s,a=1,x=1,P=1,n=1,T=4;return Object.defineProperty(e,"bloomColor",{get:r(function(){return s},"get"),set:r(function(i){s!==i&&(s=i,s===null||s===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(s,a,x,P,n,T),t.setPadding(Math.max(a,x)+1)),e._bloom.color=s))},"set")}),Object.defineProperty(e,"bloomOffsetX",{get:r(function(){return a},"get"),set:r(function(i){if(a!==i&&(a=i,e._bloom)){var h=Math.max(a,x);t.setPadding(h+1),e._bloom.offsetX=a}},"set")}),Object.defineProperty(e,"bloomOffsetY",{get:r(function(){return x},"get"),set:r(function(i){if(x!==i&&(x=i,e._bloom)){var h=Math.max(a,x);t.setPadding(h+1),e._bloom.offsetY=x}},"set")}),Object.defineProperty(e,"bloomBlurStrength",{get:r(function(){return P},"get"),set:r(function(i){P!==i&&(P=i,e._bloom&&(e._bloom.blurStrength=P))},"set")}),Object.defineProperty(e,"bloomStrength",{get:r(function(){return n},"get"),set:r(function(i){n!==i&&(n=i,e._bloom&&(e._bloom.strength=n))},"set")}),Object.defineProperty(e,"bloomSteps",{get:r(function(){return T},"get"),set:r(function(i){T!==i&&(T=i,e._bloom&&(e._bloom.steps=T))},"set")}),e.bloomColor=null,_t(e,"bloomColor"),e},"AddBloomProperties"),tV=r(function(e){if(Rt(e,"blurColor"))return e;var t=De(e);if(!t)return e;var s,a=0,x=1,P=1,n=1,T=4;return Object.defineProperty(e,"blurColor",{get:r(function(){return s},"get"),set:r(function(i){s!==i&&(s=i,s===null||s===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(a,x,P,n,s,T),t.setPadding(Math.max(x,P)+1)),e._blur.color=s))},"set")}),Object.defineProperty(e,"blurQuality",{get:r(function(){return a},"get"),set:r(function(i){a!==i&&(a=i,e._blur&&(e._blur.quality=a))},"set")}),Object.defineProperty(e,"blurX",{get:r(function(){return x},"get"),set:r(function(i){if(x!==i&&(x=i,e._blur)){var h=Math.max(x,P);t.setPadding(h+1),e._blur.x=x}},"set")}),Object.defineProperty(e,"blurY",{get:r(function(){return P},"get"),set:r(function(i){if(P!==i&&(P=i,e._blur)){var h=Math.max(x,P);t.setPadding(h+1),e._blur.y=P}},"set")}),Object.defineProperty(e,"blurStrength",{get:r(function(){return n},"get"),set:r(function(i){n!==i&&(n=i,e._blur&&(e._blur.strength=n))},"set")}),Object.defineProperty(e,"blurSteps",{get:r(function(){return T},"get"),set:r(function(i){T!==i&&(T=i,e._blur&&(e._blur.steps=T))},"set")}),e.blurColor=null,_t(e,"blurColor"),e},"AddBlurProperties"),eV=r(function(e){if(Rt(e,"bokehRadius"))return e;var t=De(e);if(!t)return e;var s,a=1,x=.2;return Object.defineProperty(e,"bokehRadius",{get:r(function(){return s},"get"),set:r(function(P){s!==P&&(s=P,s===null||s===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(s,a,x)),e._bokeh.radius=s))},"set")}),Object.defineProperty(e,"bokehAmount",{get:r(function(){return a},"get"),set:r(function(P){a!==P&&(a=P,e._bokeh&&(e._bokeh.amount=a))},"set")}),Object.defineProperty(e,"bokehContrast",{get:r(function(){return x},"get"),set:r(function(P){x!==P&&(x=P,e._bokeh&&(e._bokeh.contrast=x))},"set")}),e.bokehRadius=null,_t(e,"bokehRadius"),e},"AddBokehProperties"),iV=r(function(e){return Me(e,"brightness",1),e},"AddBrightnessProperties"),sV=r(function(e){return Me(e,"brown"),e},"AddBrownProperties"),rV=r(function(e){if(Rt(e,"circleColor"))return e;var t=De(e);if(!t)return e;var s,a=8,x=0,P=.4,n=1,T=.005;return Object.defineProperty(e,"circleColor",{get:r(function(){return s},"get"),set:r(function(i){s!==i&&(s=i,s===null||s===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(a,s,x,n,T),e.circleBackgroundAlpha=P),e._circle.color=s))},"set")}),Object.defineProperty(e,"circleThickness",{get:r(function(){return a},"get"),set:r(function(i){a!==i&&(a=i,e._circle&&(e._circle.thickness=a))},"set")}),Object.defineProperty(e,"circleBackgroundColor",{get:r(function(){return x},"get"),set:r(function(i){x!==i&&(x=i,e._circle&&(e._circle.backgroundColor=x))},"set")}),Object.defineProperty(e,"circleBackgroundAlpha",{get:r(function(){return P},"get"),set:r(function(i){P!==i&&(P=i,e._circle&&(e._circle.glcolor2[3]=P))},"set")}),Object.defineProperty(e,"circleScale",{get:r(function(){return n},"get"),set:r(function(i){n!==i&&(n=i,e._circle&&(e._circle.scale=n))},"set")}),Object.defineProperty(e,"circleFeather",{get:r(function(){return T},"get"),set:r(function(i){T!==i&&(T=i,e._circle&&(e._circle.feather=T))},"set")}),e.circleColor=null,_t(e,"circleColor"),e},"AddCircleProperties"),nV=r(function(e){return Me(e,"contrast",1),e},"AddContrastProperties"),aV=r(function(e){return Me(e,"desaturate",1),e},"AddDesaturateProperties"),oV=r(function(e){return Me(e,"desaturateLuminance"),e},"AddDesaturateLuminanceProperties"),hV=r(function(e){if(Rt(e,"displacementKey"))return e;var t=De(e);if(!t)return e;var s,a=.005,x=.005;return Object.defineProperty(e,"displacementKey",{get:r(function(){return s},"get"),set:r(function(P){s!==P&&(s=P,s===null||s===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(s,a,x)),e._displacement.setTexture(s)))},"set")}),Object.defineProperty(e,"displacementX",{get:r(function(){return a},"get"),set:r(function(P){a!==P&&(a=P,e._displacement&&(e._displacement.x=a))},"set")}),Object.defineProperty(e,"displacementY",{get:r(function(){return x},"get"),set:r(function(P){x!==P&&(x=P,e._displacement&&(e._displacement.y=x))},"set")}),e.displacementKey=null,_t(e,"displacementKey"),e},"AddDisplacementProperties"),lV=r(function(e){if(Rt(e,"glowColor"))return e;var t=De(e);if(!t)return e;var s,a=4,x=0;return Object.defineProperty(e,"glowColor",{get:r(function(){return s},"get"),set:r(function(P){s!==P&&(s=P,s===null||s===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(s,a,x),t.setPadding(a+1)),e._glow.color=s))},"set")}),Object.defineProperty(e,"glowOuterStrength",{get:r(function(){return a},"get"),set:r(function(P){a!==P&&(a=P,e._glow&&(t.setPadding(a+1),e._glow.outerStrength=a))},"set")}),Object.defineProperty(e,"glowInnerStrength",{get:r(function(){return x},"get"),set:r(function(P){x!==P&&(x=P,e._glow&&(e._glow.innerStrength=x))},"set")}),e.glowColor=null,_t(e,"glowColor"),e},"AddGlowProperties"),uV=r(function(e){if(Rt(e,"gradientColor"))return e;var t=De(e);if(!t)return e;var s,a,x=.5,P=0,n=0,T=0,i=1,h=0;return Object.defineProperty(e,"gradientColor",{get:r(function(){return[s,a]},"get"),set:r(function(m){var c,u;m===null||m===!1?(c=null,u=null):(c=m[0],u=m[1]),!(s===c&&a===u)&&(s=c,a=u,s===null||s===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(s,a,x,P,n,T,i,h)),e._gradient.color1=s,e._gradient.color2=a))},"set")}),Object.defineProperty(e,"gradientColor1",{get:r(function(){return s},"get"),set:r(function(m){if(m===null||m===!1){e.gradientColor=m;return}s!==m&&(s=m,e._gradient&&(e._gradient.color1=s))},"set")}),Object.defineProperty(e,"gradientColor2",{get:r(function(){return a},"get"),set:r(function(m){if(m===null||m===!1){e.gradientColor=m;return}a!==m&&(a=m,e._gradient&&(e._gradient.color2=a))},"set")}),Object.defineProperty(e,"gradientAlpha",{get:r(function(){return x},"get"),set:r(function(m){x!==m&&(x=m,e._gradient&&(e._gradient.alpha=x))},"set")}),Object.defineProperty(e,"gradientFromX",{get:r(function(){return P},"get"),set:r(function(m){P!==m&&(P=m,e._gradient&&(e._gradient.fromX=P))},"set")}),Object.defineProperty(e,"gradientFromY",{get:r(function(){return n},"get"),set:r(function(m){n!==m&&(n=m,e._gradient&&(e._gradient.fromY=n))},"set")}),Object.defineProperty(e,"gradientToX",{get:r(function(){return T},"get"),set:r(function(m){T!==m&&(T=m,e._gradient&&(e._gradient.toX=T))},"set")}),Object.defineProperty(e,"gradientToY",{get:r(function(){return i},"get"),set:r(function(m){i!==m&&(i=m,e._gradient&&(e._gradient.toY=i))},"set")}),Object.defineProperty(e,"gradientSize",{get:r(function(){return h},"get"),set:r(function(m){h!==m&&(h=m,e._gradient&&(e._gradient.size=h))},"set")}),e.gradientColor=null,_t(e,"gradientColor"),e},"AddGradientProperties"),dV=r(function(e){return Me(e,"grayscale",1),e},"AddGrayscaleProperties"),fV=r(function(e){return Me(e,"hue",1),e},"AddHueProperties"),cV=r(function(e){return Me(e,"kodachrome"),e},"AddKodachromeProperties"),vV=r(function(e){return Me(e,"lsd"),e},"AddLSDProperties"),pV=r(function(e){return Me(e,"negative"),e},"AddNegativeProperties"),gV=r(function(e){if(Rt(e,"pixelate"))return e;var t=De(e);if(!t)return e;var s;return Object.defineProperty(e,"pixelate",{get:r(function(){return s},"get"),set:r(function(a){s!==a&&(s=a,s===null||s===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=s))},"set")}),e.pixelate=null,_t(e,"pixelate"),e},"AddPixelateProperties"),mV=r(function(e){return Me(e,"polaroid"),e},"AddPolaroidProperties"),xV=r(function(e){if(Rt(e,"revealLeft"))return e;var t=De(e);if(!t)return e;var s,a,x,P,n=.1,T=r(function(){s=null,a=null,x=null,P=null},"ClearRevealFlags"),i=r(function(h){h._revealEffect&&(t.remove(h._revealEffect),h._revealEffect=void 0)},"RemoveEffect");return Object.defineProperty(e,"revealLeft",{get:r(function(){return s},"get"),set:r(function(h){s!==h&&(T(),s=h,s===null||s===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=s))},"set")}),Object.defineProperty(e,"revealRight",{get:r(function(){return a},"get"),set:r(function(h){a!==h&&(T(),a=h,a===null||a===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=a))},"set")}),Object.defineProperty(e,"revealUp",{get:r(function(){return x},"get"),set:r(function(h){x!==h&&(T(),x=h,x===null||x===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=x))},"set")}),Object.defineProperty(e,"revealDown",{get:r(function(){return P},"get"),set:r(function(h){P!==h&&(T(),P=h,P===null||P===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=P))},"set")}),Object.defineProperty(e,"revealWidth",{get:r(function(){return n},"get"),set:r(function(h){n!==h&&(n=h,e._revealEffect&&(e._revealEffect.wipeWidth=n))},"set")}),e.revealLeft=null,_t(e,"revealLeft"),_t(e,"revealRight"),_t(e,"revealUp"),_t(e,"revealDown"),e},"AddRevealProperties"),yV=r(function(e){return Me(e,"saturate",1),e},"AddSaturateProperties"),CV=r(function(e){return Me(e,"sepia"),e},"AddSepiaProperties"),TV=r(function(e){if(Rt(e,"shadowColor"))return e;var t=De(e);if(!t)return e;var s,a=0,x=0,P=.1,n=1,T=6,i=1;return Object.defineProperty(e,"shadowColor",{get:r(function(){return s},"get"),set:r(function(h){s!==h&&(s=h,s===null||s===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(a,x,P,n,s,T,i)),e._shadow.color=s))},"set")}),Object.defineProperty(e,"shadowX",{get:r(function(){return a},"get"),set:r(function(h){a!==h&&(a=h,e._shadow&&(e._shadow.x=a))},"set")}),Object.defineProperty(e,"shadowY",{get:r(function(){return x},"get"),set:r(function(h){x!==h&&(x=h,e._shadow&&(e._shadow.y=x))},"set")}),Object.defineProperty(e,"decay",{get:r(function(){return P},"get"),set:r(function(h){P!==h&&(P=h,e._shadow&&(e._shadow.decay=P))},"set")}),Object.defineProperty(e,"shadowPower",{get:r(function(){return n},"get"),set:r(function(h){n!==h&&(n=h,e._shadow&&(e._shadow.power=n))},"set")}),Object.defineProperty(e,"shadowSamples",{get:r(function(){return T},"get"),set:r(function(h){T!==h&&(T=h,e._shadow&&(e._shadow.samples=T))},"set")}),Object.defineProperty(e,"shadowIntensity",{get:r(function(){return i},"get"),set:r(function(h){i!==h&&(i=h,e._shadow&&(e._shadow.intensity=i))},"set")}),e.shadowColor=null,_t(e,"shadowColor"),e},"AddShadowProperties"),SV=r(function(e){return Me(e,"shiftToBGR"),e},"AddShiftToBGRProperties"),PV=r(function(e){if(Rt(e,"shineSpeed"))return e;var t=De(e);if(!t)return e;var s,a=.5,x=3;return Object.defineProperty(e,"shineSpeed",{get:r(function(){return s},"get"),set:r(function(P){s!==P&&(s=P,s===null||s===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(s,a,x)),e._shine.speed=s))},"set")}),Object.defineProperty(e,"shineLineWidth",{get:r(function(){return a},"get"),set:r(function(P){a!==P&&(a=P,e._shine&&(e._shine.lineWidth=a))},"set")}),Object.defineProperty(e,"shineGradient",{get:r(function(){return x},"get"),set:r(function(P){x!==P&&(x=P,e._shine&&(e._shine.gradient=x))},"set")}),e.shineSpeed=null,_t(e,"shineSpeed"),e},"AddShineProperties"),EV=r(function(e){return Me(e,"technicolor"),e},"AddTechnicolorProperties"),MV=r(function(e){if(Rt(e,"tiltShiftRadius"))return e;var t=De(e);if(!t)return e;var s,a=1,x=.2,P=1,n=1,T=1;return Object.defineProperty(e,"tiltShiftRadius",{get:r(function(){return s},"get"),set:r(function(i){s!==i&&(s=i,s===null||s===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(s,a,x,P,n,T)),e._tiltShift.radius=s))},"set")}),Object.defineProperty(e,"tiltShiftAmount",{get:r(function(){return a},"get"),set:r(function(i){a!==i&&(a=i,e._tiltShift&&(e._tiltShift.amount=a))},"set")}),Object.defineProperty(e,"tiltShiftContrast",{get:r(function(){return x},"get"),set:r(function(i){x!==i&&(x=i,e._tiltShift&&(e._tiltShift.contrast=x))},"set")}),Object.defineProperty(e,"tiltShiftBlurX",{get:r(function(){return P},"get"),set:r(function(i){P!==i&&(P=i,e._tiltShift&&(e._tiltShift.blurX=P))},"set")}),Object.defineProperty(e,"tiltShiftBlurY",{get:r(function(){return n},"get"),set:r(function(i){n!==i&&(n=i,e._tiltShift&&(e._tiltShift.blurY=n))},"set")}),Object.defineProperty(e,"tiltShiftStrength",{get:r(function(){return T},"get"),set:r(function(i){T!==i&&(T=i,e._tiltShift&&(e._tiltShift.strength=T))},"set")}),e.tiltShiftRadius=null,_t(e,"tiltShiftRadius"),e},"AddTiltShiftProperties"),wV=r(function(e){if(Rt(e,"vignetteRadius"))return e;var t=De(e);if(!t)return e;var s,a=.5,x=.5,P=.5;return Object.defineProperty(e,"vignetteRadius",{get:r(function(){return s},"get"),set:r(function(n){s!==n&&(s=n,s===null||s===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(a,x,s,P)),e._vignette.radius=s))},"set")}),Object.defineProperty(e,"vignetteX",{get:r(function(){return a},"get"),set:r(function(n){a!==n&&(a=n,e._vignette&&(e._vignette.x=a))},"set")}),Object.defineProperty(e,"vignetteY",{get:r(function(){return x},"get"),set:r(function(n){x!==n&&(x=n,e._vignette&&(e._vignette.y=x))},"set")}),Object.defineProperty(e,"vignetteStrength",{get:r(function(){return P},"get"),set:r(function(n){P!==n&&(P=n,e._vignette&&(e._vignette.strength=P))},"set")}),e.vignetteRadius=null,_t(e,"vignetteRadius"),e},"AddVignetteProperties"),RV=r(function(e){return Me(e,"vintagePinhole"),e},"AddVintagePinholeProperties"),OV=r(function(e){if(Rt(e,"wipeLeft"))return e;var t=De(e);if(!t)return e;var s,a,x,P,n=.1,T=r(function(){s=null,a=null,x=null,P=null},"ClearWipeFlags"),i=r(function(h){h._wipeEffect&&(t.remove(h._wipeEffect),h._wipeEffect=void 0)},"RemoveEffect");return Object.defineProperty(e,"wipeLeft",{get:r(function(){return s},"get"),set:r(function(h){s!==h&&(T(),s=h,s===null||s===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=s))},"set")}),Object.defineProperty(e,"wipeRight",{get:r(function(){return a},"get"),set:r(function(h){a!==h&&(T(),a=h,a===null||a===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=a))},"set")}),Object.defineProperty(e,"wipeUp",{get:r(function(){return x},"get"),set:r(function(h){x!==h&&(T(),x=h,x===null||x===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=x))},"set")}),Object.defineProperty(e,"wipeDown",{get:r(function(){return P},"get"),set:r(function(h){P!==h&&(T(),P=h,P===null||P===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=P))},"set")}),Object.defineProperty(e,"wipeWidth",{get:r(function(){return n},"get"),set:r(function(h){n!==h&&(n=h,e._wipeEffect&&(e._wipeEffect.wipeWidth=n))},"set")}),e.wipeLeft=null,_t(e,"wipeLeft"),_t(e,"wipeRight"),_t(e,"wipeUp"),_t(e,"wipeDown"),e},"AddWipeProperties");const Iu={barrel:Qk,blackWhite:qk,bloom:_k,blur:tV,bokeh:eV,brightness:iV,brown:sV,circle:rV,contrast:nV,desaturate:aV,desaturateLuminance:oV,displacement:hV,glow:lV,gradient:uV,grayscale:dV,hue:fV,kodachrome:cV,lsd:vV,negative:pV,pixelate:gV,polaroid:mV,reveal:xV,saturate:yV,sepia:CV,shadow:TV,shiftToBGR:SV,shine:PV,technicolor:EV,tiltShift:MV,vignette:wV,vintagePinhole:RV,wipe:OV};var zo=r(function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var s=t,t={},a=0,x=s.length;a<x;a++)t[s[a]]=!0;if(t===!0)for(var P in Iu)Iu[P](e);else for(var P in t)t[P]&&Iu[P]&&Iu[P](e);return e},"AddEffectProperties");const bV=Phaser.Utils.Array.Remove,AV={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&Hk(t),this.viewportCoordinateEnable&&jk(t,this.viewport),this.effectPropertiesConfig&&zo(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){bV(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var s=new this.BobClass(this,t,e);return this.bobs[e]=s,this},add(e,...t){var s=this.createGameObjectCallback,a=this.createGameObjectScope,x=s.call(a,this.scene,...t);this.addGO(e,x),this.gameObjectDepth!=null&&x.setDepth(this.gameObjectDepth);var P=this.get(e);return this.fadeBob(P,0,1),this}},LV={remove(e,t){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;var a=this;return s.forEach(function(x){delete a.bobs[x.name];var P=x.gameObject;a.removedGOs.push(P),P.setName(),t?x.destroy():a.fadeBob(x,void 0,0,function(){x.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var s in t)e&&t[s].destroy(),delete t[s];return this.removedGOs.length=0,this}},FV={hasProperty(e,t){var s=Xr(e)?this.get(e):this.getFitst(e);return s?s.hasProperty(t):!1},getProperty(e,t){var s=Xr(e)?this.get(e):this.getFitst(e);if(s)return s.getProperty(t)},isNumberProperty(e,t){var s=this.getProperty(e,t);return typeof s=="number"},setProperty(e,t,s){var a=this.get(e);if(a)Array.isArray(a)||(a=[a]);else return this;return this.symbols&&typeof s=="string"&&this.isNumberProperty(e,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),a.forEach(function(x){x.setProperty(t,s)}),this},easeProperty(e,t){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;var a=t.value,x=t.property;return this.symbols&&typeof a=="string"&&this.isNumberProperty(e,x)&&a in this.symbols&&(t.value=this.symbols[a]),s.forEach(function(P){P.easeProperty(t)}),this},hasTweenTask(e,t){var s=Xr(e)?this.get(e):this.getFitst(e);return s?s.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var s=Xr(e)?this.get(e):this.getFitst(e);return s&&s.tweens[t]||null}},IV={hasMethod(e,t){var s=Xr(e)?this.get(e):this.getFitst(e);return s?s.hasMethod(t):!1},call(e,t,...s){var a=this.get(e);if(a)Array.isArray(a)||(a=[a]);else return this;return a.forEach(function(x){x.call(t,...s)}),this}},DV={hasData(e,t){var s=Xr(e)?this.get(e):this.getFitst(e);return s?s.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,s){var a=this.get(e);if(a)Array.isArray(a)||(a=[a]);else return this;return a.forEach(function(x){x.setData(t,s)}),this}},xF=0,yF=1,Vm=2,CF=3,TF=4,zm=5,BV={tint:xF,alpha:yF,revealUp:Vm,revealDown:CF,revealLeft:TF,revealRight:zm},GV={setGOFadeMode(e){return typeof e=="string"&&(e=BV[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===xF)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===yF)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=Vm&&this.fadeMode<=zm&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,s,a){var x=e.gameObject;if(this.useTintFadeEffect(x))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*s),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:a});else if(this.useAlphaFadeEffect(x))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:s,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:a});else if(this.useRevealEffect(x)){zo(x,"reveal");var P;switch(this.fadeMode){case Vm:P="revealUp";break;case CF:P="revealDown";break;case TF:P="revealLeft";break;case zm:P="revealRight";break}t===void 0&&(t=0),x[P]=t,e.easeProperty({property:P,value:s,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:a}),e.getTweenTask(P).once("complete",function(){x[P]=null})}else a&&a(x);return this}};var NV=r(function(e,t){return this.forEachGO(function(s){s.drawBounds?s.drawBounds(e,t):UL(s,e,t)}),this},"DrawGameObjectsBounds"),SF=r(function(e,t){var s=e.cameras,a;if(t===void 0)a=s.main;else{var x=typeof t;switch(x){case"string":a=s.getCamera(t);break;case"number":a=s.cameras[t];break;default:a=t;break}}return a},"GetCameraByName");const kV={setCamera(e,t){var s=this.get(e);if(!s)return this;var a=SF(this.scene,t);return a?(s.gameObject.cameraFilter=4294967295^a.id,s.camera=a,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var PF={drawGameObjectsBounds:NV};Object.assign(PF,Nk,AV,LV,FV,IV,DV,GV,kV);const VV=Phaser.Cameras.Scene2D.BaseCamera;var zV=r(function(e){return e instanceof VV},"IsCameraObject");const EF=Phaser.Geom.Rectangle;var Uo=r(function(e,t,s){return zV(t)||(s=t,t=void 0),s===void 0?s=new EF:s===!0&&(s=UV),t?e.scale.getViewPort(t,s):e.scale.getViewPort(s)},"GetViewport"),UV=new EF;const We=Phaser.Utils.Objects.GetValue,hT=class hT{constructor(t,s){this.scene=t,this.BobClass=We(s,"BobClass",Hh),this.setCreateGameObjectCallback(We(s,"createGameObject"),We(s,"createGameObjectScope")),this.setEventEmitter(We(s,"eventEmitter",void 0)),this.setGameObjectDepth(We(s,"depth",void 0));var a=We(s,"fade",500);typeof a=="number"?(this.setGOFadeMode(),this.setGOFadeTime(a)):(this.setGOFadeMode(We(a,"mode")),this.setGOFadeTime(We(a,"time",500)));var x=We(s,"viewportCoordinate",!1);x!==!1?(this.setViewportCoordinateEnable(We(s,"enable",!0)),this.setViewport(We(x,"viewport"))):this.setViewportCoordinateEnable(!1);var P=We(s,"effectProperties",!1);this.setEffectPropertiesConfig(P),this.setSymbols(We(s,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=We(s,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var s=this.bobs;for(var a in s)s[a].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,s){return this.createGameObjectCallback=t,this.createGameObjectScope=s,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=Uo(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return ql(this.bobs)&&this.removedGOs.length===0}};r(hT,"GOManager");let hr=hT;Object.assign(hr.prototype,Kl,PF);var MF=r(function(e){var t=e.displayList;return Rh(t)?t:null},"GetLayer");const XV={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),yi(e,!1),e},addToLayer(e,t){var s=this.getGO(e);if(!s){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var a=0,x=t.length;a<x;a++){var P=t[a];P.isRexContainerLite?P.addToLayer(s):s.add(P)}return s.scrollFactorX!==void 0&&P.setScrollFactor(s.scrollFactorX,s.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),s=t[t.length-1];return this.addToLayer(s.goName,e),this},removeFromLayer(e,t,s){var a=this.getGO(e);if(!a){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return s===void 0&&(s=!0),t.isRexContainerLite?t.removeFromLayer(a,s):(a.remove(t),s&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var s=this.getGO(e);if(!s){console.warn(`Can't get layer "${e}"`);return}if(t)for(var a=s.getAll(),x=0,P=a.length;x<P;x++)a[x].destroy();else s.removeAll();return this}},YV={setScrollFactor(e,t,s){s===void 0&&(s=t);var a=this.getLayer(e);if(!a)return this;a.scrollFactorX=t,a.scrollFactorY=s;for(var x=a.getAll(),P=0,n=x.length;P<n;P++)x[P].setScrollFactor(t,s);return this}},dc=Phaser.Utils.Array,WV=r(function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(dc.BringToTop(e,this),this):this},"BringMeToTop"),HV=r(function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(dc.SendToBack(e,this),this):this},"SendMeToBack"),wF=r(function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(dc.MoveBelow(t,this,e),this):this},"MoveMyDepthBelow"),RF=r(function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(dc.MoveAbove(t,this,e),this):this},"MoveMyDepthAbove"),Du={bringMeToTop:WV,sendMeToBack:HV,moveMyDepthBelow:wF,moveMyDepthAbove:RF},$V={bringLayerToTop(e){var t=this.getLayer(e);return t?(Du.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(Du.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var s=this.getLayer(e),a=this.getLayer(t);return!s||!a?this:(Du.moveMyDepthBelow.call(s,a),this)},moveLayerAbove(e,t){if(e===t)return this;var s=this.getLayer(e),a=this.getLayer(t);return!s||!a?this:(Du.moveMyDepthAbove.call(s,a),this)}},KV=hr.prototype.setCamera,ZV={setCamera(e,t){var s=SF(this.scene,t);return s||(s=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),KV.call(this,e,s),this}};var OF={};Object.assign(OF,XV,YV,$V,ZV);const Bu=Phaser.Utils.Objects.GetValue,lT=class lT extends hr{constructor(t,s){s===void 0?s={}:Array.isArray(s)&&(s={layers:s}),s.hasOwnProperty("fade")||(s.fade=0),s.viewportCoordinate=!1,super(t,s);var a=Bu(s,"rootLayer");this.setRootLayer(a);var x=Bu(s,"layers");if(x)for(var P=0,n=x.length;P<n;P++){var T=x[P];if(typeof T=="string")this.add(T);else{var i=T.name;this.add(i);var h=T.scrollFactor,m=Bu(T,"scrollFactorX",h),c=Bu(T,"scrollFactorY",h);m!==void 0&&this.setScrollFactor(i,m,c),this.setCamera(i,T.cameraName)}}}setCreateGameObjectCallback(t,s){return t||(t=JV),super.setCreateGameObjectCallback(t,s),this}setRootLayer(t){if(t===this.rootLayer)return this;var s=this.getAllGO();return t?t.add(s):this.scene.displayList.add(s),this.rootLayer=t,this}addGO(t,s){return super.addGO(t,s),s.name=t,this.rootLayer&&this.rootLayer.add(s),this}get(t,s){if(Ke(t)){var a=MF(t);if(!a||(t=a.name,!t))return}return super.get(t,s)}};r(lT,"LayerManager");let oo=lT;var JV=r(function(e,t){var s=e.add.layer();return t!==void 0&&s.setDepth(t),s},"CreateLayer");Object.assign(oo.prototype,OF);var jV=r(function(e){return Yr(e)?e.sys.sound:e.sound},"GetSoundManager"),QV=r(function(e){return this.sound.game.cache.audio.has(e)},"HasaAudio");const qV=Phaser.Sound.BaseSound;var fy=r(function(e){return e instanceof qV},"IsSoundObject");const ZR=Phaser.Utils.Objects.GetValue,JR=Phaser.Utils.Objects.GetAdvancedValue,_V=Phaser.Math.Linear;var Ra;let bF=(Ra=class extends ws{constructor(t,s,a){fy(t)&&(a=s,s=t,t=void 0),s.active=!0,s.scene=t,s.game=s.manager.game,super(s,a),this.volume={},this.resetFromJSON(a)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(ZR(t,"mode",0)),this.setEnable(ZR(t,"enable",!0)),this.setVolumeRange(JR(t,"volume.start",this.parent.volume),JR(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=tz[t]),this.mode=t,this}setVolumeRange(t,s){return this.volume.start=t,this.volume.end=s,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,s){t.volume=_V(this.volume.start,this.volume.end,s.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}},r(Ra,"Fade"),Ra);const tz={stop:1,destroy:2};var fc=r(function(e,t,s,a,x){fy(e)&&(x=a,a=s,s=t,t=e,e=void 0),a===void 0&&(a=1),x===void 0&&(x=0);var P={mode:0,volume:{start:x,end:a},duration:s};typeof t=="string"&&(t=e.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(P)):(n=new bF(e,t,P),t._fade=n),n.start(),t.isPlaying||t.setVolume(x).play(),t},"FadeIn$1"),ho=r(function(e,t,s,a){fy(e)&&(a=s,s=t,t=e,e=void 0),a===void 0&&(a=!0);var x={mode:a?2:1,volume:{start:t.volume,end:0},duration:s},P;return t.hasOwnProperty("_fade")?(P=t._fade,P.stop().resetFromJSON(x)):(P=new bF(e,t,x),t._fade=P),P.start(),t.isPlaying||t.play(),t},"FadeOut");const rh=Phaser.Utils.Objects.GetValue,ez={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var s=this.sound.add(e,{loop:rh(t,"loop",this.backgroundMusicLoop),mute:rh(t,"mute",this.backgroundMusicMute),volume:rh(t,"volume",this.backgroundMusicVolume),detune:rh(t,"detune",0),rate:rh(t,"rate",1)});return this.setCurrentBackgroundMusic(s),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&fc(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&ho(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=s,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},nh=Phaser.Utils.Objects.GetValue,iz={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var s=this.sound.add(e,{loop:nh(t,"loop",this.backgroundMusicLoop),mute:nh(t,"mute",this.backgroundMusic2Mute),volume:nh(t,"volume",this.backgroundMusic2Volume),detune:nh(t,"detune",0),rate:nh(t,"rate",1)});return this.setCurrentBackgroundMusic2(s),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&fc(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&ho(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=s,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},jR=Phaser.Utils.Array.Remove,Gu=Phaser.Utils.Objects.GetValue,sz={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.sound.add(e,{mute:Gu(t,"mute",this.soundEffectsMute),volume:Gu(t,"volume",this.soundEffectsVolume),detune:Gu(t,"detune",0),rate:Gu(t,"rate",1)});return this.soundEffects.push(s),s.once("complete",function(){s.destroy(),this.sound&&jR(this.soundEffects,s)},this).once("destroy",function(){this.sound&&jR(this.soundEffects,s)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&fc(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var s=this.getLastSoundEffect();return s&&ho(s,e,t),this},fadeOutAllSoundEffects(e,t){for(var s=this.soundEffects.length-1;s>=0;s--)ho(this.soundEffects[s],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var a=0,x=s.length;a<x;a++)s[a].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var a=0,x=s.length;a<x;a++)s[a].setRate(e);return this}},QR=Phaser.Utils.Array.Remove,Nu=Phaser.Utils.Objects.GetValue,rz={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.sound.add(e,{mute:Nu(t,"mute",this.soundEffects2Mute),volume:Nu(t,"volume",this.soundEffects2Volume),detune:Nu(t,"detune",0),rate:Nu(t,"rate",1)});return this.soundEffects2.push(s),s.once("complete",function(){s.destroy(),this.sound&&QR(this.soundEffects2,s)},this).once("destroy",function(){this.sound&&QR(this.soundEffects2,s)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&fc(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var s=this.getLastSoundEffect2();return s&&ho(s,e,t),this},fadeOutAllSoundEffects2(e,t){for(var s=this.soundEffects2.length-1;s>=0;s--)ho(this.soundEffects2[s],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var a=0,x=s.length;a<x;a++)s[a].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var a=0,x=s.length;a<x;a++)s[a].setRate(e);return this}};var AF={hasAudio:QV};Object.assign(AF,ez,iz,sz,rz);const di=Phaser.Utils.Objects.GetValue,uT=class uT{constructor(t,s){this.sound=jV(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=di(s,"bgm.volume",1),this._backgroundMusicMute=di(s,"bgm.mute",!1),this.setBackgroundMusicLoop(di(s,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(di(s,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=di(s,"bgm2.volume",1),this._backgroundMusic2Mute=di(s,"bgm2.mute",!1),this.setBackgroundMusic2Loop(di(s,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(di(s,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=di(s,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=di(s,"soundEffect2.volume",1);var a=di(s,"bgm.initial",void 0);a&&this.setCurrentBackgroundMusic(a);var x=di(s,"bgm2.initial",void 0);x&&this.setCurrentBackgroundMusic2(x)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var s=this.soundEffects,a=0,x=s.length;a<x;a++)s[a].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var s=this.soundEffects,a=0,x=s.length;a<x;a++)s[a].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var s=this.soundEffects,a=0,x=soundEffects2.length;a<x;a++)s[a].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var s=this.soundEffects2,a=0,x=s.length;a<x;a++)s[a].setVolume(t)}};r(uT,"SoundManager");let _d=uT;Object.assign(_d.prototype,AF);const Yg=Phaser.Utils.Objects.GetValue,dT=class dT extends io{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.isRunning=Yg(t,"isRunning",!1),this.timeScale=Yg(t,"timeScale",1),this.now=Yg(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}};r(dT,"BaseClock");let Um=dT;const fT=class fT extends Um{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,s){return!this.isRunning||this.timeScale===0?this:(this.tick(s),this)}};r(fT,"Clock");let tf=fT;const qR=Phaser.Math.Clamp,cT=class cT{constructor(t,s){this.setTimeline(t).reset(s)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,s,a,x){return this.target=t,this.onStart=s,this.onProgress=a,this.onComplete=x,this}setDuration(t,s){return s===void 0&&(s=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=s,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=qR(t,0,1),this.yoyo&&(t=Bt(t)),t}setProgress(t){t=qR(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,s){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=s,this.t=this.getProgress(),this.runCallback(this.onProgress);var a=this.remainder<=0;return a&&this.runCallback(this.onComplete),a}};r(cT,"Timer");let Xm=cT;var Oa;let nz=(Oa=class extends Ci{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var s=0,a=t.length;s<a;s++)this.free(t[s]);return this}},r(Oa,"TimerPool"),Oa);const az=Phaser.Utils.Objects.GetValue,oz=new nz,vT=class vT extends tf{constructor(t,s){super(t,s),this.addedTimers=[],this.timers=[],this.timerPool=az(s,"pool",oz)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var s=this.timerPool.allocate();return s?s.setTimeline(this).reset(t):s=new Xm(this,t),this.addedTimers.push(s),s.runCallback(s.onStart),this.isRunning||this.start(),s}delayCall(t,s,a,x){var P=this.addTimer({duration:t,onComplete:r(function(n,T,i){a===void 0&&(a=[]),a.push(i),s.apply(x,a)},"onComplete")});return P}delayEvent(t,s){this.removeDelayEvent(s);var a=this.delayCall(t,function(){this.removeDelayEvent(s),this.emit(s)},[],this);return this.once(`_remove.${s}`,function(){a.remove(),a=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var s=[],a=[this.addedTimers,this.timers],x=0,P=a.length;x<P;x++)for(var n=a[x],T=0,i=n.length;T<i;T++){var h=n[T];h.name===t&&s.push(h)}return s}update(t,s){if(super.update(t,s),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var a=[],x=0,P=this.timers.length;x<P;x++){var n=this.timers[x],T=n.update(this.now,this.delta);T?this.timerPool.free(n):a.push(n)}this.timers=a,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}};r(vT,"Timeline");let Ym=vT;const hz="_wait.complete",lz="_remove.wait";var uz=r(function(e,t,s,a,x){var P=Vo(e),n=P.time.delayedCall(t,function(){P.sys.events.once("preupdate",function(){s.call(a,x)})});return n},"PreUpdateDelayCall"),ba;let LF=(ba=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=hz,this.removeWaitEventsEventName=lz}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,s,a){var x=this.getWaitCompleteTriggerCallback(a);return t.once(s,x,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(s,x,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var s=this.waitId,a=this,x=r(function(){s<a.waitId||(a.waitId++,a.removeWaitEvents(),a.parent.emit(a.waitCompleteEventName))},"completeCallback");if(t){var P=r(function(){uz(a.parent,0,x)},"completeCallbackNextTick");return P}else return x}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,s){return this.parent.on(this.waitCompleteEventName,t,s),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}},r(ba,"WaitEvent"),ba);Object.assign(LF.prototype,Kl);const dz={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var fz=r(function(e,t){var s=`(?<!\\\\)\\${t}`,a=`\\${t}`;return e.split(new RegExp(s,"g")).map(function(x){return x.replace(a,t)})},"Split");const cz={setClickTarget(e){return this.clickTarget=e,e?Yr(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var s=fz(e,"|"),a=0,x=s.length;a<x;a++)this.waitEvent(t,`keydown-${s[a].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},vz={waitGameObjectTweenComplete(e,t,s){var a=this.parent.getGameObjectTweenTask(e,t,s);return a?this.waitEvent(a,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,s,a){var x=this.parent.getGameObject(e,t);if(!x)return this.waitTime(0);if(x.getData(s)===a)return this.waitTime(0);var P=`changedata-${s}`,n=r(function(T,i,h){i=!!i,i===a&&T.emit("_dataFlagMatch")},"callback");return x.on(P,n),this.parent.once(this.removeWaitEventsEventName,function(){x.off(P,n)}),this.waitEvent(x,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var s=this.parent.getGameObject(e,t);return s?this.waitEvent(s,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var s=this.parent.gameObjectManagers,a=!1;for(var x in s)a=!0,this.waitEvent(s[x],"empty");return a?this.parent:this.waitTime(0)}}},pz={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var s;if(t?s=this.scene.cameras.getCamera(t):s=this.cameraTarget,!s)return this.waitTime(0);var a,x;switch(e){case"camera.fadein":a=s.fadeEffect,x="camerafadeincomplete";break;case"camera.fadeout":a=s.fadeEffect,x="camerafadeoutcomplete";break;case"camera.flash":a=s.flashEffect,x="cameraflashcomplete";break;case"camera.shake":a=s.shakeEffect,x="camerashakecomplete";break;case"camera.zoom":a=s.zoomEffect,x="camerazoomcomplete";break;case"camera.rotate":a=s.rotateToEffect,x="camerarotatecomplete";break;case"camera.scroll":a=s.panEffect,x="camerapancomplete";break}return a.isRunning?this.waitEvent(s,x):this.waitTime(0)}},gz={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var mz=r(function(e){if(!e)return this.waitTime(0);var t=!1;for(var s in e)switch(s){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var a=s.split(".");if(a.length===2){var x=a[0],P=a[1],n=this.parent.getGameObjectManager(void 0,x);if(!n)continue;if(P==="destroy")return this.waitGameObjectDestroy(void 0,x);var T=n.getProperty(x,P);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,x,P);continue}var i=P,h=i.startsWith("!");if(h&&(i=i.substring(1)),n.hasData(x,P)){t=!0,this.waitGameObjectDataFlag(void 0,x,i,!h);continue}this.waitEvent(gameObject,P);continue}else a.length;break}return t||this.waitTime(0),this.parent},"WaitAny$1"),FF={waitAny:mz};Object.assign(FF,dz,cz,vz,pz,gz);const pT=class pT extends LF{constructor(t,s){super(t),this.waitCompleteEventName=At(s,"completeEventName",this.waitCompleteEventName),this.setClickTarget(At(s,"clickTarget",this.scene)),this.setClickShortcutKeys(At(s,"clickShortcutKeys",void 0)),this.setCameraTarget(At(s,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}};r(pT,"WaitEventManager");let ef=pT;Object.assign(ef.prototype,FF);const ku=Phaser.Utils.Objects.GetValue;var xz=r(function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var s=ku(t,"layers",!1);if(s!==!1){var a=new oo(e,{name:"LAYER",layers:s,rootLayer:ku(t,"rootLayer",void 0),depth:ku(t,"layerDepth",void 0)});this.addGameObjectManager(a),this.layerManager=a}var x=ku(t,"sounds");return x!==!1&&(this.soundManager=new _d(e,x)),this.timeline=new Ym(this),this.waitEventManager=new ef(this,t),this},"InitManagers"),yz=r(function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},"SetTimeScale"),Cz=r(function(){return this.timeline.timeScale},"GetTimeScale"),Tz=r(function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0},"DestroyManagers");const IF={addGameObjectManager(e,t){var s;return e instanceof hr?s=e:typeof e=="string"?(s=t,s.name=e):(e===void 0&&(e={}),t===void 0&&(t=hr),e.createGameObjectScope||(e.createGameObjectScope=this),s=new t(this.managersScene,e)),this.gameObjectManagers[s.name]=s,this},getGameObjectManager(e,t){if(e){var s=this.gameObjectManagers[e];return s}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var s=this.gameObjectManagers[e];if(s.has(t))return s}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},Sz={createGameObject(e,t,...s){return this.getGameObjectManager(e,t).add(t,...s),this},destroyGameObject(e,t){var s=this.getGameObjectManager(e,t);return t===void 0?s.removeAll():s.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,s,...a){return this.getGameObjectManager(e,t).call(t,s,...a),this},setGameObjectProperty(e,t,s,a){return this.getGameObjectManager(e,t).setProperty(t,s,a),this},easeGameObjectProperty(e,t,s){return this.getGameObjectManager(e,t).easeProperty(t,s),this},getGameObjectTweenTask(e,t,s){return this.getGameObjectManager(e,t).getTweenTask(t,s)},getGameObject(e,t,s){var a=this.getGameObjectManager(e,t);if(!a)return s;if(typeof t=="string")return a.getGO(t);s===void 0&&(s=[]);var x=t;x===void 0&&(x=Object.keys(a.bobs));for(var P=Array.isArray(s),n=0,T=x.length;n<T;n++){t=x[n];var i=a.getGO(t);i&&(P?s.push(i):s[t]=i)}return s},addGameObject(e,t,s){var a=this.getGameObjectManager(e,t);if(typeof t=="string")a.addGO(t,s);else{var x=t;for(t in x)a.addGO(t,x[t])}return this},drawGameObjectsBounds(e,t,s){e instanceof Phaser.GameObjects.Graphics&&(s=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var a=0,x=e.length;a<x;a++)this.getGameObjectManager(e[a]).drawGameObjectsBounds(t,s);return this}};var Pz=r(function(e){const a=class a extends e{};r(a,"Managers");let t=a;var s={initManagers:xz,setTimeScale:yz,getTimeScale:Cz,destroyManagers:Tz};return Object.assign(t.prototype,s,IF,Sz),t},"Extend"),Wg={exports:{}},_R;function Ez(){return _R||(_R=1,(function(e){var t=Object.prototype.hasOwnProperty,s="~";function a(){}r(a,"Events"),Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function x(i,h,m){this.fn=i,this.context=h,this.once=m||!1}r(x,"EE");function P(i,h,m,c,u){if(typeof m!="function")throw new TypeError("The listener must be a function");var l=new x(m,c||i,u),o=s?s+h:h;return i._events[o]?i._events[o].fn?i._events[o]=[i._events[o],l]:i._events[o].push(l):(i._events[o]=l,i._eventsCount++),i}r(P,"addListener");function n(i,h){--i._eventsCount===0?i._events=new a:delete i._events[h]}r(n,"clearEvent");function T(){this._events=new a,this._eventsCount=0}r(T,"EventEmitter"),T.prototype.eventNames=r(function(){var h=[],m,c;if(this._eventsCount===0)return h;for(c in m=this._events)t.call(m,c)&&h.push(s?c.slice(1):c);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},"eventNames"),T.prototype.listeners=r(function(h){var m=s?s+h:h,c=this._events[m];if(!c)return[];if(c.fn)return[c.fn];for(var u=0,l=c.length,o=new Array(l);u<l;u++)o[u]=c[u].fn;return o},"listeners"),T.prototype.listenerCount=r(function(h){var m=s?s+h:h,c=this._events[m];return c?c.fn?1:c.length:0},"listenerCount"),T.prototype.emit=r(function(h,m,c,u,l,o){var d=s?s+h:h;if(!this._events[d])return!1;var v=this._events[d],f=arguments.length,p,g;if(v.fn){switch(v.once&&this.removeListener(h,v.fn,void 0,!0),f){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,m),!0;case 3:return v.fn.call(v.context,m,c),!0;case 4:return v.fn.call(v.context,m,c,u),!0;case 5:return v.fn.call(v.context,m,c,u,l),!0;case 6:return v.fn.call(v.context,m,c,u,l,o),!0}for(g=1,p=new Array(f-1);g<f;g++)p[g-1]=arguments[g];v.fn.apply(v.context,p)}else{var y=v.length,C;for(g=0;g<y;g++)switch(v[g].once&&this.removeListener(h,v[g].fn,void 0,!0),f){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,m);break;case 3:v[g].fn.call(v[g].context,m,c);break;case 4:v[g].fn.call(v[g].context,m,c,u);break;default:if(!p)for(C=1,p=new Array(f-1);C<f;C++)p[C-1]=arguments[C];v[g].fn.apply(v[g].context,p)}}return!0},"emit"),T.prototype.on=r(function(h,m,c){return P(this,h,m,c,!1)},"on"),T.prototype.once=r(function(h,m,c){return P(this,h,m,c,!0)},"once"),T.prototype.removeListener=r(function(h,m,c,u){var l=s?s+h:h;if(!this._events[l])return this;if(!m)return n(this,l),this;var o=this._events[l];if(o.fn)o.fn===m&&(!u||o.once)&&(!c||o.context===c)&&n(this,l);else{for(var d=0,v=[],f=o.length;d<f;d++)(o[d].fn!==m||u&&!o[d].once||c&&o[d].context!==c)&&v.push(o[d]);v.length?this._events[l]=v.length===1?v[0]:v:n(this,l)}return this},"removeListener"),T.prototype.removeAllListeners=r(function(h){var m;return h?(m=s?s+h:h,this._events[m]&&n(this,m)):(this._events=new a,this._eventsCount=0),this},"removeAllListeners"),T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=s,T.EventEmitter=T,e.exports=T})(Wg)),Wg.exports}r(Ez,"requireEventemitter3");var Mz=Ez();const wz=Bx(Mz),gT=class gT extends wz{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}};r(gT,"EventEmitter");let sf=gT;const DF={setEventEmitter(e,t){return t===void 0&&(t=sf),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:r(function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},"on"),once:r(function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},"once"),off:r(function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},"off"),emit:r(function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},"emit"),addListener:r(function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},"addListener"),removeListener:r(function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},"removeListener"),removeAllListeners:r(function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},"removeAllListeners"),listenerCount:r(function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},"listenerCount"),listeners:r(function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},"listeners"),eventNames:r(function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]},"eventNames")};var Rz=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,Oz=/^0x[0-9A-F]+$/i,cy=r(function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(Rz.test(e))e=parseFloat(e);else if(Oz.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e},"TypeConvert"),Aa;let BF=(Aa=class{constructor(t){this.setEventEmitter(At(t,"eventEmitter",void 0)),this.setValueConverter(At(t,"valueConvert",!0)),this.setLoopEnable(At(t,"loop",!1)),this.setMultipleLinesTagEnable(At(t,"multipleLinesTag",!1));var s=At(t,"delimiters","<>");this.setDelimiters(s[0],s[1]),this.setTranslateTagNameCallback(At(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,s){s===void 0&&(s=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=s,t=eo(this.delimiterLeft),s=eo(this.delimiterRight);var a=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${s}`,a),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=cy:t||(t=bz),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,s=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var a=this.reSplit.exec(t);if(!a){if(this.progressIndex<s&&(this.onContent(t.substring(this.progressIndex,s)),this.isPaused)){this.progressIndex=s;break}this.onComplete(),this.isRunning=!1;return}var x=this.reSplit.lastIndex,P=x-a[0].length;if(this.progressIndex<P&&(this.onContent(t.substring(this.progressIndex,P)),this.isPaused)){this.progressIndex=P;break}if(this.lastTagSource=a[0],this.onTag(a[1]),this.lastTagSource=void 0,this.progressIndex=x,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,s){return this.isPaused?this:(this.pause(),t.once(s,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}},r(Aa,"BracketParser"),Aa);const bz=r(function(e){return e},"BypassValueConverter");Object.assign(BF.prototype,DF);var Az=r(function(e,t,s){if(e==null)return[];t===void 0&&(t=cy),s===void 0&&(s=",");for(var a=e.split(s),x=0,P=a.length;x<P;x++)a[x]=t(a[x]);return a},"StringToValues");const mT=class mT extends BF{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(At(t,"regex.tag",void 0)),this.setValueExpression(At(t,"regex.value",void 0));var s=At(t,"delimiters","<>");this.setDelimiters(s[0],s[1])}setTagExpression(t){return t||(t=Vu),this.tagExpression=t,this}setValueExpression(t){return t||(t=Vu),this.valueExpression=t,this}setDelimiters(t,s){super.setDelimiters(t,s);var a=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(a,"i"),this.tagExpression!==Vu||this.valueExpression!==Vu){var x=`${this.tagExpression}(=${this.valueExpression})?`,P=`/${this.tagExpression}`;t=eo(this.delimiterLeft),s=eo(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${x})|(${P}))${s}`,n)}return this}onTag(t){var s=t.match(this.reTag),a=s[1],x=a.charAt(0)==="/";if(x&&(a=a.substring(1,a.length)),this.translateTagNameCallback&&(a=this.translateTagNameCallback(a)),this.skipEventFlag=!1,x)this.emit(`-${a}`),this.skipEventFlag||this.emit("-",a),this.lastTagEnd=a;else{var P=Az(s[3],this.valueConverter);this.emit(`+${a}`,...P),this.skipEventFlag||this.emit("+",a,...P),this.lastTagStart=a}}};r(mT,"BracketParser");let Wm=mT;const Vu="[^=]+";var Lz=r(function(e,t,s){var a="color",x;t.on("start",function(){x=e.textStyle.color}).on(`+${a}`,function(P){e.textStyle.setColor(P),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setColor(x),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(x)})},"OnParseColorTag"),Fz=r(function(e,t,s){var a="stroke",x;t.on("start",function(){x=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${a}`,function(P){P===void 0&&(P=x),e.textStyle.setStrokeStyle(P),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(x)})},"OnParseStrokeColorTag"),Iz=r(function(e,t,s){var a="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${a}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},"OnParseBoldTag"),Dz=r(function(e,t,s){var a="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${a}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},"OnParseItalicTag"),Bz=r(function(e,t,s){var a="size",x;t.on("start",function(){x=e.textStyle.fontSize}).on(`+${a}`,function(P){e.textStyle.setFontSize(P),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setFontSize(x),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(x)})},"OnParseFontSizeTag"),Gz=r(function(e,t,s){var a="y",x;t.on("start",function(){x=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${a}`,function(P){P===void 0&&(P=x),e.textStyle.setOffsetY(P),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},"OnParseOffsetYTag"),Nz=r(function(e,t,s){var a="x",x;t.on("start",function(){x=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${a}`,function(P){P===void 0&&(P=x),e.textStyle.setOffsetX(P),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},"OnParseOffsetXTag"),kz=r(function(e,t,s){var a="left",x;t.on("start",function(){x=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${a}`,function(P){P===void 0&&(P=x),e.textStyle.setLeftSpace(P),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},"OnParseLeftSpaceTag"),Vz=r(function(e,t,s){var a="right",x;t.on("start",function(){x=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${a}`,function(P){P===void 0&&(P=x),e.textStyle.setRightSpace(P),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},"OnParseRightSpaceTag"),zz=r(function(e,t,s){var a="shadow",x;t.on("start",function(){x=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${a}`,function(P){P===void 0&&(P=x),e.textStyle.setShadowColor(P),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(x)})},"OnParseShadowColorTag"),Uz=r(function(e,t,s){var a="align";t.on(`+${a}`,function(x){e.textStyle.setAlign(x),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},"OnParseAlignTag"),Xz=r(function(e,t,s){var a="img";t.on(`+${a}`,function(x){var P=e.imageManager.get(x);P&&fF.call(e,P.key,P.frame,{width:P.width,hieght:P.height,leftSpace:P.left,rightSpace:P.right,color:P.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseImageTag$1"),Yz=r(function(e,t,s){var a="space";t.on(`+${a}`,function(x){cF.call(e,x),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseImageTag"),Wz=r(function(e,t,s){var a="speed";t.on(`+${a}`,function(x){tO(e,x),t.skipEvent()}).on(`-${a}`,function(){tO(e,void 0),t.skipEvent()})},"OnParseTypingSpeedTag"),Hz=r(function(e){this.typeWriter.setTypingSpeed(e)},"SetTypingSpeed"),tO=r(function(e,t){dt.call(e,"speed",Hz,t,e)},"AppendCommand$2"),$z=r(function(e,t,s){var a="se";t.on(`+${a}`,function(x,P){dt.call(e,a,Kz,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2";t.on(`+${a}`,function(x,P){dt.call(e,a,Zz,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParsePlaySoundEffectTag"),Kz=r(function(e){if(!this.skipSoundEffect){var t=e[0],s=e[1];this.soundManager.playSoundEffect(t),s&&this.soundManager.fadeInSoundEffect(s)}},"PlaySoundEffect"),Zz=r(function(e){if(!this.skipSoundEffect){var t=e[0],s=e[1];this.soundManager.playSoundEffect2(t),s&&this.soundManager.fadeInSoundEffect2(s)}},"PlaySoundEffect2"),Jz=r(function(e,t,s){var a="se.fadein";t.on(`+${a}`,function(x){dt.call(e,a,jz,x,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.fadein";t.on(`+${a}`,function(x){dt.call(e,a,Qz,x,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseFadeInSoundEffectTag"),jz=r(function(e){this.soundManager.fadeInSoundEffect(e)},"FadeInSoundEffect"),Qz=r(function(e){this.soundManager.fadeInSoundEffect2(e)},"FadeInSoundEffect2"),qz=r(function(e,t,s){var a="se.fadeout";t.on(`+${a}`,function(x,P){P=P==="stop",dt.call(e,a,_z,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.fadeout";t.on(`+${a}`,function(x,P){P=P==="stop",dt.call(e,a,tU,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseFadeOutSoundEffectTag"),_z=r(function(e){this.soundManager.fadeOutSoundEffect(...e)},"FadeOutSoundEffect"),tU=r(function(e){this.soundManager.fadeOutSoundEffect2(...e)},"FadeOutSoundEffect2"),eU=r(function(e,t,s){var a="se.volume";t.on(`+${a}`,function(x){dt.call(e,a,iU,x,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.volume";t.on(`+${a}`,function(x){dt.call(e,a,sU,x,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseSetSoundEffectVolumeTag"),iU=r(function(e){this.soundManager.setSoundEffectVolume(e,!0)},"SetSoundEffectVolume"),sU=r(function(e){this.soundManager.setSoundEffectVolume2(e,!0)},"SetSoundEffectVolume2"),rU=r(function(e,t,s){var a="se.mute";t.on(`+${a}`,function(){dt.call(e,a,nU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.mute";t.on(`+${a}`,function(){dt.call(e,a,aU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se.unmute";t.on(`+${a}`,function(){dt.call(e,a,oU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.unmute";t.on(`+${a}`,function(){dt.call(e,a,hU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseSetSoundEffectMuteTag"),nU=r(function(){this.soundManager.setSoundEffectMute(!0)},"SetSoundEffectMute"),aU=r(function(){this.soundManager.setSoundEffect2Mute(!0)},"SetSoundEffect2Mute"),oU=r(function(){this.soundManager.setSoundEffectMute(!1)},"SetSoundEffectUnMute"),hU=r(function(){this.soundManager.setSoundEffect2Mute(!1)},"SetSoundEffect2UnMute"),lU=r(function(e,t,s){var a="bgm";t.on(`+${a}`,function(x,P){dt.call(e,a,uU,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){dt.call(e,"bgm.stop",dU,void 0,e),t.skipEvent()});var a="bgm2";t.on(`+${a}`,function(x,P){dt.call(e,a,fU,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){dt.call(e,"bgm2.stop",cU,void 0,e),t.skipEvent()})},"OnParsePlayBackgroundMusicTag"),uU=r(function(e){var t=e[0],s=e[1];this.soundManager.playBackgroundMusic(t),s&&this.soundManager.fadeInBackgroundMusic(s)},"PlayBackgroundMusic"),dU=r(function(){this.soundManager.stopBackgroundMusic()},"StopBackgroundMusic"),fU=r(function(e){var t=e[0],s=e[1];this.soundManager.playBackgroundMusic2(t),s&&this.soundManager.fadeInBackgroundMusic2(s)},"PlayBackgroundMusic2"),cU=r(function(){this.soundManager.stopBackgroundMusic2()},"StopBackgroundMusic2"),vU=r(function(e,t,s){var a="bgm.fadein";t.on(`+${a}`,function(x){dt.call(e,a,pU,x,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.fadein";t.on(`+${a}`,function(x){dt.call(e,a,gU,x,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseFadeInBackgroundMusicTag"),pU=r(function(e){this.soundManager.fadeInBackgroundMusic(e)},"FadeInBackgroundMusic"),gU=r(function(e){this.soundManager.fadeInBackgroundMusic2(e)},"FadeInBackgroundMusic2"),mU=r(function(e,t,s){var a="bgm.fadeout";t.on(`+${a}`,function(x,P){P=P==="stop",dt.call(e,a,xU,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.fadeout";t.on(`+${a}`,function(x,P){P=P==="stop",dt.call(e,a,yU,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseFadeOutBackgroundMusicTag"),xU=r(function(e){this.soundManager.fadeOutBackgroundMusic(...e)},"FadeOutBackgroundMusic"),yU=r(function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},"FadeOutBackgroundMusic2"),CU=r(function(e,t,s){var a="bgm.cross";t.on(`+${a}`,function(x,P){dt.call(e,a,TU,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.cross";t.on(`+${a}`,function(x,P){dt.call(e,a,SU,[x,P],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseCrossFadeBackgroundMusicTag"),TU=r(function(e){this.soundManager.crossFadeBackgroundMusic(...e)},"CrossFadeBackgroundMusic"),SU=r(function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},"CrossFadeBackgroundMusic2"),PU=r(function(e,t,s){var a="bgm.pause";t.on(`+${a}`,function(){dt.call(e,a,EU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){dt.call(e,"bgm.resume",MU,void 0,e),t.skipEvent()});var a="bgm2.pause";t.on(`+${a}`,function(){dt.call(e,a,wU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){dt.call(e,"bgm2.resume",RU,void 0,e),t.skipEvent()})},"OnParsePauseBackgroundMusicTag"),EU=r(function(){this.soundManager.pauseBackgroundMusic()},"PauseBackgroundMusic"),MU=r(function(){this.soundManager.resumeBackgroundMusic()},"ResumeBackgroundMusic"),wU=r(function(){this.soundManager.pauseBackgroundMusic2()},"PauseBackgroundMusic2"),RU=r(function(){this.soundManager.resumeBackgroundMusic2()},"ResumeBackgroundMusic2"),OU=r(function(e,t,s){var a="bgm.volume";t.on(`+${a}`,function(x){dt.call(e,a,bU,x,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.volume";t.on(`+${a}`,function(x){dt.call(e,a,AU,x,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseSetBackgroundMusicVolumeTag"),bU=r(function(e){this.soundManager.setBackgroundMusicVolume(e)},"SetBackgroundMusicVolume"),AU=r(function(e){this.soundManager.setBackgroundMusicVolume2(e)},"SetBackgroundMusicVolume2"),LU=r(function(e,t,s){var a="bgm.mute";t.on(`+${a}`,function(){dt.call(e,a,FU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.mute";t.on(`+${a}`,function(){dt.call(e,a,IU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm.unmute";t.on(`+${a}`,function(){dt.call(e,a,DU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.unmute";t.on(`+${a}`,function(){dt.call(e,a,BU,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseSetBackgroundMusicMuteTag"),FU=r(function(){this.soundManager.setBackgroundMusicMute(!0)},"SetBackgroundMusicMute"),IU=r(function(){this.soundManager.setBackgroundMusic2Mute(!0)},"SetBackgroundMusic2Mute"),DU=r(function(){this.soundManager.setBackgroundMusicMute(!1)},"SetBackgroundMusicUnMute"),BU=r(function(){this.soundManager.setBackgroundMusic2Mute(!1)},"SetBackgroundMusic2UnMute"),GU=r(function(e,t,s){var a="camera.fadein";t.on(`+${a}`,function(x,P,n,T){dt.call(e,a,NU,[x,P,n,T],e),t.skipEvent()})},"OnParseFadeInCameraTag"),NU=r(function(e){this.cameraTarget.fadeIn(...e)},"PlayFadeInEffect"),kU=r(function(e,t,s){var a="camera.fadeout";t.on(`+${a}`,function(x,P,n,T){dt.call(e,a,VU,[x,P,n,T],e),t.skipEvent()})},"OnParseFadeOutCameraTag"),VU=r(function(e){this.cameraTarget.fadeOut(...e)},"PlayFadeOutEffect"),zU=r(function(e,t,s){var a="camera.shake";t.on(`+${a}`,function(x,P){dt.call(e,a,UU,[x,P],e),t.skipEvent()})},"OnParseShakeCameraTag"),UU=r(function(e){this.cameraTarget.shake(...e)},"PlayShakeEffect"),XU=r(function(e,t,s){var a="camera.flash";t.on(`+${a}`,function(x,P,n,T){dt.call(e,a,YU,[x,P,n,T],e),t.skipEvent()})},"OnParseFlashCameraTag"),YU=r(function(e){this.cameraTarget.flash(...e)},"PlayFlashEffect"),WU=r(function(e,t,s){var a="camera.zoom";t.on(`+${a}`,function(x){dt.call(e,a,HU,x,e),t.skipEvent()}).on(`+${a}.to`,function(x,P,n){dt.call(e,"camera.zoom.to",$U,[x,P,n],e),t.skipEvent()})},"OnParseZoomCameraTag"),HU=r(function(e){this.cameraTarget.setZoom(e)},"Zoom"),$U=r(function(e){this.cameraTarget.zoomTo(...e)},"ZoomTo");const eO=Phaser.Math.DegToRad;var KU=r(function(e,t,s){var a="camera.rotate";t.on(`+${a}`,function(x){x=eO(x),dt.call(e,a,ZU,x,e),t.skipEvent()}).on(`+${a}.to`,function(x,P,n){x=eO(x),dt.call(e,"camera.rotate.to",JU,[x,P,n],e),t.skipEvent()})},"OnParseRotateCameraTag"),ZU=r(function(e){this.cameraTarget.setRotation(e)},"Rotate$1"),JU=r(function(e){var t=e[0],s=e[1],a=e[2];this.cameraTarget.rotateTo(t,!1,s,a)},"RotateTo"),jU=r(function(e,t,s){var a="camera.scroll";t.on(`+${a}`,function(x,P){dt.call(e,a,QU,[x,P],e),t.skipEvent()}).on(`+${a}.to`,function(x,P,n,T){dt.call(e,"camera.scroll.to",qU,[x,P,n,T],e),t.skipEvent()})},"OnParseScrollCameraTag"),QU=r(function(e){this.cameraTarget.setScroll(...e)},"Scroll"),qU=r(function(e){var t=e[0],s=e[1],a=e[2],x=e[3],P=this.cameraTarget,n=P.scrollX,T=P.scrollY;P.setScroll(t,s),t+=P.centerX,s+=P.centerY,P.setScroll(n,T),P.pan(t,s,a,x)},"ScrollTo"),_U=r(function(e,t,s){var a="wait",x="click";t.on(`+${a}`,function(P){iO(e,P),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()}).on(`+${x}`,function(){iO(e,"click"),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},"OnParseWaitTag"),tX=r(function(e){this.typeWriter.wait(e)},"Wait$2"),iO=r(function(e,t){dt.call(e,"wait",tX,t,e)},"AppendCommand$1"),eX=r(function(e,t,s){var a="r";t.on(`+${a}`,function(){Ql.call(e,`
`),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseNewLineTag"),iX=r(function(e,t,s){for(var a=["pagebreak","pb"],x=0,P=a.length;x<P;x++){var n=a[x];t.on(`+${n}`,function(){Ql.call(e,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},"OnParsePageBreakTag"),sX=r(function(e,t,s){var a="content.off";t.on(`+${a}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},"OnParseContentOff"),rX=r(function(e,t,s){var a="content.on";t.on(`+${a}`,function(){t.setContentOutputEnable(),t.skipEvent()})},"OnParseContentOn"),nX=r(function(e,t,s){t.on("content",function(a){if(t.contentOutputEnable)Ql.call(e,a);else{var x=`+${t.lastTagStart}`;e.emit(`parser.${x}#content`,t,a)}})},"OnParseContent"),aX=r(function(e,t,s){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(a,...x){if(!t.skipEventFlag){var P=`+${a}`,n=x;e.emit(`parser.${P}`,t,...x,n),sO(e,P,n)}}).on("-",function(a){if(!t.skipEventFlag){var x=`-${a}`,P=[];e.emit(`parser.${x}`,t,P),sO(e,x,P)}}).on("complete",function(){e.emit("parser.complete",t)})},"OnParseCustomTag"),oX=r(function(e,t){var s=`tag.${t}`;e==null?this.emit(s):this.emit(s,...e)},"FireEvent$1"),sO=r(function(e,t,s){dt.call(e,t,oX,s,e)},"AppendCommand");const rO=[Lz,Fz,Iz,Dz,Bz,zz,Uz,Gz,Nz,kz,Vz,Xz,Yz,Wz,$z,Jz,qz,eU,rU,lU,vU,mU,CU,PU,OU,LU,GU,kU,zU,XU,WU,KU,jU,_U,eX,iX,sX,rX,nX,aX];var hX=r(function(e,t,s){for(var a=0,x=rO.length;a<x;a++)rO[a](e,t,s)},"AddParseCallbacks"),lX=r(function(e,t){for(var s=e.commentLineStart,a=t.split(`
`),x=0,P=a.length;x<P;x++){var n=a[x];n===""||(n.trim().length===0||s&&n.startsWith(s))&&(a[x]="")}return a.join("")},"PreProcess");const uX=Phaser.Utils.Objects.GetValue,xT=class xT extends Wm{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("delimiters")||(s.delimiters="[]"),super(s),hX(t,this,s),this.setCommentLineStartSymbol(uX(s,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(lX(this,t)),this}};r(xT,"Parser");let Hm=xT;const dX={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},zr="page.fadeout",$m="_remove.play",nO=[zr,$m];var fX=r(function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(zr),this;var e=this.children.filter(function(a){return a.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(zr);else if(t.once)t.once("complete",function(){this.emit(zr)},this);else if(t.then){var s=this;t.then(function(){s.emit(zr)})}else this.emit(zr);return this},"FadeOutPage"),cc=r(function(e,t){return new Promise(function(s,a){e.once(t,function(){s()})})},"WaitEvent"),Pe=r(function(e){return cc(e,"complete")},"WaitComplete"),cX=r(function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),Pe(this)},"Start$1");const vX="delay",GF="anim";var NF=r(function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var s=this.getNextChild();if(!s){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(s.renderable){var a=this.animationConfig;if(a.duration>0){var x=this.timeline.addTimer({name:GF,target:s,duration:a.duration,yoyo:a.yoyo,onStart:a.onStart,onProgress:a.onProgress,onComplete:a.onComplete});this.skipTypingAnimation&&x.seek(1)}else a.onStart&&a.onStart(s,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",s);var P=this.nextChild;if(P&&!(this.skipSpaceEnable&&wN(P))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:vX,target:this,duration:t,onComplete:r(function(n,T,i){n.typingTimer=void 0,NF.call(n,i.remainder)},"onComplete")});break}}}else RN(s)&&s.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},"Typing"),pX=r(function(){return this.timeline.pause(),this},"Pause$1"),gX=r(function(){return this.timeline.resume(),this},"Resume$1"),mX=r(function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},"PauseTyping$1"),xX=r(function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},"ResumeTyping$1"),yX=r(function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},"IsWaitCameraEffect"),CX=r(function(e,t){var s=t.split(".");return e.gameObjectManagers.hasOwnProperty(s[0])},"IsWaitGameObject"),TX=r(function(e,t,s,a){var x=e.waitEventManager,P=t.split("."),n=P[0],T=e.getGameObjectManager(n),i=`wait.${n}`;switch(P.length){case 1:x.waitGameObjectManagerEmpty(n),e.emit(i);return;case 2:var h=P[1];x.waitGameObjectDestroy(n,h),e.emit(i,h);return;case 3:var h=P[1],m=P[2],c=T.getProperty(h,m);if(typeof c=="number"){x.waitGameObjectTweenComplete(n,h,m),e.emit(i,h,m);return}var u=m,l=u.startsWith("!");if(l&&(u=u.substring(1)),T.hasData(h,u)){x.waitGameObjectDataFlag(n,h,u,!l),e.emit(i,h,u);return}else{x.waitTime(0);return}}},"WaitGameObject");const SX=Phaser.Input.Keyboard.KeyCodes;var kF=r(function(e,t,s,a){var x=e.waitEventManager;x.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,a),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var P=0,n=t.length;P<n;P++){var T=t[P];if(T==null||T==="wait"){var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",i)}else if(typeof T=="number"||!isNaN(T)){var h=parseFloat(T);x.waitTime(h),e.emit("wait.time",h)}else if(T==="click")x.waitClick(),e.emit("wait.click");else if(T==="se"){x.waitSoundEffectComplete();var m=e.soundManager.getLastSoundEffect();e.emit("wait.music",m)}else if(T==="se2"){x.waitSoundEffect2Complete();var m=e.soundManager.getLastSoundEffect2();e.emit("wait.music",m)}else if(T==="bgm"){x.waitBackgroundMusicComplete();var m=e.soundManager.getBackgroundMusic();e.emit("wait.music",m)}else if(T==="bgm2"){x.waitBackgroundMusic2Complete();var m=e.soundManager.getBackgroundMusic2();e.emit("wait.music",m)}else if(SX.hasOwnProperty(T.toUpperCase()))x.waitKeyDown(T),e.emit("wait.keydown",T);else if(yX(T))x.waitCameraEffectComplete(T),e.emit("wait.camera",T);else if(CX(e,T))TX(e,T);else{var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${T}`,i)}}},"WaitAny"),PX=r(function(e){return this.ignoreWait?this:(this.pauseTyping(),kF(this.textPlayer,e,this.resumeTyping,this),this)},"Wait$1"),EX=r(function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},"SetIgnoreWait$1"),MX=r(function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},"SetSkipSpaceEnable"),wX=r(function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(GF),s=0,a=t.length;s<a;s++)t[s].seek(1);return this},"SetSkipTypingAnimation"),RX=r(function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},"SetSkipSoundEffect"),OX=r(function(){return this.typingTimer&&this.typingTimer.seek(1),this},"SkipCurrentTypingDelay"),VF={fadeOutPage:fX,start:cX,typing:NF,pause:pX,resume:gX,pauseTyping:mX,resumeTyping:xX,wait:PX,setIgnoreWait:EX,setSkipSpaceEnable:MX,setSkipTypingAnimation:wX,setSkipSoundEffect:RX,skipCurrentTypingDelay:OX};Object.assign(VF,dX);const In=Phaser.Utils.Objects.GetValue,yT=class yT{constructor(t,s){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(In(s,"onTypingStart",AX)),this.setDefaultTypingSpeed(In(s,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(In(s,"skipSpace",!1)),this.setAnimationConfig(In(s,"animation",void 0)),this.setMinSizeEnable(In(s,"minSizeEnable",!1)),this.setFadeOutPageCallback(In(s,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=bX),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}};r(yT,"TypeWriter");let rf=yT;var bX=r(function(e){e.setVisible&&e.setVisible()},"SetChildVisible"),AX=r(function(e){for(var t=0,s=e.length;t<s;t++){var a=e[t];a.setVisible&&a.setVisible(!1)}},"SetChildrenInvisible");Object.assign(rf.prototype,Kl,VF);const CT=class CT extends Hh{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}};r(CT,"SpriteBob");let Km=CT;const LX={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var zF={};Object.assign(zF,LX);var UF=r(function(e){return!e||e==="sprite"?e=FX:e==="image"&&(e=IX),e},"GetCreateGameObjectCallback"),FX=r(function(e,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),e.add.sprite(0,0,t,s)},"CreateSprite"),IX=r(function(e,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),e.add.image(0,0,t,s)},"CreateImage$1");const TT=class TT extends hr{constructor(t,s){s===void 0&&(s={}),s.BobClass=Km,super(t,s)}setCreateGameObjectCallback(t,s){return t=UF(t),super.setCreateGameObjectCallback(t,s),this}};r(TT,"SpriteManager");let nf=TT;Object.assign(nf.prototype,zF);var aO=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},"IsPlayAnimationTag"),DX=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},"IsStopAnimationTag"),BX=r(function(e,t,s){var a=s.name;t.on("+",function(x,...P){if(!t.skipEventFlag){var n=x.split("."),T;if(aO(n,a))T=n[1];else return;dt.call(e,`${a}.play`,GX,[a,T,P],e),t.skipEvent()}}).on("+",function(x){if(!t.skipEventFlag){var P=x.split("."),n;if(DX(P,a))n=P[1];else return;dt.call(e,`${a}.stop`,oO,[a,n],e),t.skipEvent()}}).on("-",function(x){if(!t.skipEventFlag){var P=x.split("."),n;if(aO(P,a))n=P[1];else return;dt.call(e,`${a}.stop`,oO,[a,n],e),t.skipEvent()}})},"OnParsePlayAnimationTag"),GX=r(function(e){var t,s,a;[t,s,a]=e;var x=a.shift(),P=this.getGameObjectManager(t);P.playAnimation(s,x),a.length>0&&P.chainAnimation(s,a)},"PlayAnimation"),oO=r(function(e){var t,s;[t,...s]=e;var a=this.getGameObjectManager(t);a.stopAnimation(...s)},"StopAnimation"),NX=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},"IsPauseAnimationTag"),kX=r(function(e,t,s){var a=s.name;t.on("+",function(x){if(!t.skipEventFlag){var P=x.split("."),n;if(NX(P,a))n=P[1];else return;dt.call(e,`${a}.pause`,VX,[a,n],e),t.skipEvent()}})},"OnParsePauseAnimationTag"),VX=r(function(e){var t,s;[t,...s]=e;var a=this.getGameObjectManager(t);a.pauseAnimation(...s)},"PauseAnimation"),zX=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},"IsChainAnimationTag"),UX=r(function(e,t,s){var a=s.name;t.on("+",function(x){if(!t.skipEventFlag){var P=x.split("."),n;if(zX(P,a))n=P[1];else return;var T=Array.prototype.slice.call(arguments,1);dt.call(e,`${a}.chain`,XX,[a,n,T],e),t.skipEvent()}})},"OnParseChainAnimationTag"),XX=r(function(e){var t,s;[t,...s]=e;var a=this.getGameObjectManager(t);a.chainAnimation(...s)},"ChainAnimation");const YX=[BX,kX,UX];var WX=r(function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=YX,e.createGameObject=UF(e.createGameObject),this.addGameObjectManager(e,nf)},"AddSpriteManager"),hO=r(function(e,t){return e.length===2&&e[0]===t},"IsAddGameObjectTag"),HX=r(function(e,t,s){var a=s.name;t.on("+",function(x,...P){if(!t.skipEventFlag){var n=x.split("."),T;if(hO(n,a))T=n[1];else return;dt.call(e,`${a}.add`,$X,[a,T,...P],e),t.skipEvent()}}).on("-",function(x){if(!t.skipEventFlag){var P=x.split("."),n;if(hO(P,a))n=P[1];else return;dt.call(e,`${a}.remove`,KX,[a,n],e),t.skipEvent()}})},"OnParseAddGameObjectTag"),$X=r(function(e){var t,s;[t,...s]=e;var a=this.getGameObjectManager(t);a.add(...s)},"AddGameObject"),KX=r(function(e){var t,s;[t,...s]=e;var a=this.getGameObjectManager(t);a.remove(...s)},"RemoveGameObject"),ZX=r(function(e,t,s){var a=s.name;t.on("-",function(x){t.skipEventFlag||x===a&&(dt.call(e,`${a}.removeall`,JX,a,e),t.skipEvent())})},"OnParseRemoveAllGameObjectsTag"),JX=r(function(e){var t=this.getGameObjectManager(e);t.removeAll()},"RemoveAllSprites"),jX=r(function(e,t){return e.length===3&&e[0]===t},"IsPropTag"),QX=r(function(e,t,s){var a=s.name;t.on("+",function(x,...P){if(!t.skipEventFlag){var n=x.split("."),T,i;if(jX(n,a))T=n[1],i=n[2];else return;dt.call(e,`${a}.call`,qX,[a,T,i,...P],e),t.skipEvent()}})},"OnParseCallGameObjectMethodTag"),qX=r(function(e){var t,s,a,x;[t,s,a,...x]=e;var P=`${t}.${a}`;if(this.emit(P,s,...x),!(this.listenerCount(P)>0)){var n=this.getGameObjectManager(t);n.hasMethod(s,a)?n.call(s,a,...x):n.setProperty(s,a,x[0])}},"CallMethod"),_X={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},tY=r(function(e,t){return e.length===4&&e[0]===t&&_X[e[3]]},"IsEasePropertyTag"),eY=r(function(e,t,s){var a=s.name;e.getGameObjectManager(a),t.on("+",function(x,P,n,T,i){if(!t.skipEventFlag){var h=x.split("."),m,c,u;if(tY(h,a))m=h[1],c=h[2],u=h[3];else return;typeof T=="number"&&(i=T,T=void 0),dt.call(e,`${a}.ease`,iY,[a,m,c,P,n,T,i,u],e),t.skipEvent()}})},"OnParseEaseGameObjectPropertyTag"),iY=r(function(e){var t,s,a,x,P,n,T,i;[t,s,a,x,P,n,T,i]=e;var h=this.getGameObjectManager(t),m=h.getProperty(s,a);if(typeof m=="number"){i.endsWith("Left")||i.endsWith("Up")?i.startsWith("to")||i.startsWith("yoyo")?x=m-x:i.startsWith("from")&&(h.setProperty(s,a,m-x),x=m):i.endsWith("Right")||i.endsWith("Down")?i.startsWith("to")||i.startsWith("yoyo")?x=m+x:i.startsWith("from")&&(h.setProperty(s,a,m+x),x=m):i==="from"&&(h.setProperty(s,a,x),x=m);var c=i.startsWith("yoyo");h.easeProperty(s,{property:a,value:x,duration:P,ease:n,repeat:T,yoyo:c})}},"EaseProperty");const lO=[HX,ZX,QX,eY],sY=IF.addGameObjectManager,rY={addGameObjectManager(e,t){e=e?Ni(e):{};var s=e.name;s||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var a=e.defaultLayer,x=e.createGameObject,P=this.layerManager;e.createGameObject=function(h,...m){var c=x.call(this,h,...m);return a&&P&&P.addToLayer(a,c),c},sY.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...lO]:n=lO;for(var T=0,i=n.length;T<i;T++)n[T](this,this.parser,e);return this}};var nY=r(function(e){return this.waitEventManager.setClickTarget(e),this},"SetClickTarget"),aY=r(function(e){return this.waitEventManager.setCameraTarget(e),this},"SetCameraTarget"),oY=r(function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(s,a){var x=t.waitEventManager;x.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,a);var P=x.getWaitCompleteTriggerCallback();e.call(t,P)}:this.nextPageInput=function(s,a){kF(t,e,s,a)}:this.nextPageInput=null},"SetNextPageInput"),hY=r(function(e,t){return this.imageManager.add(e,t),this},"AddImage");const lY={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=Pe(this);return this.play(e),t}};var Zm=r(function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(zr,uY,this).fadeOutPage(),this)},"TypingNextPage"),uY=r(function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=r(function(){this.emit($m),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?Zm.call(this):this.nextPageInput&&this.nextPageInput(Zm,this))},"OnTypingPageComplete");this.once($m,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)},"_TypingNextPage");const dY={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},fY={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var cY=r(function(e){return this.typeWriter.wait(e),this},"Wait");const vY={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var pY=r(function(e){return this.typeWriter.setIgnoreWait(e),this},"SetIgnoreWait"),gY=r(function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},"SetIgnoreNextPageInput"),mY=r(function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,s=this.typeWriter.skipTypingAnimation,a=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(s).setSkipSoundEffect(a)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this},"ShowPage");const xY={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},yY={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var XF={setClickTarget:nY,setCameraTarget:aY,setNextPageInput:oY,addImage:hY,typingNextPage:Zm,wait:cY,setIgnoreWait:pY,setIgnoreNextPageInput:gY,showPage:mY};Object.assign(XF,rY,lY,dY,fY,vY,xY,yY);var CY=r(function(e){for(var t=0,s=nO.length;t<s;t++)e.emit(nO[t])},"ClearEvents");const uO=Phaser.Utils.Objects.IsPlainObject,Dn=Phaser.Utils.Objects.GetValue,ST=class ST extends Pz(or){constructor(t,s,a,x,P,n){uO(s)?n=s:uO(x)&&(n=x),n===void 0&&(n={});var T=n.text;delete n.text,super(t,s,a,x,P,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new Hm(this,Dn(n,"parser",void 0)),this.typeWriter=new rf(this,Dn(n,"typing",void 0)),this._imageManager=void 0;var i=Dn(n,"images",void 0);i&&this.addImage(i);var h=Dn(n,"sprites");h!==!1&&h!==null&&WX.call(this,h),this.setIgnoreNextPageInput(Dn(n,"ignoreNextPageInput",!1)),this.setNextPageInput(Dn(n,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new Nh(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(CY(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}};r(ST,"TextPlayer");let Jh=ST;Object.assign(Jh.prototype,XF);rt.register("textPlayer",function(e,t,s,a,x){var P=new Jh(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.TextPlayer",Jh);const YF={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},WF={direction:["direction",void 0]};var Qs=r(function(e,t,s){if(typeof s=="string")e.hasOwnProperty(s)&&(t[s]=e[s]);else{var a=s;if(Array.isArray(a))for(var x=0,P=a.length;x<P;x++)Qs(e,t,a[x]);else for(var s in a)Qs(e,t,s)}},"CopyProperty"),TY=r(function(e){e===void 0&&(e={});var t={};return Qs(e,t,"inputType"),Qs(e,t,"type"),Qs(e,t,"style"),Qs(e,t,WF),Qs(e,t,YF),t},"CopyElementConfig"),vy=r(function(e,t,s,a,x){if(t)return!(s&&!s(e,t)||!dO(e,t)||a&&!a(e,t));x===void 0&&(x=!1);for(var P=e.scene.input.manager,n=P.pointersTotal,T=P.pointers,t,i=0;i<n;i++)if(t=T[i],!(s&&!s(e,t))&&dO(e,t)&&!(a&&!a(e,t)))return x?t:!0;return!1},"IsPointerInHitArea"),dO=r(function(e,t){for(var s=e.scene,a=s.input.cameras.getCamerasBelowPointer(t),x=s.input.manager,P=[e],n=0,T=a.length;n<T;n++)if(x.hitTest(t,P,a[n],zu),zu.length>0)return zu.length=0,!0;return zu.length=0,!1},"HitTest"),zu=[],sa=void 0,SY=r(function(e){e!==sa&&(sa!==void 0&&sa.close(),sa=e)},"SetLastOpenedEditor$1"),PY=r(function(e){e===sa&&(sa=void 0)},"CloseLastOpenEditor$1"),HF=r(function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},"EnterClose"),EY=r(function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",HF,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(RF.call(this.clickOutSideTarget,this.parent),wF.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},"OnOpen"),MY=r(function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},"RemoveElement"),wY=r(function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",HF,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),MY(this.node),this.node=void 0,this.emit("close",this)},"OnClose");const Hg=Phaser.Utils.Objects.GetValue;var RY=r(function(e,t){var s,a=Hg(t,"inputType",void 0);a===void 0&&(a=Hg(t,"type","text")),a==="textarea"?(s=document.createElement("textarea"),s.style.resize="none"):(s=document.createElement("input"),s.type=a);var x=Hg(t,"style",void 0),P=s.style;Wd(WF,x,P),P.position="absolute",P.opacity=0,P.pointerEvents="none",P.zIndex=0,P.transform="scale(0)",Wd(YF,t,s),DL(s);var n=e.scene.sys.scale,T=n.isFullscreen?n.fullscreenTarget:document.body;return T.appendChild(s),s.addEventListener("focus",function(i){EY.call(e)}),s.addEventListener("blur",function(i){wY.call(e)}),s},"CreateElement"),OY=r(function(){return this.isOpened?this:this.readOnly?this:(SY(this),this.node||(this.node=RY(this,this.nodeConfig)),this.setFocus(),this)},"Open$2"),bY=r(function(){return this.isOpened?(PY(this),this.setBlur(),this):this},"Close$1"),AY={open:OY,close:bY};const gs=Phaser.Utils.Objects.GetValue,PT=class PT extends Nt{constructor(t,s){super(t);var a=gs(s,"inputType",void 0);a===void 0&&(a=gs(s,"type","text")),this.setEnterCloseEnable(gs(s,"enterClose",a!=="textarea"));var x=gs(s,"onOpen",void 0);x||(x=gs(s,"onFocus",void 0)),this.onOpenCallback=x,this.clickOutSideTarget=gs(s,"clickOutSideTarget",void 0);var P=gs(s,"onClose",void 0);P||(P=gs(s,"onBlur",void 0)),this.onCloseCallback=P,this.onUpdateCallback=gs(s,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=TY(s),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){vy(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,s),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node?(this.node.style[t]=s,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}};r(PT,"HiddenTextEditBase");let jh=PT;Object.assign(jh.prototype,AY);var $F=r(function(e,t,s){e=e.replace(" ","");var a=s.previousText;if(e===a)return e;if(isNaN(e)){s.emit("nan",e,s),e=a;var x=s.cursorPosition-1;s.setText(e),s.setCursorPosition(x)}else s.previousText=e;return e},"NumberInputUpdateCallback"),LY=r(function(e){var t=e.parent,s=e.isOpened?e.selectionStart:null,a=e.isOpened?e.selectionEnd:null,x=e.prevSelectionStart,P=e.prevSelectionEnd;if(!(x===s&&P===a)){var n,T;x===null?(n=s,T=a):s===null?(n=x,T=P):(n=Math.min(x,s),T=Math.max(P,a));for(var i=n;i<T;i++){var h;x===null?h=!1:h=i>=x&&i<P;var m;if(s===null?m=!1:m=i>=s&&i<a,h!==m){var c=t.getCharChild(i);if(c){var u=h?"rangeout":"rangein";t.emit(u,c,i,t)}}}e.prevSelectionStart=s,e.prevSelectionEnd=a}},"SelectRange"),FY=r(function(e){var t=e.parent,s=0,a=t.width,x=0,P=t.height,n=e.drawX,T=e.drawY,i=n+e.drawTLX,h=n+e.drawTRX,m=T+e.drawTLY,c=T+e.drawBLY,u;i<s?u=s-i:h>a?u=a-h:u=0;var l;m<x?l=x-m:c>P?l=P-c:l=0,t._textOX+=u,t._textOY+=l},"ScrollToBob"),IY=r(function(e){var t=e.parent,s=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var a=e.cursorPosition;if(e.prevCursorPosition!==a){if(e.prevCursorPosition!==null&&e.prevCursorPosition>s.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var x=t.getCharChild(e.prevCursorPosition);x&&(x.text===`
`&&x.clearTextSize(),t.emit("cursorout",x,e.prevCursorPosition,t))}if(a!=null){var x=t.getCharChild(a);x&&(x.text===`
`&&x.copyTextSize(t.lastInsertCursor),FY(x),t.emit("cursorin",x,a,t))}t.emit("movecursor",a,e.prevCursorPosition,t),e.prevCursorPosition=a}},"MoveCursor"),fO=r(function(e){var t=e.prevSelectionStart;if(t!==null){for(var s=e.prevSelectionEnd,a=e.parent,x=t;x<s;x++){var P=a.getCharChild(x);P&&a.emit("cursorout",P,x,a)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},"ClearSelectRange"),cO=r(function(e){var t=e.prevCursorPosition;if(t!==null){var s=e.parent,a=s.getCharChild(t);a&&s.emit("cursorout",a,t,s),e.prevCursorPosition=null}},"ClearCursor");const DY=Phaser.Utils.Objects.GetValue;var La;let BY=(La=class extends jh{constructor(t,s){super(t,s),this.setSelectAllWhenFocusEnable(DY(s,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(a,x,P,n){var T=t.getNearestChild(x,P),i=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(i),this.cursorMoveStartIndex=i,this.firstClickAfterOpen=!1},this).on("pointermove",function(a,x,P,n){if(a.isDown){var T=t.getNearestChild(x,P),i=t.getCharIndex(T);this.cursorMoveStartIndex<i?this.selectText(this.cursorMoveStartIndex,i+1):this.selectText(i,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var a=this.onUpdateCallback(s,t,this);a!=null&&(s=a)}return t.text!==s&&t.setText(s),this.isOpened?this.selectionStart!==this.selectionEnd?(cO(this),LY(this)):(fO(this),IY(this)):(fO(this),cO(this)),this}setNumberInput(){return this.onUpdateCallback=$F,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}},r(La,"HiddenTextEdit"),La);const GY=Phaser.Utils.Objects.GetValue,NY=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var kY=r(function(e,t){var s=GY(t,"edit");return s===void 0&&(s={}),Qs(t,s,NY),new BY(e,s)},"CreateHiddenTextEdit"),Ts=r(function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var s=t.split("."),a=e,x=0;x<s.length;x++)if(a.hasOwnProperty(s[x]))a=a[s[x]];else return!1;return!0}else return!1},"HasValue"),Jm=r(function(e){if(e.parentContainer)return Jm(e.parentContainer);var t=MF(e);return t?Jm(t):e},"GetRootGameObject"),VY=r(function(e){for(var t=Jm(e).cameraFilter,s=e.scene.sys.cameras.cameras,a,x,P=0,n=s.length;P<n;P++)if(a=s[P],x=(t&a.id)>0,!x)return a;return null},"GetFirstRenderCamera");const ET=class ET extends Nt{constructor(t,s){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,s=this.parent,a=VY(s);if(a){s.setScrollFactor(0).setOrigin(.5);var x=t.sys.scale.gameSize,P=x.width,n=x.height,T=1/a.zoom,i=P/2,h=n/2,m=P*T,c=n*T;(s.x!==i||s.y!==h)&&s.setPosition(i,h),(s.width!==m||s.height!==c)&&s.setSize(m,c)}}};r(ET,"FullWindow");let af=ET;const zY=Phaser.GameObjects.Zone;var Fa;let py=(Fa=class extends zY{constructor(t){super(t,0,0,2,2),this.fullWindow=new af(this)}},r(Fa,"FullWindowRectangle"),Fa);var UY=r(function(e,t){var s=!t.textArea;if(!Ts(t,"wrap.vAlign")){var a=s?"center":"top";it(t,"wrap.vAlign",a)}if(Ts(t,"wrap.wrapMode")||it(t,"wrap.wrapMode","char"),!Ts(t,"wrap.maxLines")){var a=s?1:void 0;it(t,"wrap.maxLines",a)}if(s&&it(t,"wrap.wrapWidth",1/0),Ts(t,"wrap.useDefaultTextHeight")||it(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!Ts(t.edit,"inputType")){var a=s?"text":"textarea";it(t.edit,"inputType",a)}if(t.clickOutSideTarget===!0){var x=new py(e);e.add.existing(x),t.clickOutSideTarget=x}return t},"InjectDefaultConfig"),bd=r(function(e,t,s,a){if(s===void 0&&(s="."),a===void 0&&(a={}),!e)return a;if(t in e)return Object.assign(a,e[t]);t+=s;for(var x in e)x.startsWith(t)&&(a[x.replace(t,"")]=e[x]);return a},"ExtractByPrefix"),XY=r(function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},"RegisterArrowKeysEvent"),vc=r(function(e,t,s){if(s===void 0&&(s={}),Array.isArray(t))for(var a,x=0,P=t.length;x<P;x++)a=t[x],s[a]=e[a];else for(var a in t)s[a]=e[a];return s},"GetPartialData"),YY=r(function(e){ql(e)||this.setCursorStyle(e).on("cursorin",function(t){var s=this.cursorStyle,a=vc(t.style,s);Zl(s,a)||(t.styleSave=a,t.modifyStyle(s))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},"RegisterCursorStyle"),WY=r(function(e){ql(e)||this.setRangeStyle(e).on("rangein",function(t){var s=this.rangeStyle,a=vc(t.style,s);Zl(s,a)||(t.styleSave=a,t.modifyStyle(s))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},"RegisterRangeStyle"),HY=r(function(e){ql(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,s=this.focusStyle,a=vc(t,s);Zl(s,a)||(t.styleSave=a,t.modifyStyle(s))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},"RegisterFocusStyle"),$Y=r(function(e){var t=e.createCharChild("|");return t.text="",t},"CreateInsertCursorChild");function As(){}r(As,"Diff");As.prototype={diff(e,t,s={}){let a=s.callback;typeof s=="function"&&(a=s,s={}),this.options=s;let x=this;function P(l){return a?(setTimeout(function(){a(void 0,l)},0),!0):l}r(P,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let n=t.length,T=e.length,i=1,h=n+T;s.maxEditLength&&(h=Math.min(h,s.maxEditLength));let m=[{newPos:-1,components:[]}],c=this.extractCommon(m[0],t,e,0);if(m[0].newPos+1>=n&&c+1>=T)return P([{value:this.join(t),count:t.length}]);function u(){for(let l=-1*i;l<=i;l+=2){let o,d=m[l-1],v=m[l+1],f=(v?v.newPos:0)-l;d&&(m[l-1]=void 0);let p=d&&d.newPos+1<n,g=v&&0<=f&&f<T;if(!p&&!g){m[l]=void 0;continue}if(!p||g&&d.newPos<v.newPos?(o=ZY(v),x.pushComponent(o.components,void 0,!0)):(o=d,o.newPos++,x.pushComponent(o.components,!0,void 0)),f=x.extractCommon(o,t,e,l),o.newPos+1>=n&&f+1>=T)return P(KY(x,o.components,t,e,x.useLongestToken));m[l]=o}i++}if(r(u,"execEditLength"),a)r(function l(){setTimeout(function(){if(i>h)return a();u()||l()},0)},"exec")();else for(;i<=h;){let l=u();if(l)return l}},pushComponent(e,t,s){let a=e[e.length-1];a&&a.added===t&&a.removed===s?e[e.length-1]={count:a.count+1,added:t,removed:s}:e.push({count:1,added:t,removed:s})},extractCommon(e,t,s,a){let x=t.length,P=s.length,n=e.newPos,T=n-a,i=0;for(;n+1<x&&T+1<P&&this.equals(t[n+1],s[T+1]);)n++,T++,i++;return i&&e.components.push({count:i}),e.newPos=n,T},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let s=0;s<e.length;s++)e[s]&&t.push(e[s]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function KY(e,t,s,a,x){let P=0,n=t.length,T=0,i=0;for(;P<n;P++){let m=t[P];if(m.removed){if(m.value=e.join(a.slice(i,i+m.count)),i+=m.count,P&&t[P-1].added){let c=t[P-1];t[P-1]=t[P],t[P]=c}}else{if(!m.added&&x){let c=s.slice(T,T+m.count);c=c.map(function(u,l){let o=a[i+l];return o.length>u.length?o:u}),m.value=e.join(c)}else m.value=e.join(s.slice(T,T+m.count));T+=m.count,m.added||(i+=m.count)}}let h=t[n-1];return n>1&&typeof h.value=="string"&&(h.added||h.removed)&&e.equals("",h.value)&&(t[n-2].value+=h.value,t.pop()),t}r(KY,"buildValues");function ZY(e){return{newPos:e.newPos,components:e.components.slice(0)}}r(ZY,"clonePath");const JY=new As;function jY(e,t,s){return JY.diff(e,t,s)}r(jY,"diffChars");const vO=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,pO=/\S/,KF=new As;KF.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!pO.test(e)&&!pO.test(t)};KF.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let s=0;s<t.length-1;s++)!t[s+1]&&t[s+2]&&vO.test(t[s])&&vO.test(t[s+2])&&(t[s]+=t[s+2],t.splice(s+1,2),s--);return t};const ZF=new As;ZF.tokenize=function(e){let t=[],s=e.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(let a=0;a<s.length;a++){let x=s[a];a%2&&!this.options.newlineIsToken?t[t.length-1]+=x:(this.options.ignoreWhitespace&&(x=x.trim()),t.push(x))}return t};const QY=new As;QY.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const qY=new As;qY.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const _Y=Object.prototype.toString,Qh=new As;Qh.useLongestToken=!0;Qh.tokenize=ZF.tokenize;Qh.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:s=r((a,x)=>typeof x>"u"?t:x,"stringifyReplacer")}=this.options;return typeof e=="string"?e:JSON.stringify(jm(e,null,null,s),s,"  ")};Qh.equals=function(e,t){return As.prototype.equals.call(Qh,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function jm(e,t,s,a,x){t=t||[],s=s||[],a&&(e=a(x,e));let P;for(P=0;P<t.length;P+=1)if(t[P]===e)return s[P];let n;if(_Y.call(e)==="[object Array]"){for(t.push(e),n=new Array(e.length),s.push(n),P=0;P<e.length;P+=1)n[P]=jm(e[P],t,s,a,x);return t.pop(),s.pop(),n}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),n={},s.push(n);let T=[],i;for(i in e)e.hasOwnProperty(i)&&T.push(i);for(T.sort(),P=0;P<T.length;P+=1)i=T[P],n[i]=jm(e[i],t,s,a,i);t.pop(),s.pop()}else n=e;return n}r(jm,"canonicalize");const Qm=new As;Qm.tokenize=function(e){return e.slice()};Qm.join=Qm.removeEmpty=function(e){return e};const tW=Phaser.Utils.Array.Remove;var eW=r(function(e,t){var s=e.text;if(t!==s){if(s==null&&(s=""),tW(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var a=jY(s,t),x=0,P=0,n=a.length;P<n;P++){var T=a[P];T.removed?e.removeText(x,T.count):(T.added&&e.insertText(x,T.value),x+=T.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}},"SetText$1");const iW={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},Uu=Phaser.Math.Clamp;var gO=r(function(e,t){var s={lineIndex:0,position:0};if(t<0)return s;for(var a=0,x=e.length;a<x;a++){var P=e[a];if(t<=P){s.lineIndex=a;break}t-=P}return s.position=t,s},"GetIndex"),mO=r(function(e,t){var s=0,a=t.lineIndex;if(a<0)return s;for(var x=0,P=e.length;x<P;x++){var n=e[x];if(a>x)s+=n;else if(a===x)s+=Math.min(t.position,n);else break}return s},"GetPosition");const sW={cursorMoveLeft(){if(!this.isOpened)return this;var e=Uu(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=Uu(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=gO(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=Uu(mO(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=gO(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=Uu(mO(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},xO=Phaser.Utils.Objects.IsPlainObject,MT=class MT extends or{constructor(t,s,a,x,P,n){xO(s)?n=s:xO(x)&&(n=x),n===void 0&&(n={}),UY(t,n);var T=n.text;T&&delete n.text;var i=bd(n.background,"focus"),h=bd(n.style,"cursor"),m=bd(n.style,"range");super(t,s,a,x,P,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=kY(this,n),XY.call(this),n.focusStyle&&Object.assign(i,n.focusStyle),HY.call(this,i),n.cursorStyle&&Object.assign(h,n.cursorStyle),YY.call(this,h),n.rangeStyle&&Object.assign(m,n.rangeStyle),ql(m)&&Object.assign(m,h),WY.call(this,m);var c=n.onAddChar;c&&this.on("addchar",c);var u=n.onCursorIn;u&&this.on("cursorin",u);var l=n.onCursorOut;l&&this.on("cursorout",l);var o=!n.onRangeIn&&!n.onRangeOut,d=o?n.onCursorIn:n.onRangeIn;d&&this.on("rangein",d);var v=o?n.onCursorOut:n.onRangeOut;v&&this.on("rangeout",v);var f=n.onMoveCursor;f&&this.on("movecursor",f),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=$Y(this),T||(T=""),this.setText(T)}addChild(t,s){if(super.addChild(t,s),Array.isArray(t))for(var a=t,x=0,P=a.length;x<P;x++){var t=a[x];Wr(t)&&this.emit("addchar",t,s+x,this)}else Wr(t)&&this.emit("addchar",t,s,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(eW(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var s=super.runWrap(t);this.contentWidth=s.maxLineWidth,this.contentHeight=s.linesHeight,this.lineHeight=s.lineHeight,this.linesCount=s.lines.length,this.characterCountOfLines.length=0;for(var a=s.lines,x=0,P=a.length;x<P;x++){for(var n=a[x].children,T=0,i=0,h=n.length;i<h;i++){var m=n[i];m.active&&!m.removed&&Wr(m)&&T++}this.characterCountOfLines.push(T)}return s}setSize(t,s){return this.width===t&&this.height===s?this:(super.setSize(t,s),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=rW),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}};r(MT,"CanvasInput");let Jr=MT;var rW=r(function(e){return e},"DefaultParseTextCallback");Object.assign(Jr.prototype,iW,sW);rt.register("canvasInput",function(e,t,s,a,x){var P=new Jr(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.CanvasInput",Jr);var gy=r(function(e){return $r(e).loop.delta},"GetTickDelta");const yO=Phaser.Utils.Objects.GetValue,nW=Phaser.Math.Wrap,wT=class wT extends jh{constructor(t,s){s===void 0&&(s={}),s.onUpdate==="number"&&(s.onUpdate=$F),super(t,s),this.setCursor(yO(s,"cursor","|")),this.setCursorFlashDuration(yO(s,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var a=this.onUpdateCallback(s,t,this);a!=null&&(s=a)}if(this.isOpened&&this.hasCursor){var x=this.cursorPosition;s=s.substring(0,x)+this.cursor+s.substring(x),this.prevCursorPosition!==x&&(this.prevCursorPosition=x)}return t.text!==s&&(t.setText(s),this.emit("textchange",s,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var s=this.cursorFlashTimer+gy(this.scene);return this.cursorFlashTimer=nW(s,0,this.cursorFlashDuration),t}};r(wT,"HiddenTextEdit");let of=wT;rt.register("hiddenEdit",function(e,t){var s=new of(e,t);return s});it(window,"RexPlugins.UI.HiddenEdit",of);const aW={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==s,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=s,this},setUncheckedBoxStrokeStyle(e,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==s,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=s,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},oW={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}},hW={buildShapes(){this.addShape(new Kd().setName("box")).addShape(new ve().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,s=Math.min(e,t),a=s*2,x=e-s,P=t-s,n=this.boxLineWidth,T=Math.max(a/10,2),i=this.getShape("box"),h=this.getShape("checker");if(this.isSizeChanged){var u=a*(1-this.boxSize)/2,m=n/2,c=a*this.boxSize-n;i.setTopLeftPosition(x+m+u,P+m+u).setSize(c,c),this.isCircleShape?i.setRadius(c/2):i.setRadius(0);var u=a*(1-this.checkerSize)/2,l=a*this.checkerSize/4,o=l*1,d=l*2,v=l*3;h.startAt(o,d).lineTo(d,v).lineTo(v,o).offset(x+u,P+u).end()}this.checked?(i.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),h.lineStyle(T,this.checkerColor)):(i.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),h.lineStyle()),this.checked&&h.setDisplayPathSegment(this.checkerAnimProgress)}},lW={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new ai(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var JF={};Object.assign(JF,aW,oW,hW,lW);const bh=23730,uW=16777215,Jt=Phaser.Utils.Objects.GetValue,CO=Phaser.Utils.Objects.IsPlainObject,RT=class RT extends ki{constructor(t,s,a,x,P,n,T){CO(s)?(T=s,s=Jt(T,"x",0),a=Jt(T,"y",0),x=Jt(T,"width",2),P=Jt(T,"height",2),n=Jt(T,"color",bh)):CO(n)&&(T=n,n=Jt(T,"color",bh)),super(t,s,a,x,P),this.type="rexCheckbox",n===void 0&&(n=bh),this.setBoxShape(Jt(T,"circleBox",!1)),this.setBoxFillStyle(n,Jt(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Jt(T,"uncheckedColor",null),Jt(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Jt(T,"boxLineWidth",4),Jt(T,"boxStrokeColor",n),Jt(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Jt(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),Jt(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Jt(T,"checkerColor",uW),Jt(T,"checkerAlpha",1)),this.setBoxSize(Jt(T,"boxSize",1)),this.setCheckerSize(Jt(T,"checkerSize",1)),this.setCheckerAnimationDuration(Jt(T,"animationDuration",150)),this.buildShapes();var i=Jt(T,"checked");i===void 0&&(i=Jt(T,"value",!1)),this.setValue(i)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}};r(RT,"CheckboxShape");let hf=RT;Object.assign(hf.prototype,JF);const ah=Phaser.Utils.Objects.GetValue;var Ia;let Ls=(Ia=class extends Nt{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(ah(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(ah(t,"enable",!0)),this.setMode(ah(t,"mode",1)),this.setClickInterval(ah(t,"clickInterval",100)),this.setDragThreshold(ah(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=dW[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,s,a,x){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,x),this.mode===0&&this.click(t.downTime,t,x))}onRelease(t,s,a,x){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,x),this.mode===1&&this.click(t.upTime,t,x),this.pointer=void 0)}onPointOut(t,s){this.pointer===t&&this.cancel()}onMove(t,s,a,x){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,s,a,x){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,x),this):this}onOut(t,s){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,s),this):this}click(t,s,a){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,s,a),this;this.pointer=void 0;var x=this.lastClickTime;return x!==void 0&&t-x<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,s,a),this)}cancel(){return this.pointer=void 0,this}},r(Ia,"Button"),Ia);const dW={press:0,pointerdown:0,release:1,pointerup:1},Vs=Phaser.Utils.Objects.GetValue,TO=Phaser.Utils.Objects.IsPlainObject,OT=class OT extends hf{constructor(t,s,a,x,P,n,T){TO(s)?(T=s,s=Vs(T,"x",0),a=Vs(T,"y",0),x=Vs(T,"width",2),P=Vs(T,"height",2),n=Vs(T,"color",bh)):TO(n)&&(T=n,n=Vs(T,"color",bh)),super(t,s,a,x,P,n,T),this._click=new Ls(this,Vs(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(Vs(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}};r(OT,"Checkbox");let qh=OT;rt.register("checkbox",function(e,t,s,a,x,P){var n=new qh(this.scene,e,t,s,a,x,P);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.Checkbox",qh);const fW={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},cW={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},vW={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $g=r(function(e,t,s){return(t-e)*s+e},"Linear$l"),pW=r(function(e,t,s){var a=$g($h(e),$h(t),s),x=$g(Kh(e),Kh(t),s),P=$g(Zh(e),Zh(t),s);return(a&255)<<16|(x&255)<<8|P&255},"MixColor");const SO=Phaser.Math.Linear,gW={buildShapes(){this.addShape(new Kd().setName("track")).addShape(new Kd().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,s=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,a=this.getShape("track");if(this.isSizeChanged){var x=e*this.trackWidth,P=t*this.trackHeight,n=(e-x)/2,T=(t-P)/2,i=t*this.trackRadius;a.setTopLeftPosition(n,T).setSize(x,P).setRadius(i)}var h=pW(this.falseValueTrackColor,this.trackFillColor,s),m=SO(this.falseValueTrackFillAlpha,this.trackFillAlpha,s);a.fillStyle(h,m);var c=this.getShape("thumb");if(this.isSizeChanged){var u=e*this.thumbWidth,l=t*this.thumbHeight,o=t*this.thumbRadius;c.setSize(u,l).setRadius(o)}var d=SO(this.thumbLeftX,this.thumbRightX,s)*e;this.rtl&&(d=e-d);var v=t/2;c.setCenterPosition(d,v),c.fillStyle(this.thumbColor,this.thumbAlpha)}},mW={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new ai(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var jF={};Object.assign(jF,fW,cW,vW,gW,mW);var xW=r(function(e){var t=.3*$h(e)+.59*Kh(e)+.11*Zh(e);return(t&255)<<16|(t&255)<<8|t&255},"GrayScale");const jt=Phaser.Utils.Objects.GetValue,PO=Phaser.Utils.Objects.IsPlainObject,Kg=23730,yW=16777215,bT=class bT extends ki{constructor(t,s,a,x,P,n,T){PO(s)?(T=s,s=jt(T,"x",0),a=jt(T,"y",0),x=jt(T,"width",2),P=jt(T,"height",2),n=jt(T,"color",Kg)):PO(n)&&(T=n,n=jt(T,"color",Kg)),super(t,s,a,x,P),this.type="rexToggleSwitch",n===void 0&&(n=Kg),this.setTrackFillStyle(n,jt(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(jt(T,"falseValueTrackColor",xW(n)),jt(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(jt(T,"thumbColor",yW),jt(T,"thumbAlpha",1)),this.setTrackSize(jt(T,"trackWidth",.9),jt(T,"trackHeight",.5)),this.setTrackRadius(jt(T,"trackRadius",this.trackHeight*.5));var i=jt(T,"thumbHeight",void 0),h=jt(T,"thumbWidth",i);h===void 0&&(h=this.trackHeight*.9),this.setThumbSize(h,i),this.setThumbRadius(jt(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(jt(T,"thumbLeft",.3),jt(T,"thumbRight",void 0)),this.setRTL(jt(T,"rtl",!1)),this.setToggleAnimationDuration(jt(T,"animationDuration",150)),this.buildShapes(),this.setValue(jt(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,s){s===void 0&&(s=this.toggleAnimDuration);var a=this.toggleAnimDuration;return this.toggleAnimDuration=s,this.value=t,this.toggleAnimDuration=a,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}};r(bT,"ToggleSwitchShape");let lf=bT;Object.assign(lf.prototype,jF);const EO=Phaser.Utils.Objects.GetValue,AT=class AT extends lf{constructor(t,s,a,x,P,n,T){super(t,s,a,x,P,n,T),this._click=new Ls(this,EO(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(EO(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}};r(AT,"ToggleSwitch");let _h=AT;rt.register("toggleSwitch",function(e,t,s,a,x,P){var n=new _h(this.scene,e,t,s,a,x,P);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.ToggleSwitch",_h);const CW={loadFromURL(e,t){var s=this,a=new Image;return a.onload=function(){s.width!==a.width||s.height!==a.height?s.resize(a.width,a.height):s.clear(),s.context.drawImage(a,0,0),s.updateTexture(),t&&t(),a.onload=null,a.src="",a.remove()},a.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(s,a){t.loadFromURL(e,s)})},loadFromFile(e,t){var s=URL.createObjectURL(e);return this.loadFromURL(s,function(){URL.revokeObjectURL(s),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(s,a){t.loadFromFile(e,s)})}},LT=class LT extends cr{};r(LT,"Canvas");let bs=LT;Object.assign(bs.prototype,CW);rt.register("canvas",function(e,t,s,a){var x=new bs(this.scene,e,t,s,a);return this.scene.add.existing(x),x});it(window,"RexPlugins.UI.Canvas",bs);const Bn=Phaser.Utils.Objects.GetValue,FT=class FT extends cr{constructor(t,s,a,x,P,n){super(t,s,a),this.type="rexCircleMaskImage",this.setTexture(x,P,n)}setTexture(t,s,a){typeof s=="object"&&(a=s,s=void 0),typeof a=="string"&&(a={maskType:a});var x=Bn(a,"maskType",0),P=Bn(a,"backgroundColor",void 0),n=Bn(a,"strokeColor",void 0),T=n!=null?10:0,i=Bn(a,"strokeWidth",T);if(x===void 0?x=0:typeof x=="string"&&(x=TW[x]),this._textureKey=t,this._frameName=s,x===null)return this.loadTexture(t,s),this.dirty=!0,this;var h=this.scene.sys.textures.getFrame(t,s);if(!h)return this;h.cutWidth!==this.width||h.cutHeight!==this.height?this.setCanvasSize(h.cutWidth,h.cutHeight):this.clear();var m=this.canvas,c=this.context,u=m.width,l=m.height;P!=null&&(c.fillStyle=P,c.fillRect(0,0,u,l)),c.save(),c.beginPath();var o=i/2;switch(x){case 1:var g=Math.floor(u/2),y=Math.floor(l/2),d=g-o,v=y-o;c.ellipse(g,y,d,v,0,0,2*Math.PI);break;case 2:var f=Bn(a,"radius",0),p=Bn(a,"iteration",void 0);PL(c,o,o,u-i,l-i,f,p);break;default:var g=Math.floor(u/2),y=Math.floor(l/2),C=Math.min(g,y)-o;c.arc(g,y,C,0,2*Math.PI);break}return n!=null&&(c.strokeStyle=n,c.lineWidth=i,c.stroke()),c.clip(),this.loadTexture(t,s),c.restore(),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}};r(FT,"CircleMaskImage");let uf=FT;const TW={circle:0,ellipse:1,roundRectangle:2};rt.register("circleMaskImage",function(e,t,s,a,x){var P=new uf(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.CircleMaskImage",uf);const oh=Phaser.Utils.Objects.GetValue,IT=class IT extends cr{constructor(t,s,a,x,P,n){super(t,s,a),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(x,P,n)}setTexture(t,s,a){typeof s=="object"&&(a=s,s=void 0),typeof a=="string"&&(a={mask:{key:a}});var x=oh(a,"mask.key"),P=oh(a,"mask.frame"),n=oh(a,"mask.invertAlpha",!1),T=oh(a,"mask.scale"),i=oh(a,"backgroundColor");if(x){this._maskKey=x,this._maskFrame=P,this._maskScale=T;var h=x?this.scene.sys.textures.get(x):null;this.maskFrame=h?h.get(P):null}this._textureKey=t,this._frameName=s;var m=this.maskFrame;if(m===null)return this.loadTexture(t,s),this.dirty=!0,this;var c=i!=null;this.loadTexture(t,s);var u=this.canvas,l=this.context,o=u.width,d=u.height;l.save(),l.globalCompositeOperation=n?"destination-out":"destination-in";var v,f;this._maskScale!=null?(v=m.cutWidth*this._maskScale,f=m.cutHeight*this._maskScale):(v=o,f=d);var p=(o-v)/2,g=(d-f)/2;return this.drawFrame(this._maskKey,this._maskFrame,p,g,v,f),l.restore(),c&&(l.save(),l.globalCompositeOperation="destination-over",l.fillStyle=i,l.fillRect(0,0,o,d),l.restore()),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}};r(IT,"AlphaMaskImage");let df=IT;rt.register("alphaMaskImage",function(e,t,s,a,x){var P=new df(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.AlphaMaskImage",df);const SW=Phaser.Math.RadToDeg,MO=Phaser.Math.DegToRad;var wO=r(function(e,t,s,a,x,P,n,T){var i=Math.abs(n-P)===360,h=MO(P),m=MO(n),c=Math.cos(h),u=Math.sin(h),l=Math.cos(m),o=Math.sin(m);return e.startAt(t+c*a,s+u*a),e.arc(t,s,a,P,n,T),i&&x===0||(e.lineTo(t+l*x,s+o*x),x>0&&e.arc(t,s,x,n,P,!T)),e.close(),e},"FillArc");const PW={buildShapes(){var e=this.iterations;this.addShape(new ve().setIterations(e).setName("track")).addShape(new ve().setIterations(e).setName("bar")).addShape(new Ze().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,s=this.radius,a=s-t,x=this.getShape("track");this.trackColor!=null&&this.thickness>0?(x.fillStyle(this.trackColor),wO(x,e,e,s,a,0,360,!1)):x.reset();var P=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,T,i;if(this.value===1)n=!1,T=0,i=360;else{n=this.anticlockwise,T=SW(this.startAngle);var h=360*(n?1-this.value:this.value);i=h+T}P.fillStyle(this.barColor),wO(P,e,e,s+1,a-1,T,i,!1)}else P.reset();var m=this.getShape("center");this.centerColor&&a>0?m.setCenterPosition(e,e).setRadius(a).fillStyle(this.centerColor):m.reset()}},Ri=Phaser.Utils.Objects.GetValue,EW=Phaser.Utils.Objects.IsPlainObject,MW=Phaser.Math.Clamp,wW=Phaser.Math.DegToRad(270);var Da;let my=(Da=class extends fr(ki){constructor(t,s,a,x,P,n,T){EW(s)&&(T=s,s=Ri(T,"x",0),a=Ri(T,"y",0),x=Ri(T,"radius",1),P=Ri(T,"barColor",void 0),n=Ri(T,"value",0)),x===void 0&&(x=1);var i=x*2;super(t,s,a,i,i),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(x),this.setTrackColor(Ri(T,"trackColor",void 0)),this.setBarColor(P),this.setCenterColor(Ri(T,"centerColor",void 0)),this.setThickness(Ri(T,"thickness",.2)),this.setStartAngle(Ri(T,"startAngle",wW)),this.setAnticlockwise(Ri(T,"anticlockwise",!1)),this.iterations=Ri(T,"iterations",128),this.buildShapes(),this.setValue(n)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=MW(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}},r(Da,"CircularProgress"),Da);Object.assign(my.prototype,PW);rt.register("circularProgress",function(e,t,s,a,x,P){var n=new my(this.scene,e,t,s,a,x,P);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.CircularProgress",my);var Zg=r(function(e,t,s,a,x,P,n,T,i,h,m,c){h===void 0&&(h=0),m===void 0&&(m=2*Math.PI),c===void 0&&(c=!1),t.beginPath(),t.ellipse(s,a,x,P,0,h,m,c),n!=null&&(t.fillStyle=n,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=i,t.stroke())},"DrawCircle");const RO=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],RW=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var qm={},OO;for(var Xu=0,OW=RO.length;Xu<OW;Xu++)OO=RO[Xu].toLowerCase(),qm[OO]=RW[Xu];var bW=r(function(e){return e=e.toLowerCase(),qm.hasOwnProperty(e)?qm[e]:null},"ColorNameToInteger"),_m=r(function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=bW(e)),e},"ColorStringToInteger");const AW=Phaser.Math.DegToRad,Jg=Phaser.Math.Linear;var LW=r(function(e,t,s,a,x,P,n,T,i,h,m,c,u){h===void 0&&(h=0),m===void 0&&(m=2*Math.PI),c===void 0&&(c=!1),u===void 0&&(u=2),n=_m(n),T=_m(T),hh=KR(n,hh),lh=KR(T,lh);var l=AW(u),o;c?o=h-m:o=m-h,o<0&&(o+=2*Math.PI);var d=Math.ceil(o/l),v=o/d;c&&(v=-v);for(var f=0;f<d;f++){var p=f/d,g=Math.round(Jg(hh.r,lh.r,p)),y=Math.round(Jg(hh.g,lh.g,p)),C=Math.round(Jg(hh.b,lh.b,p)),S=h+f*v,E=S+v;f<d-1&&(E+=v/2),t.beginPath(),t.ellipse(s,a,x,P,0,S,E,c),t.strokeStyle=`rgb(${g},${y},${C})`,t.lineWidth=i,t.stroke()}},"DrawGradientArc"),hh,lh,FW=r(function(e,t,s,a,x,P,n,T,i,h,m){i===void 0&&T!=null&&(i=2),t.font=P,t.textAlign=h,t.textBaseline=m,t.fillStyle=n,t.strokeStyle=T,t.lineWidth=i,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&i>0&&t.strokeText(x,s,a),n!=null&&n!=="none"&&t.fillText(x,s,a)},"DrawText");const jg=Phaser.Math.PI2;var IW=r(function(){var e=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,a=this.radius-t,x=this.canvas,P=this.context,n=this.anticlockwise,T=this.startAngle,i=this.endAngle,h=this._deltaAngle;if(this.trackColor&&t>0&&(P.save(),Zg(x,P,e,e,s,s,void 0,this.trackColor,t,T,i,n),P.restore()),this.barColor&&s>0){var m;this.value>=1?m=i:n?m=(T-h*this.value+jg)%jg:m=(T+h*this.value)%jg,P.save(),this.barColor2?LW(x,P,e,e,s,s,this.barColor2,this.barColor,t,T,m,n):Zg(x,P,e,e,s,s,void 0,this.barColor,t,T,m,n),P.restore()}if(this.centerColor&&a>0){var c;this.centerColor2?(c=this.context.createRadialGradient(e,e,0,e,e,a),c.addColorStop(0,this.centerColor),c.addColorStop(1,this.centerColor2)):c=this.centerColor,P.save(),Zg(x,P,e,e,a,a,c),P.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(P.save(),FW(x,P,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),P.restore())},"DrawContent$1");const Wt=Phaser.Utils.Objects.GetValue,DW=Phaser.Utils.Objects.IsPlainObject,BW=Phaser.Math.Clamp,GW=Phaser.Math.DegToRad(270),ff=Phaser.Math.PI2,DT=class DT extends fr(cr){constructor(t,s,a,x,P,n,T){DW(s)&&(T=s,s=Wt(T,"x",0),a=Wt(T,"y",0),x=Wt(T,"radius",1),P=Wt(T,"barColor",void 0),n=Wt(T,"value",0));var i=x*2,h=Wt(T,"resolution",1);super(t,s,a,i,i,h),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(x),this.setTrackColor(Wt(T,"trackColor",void 0)),this.setBarColor(P),this.setBarColor2(Wt(T,"barColor2",void 0)),this.setCenterColor(Wt(T,"centerColor",void 0)),this.setThickness(Wt(T,"thickness",.2)),this.setAnticlockwise(Wt(T,"anticlockwise",!1)),this.setStartAngle(Wt(T,"startAngle",GW));var m=Wt(T,"endAngle");m===void 0&&(this.anticlockwise?m=this.startAngle-ff:m=this.startAngle+ff),this.setEndAngle(Wt(T,"endAngle",m)),this.setTextColor(Wt(T,"textColor",void 0)),this.setTextStrokeColor(Wt(T,"textStrokeColor",void 0),Wt(T,"textStrokeThickness",void 0));var c=Wt(T,"textFont",void 0);c?this.setTextFont(c):this.setTextFont(Wt(T,"textSize","16px"),Wt(T,"textFamily","Courier"),Wt(T,"textStyle","")),this.setTextFormatCallback(Wt(T,"textFormatCallback",void 0),Wt(T,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=Qg(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=Qg(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=Qg(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=BW(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,s){return this.centerColor=t,this.centerColor2=s,this}get textColor(){return this._textColor}set textColor(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,s){return s===void 0&&(s=2),this.textStrokeColor=t,this.textStrokeThickness=s,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,s,a){var x;return s===void 0?x=t:x=a+" "+t+" "+s,this.textFont=x,this}setTextFormatCallback(t,s){return this.textFormatCallback=t,this.textFormatCallbackScope=s,this}updateTexture(){return super.updateTexture(function(){this.clear(),IW.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var s;return this.textFormatCallbackScope?s=this.textFormatCallback(t):s=this.textFormatCallback.call(this.textFormatCallbackScope,t),s}};r(DT,"CircularProgress");let lo=DT;var Qg=r(function(e,t,s){return s?e<=t?ff+e-t:e-t:e>=t?ff+t-e:t-e},"GetDeltaAngle");rt.register("circularProgressCanvas",function(e,t,s,a,x,P){var n=new lo(this.scene,e,t,s,a,x,P);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.CircularProgressCanvas",lo);var NW=r(function(){var e=this.skewX,t=this.width-Math.abs(e),s=this.height,a=this.getShape("trackFill");a.fillStyle(this.trackColor),a.isFilled&&qg(a,0,0,t,s,e);var x=this.getShape("bar");if(x.fillStyle(this.barColor),x.isFilled){var P,n;this.rtl?(P=t*(1-this.value),n=t):(P=0,n=t*this.value),qg(x,P,0,n,s,e)}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&qg(T,0,0,t,s,e)},"UpdateShapes$1"),qg=r(function(e,t,s,a,x,P){var n=(t+a)/2;return P>=0?e.startAt(n+P,s).lineTo(a+P,s).lineTo(a,x).lineTo(t,x).lineTo(t+P,s).lineTo(n+P,s):e.startAt(n,s).lineTo(a,s).lineTo(a-P,x).lineTo(t-P,x).lineTo(t,s).lineTo(n,s),e.close(),e},"BuildRectangle");const uh=Phaser.Utils.Objects.GetValue,_g=Phaser.Utils.Objects.IsPlainObject;var Ba;let pc=(Ba=class extends fr(ki){constructor(t,s,a,x,P,n,T,i){_g(s)?(i=s,s=i.x,a=i.y,x=i.width,P=i.height,n=i.barColor,T=i.value):_g(x)?(i=x,x=i.width,P=i.height,n=i.barColor,T=i.value):_g(n)&&(i=n,n=i.barColor,T=i.value),s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=2),P===void 0&&(P=x),T===void 0&&(T=0),super(t,s,a,x,P,i),this.type="rexLineProgress",this.bootProgressBase(i),this.addShape(new ve().setName("trackFill")).addShape(new ve().setName("bar")).addShape(new ve().setName("trackStroke")),this.setTrackColor(uh(i,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(uh(i,"trackStrokeThickness",2),uh(i,"trackStrokeColor",void 0)),this.setSkewX(uh(i,"skewX",0)),this.setRTL(uh(i,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}},r(Ba,"LineProgress"),Ba);var kW={updateShapes:NW};Object.assign(pc.prototype,kW);rt.register("lineProgress",function(e,t,s,a,x,P,n){var T=new pc(this.scene,e,t,s,a,x,P,n);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.LineProgress",pc);var tx=r(function(e,t,s,a,x){e.setIterations(x).start();var T=a.tl;if(Xt(T))if(T.convex){var P=T.x,n=T.y;e.ellipticalArc(P,n,T.x,T.y,180,270,!1)}else{var P=0,n=0;e.ellipticalArc(P,n,T.x,T.y,90,0,!0)}else e.lineTo(0,0);var T=a.tr;if(Xt(T))if(T.convex){var P=t-T.x,n=T.y;e.ellipticalArc(P,n,T.x,T.y,270,360,!1)}else{var P=t,n=0;e.ellipticalArc(P,n,T.x,T.y,180,90,!0)}else e.lineTo(t,0);var T=a.br;if(Xt(T))if(T.convex){var P=t-T.x,n=s-T.y;e.ellipticalArc(P,n,T.x,T.y,0,90,!1)}else{var P=t,n=s;e.ellipticalArc(P,n,T.x,T.y,270,180,!0)}else e.lineTo(t,s);var T=a.bl;if(Xt(T))if(T.convex){var P=T.x,n=s-T.y;e.ellipticalArc(P,n,T.x,T.y,90,180,!1)}else{var P=0,n=s;e.ellipticalArc(P,n,T.x,T.y,360,270,!0)}else e.lineTo(0,s);return e.close(),e},"BuildRoundRectangle"),Yu=Phaser.Math.RadToDeg,VW=r(function(e,t,s,a,x){var P=t*x,h=a.tl;if(Xt(h)){var n;P>h.x?n=90:n=Yu(Math.acos((h.x-P)/h.x));var T=h.x,i=h.y;e.ellipticalArc(T,i,h.x,h.y,180,180+n,!1)}else e.lineTo(0,0);var h=a.tr;if(Xt(h)&&P>t-h.x){var n=90-Yu(Math.acos((P-(t-h.x))/h.x)),T=t-h.x,i=h.y;e.ellipticalArc(T,i,h.x,h.y,270,270+n,!1)}else e.lineTo(P,0);var h=a.br;if(Xt(h)&&P>t-h.x){var n=90-Yu(Math.acos((P-(t-h.x))/h.x)),T=t-h.x,i=s-h.y;e.ellipticalArc(T,i,h.x,h.y,90-n,90,!1)}else e.lineTo(P,s);var h=a.bl;if(Xt(h)){var n;P>h.x?n=90:n=Yu(Math.acos((h.x-P)/h.x));var T=h.x,i=s-h.y;e.ellipticalArc(T,i,h.x,h.y,180-n,180,!1)}else e.lineTo(0,s)},"BuildRoundRectangleBarDirection0"),Wu=Phaser.Math.RadToDeg,zW=r(function(e,t,s,a,x){var P=s*x,h=a.tl;if(Xt(h)){var n;P>h.y?n=90:n=Wu(Math.acos((h.y-P)/h.y));var T=h.x,i=h.y;e.ellipticalArc(T,i,h.x,h.y,270-n,270,!1)}else e.lineTo(0,0);var h=a.tr;if(Xt(h)){var n;P>h.y?n=90:n=Wu(Math.acos((h.y-P)/h.y));var T=t-h.x,i=h.y;e.ellipticalArc(T,i,h.x,h.y,270,270+n,!1)}else e.lineTo(t,0);var h=a.br;if(Xt(h)&&P>s-h.y){var n=90-Wu(Math.acos((P-(s-h.y))/h.y)),T=t-h.x,i=s-h.y;e.ellipticalArc(T,i,h.x,h.y,0,0+n,!1)}else e.lineTo(t,P);var h=a.bl;if(Xt(h)&&P>s-h.y){var n=90-Wu(Math.acos((P-(s-h.y))/h.y)),T=h.x,i=s-h.y;e.ellipticalArc(T,i,h.x,h.y,180-n,180,!1)}else e.lineTo(0,P)},"BuildRoundRectangleBarDirection1"),Hu=Phaser.Math.RadToDeg,UW=r(function(e,t,s,a,x){var P=t*x,h=a.tr;if(Xt(h)){var n;P>h.x?n=90:n=Hu(Math.acos((h.x-P)/h.x));var T=t-h.x,i=h.y;e.ellipticalArc(T,i,h.x,h.y,360-n,360,!1)}else e.lineTo(t,0);var h=a.br;if(Xt(h)){var n;P>h.x?n=90:n=Hu(Math.acos((h.x-P)/h.x));var T=t-h.x,i=s-h.y;e.ellipticalArc(T,i,h.x,h.y,0,0+n,!1)}else e.lineTo(t,s);var h=a.bl;if(Xt(h)&&P>t-h.x){var n=90-Hu(Math.acos((P-(t-h.x))/h.x)),T=h.x,i=s-h.y;e.ellipticalArc(T,i,h.x,h.y,90,90+n,!1)}else e.lineTo(t-P,s);var h=a.tl;if(Xt(h)&&P>t-h.x){var n=90-Hu(Math.acos((P-(t-h.x))/h.x)),T=h.x,i=h.y;e.ellipticalArc(T,i,h.x,h.y,270-n,270,!1)}else e.lineTo(t-P,0)},"BuildRoundRectangleBarDirection2"),$u=Phaser.Math.RadToDeg,XW=r(function(e,t,s,a,x){var P=s*x,h=a.br;if(Xt(h)){P>h.y?i=90:i=$u(Math.acos((h.y-P)/h.y));var n=t-h.x,T=s-h.y;e.ellipticalArc(n,T,h.x,h.y,90-i,90,!1)}else e.lineTo(t,s);var h=a.bl;if(Xt(h)){P>h.y?i=90:i=$u(Math.acos((h.y-P)/h.y));var n=h.x,T=s-h.y;e.ellipticalArc(n,T,h.x,h.y,90,90+i,!1)}else e.lineTo(0,s);var h=a.tl;if(Xt(h)&&P>s-h.y){var i=90-$u(Math.acos((P-(s-h.y))/h.y)),n=h.x,T=h.y;e.ellipticalArc(n,T,h.x,h.y,180,180+i,!1)}else e.lineTo(0,s-P);var h=a.tr;if(Xt(h)&&P>s-h.y){var i=90-$u(Math.acos((P-(s-h.y))/h.y)),n=t-h.x,T=h.y;e.ellipticalArc(n,T,h.x,h.y,360-i,360,!1)}else e.lineTo(t,s-P)},"BuildRoundRectangleBarDirection3"),YW=r(function(e,t,s,a,x,P,n,T){if(e.setIterations(T).start(),x===0)return e;if(x===1)return tx(e,t,s,a,T);var i;return P===0?i=n?UW:VW:i=n?XW:zW,i(e,t,s,a,x),e.close(),e},"BuildRoundRectangleBar"),WW=r(function(){var e=this.width,t=this.height,s=this.rrGeom.cornerRadius,a=this.value,x=this.orientation,P=this.rtl,n=this.iteration+1,T=this.getShape("trackFill");T.fillStyle(this.trackColor),T.isFilled&&tx(T,e,t,s,n);var i=this.getShape("bar");i.fillStyle(this.barColor),i.isFilled&&YW(i,e,t,s,a,x,P,n);var h=this.getShape("trackStroke");h.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),h.isStroked&&tx(h,e,t,s,n)},"UpdateShapes"),HW={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},yn=r(function(e){return typeof e=="string"&&(e=HW[e]),e},"GetOrientationMode");const Gn=Phaser.Utils.Objects.GetValue,t0=Phaser.Utils.Objects.IsPlainObject,BT=class BT extends fr(ki){constructor(t,s,a,x,P,n,T,i,h){t0(s)?(h=s,s=h.x,a=h.y,x=h.width,P=h.height,n=h.radius,T=h.barColor,i=h.value):t0(x)?(h=x,x=h.width,P=h.height,n=h.radius,T=h.barColor,i=h.value):t0(n)&&(h=n,n=h.radius,T=h.barColor,i=h.value),s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=1),P===void 0&&(P=x),n===void 0&&(n=0),i===void 0&&(i=0),super(t,s,a,x,P,h),this.type="rexRoundRectangleProgress",this.rrGeom=new sy,this.bootProgressBase(h),this.addShape(new ve().setName("trackFill")).addShape(new ve().setName("bar")).addShape(new ve().setName("trackStroke")),this.setTrackColor(Gn(h,"trackColor",void 0)),this.setBarColor(T),this.setTrackStroke(Gn(h,"trackStrokeThickness",2),Gn(h,"trackStrokeColor",void 0)),this.setOrientation(Gn(h,"orientation",0)),this.setRTL(Gn(h,"rtl",!1)),this.setRadius(n),this.setIteration(Gn(n,"iteration",void 0)),this.setValue(i)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=yn(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};r(BT,"RoundRectangleProgress");let tl=BT;var $W={updateShapes:WW};Object.assign(tl.prototype,$W);rt.register("roundRectanleProgress",function(e,t,s,a,x,P,n,T){var i=new tl(this.scene,e,t,s,a,x,P,n,T);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.RoundRectangleProgress",tl);var KW=r(function(e,t){e.save(),e.beginPath();var s=t[0];e.moveTo(s.x,s.y);for(var a=1,x=t.length;a<x;a++)s=t[a],e.lineTo(s.x,s.y);e.closePath(),e.restore()},"AddPolygonPath"),e0=r(function(e,t,s,a,x,P,n){n===void 0&&(n="round"),KW(t,s),t.lineJoin=n,a!=null&&(t.fillStyle=a,t.fill()),x!=null&&(t.strokeStyle=x,t.lineWidth=P,t.stroke())},"DrawPolygon"),ZW=r(function(){var e=this.skewX,t=this.width-Math.abs(e),s=this.height,a=this.canvas,x=this.context;(this.trackColor||this.trackStrokeColor)&&bO(0,0,t,s,e,this.trackPoints);var P,n;if(this.barColor&&(this.rtl?(P=t*(1-this.value),n=t):(P=0,n=t*this.value),bO(P,0,n,s,e,this.barPoints)),this.trackColor&&(x.save(),e0(a,x,this.trackPoints,this.trackColor),x.restore()),this.barColor){x.save();var T;if(this.barColor2){var i;if(this.isHorizontalGradient){var h=s/2;i=x.createLinearGradient(P,h,n,h)}else{var m=t/2;i=x.createLinearGradient(m,0,m,s)}i.addColorStop(0,this.rtl?this.barColor:this.barColor2),i.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=i}else T=this.barColor;e0(a,x,this.barPoints,T),x.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(x.save(),e0(a,x,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),x.restore())},"DrawContent"),bO=r(function(e,t,s,a,x,P){P===void 0&&(P=[]),P.length=4;for(var n=0;n<4;n++)P[n]||(P[n]={});var T;return x>=0?(T=P[0],T.x=e+x,T.y=t,T=P[1],T.x=s+x,T.y=t,T=P[2],T.x=s,T.y=a,T=P[3],T.x=e,T.y=a):(T=P[0],T.x=e,T.y=t,T=P[1],T.x=s,T.y=t,T=P[2],T.x=s-x,T.y=a,T=P[3],T.x=e-x,T.y=a),P},"BuildPolygon");const ne=Phaser.Utils.Objects.GetValue,i0=Phaser.Utils.Objects.IsPlainObject,GT=class GT extends fr(cr){constructor(t,s,a,x,P,n,T,i){i0(s)?(i=s,s=ne(i,"x",0),a=ne(i,"y",0),x=ne(i,"width",2),P=ne(i,"height",2),n=ne(i,"barColor",void 0),T=ne(i,"value",0)):i0(x)?(i=x,x=ne(i,"width",2),P=ne(i,"height",2),n=ne(i,"barColor",void 0),T=ne(i,"value",0)):i0(n)&&(i=n,n=ne(i,"barColor",void 0),T=ne(i,"value",0));var h=ne(i,"resolution",1);super(t,s,a,x,P,h),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(i),this.setTrackColor(ne(i,"trackColor",void 0)),this.setBarColor(n,ne(i,"barColor2",void 0),ne(i,"isHorizontalGradient",void 0)),this.setTrackStroke(ne(i,"trackStrokeThickness",2),ne(i,"trackStrokeColor",void 0)),this.setSkewX(ne(i,"skewX",0)),this.setRTL(ne(i,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=mt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,s,a){return a===void 0&&(a=!0),this.barColor=t,this.barColor2=s,this.isHorizontalGradient=a,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),ZW.call(this)},this),this}};r(GT,"LineProgress");let el=GT;rt.register("circularProgressCanvas",function(e,t,s,a,x,P,n){var T=new el(this.scene,e,t,s,a,x,P,n);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.LineProgressCanvas",el);Phaser.Math.Wrap;const Nn=Phaser.Math.Linear;var JW=r(function(){var e=this.getShape("triangle"),t=this.padding,s=this.width-t.right,a=0+t.left,x=this.height-t.bottom,P=0+t.top,n=(a+s)/2,T=(P+x)/2,i={0:{a:{x:a,y:P},b:{x:s,y:T},c:{x:a,y:x}},1:{a:{x:a,y:P},b:{x:n,y:x},c:{x:s,y:P}},2:{a:{x:s,y:P},b:{x:a,y:T},c:{x:s,y:x}},3:{a:{x:a,y:x},b:{x:n,y:P},c:{x:s,y:x}}},h,m,c,u,l,o;if(this.previousDirection===void 0){var d=i[this.direction],v=d.a,f=d.b,p=d.c;h=v.x,m=v.y,c=f.x,u=f.y,l=p.x,o=p.y}else{var g=i[this.previousDirection],y=i[this.direction],C=this.easeDirectionProgress;h=Nn(g.a.x,y.a.x,C),m=Nn(g.a.y,y.a.y,C),c=Nn(g.b.x,y.b.x,C),u=Nn(g.b.y,y.b.y,C),l=Nn(g.c.x,y.c.x,C),o=Nn(g.c.y,y.c.y,C)}e.startAt(h,m).lineTo(c,u).lineTo(l,o),this.arrowOnly?e.end():e.close()},"DrawFitTriangle");const jW=Phaser.Math.DegToRad,Ku=jW(120);var QW=r(function(t){var t=this.getShape("triangle"),s=this.width/2,a=this.height/2,x=Math.min(s,a)*this.radius,P=this.verticeRotation;t.startAt(s+x*Math.cos(P+Ku),a+x*Math.sin(P+Ku)).lineTo(s+x*Math.cos(P),a+x*Math.sin(P)).lineTo(s+x*Math.cos(P-Ku),a+x*Math.sin(P-Ku)),this.arrowOnly?t.end():t.close()},"DrawCircleVerticesTriangle");const qW={buildShapes(){this.addShape(new ve().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?JW.call(this):QW.call(this)}},_W={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new ai(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},kn=Phaser.Utils.Objects.GetValue,tH=Phaser.Utils.Objects.IsPlainObject,eH=Phaser.Math.DegToRad,iH=Phaser.Math.RadToDeg,NT=class NT extends ki{constructor(t,s,a,x,P,n,T){var i,h,m,c,u,l,o,d;if(tH(s)){var v=s;s=v.x,a=v.y,x=v.width,P=v.height,n=v.color,T=v.alpha,i=v.strokeColor,h=v.strokeAlpha,m=v.strokeWidth,c=v.arrowOnly,u=v.direction,l=v.easeDuration,o=v.padding,d=v.radius}s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=1),P===void 0&&(P=x),c===void 0&&(c=!1),u===void 0&&(u=0),l===void 0&&(l=0),o===void 0&&(o=0),d===void 0&&(d=void 0),super(t,s,a,x,P),this.type="rexTriangle",this.setFillStyle(n,T),i!==void 0&&m===void 0&&(m=2),this.setStrokeStyle(m,i,h),this.setArrowOnly(c),this.setDirection(u,l),this.setPadding(o),this.setRadius(d),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=rH(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,s){return s!==void 0&&this.setEaseDuration(s),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,s,a,x){if(typeof t=="object"){var P=t,n=kn(P,"x",null);n!==null?(t=n,a=n):(t=kn(P,"left",0),a=kn(P,"right",t));var T=kn(P,"y",null);T!==null?(s=T,x=T):(s=kn(P,"top",0),x=kn(P,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),a===void 0&&(a=t),x===void 0&&(x=s);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=s||this.padding.right!=a||this.padding.bottom!=x,this.padding.left=t,this.padding.top=s,this.padding.right=a,this.padding.bottom=x,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return iH(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=eH(t)}setVerticeAngle(t){return this.verticeAngle=t,this}};r(NT,"Triangle");let jr=NT;const sH={right:0,down:1,left:2,up:3};var rH=r(function(e){return typeof e=="string"&&(e=sH[e]),e=e%4,e},"ParseDirection");Object.assign(jr.prototype,qW,_W);rt.register("triangle",function(e,t,s,a,x,P){var n=new jr(this.scene,e,t,s,a,x,P);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.Triangle",jr);var gc=r(function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer},"GetSizerConfig$1");function nH(e){return e===void 0&&(e=this),gc(e)}r(nH,"GetSizerConfig");var aH=r(function(e){var t=gc(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},"GetChildPrevState"),oH=r(function(e){return e===void 0&&(e=Uo(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this},"PushIntoBounds");const Qt=Phaser.Display.Align,Xo={center:Qt.CENTER,left:Qt.LEFT_CENTER,right:Qt.RIGHT_CENTER,top:Qt.TOP_CENTER,bottom:Qt.BOTTOM_CENTER,"left-top":Qt.TOP_LEFT,"top-left":Qt.TOP_LEFT,"left-center":Qt.LEFT_CENTER,"center-left":Qt.LEFT_CENTER,"left-bottom":Qt.BOTTOM_LEFT,"bottom-left":Qt.BOTTOM_LEFT,"center-top":Qt.TOP_CENTER,"top-center":Qt.TOP_CENTER,"center-center":Qt.CENTER,"center-bottom":Qt.BOTTOM_CENTER,"bottom-center":Qt.BOTTOM_CENTER,"right-top":Qt.TOP_RIGHT,"top-right":Qt.TOP_RIGHT,"right-center":Qt.RIGHT_CENTER,"center-right":Qt.RIGHT_CENTER,"right-bottom":Qt.BOTTOM_RIGHT,"bottom-right":Qt.BOTTOM_RIGHT};var ex=new Phaser.GameObjects.Zone({sys:{queueDepthSort:fe,events:{once:fe}}},0,0,1,1);ex.setOrigin(0);var Fs={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_CENTER:4,CENTER:6,RIGHT_CENTER:8,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},xy=r(function(e){var t=bt(e);return e.y+t-t*e.originY},"GetBottom"),yy=r(function(e){var t=Ot(e);return e.x-t*e.originX+t*.5},"GetCenterX"),Cy=r(function(e,t){var s=bt(e);return e.y=t-s+s*e.originY,e},"SetBottom"),Ty=r(function(e,t){var s=Ot(e),a=s*e.originX;return e.x=t+a-s*.5,e},"SetCenterX"),hH=r(function(e,t,s,a){return s===void 0&&(s=0),a===void 0&&(a=0),Ty(e,yy(t)+s),Cy(e,xy(t)+a),e},"BottomCenter"),Sy=r(function(e){var t=Ot(e);return e.x-t*e.originX},"GetLeft"),Py=r(function(e,t){var s=Ot(e);return e.x=t+s*e.originX,e},"SetLeft"),lH=r(function(e,t,s,a){return s===void 0&&(s=0),a===void 0&&(a=0),Py(e,Sy(t)-s),Cy(e,xy(t)+a),e},"BottomLeft"),Ey=r(function(e){var t=Ot(e);return e.x+t-t*e.originX},"GetRight"),My=r(function(e,t){var s=Ot(e);return e.x=t-s+s*e.originX,e},"SetRight"),uH=r(function(e,t,s,a){return s===void 0&&(s=0),a===void 0&&(a=0),My(e,Ey(t)+s),Cy(e,xy(t)+a),e},"BottomRight"),wy=r(function(e,t){var s=bt(e),a=s*e.originY;return e.y=t+a-s*.5,e},"SetCenterY"),dH=r(function(e,t,s){return Ty(e,t),wy(e,s)},"CenterOn"),Ry=r(function(e){var t=bt(e);return e.y-t*e.originY+t*.5},"GetCenterY"),fH=r(function(e,t,s,a){return s===void 0&&(s=0),a===void 0&&(a=0),dH(e,yy(t)+s,Ry(t)+a),e},"Center"),cH=r(function(e,t,s,a){return s===void 0&&(s=0),a===void 0&&(a=0),Py(e,Sy(t)-s),wy(e,Ry(t)+a),e},"LeftCenter"),vH=r(function(e,t,s,a){return s===void 0&&(s=0),a===void 0&&(a=0),My(e,Ey(t)+s),wy(e,Ry(t)+a),e},"RightCenter"),Oy=r(function(e){var t=bt(e);return e.y-t*e.originY},"GetTop"),by=r(function(e,t){var s=bt(e);return e.y=t+s*e.originY,e},"SetTop"),pH=r(function(e,t,s,a){return s===void 0&&(s=0),a===void 0&&(a=0),Ty(e,yy(t)+s),by(e,Oy(t)-a),e},"TopCenter"),gH=r(function(e,t,s,a){return s===void 0&&(s=0),a===void 0&&(a=0),Py(e,Sy(t)-s),by(e,Oy(t)-a),e},"TopLeft"),mH=r(function(e,t,s,a){return s===void 0&&(s=0),a===void 0&&(a=0),My(e,Ey(t)+s),by(e,Oy(t)-a),e},"TopRight"),cs=[];cs[Fs.BOTTOM_CENTER]=hH;cs[Fs.BOTTOM_LEFT]=lH;cs[Fs.BOTTOM_RIGHT]=uH;cs[Fs.CENTER]=fH;cs[Fs.LEFT_CENTER]=cH;cs[Fs.RIGHT_CENTER]=vH;cs[Fs.TOP_CENTER]=pH;cs[Fs.TOP_LEFT]=gH;cs[Fs.TOP_RIGHT]=mH;var QF=r(function(e,t,s,a,x){return cs[s](e,t,a,x)},"QuickSet"),_l=r(function(e,t,s,a,x,P){ex.setPosition(t,s).setSize(a,x),QF(e,ex,P)},"AlignIn");const Vn=Phaser.Utils.Objects.GetValue,xH=Phaser.GameObjects.Group,yH=Phaser.GameObjects.Container;var CH=r(function(e,t){var s=e.scene,a,x,P,n,T;if(typeof t=="number")a=t;else{a=Vn(t,"color"),x=Vn(t,"lineWidth");var i=Vn(t,"name",!1);i&&(P=Vn(i,"createTextCallback",TH),n=Vn(i,"createTextCallbackScope",void 0),T=Vn(i,"align","left-top"),typeof T=="string"&&(T=Xo[T]))}if(a===void 0&&(a=16777215),x===void 0&&(x=1),P&&!e.children){e.children=new xH(s),e.once("destroy",function(d,v){d.children.destroy(!v),d.children=void 0});var h=e.clear.bind(e);e.clear=function(){h(),e.children.clear(!1,!0)}}var m=this.getAllShownChildren([this]);qF(m,m);for(var c,u,l=0,o=m.length;l<o;l++){if(c=m[l],c.getBounds||c.width!==void 0&&c.height!==void 0)Rr=ay(c,Rr);else continue;a!=null&&e.lineStyle(x,a).strokeRectShape(Rr),c.name&&P&&(n?u=P.call(n,s):u=P(s),u&&(u.setText(c.name),e.children.add(u),_l(u,Rr.x,Rr.y,Rr.width,Rr.height,T)))}return this},"DrawBounds"),TH=r(function(e,t,s){return e.add.text(0,0,"")},"DefaultCreateTextCallback"),qF=r(function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var s=0,a=e.length;s<a;s++){var x=e[s];x instanceof yH&&(t.push(...x.list),qF(x.list,t))}return t},"GetP3ContainerChildren"),Rr=void 0;const SH=Ve.prototype.add;var tu=r(function(e){return SH.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this},"AddChild$1");const PH={addBackground(e,t,s){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(s=t,t=void 0),t===void 0&&(t=0),tu.call(this,e),this.backgroundChildren.push(e);var a=this.getSizerConfig(e);return a.padding=mn(t),s!==void 0&&this.addChildrenMap(s,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var sr=r(function(e,t){var s=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(s=e.rexContainer.parent,s?s.isRexSizer||(s=sr(s)):s=null);else for(s=sr(e);s&&s.name!==t;)s=sr(s);return s},"GetParent"),EH=r(function(e){for(var t=sr(e);t;)e=t,t=sr(t);return e},"GetTopmostParent");const Yo={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),sr(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),EH(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var s=sr(t);s;){if(s===e)return!0;s=sr(s)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},MH=Phaser.Utils.Array.Remove,wH=Ve.prototype.remove,AO=Yo.getParentSizer;var eu=r(function(e,t){for(var s=AO(e);s;)s.removeChildCallback&&s.removeChildCallback(e,t),s=AO(s);return this.isBackground(e)&&MH(this.backgroundChildren,e),wH.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this},"RemoveChild");const RH=Phaser.Utils.Array.Remove,OH=Yo.getParentSizer,bH={removeFromParentSizer(){var e=OH(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(RH(this.backgroundChildren,e),eu.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var LO=r(function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var s=e;for(e in s)this.childrenMap[e]=s[e]}return this},"AddChildrenMap"),AH=r(function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},"RemoveChildrenMap"),LH=r(function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var s=e.shift(),a=null;if(s.charAt(0)==="#")s=s.substring(1),a=this.getByName(s,t);else if(e.length===0&&t){var x=this.childrenMap;if(x)for(var P=[x],n;P.length;){x=P.shift();for(var T in x)if(n=x[T],T===s){a=n;break}else n&&typeof n=="object"&&n.childrenMap&&P.push(n.childrenMap);if(a)break}}else if(s.indexOf("[")===-1)this.childrenMap&&(a=this.childrenMap[s]);else{var i=s.match(FH);if(i!=null&&this.childrenMap){var h=this.childrenMap[i[1]];h&&(a=h[i[2]])}}return e.length===0?a:a&&a.childrenMap?a.getElement(e):null}},"GetElement");const FH=/(\S+)\[(\d+)\]/i;var IH=r(function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var s in this.sizerChildren)if(this.sizerChildre[s]===e)return s;return null}},"GetChildIndex");const DH={getInnerPadding(e){return Od(this.space,e)},setInnerPadding(e,t){return ir(this.space,e,t),this},getOuterPadding(e){return Od(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return ir(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),Od(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,s){return typeof e=="string"&&(e=this.getElement(e)),ir(this.getSizerConfig(e).padding,t,s),this}};var Ay=r(function(e){var t=this.childrenWidth;if(t!==void 0){var s=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(s,t),this.layoutWarnEnable&&s>0&&t>s&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(s>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) or childrenWidth (${t} > targetWidth ${e})`),e}},"ResolveWidth$3"),Ly=r(function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},"HasWidthWrap$2"),BH=r(function(e){var t,s,a;for(var x in this.sizerChildren)t=this.sizerChildren[x],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildWidth(t,e),a=t.resolveWidth(s),a===void 0&&(a=s),t.resolveChildrenWidth(a))},"ResolveChildrenWidth$1"),Fy=r(function(e){var t,s,a;for(var x in this.sizerChildren)t=this.sizerChildren[x],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(s=this.getExpandedChildWidth(t,e),t.isRexSizer?(a=t.resolveWidth(s),a===void 0&&(a=s)):a=s,t.runWidthWrap(a));return this},"RunWidthWrap$3"),Iy=r(function(e){var t=this.childrenHeight;if(t!==void 0){var s=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(s,t),this.layoutWarnEnable&&s>0&&t>s&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(s>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) or childrenHeight (${t}) > targetHeight (${e})`),e}},"ResolveHeight$3"),Dy=r(function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},"HasHeightWrap$2"),GH=r(function(e){var t,s,a;for(var x in this.sizerChildren)t=this.sizerChildren[x],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildHeight(t,e),a=t.resolveHeight(s),a===void 0&&(a=s),t.resolveChildrenHeight(a))},"ResolveChildrenHeight$1"),By=r(function(e){var t,s,a;for(var x in this.sizerChildren)t=this.sizerChildren[x],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(s=this.getExpandedChildHeight(t,e),t.isRexSizer?(a=t.resolveHeight(s),a===void 0&&(a=s)):a=s,t.runHeightWrap(a));return this},"RunHeightWrap$3"),NH=r(function(e){var t;if(e.isRexSizer){var s=e.childrenWidth;if(s==null)return;var a=e.minWidth*e.scaleX;t=Math.max(a,s)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=Ot(e);return t},"GetChildWidth"),kH=r(function(e){var t;if(e.isRexSizer){var s=e.childrenHeight;if(s===void 0)return;var a=e.minHeight*e.scaleY;t=Math.max(a,s)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=bt(e);return t},"GetChildHeight"),VH=r(function(e,t){return t},"GetExpandedChildWidth$4"),zH=r(function(e,t){return t},"GetExpandedChildHeight$4"),UH=r(function(){return 0},"GetChildrenWidth$5"),XH=r(function(){return 0},"GetChildrenHeight$5"),YH=r(function(e){e===void 0&&(e=[]);for(var t=e.length,s=this.getChildrenSizers(e),a=e.length,x=t;x<a;x++)s[x].getAllChildrenSizers(e);return e},"GetAllChildrenSizers"),WH=r(function(e){return e===void 0&&(e=[]),e},"GetChildrenSizers$5");const HH={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,s,a=0,x=t.length;a<x;a++)s=t[a],!(s.rexSizer&&s.rexSizer.hidden)&&e.push(s);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var s=t.shift();s.rexSizer&&s.rexSizer.hidden||(s!==this&&e.push(s),s.isRexContainerLite&&t.push(...s.children))}return e}};var iu=r(function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,s=0,a=e.length;s<a;s++)t=e[s],!t.ignoreLayout&&t.preLayout()},"PreLayout$4"),$H=r(function(){return this.runLayout(),this},"Layout"),KH=r(function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,s=FO.length;t<s;t++){var a=FO[t];if(a&&e instanceof a)return!1}return!0},"HasResizeMethod"),FO=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],ZH=r(function(e){if(e.displayWidth===void 0)return!1;for(var t=0,s=IO.length;t<s;t++){var a=IO[t];if(a&&e instanceof a)return!1}return!0},"CanSetDisplaySize"),IO=[Phaser.GameObjects.BitmapText],be=r(function(e,t,s){if(!(!e||t===void 0&&s===void 0))if(KH(e)){var a,x;t===void 0?a=e.width:a=t/e.scaleX,s===void 0?x=e.height:x=s/e.scaleY,e.resize?e.resize(a,x):e.setSize(a,x)}else{var P=ZH(e);t!==void 0&&(P?e.displayWidth=t:e.scaleX=t/e.width),s!==void 0&&(P?e.displayHeight=s:e.scaleY=s/e.height)}},"ResizeGameObject"),JH=r(function(e,t,s){if(this.ignoreLayout)return this;var a=!e;a&&this.preLayout();var x,P;a||e.runChildrenWrapFlag?(x=this.hasWidthWrap(),P=this.hasHeightWrap()):(x=!1,P=!1);var n=jH(this,t,s,x,P);n||console.error("Can't resolve size of ",this);var T=n.width,i=n.height;return be(this,T,i),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,T,i),a&&this._anchor&&this._anchor.updatePosition(),this},"RunLayout$1"),jH=r(function(e,t,s,a,x){var P=DO(e,t,a),n=QH(e,s,x);return P===void 0&&(P=DO(e,t,a)),P!==void 0&&n!==void 0?{width:P,height:n}:!1},"ResolveSize"),DO=r(function(e,a,s){var a=e.resolveWidth(a);return a!==void 0&&s&&(e.resolveChildrenWidth(a),e.runWidthWrap(a)),a},"ResolveWidth$2"),QH=r(function(e,a,s){var a=e.resolveHeight(a);return a!==void 0&&s&&(e.resolveChildrenHeight(a),e.runHeightWrap(a)),a},"ResolveHeight$2"),qH=r(function(){},"LayoutChildren$6"),_H=r(function(e,t,s){return this},"PostLayout"),t$=r(function(e,t,s,a){be(s,e,t)},"DefaultResizeCallback");const Zu=Phaser.Utils.Objects.GetValue,kT=class kT extends Nt{constructor(t,s){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(s)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var s,a;t.x!==void 0?(s=null,a=t.x):t.left!==void 0?(s=0,a=t.left):t.right!==void 0?(s=1,a=t.right):t.centerX!==void 0&&(s=.5,a=t.centerX);var x,P;t.y!==void 0?(x=null,P=t.y):t.top!==void 0?(x=0,P=t.top):t.bottom!==void 0?(x=1,P=t.bottom):t.centerY!==void 0&&(x=.5,P=t.centerY);var n,T;a!==void 0&&(a=a.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(a[0])/100,T=a[1]===""?0:parseFloat(a[1]));var i,h;P!==void 0&&(P=P.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),i=parseFloat(P[0])/100,h=P[1]===""?0:parseFloat(P[1]));var m=t.width,c,u;m!==void 0&&(m=m.split("%"),c=parseFloat(m[0])/100,u=m[1]===""?0:parseFloat(m[1]));var l=t.height,o,d;l!==void 0&&(l=l.split("%"),o=parseFloat(l[0])/100,d=l[1]===""?0:parseFloat(l[1])),this.setAlign(s,x),this.setPercentage(n,i),this.setOffset(T,h),this.setSizePercentage(c,o),this.setSizePadding(u,d);var v=Zu(t,"onResizeCallback",t$),f=Zu(t,"onResizeCallbackScope");this.setResizeCallback(v,f);var p=Zu(t,"onUpdateViewportCallback"),g=Zu(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(p,g),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,s){return this.alignX=t,this.alignY=s,this}setPercentage(t,s){return this.percentageX=t,this.percentageY=s,this}setOffset(t,s){return this.offsetX=t,this.offsetY=s,this}setSizePercentage(t,s){return this.percentageWidth=t,this.percentageHeight=s,this}setSizePadding(t,s){return this.paddingWidth=t,this.paddingHeight=s,this}setResizeCallback(t,s){return this.onResizeCallback=t,this.onResizeCallbackScope=s,this}setUpdateViewportCallback(t,s){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=s,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,s=this.onResizeCallbackScope,a=this.anchorWidth,x=this.anchorHeight;if(!(a===void 0&&x===void 0||!t)){var P=this.parent;a===void 0&&(a=P.width),x===void 0&&(x=P.height),s?t.call(s,a,x,P,this):t(a,x,P,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=Uo(this.scene,t,this.viewport);var s=this.viewport,a=this.onUpdateViewportCallback,x=this.onUpdateViewportCallbackScope;a&&(x?a.call(x,s,this.parent,this):a(s,this.parent,this))}};r(kT,"Anchor");let il=kT;var e$=r(function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),s=e.hasOwnProperty("height"),a=e.hasOwnProperty("onResizeCallback");return(t||s)&&!a&&(e.onResizeCallback=function(x,P,n){t&&n.setMinWidth(x),s&&n.setMinHeight(P),n.layout()}),this._anchor===void 0?this._anchor=new il(this,e):this._anchor.resetFromJSON(e),this},"SetAnchor");const i$=Phaser.Utils.Objects.GetValue,zn=Phaser.Utils.Objects.GetAdvancedValue,BO=Phaser.Math.Linear,VT=class VT extends ws{constructor(t,s){super(t,s),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(i$(t,"mode",0)),this.setScaleRange(zn(t,"start",void 0),zn(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=s$[t]),this.mode=t,this}setScaleRange(t,s){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=zn(t,"x",this.parent.scaleX),this.startY=zn(t,"y",this.parent.scaleY)),typeof s=="number"?(this.endX=s,this.endY=s):(this.endX=zn(s,"x",void 0),this.endY=zn(s,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var s=this.repeat;return this.mode===2&&s!==-1&&(s=(s+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(s),super.start(),this}updateTarget(t,s){var a=s.t;s.isOddIteration&&(a=1-a),a=this.easeFn(a),this.hasScaleX&&(t.scaleX=BO(this.startX,this.endX,a)),this.hasScaleY&&(t.scaleY=BO(this.startY,this.endY,a))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};r(VT,"Scale");let Qr=VT;const s$={stop:0,destroy:1,yoyo:2};var Gy=r(function(e,t,s,a,x){a===void 0&&(a="Cubic");var P,n;switch(s){case 0:case"x":P={x:0},n={x:e.scaleX};break;case 1:case"y":P={y:0},n={y:e.scaleY};break;default:P=0,n=e.scale;break}var T={mode:0,start:P,end:n,duration:t,ease:a};return x===void 0?x=new Qr(e,T):x.resetFromJSON(T),x.restart(),x},"PopUp$1"),_F=r(function(e,t,s,a,x,P){a===void 0&&(a="Linear"),x instanceof Qr&&(P=x,x=void 0),x===void 0&&(x=!0);var n={};switch(n.mode=x?1:0,s){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=a,P===void 0?P=new Qr(e,n):P.resetFromJSON(n),P.restart(),P},"ScaleDownDestroy"),r$=r(function(e,t,s,a,x,P,n){s===void 0&&(s=1.2),a===void 0&&(a=0),P===void 0&&(P="Cubic");var T,i;switch(x){case 0:case"x":T={x:e.scaleX},i={x:s};break;case 1:case"y":T={y:e.scaleX},i={y:s};break;default:T=e.scaleX,i=s;break}var h={mode:2,start:T,end:i,duration:t/2,ease:P,repeat:a};return n===void 0?n=new Qr(e,h):n.resetFromJSON(h),n.restart(),n},"Yoyo");const s0=Phaser.Utils.Objects.IsPlainObject,t3={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,s){if(s0(e)){var a=e;e=a.duration,t=a.orientation,s=a.ease}var x=this._scaleBehavior===void 0;return this._scaleBehavior=Gy(this,e,t,s,this._scaleBehavior),x&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,s){return this.popUp(e,t,s),Pe(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,s,a){if(s0(e)){var x=e;e=x.duration,t=x.orientation,s=x.ease,a=x.destroy}var P=this._scaleBehavior===void 0;return this._scaleBehavior=_F(this,e,t,s,a,this._scaleBehavior),P&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,s,a){return this.scaleDownDestroy(e,t,s,a),Pe(this._scaleBehavior)},scaleDown(e,t,s){return this.scaleDownDestroy(e,t,s,!1),this},scaleDownPromise(e,t,s){return this.scaleDown(e,t,s),Pe(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,s,a,x){if(s0(e)){var P=e;e=P.duration,t=P.peakValue,s=P.repeat,a=P.orientation,x=P.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=r$(this,e,t,s,a,x,this._scaleBehavior),n&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,s,a,x){return this.scaleYoyo(e,t,s,a,x),Pe(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var Ss={};Object.assign(Ss,t3);Ss.onInitScale=function(){t3.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var s=Yo.getParentSizer(e);s&&s.resetChildPositionState(e)})};const n$=Phaser.Utils.Objects.GetValue,GO=Phaser.Utils.Objects.GetAdvancedValue,a$=Phaser.Math.Linear;var Ga;let ix=(Ga=class extends ws{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(n$(t,"mode",0)),this.setAlphaRange(GO(t,"start",this.parent.alpha),GO(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=o$[t]),this.mode=t,this}setAlphaRange(t,s){return this.alphaStart=t,this.alphaEnd=s,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,s){var a=s.t;s.isOddIteration&&(a=1-a),t.alpha=a$(this.alphaStart,this.alphaEnd,a)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}},r(Ga,"Fade"),Ga);const o$={stop:0,destroy:1,yoyo:2},h$=Phaser.Utils.Objects.IsPlainObject;var mc=r(function(e,t,s,a){var x,P;h$(s)?(x=s.start,P=s.end):P=s,x===void 0&&(x=0),P===void 0&&(P=1);var n={mode:0,start:x,end:P,duration:t};return a===void 0?a=new ix(e,n):a.resetFromJSON(n),a.restart(),a},"FadeIn"),xc=r(function(e,t,s,a){s instanceof ix&&(a=s,s=void 0),s===void 0&&(s=!0);var x={mode:s?1:0,end:0,duration:t};return a===void 0?a=new ix(e,x):a.resetFromJSON(x),a.restart(),a},"FadeOutDestroy");const NO=Phaser.Utils.Objects.IsPlainObject,e3={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(NO(e)){var s=e;e=s.duration,t=s.alpha}var a=this._fade===void 0;return this._fade=mc(this,e,t,this._fade),a&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),Pe(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(NO(e)){var s=e;e=s.duration,t=s.destroy}var a=this._fade===void 0;return this._fade=xc(this,e,t,this._fade),a&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),Pe(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),Pe(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var sl={};Object.assign(sl,e3);sl.onInitFade=function(){e3.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var s=Yo.getParentSizer(e);s&&s.resetChildAlphaState(e)})};const l$=Phaser.Utils.Objects.GetValue,Un=Phaser.Utils.Objects.GetAdvancedValue,kO=Phaser.Math.Linear,zT=class zT extends ws{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(l$(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var s=Un(t,"x",void 0),a=Un(t,"y",void 0);this.setTargetPosition(s,a)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=u$[t]),this.mode=t,this}setTargetPosition(t,s){if(typeof t=="number"||typeof s=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=s;else{var a=t;this.startX=Un(a,"startX",void 0),this.startY=Un(a,"startY",void 0),this.endX=Un(a,"endX",void 0),this.endY=Un(a,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,s){var a=s.t;s.isOddIteration&&(a=1-a),a=this.easeFn(a),this.hasMoveX&&(t.x=kO(this.startX,this.endX,a)),this.hasMoveY&&(t.y=kO(this.startY,this.endY,a))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};r(zT,"EaseMove");let uo=zT;const u$={stop:0,destroy:1,yoyo:2};var cf=r(function(e,t){if(typeof e=="number")return e;var s=e[0],a=parseFloat(e.substr(2));switch(s){case"+":return t+a;case"-":return t-a;case"*":return t*a;case"/":return t/a}},"ParseValue"),i3=r(function(e,t,s,a,x,P,n){P instanceof uo&&(n=P,P=void 0),P===void 0&&(P=!1);var T={};return T.mode=P?1:0,s!==void 0&&(T.startX=e.x,T.endX=cf(s,e.x)),a!==void 0&&(T.startY=e.y,T.endY=cf(a,e.y)),T.duration=t,T.ease=x===void 0?"Linear":x,n===void 0?n=new uo(e,T):n.resetFromJSON(T),n.restart(),n},"EaseMoveTo"),s3=r(function(e,t,s,a,x,P,n){P instanceof uo&&(n=P,P=void 0),P===void 0&&(P=!1);var T={};return T.mode=P?1:0,s!==void 0&&(T.startX=cf(s,e.x),T.endX=e.x),a!==void 0&&(T.startY=cf(a,e.y),T.endY=e.y),T.duration=t,T.ease=x===void 0?"Linear":x,n===void 0?n=new uo(e,T):n.resetFromJSON(T),n.restart(),n},"EaseMoveFrom");const VO=Phaser.Utils.Objects.IsPlainObject,zO=Phaser.Math.Distance.Between,r3={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,s,a,x){if(VO(e)){var P=e;t=P.x,s=P.y,P.hasOwnProperty("speed")?e=zO(t,s,this.x,this.y)*1e3/P.speed:e=P.duration,a=P.ease}var n=this._easeMove===void 0;return this._easeMove=s3(this,e,t,s,a,x,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,s,a,x){return this.moveFrom(e,t,s,a,x),Pe(this._easeMove)},moveFromDestroy(e,t,s,a){return this.moveFrom(e,t,s,a,!0),this},moveFromDestroyPromise(e,t,s,a){return this.moveFromDestroy(e,t,s,a),Pe(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,s,a,x){if(VO(e)){var P=e;t=P.x,s=P.y,P.hasOwnProperty("speed")?e=zO(t,s,this.x,this.y)*1e3/P.speed:e=P.duration,a=P.ease}var n=this._easeMove===void 0;return this._easeMove=i3(this,e,t,s,a,x,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,s,a,x){return this.moveTo(e,t,s,a,x),Pe(this._easeMove)},moveToDestroy(e,t,s,a){return this.moveTo(e,t,s,a,!0),this},moveToDestroyPromise(e,t,s,a){return this.moveToDestroy(e,t,s,a,!0),Pe(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var yc={};Object.assign(yc,r3);yc.onInitEaseMove=function(){r3.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var s=Yo.getParentSizer(e);s&&s.resetChildPositionState(e)})};const fi=Phaser.Utils.Objects.GetValue,UT=class UT extends io{constructor(t,s){super(t,s),this.timer=new YL,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(fi(t,"timer")),this.setEnable(fi(t,"enable",!0)),this.setMode(fi(t,"mode",1)),this.isRunning=fi(t,"isRunning",!1),this.setMagnitudeMode(fi(t,"magnitudeMode",1)),this.setAxisMode(fi(t,"axis",0)),this.setDuration(fi(t,"duration",500)),this.setMagnitude(fi(t,"magnitude",10)),this.ox=fi(t,"ox",void 0),this.oy=fi(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=d$[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=c$[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=f$[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,s){if(typeof t!="number"){var a=t;s=fi(a,"magnitude",void 0),t=fi(a,"duration",void 0)}return s!==void 0&&this.setMagnitude(s),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,s){return this.start(t,s),this}update(t,s){if(!this.isRunning||!this.enable)return this;var a=this.parent;if(!a.active)return this;if(this.timer.update(t,s),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=a.x,this.oy=a.y);var x=this.magnitude;this.magnitudeMode===1&&(x*=1-this.timer.t);var P=Math.random()*Math.PI*2,n=this.ox+Math.cos(P)*x,T=this.oy+Math.sin(P)*x;switch(this.axisMode){case 1:a.x=n;break;case 2:a.y=T;break;default:a.x=n,a.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}};r(UT,"ShakePosition");let rl=UT;const d$={effect:0,behavior:1},f$={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},c$={constant:0,decay:1},v$=Phaser.Utils.Objects.IsPlainObject;var p$=r(function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})},"OnInitShake");const g$={shake(e,t,s){if(v$(e)){var a=e;e=a.duration,t=a.magnitude,s=a.magnitudeMode}return this._shake===void 0&&(this._shake=new rl(this,{mode:0,magnitudeMode:1}),p$(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),s!==void 0&&this._shake.setMagnitudeMode(s),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),Pe(this._shake)}},UO=Phaser.Utils.Objects.IsPlainObject,XT=class XT extends Nt{constructor(t,s){super(t,s),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var s=this.easeTasks[t];return s===void 0&&(s=new ai(this.parent),this.easeTasks[t]=s,s.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),s}easeTo(t,s,a,x){if(UO(t)){var P=t;t=P.key,s=P.value,a=P.duration,x=P.ease;var n=P.speed;a===void 0&&n!==void 0&&(a=Math.abs(s-this.parent.data.values[t])/n*1e3)}a===void 0&&(a=1e3),x===void 0&&(x="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:s,duration:a,ease:x}),this}easeFrom(t,s,a,x){if(UO(t)){var P=t;t=P.key,s=P.value,a=P.duration,x=P.ease;var n=P.speed;a===void 0&&n!==void 0&&(a=Math.abs(s-this.parent.data.values[t])/n*1e3)}a===void 0&&(a=1e3),x===void 0&&(x="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:s,duration:a,ease:x}),this}stopEase(t,s){s===void 0&&(s=!0);var a=this.easeTasks[t];return a&&a.stop(s),this}stopAll(t){t===void 0&&(t=!0);for(var s in this.easeTasks)this.stopEase(s,t);return this}};r(XT,"EaseData");let sx=XT;var m$=r(function(e,t){t.on("complete",function(s){e.emit(`easedata.${s}.complete`,e),e.emit("easedata.complete",s,e)})},"OnInitEaseData");const x$={easeDataTo(e,t,s,a){return this._easeData||(this._easeData=new sx(this),m$(this,this._easeData)),this._easeData.easeTo(e,t,s,a),this},easeDataToPromise(e,t,s,a){return this.easeDataTo(e,t,s,a),cc(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var y$=Phaser.Utils.Array.Remove,C$=r(function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,s=0,a=t.length;s<a;s++)t[s].remove();e._delayCallTimers=void 0})},"OnInitDelayCallTimers");const n3={delayCall(e,t,s){var a=this._delayCallTimers;a===void 0&&C$(this);var x,P=this,n=r(function(){y$(P._delayCallTimers,x),s?t.call(s):t()},"OnTimeOut");return x=this.scene.time.delayedCall(e,n),this._delayCallTimers.push(x),this}};var qs=r(function(e){a3(e,!1)},"Show"),_s=r(function(e){a3(e,!0)},"Hide"),Ny=r(function(e){if(!e)return!1;var t=gc(e);return!t.hidden},"IsShown"),a3=r(function(e,t){if(e){var s=gc(e);s.hidden=t;var a=ni(e);a?a.setChildVisible(e,!t):e.setVisible(!t)}},"_hide");const T$={show(e){return e===void 0&&(e=this),qs(e),this},hide(e){return e===void 0&&(e=this),_s(e),this},isShow(e){return e===void 0&&(e=this),Ny(e)}},S$=["next","exit","enter"];var Na;let o3=(Na=class{constructor(t){var s=At(t,"states",void 0);s&&this.addStates(s);var a=At(t,"extend",void 0);if(a)for(var x in a)(!this.hasOwnProperty(x)||this[x]===void 0)&&(this[x]=a[x]);var P=At(t,"eventEmitter",void 0),n=At(t,"EventEmitterClass",void 0);this.setEventEmitter(P,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(At(t,"enable",!0)),this.start(At(t,"start",void 0));var s=At(t,"init",void 0);return s&&s.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var s="exit_"+this._prevState,a=this[s];a&&a.call(this),this.emit(s,this)}if(this._stateLock=!1,this._state!=null){var x="enter_"+this._state,P=this[x];P&&P.call(this),this.emit(x,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,s=this["next_"+this.state];return s&&(typeof s=="string"?t=s:t=s.call(this)),this.goto(t),this}get stateProperties(){return S$}addState(t,s){typeof t!="string"&&(s=t,t=s.name);for(var a=this.stateProperties,x=0,P=a.length;x<P;x++){var n=a[x],T=s[n];T&&(this[`${n}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var s=0,a=t.length;s<a;s++)this.addState(t[s]);else for(var x in t)this.addState(x,t[x]);return this}runMethod(t,s,a,x,P,n){var T=this[t+"_"+this.state];if(T){var i=arguments.length;switch(i){case 1:return T.call(this);case 2:return T.call(this,s);case 3:return T.call(this,s,a);case 4:return T.call(this,s,a,x);case 5:return T.call(this,s,a,x,P);case 6:return T.call(this,s,a,x,P,n)}for(var h=new Array(i-1),m=1;m<i;m++)h[m-1]=arguments[m];return T.apply(this,h)}}},r(Na,"FSM"),Na);Object.assign(o3.prototype,DF);var r0=r(function(e,t,s,a,x){x===void 0&&(x=!1);var P=e._events[t];if(!P)return!1;for(var n=0,T=P.length;n<T;n++){var i=P[n];if(i.fn===s&&i.context===a&&i.once===x)return!0}return!1},"HasListener");const P$=["next","exit","enter","update","preupdate","postupdate"],YT=class YT extends o3{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=At(t,"scene",void 0),this}get stateProperties(){return P$}update(t,s){this.runMethod("update",t,s)}preupdate(t,s){this.runMethod("preupdate",t,s)}postupdate(t,s){this.runMethod("postupdate",t,s)}startUpdate(t){t||(t=this._scene);var s=t.sys.events;return r0(s,"update",this.update,this)?this:(this._scene=t,s.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var s=t.sys.events;return r0(s,"preupdate",this.preupdate,this)?this:(this._scene=t,s.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var s=t.sys.events;return r0(s,"postupdate",this.postupdate,this)?this:(this._scene=t,s.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}};r(YT,"FSM");let Vi=YT;var ka;let E$=(ka=class extends Vi{constructor(t,s){super(s),this.parent=t;var a=s.initState||"IDLE";this.start(a)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var s=t.runTransitionInCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var s=t.runTransitionOutCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}},r(ka,"State"),ka);var M$=r(function(e,t,s,a,x){var P=Vo(e),n=P.time.delayedCall(t,function(){P.game.events.once("poststep",function(){s.call(a,x)})});return n},"PostStepDelayCall");const w$={delayCall(e,t,s){return this.delayCallTimer=M$(this,e,t,s),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},R$={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=fe),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=fe),this.transitOutCallback=e,this}},O$={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var s=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=s,this}},b$={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var s=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=s,this}};var h3={};Object.assign(h3,w$,R$,O$,b$);const Xn=Phaser.Utils.Objects.GetValue,WT=class WT extends Nt{constructor(t,s){super(t,s),this.setTransitInTime(Xn(s,"duration.in",200)),this.setTransitOutTime(Xn(s,"duration.out",200)),this.setTransitInCallback(Xn(s,"transitIn")),this.setTransitOutCallback(Xn(s,"transitOut")),this.oneShotMode=Xn(s,"destroy",!1),this.delayCallTimer=void 0,this._state=new E$(this,{eventEmitter:!1,initState:Xn(s,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}};r(WT,"OpenCloseTransition");let fo=WT;Object.assign(fo.prototype,h3);const A$=Phaser.GameObjects.Rectangle,HT=class HT extends A${constructor(t,s,a){super(t,0,0,2,2,s,1),this.fullWindow=new af(this),this.setAlpha(a)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}};r(HT,"FullWindowRectangle");let nl=HT;const n0=Phaser.Utils.Objects.GetValue,$T=class $T extends Nt{constructor(t,s){super(t,{eventEmitter:!1}),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setHitAreaMode(n0(t,"hitAreaMode",0)),this.setEnable(n0(t,"enable",!0)),this.setStopMode(n0(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,s,a,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointerup",function(t,s,a,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointermove",function(t,s,a,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointerover",function(t,s,a,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointerout",function(t,s){this.stopAllLevels&&s.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=L$[t]);var s=this.parent;return s.input&&s.removeInteractive(),t===0?s.setInteractive():s.setInteractive({hitArea:{},hitAreaCallback:r(function(){return!0},"hitAreaCallback")}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}};r($T,"TouchEventStop");let co=$T;var L$={default:0,fullWindow:1};const XO=Phaser.Utils.Objects.GetValue,KT=class KT extends nl{constructor(t,s){var a=XO(s,"color",0),x=XO(s,"alpha",.8);super(t,a,x),this.touchEventStop=new co(this,{hitAreaMode:1})}};r(KT,"Cover");let al=KT;var F$=r(function(e,t){var s=e.scene,a=new al(s,t);return s.add.existing(a),e.isRexContainerLite?(e.pin(a,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(a)):s.children.moveBelow(a,e),a},"CreateCover");const Ju={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,Gy(e,t)},scaleDown(e,t){_F(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,mc(e,t)},fadeOut(e,t){xc(e,t,!1)}};var I$=r(function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,mc(e,t,e.alpha)},"DefaultCoverTransitInCallback"),D$=r(function(e,t){xc(e,t,!1)},"DefaultCoverTransitOutCallback"),Cc=r(function(e,t,s,a,x){if(!e||a&&!a(e,t,s))return!1;var P=ay(e,!0);return!(!P.contains(t,s)||x&&!x(e,t,s))},"IsPointInBounds");const $i=Phaser.Utils.Objects.GetValue;var Va;let B$=(Va=class extends fo{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=zs.popUp),s.transitOut==null&&(s.transitOut=zs.scaleDown),s.destroy=$i(s,"destroy",!0),super(t,s);var a=$i(s,"cover");this.cover=a!==!1?F$(t,a):void 0,this.cover&&(this.setCoverTransitInCallback($i(a,"transitIn",I$)),this.setCoverTransitOutCallback($i(a,"transitOut",D$)));var x=$i(s,"touchOutsideClose",!1),P=$i(s,"duration.hold",-1),n=$i(s,"timeOutClose",P>=0),T=$i(s,"anyTouchClose",!1),i=$i(s,"manualClose",!1);i&&(x=!1,T=!1,n=!1),T&&(x=!1),n?this.setDisplayTime(P):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):x&&this.once("open",this.touchOutsideClose,this),$i(s,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Cc(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),s=this.cover;return s&&this.coverTransitInCallback&&this.coverTransitInCallback(s,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),s=this.cover;return s&&this.coverTransitOutCallback&&this.coverTransitOutCallback(s,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=zs[t]),t){case zs.popUp:t=Ju.popUp;break;case zs.fadeIn:t=Ju.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=zs[t]),t){case zs.scaleDown:t=Ju.scaleDown;break;case zs.fadeOut:t=Ju.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}},r(Va,"Modal"),Va);const zs={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var ky=r(function(e,t){var s=new B$(e,t);return s.on("open",function(){e.emit("modal.open",s)}),s.on("close",function(a){e.emit("modal.close",a,s)}),e.on("modal.requestClose",s.requestClose,s),s},"Modal$2"),G$=r(function(e,t){var s=ky(e,t);return new Promise(function(a,x){s.once("close",function(P){a(P)})})},"ModalPromise"),l3=r(function(e,t){e.emit("modal.requestClose",t)},"ModalClose"),zi=r(function(e){return e&&typeof e=="function"},"IsFunction");const Tc={modal(e,t){return zi(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=ky(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(s,a){t.modal(e,s)})},modalClose(e){return l3(this,e),this}};var N$=r(function(e,t,s,a,x,P){return P===void 0&&(P=!1),t[P?"once":"on"](s,a,x),e.once("destroy",function(){t.off(s,a,x)}),e},"BindEventWithGameObject"),ms=r(function(e,t,s,a,x){zi(t)&&(x=a,a=s,s=t,t=this);var P=this.scene.events;return this.bindEvent(t,P,e,s,a,x),this},"BindSceneEvent");const k$={bindEvent(e,t,s,a,x,P){return typeof t=="string"&&(P=x,x=a,a=s,s=t,t=e,e=this),N$(e,t,s,a,x,P),this},bindScenePreupdateEvent(e,t,s,a){return ms.call(this,"preupdate",e,t,s,a),this},bindSceneUpdateEvent(e,t,s,a){return ms.call(this,"update",e,t,s,a),this},bindScenePostupdateEvent(e,t,s,a){return ms.call(this,"postupdate",e,t,s,a),this},bindSceneRenderEvent(e,t,s,a){return ms.call(this,"render",e,t,s,a),this},bindScenePauseEvent(e,t,s,a){return ms.call(this,"pause",e,t,s,a),this},bindSceneResumeEvent(e,t,s,a){return ms.call(this,"resume",e,t,s,a),this},bindSceneSleepEvent(e,t,s,a){return ms.call(this,"sleep",e,t,s,a),this},bindSceneWakeEvent(e,t,s,a){return ms.call(this,"wake",e,t,s,a),this},bindSceneShutdownEvent(e,t,s,a){return ms.call(this,"shutdown",e,t,s,a),this}};var vf=r(function(e,t,s){var a=e.camera;return a?(s===void 0?s={}:s===!0&&(s=V$),a===t?(s.x=e.worldX,s.y=e.worldY):a.getWorldPoint(e.x,e.y,s),s):null},"GetPointerWorldXY"),V$={},z$=r(function(e,t,s,a,x){var P=e.scene.sys.cameras.main,n,T=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return T?s(e,t.x,t.y,a,x):(n=vf(t,P,!0),n?s(e,n.x,n.y,a,x):!1);for(var i=e.scene.input.manager,h=i.pointersTotal,m=i.pointers,c=0;c<h;c++)if(t=m[c],T){if(s(e,t.x,t.y,a,x))return!0}else{if(n=vf(t,P,!0),!n)continue;if(s(e,n.x,n.y,a,x))return!0}return!1},"PointerTest"),ns=r(function(e,t,s,a){return z$(e,t,Cc,s,a)},"IsPointerInBounds"),U$=r(function(e,t){return(Ke(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),ns(t,e)},"IsInTouching"),Ui=r(function(e){return Object.prototype.toString.call(e)==="[object Array]"},"IsArray"),qr=r(function(e,t,s,a,x){return Cc(e,t,s,X$(a),x)},"ContainsPoint$1"),YO=r(function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},"IsShownSizer"),X$=r(function(e){return e?function(t,s,a){return YO(t)?(e(t,s,a),!0):!1}:YO},"GetPreTestCallback"),u3=r(function(e,t,s,a,x){if(zi(s)||(x=s,s=void 0,a=void 0),x===void 0&&(this.sizerChildren?x=this.sizerChildren:this.isRexContainerLite?x=this.children:x=this.list),Ui(x)){for(var P,n=0,T=x.length;n<T;n++)if(P=x[n],qr(P,e,t,s,a))return P}else{var P;for(var i in x)if(P=x[i],qr(P,e,t,s,a))return P}return null},"PointToChild$2"),Y$=r(function(e,t){return t===void 0?t={}:t===!0&&(t=W$),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},"CopyState"),W$={},su=r(function(e){this.sizerEventsEnable&&(Y$(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},"PreLayoutChild"),ru=r(function(e,t,s,a,x,P,n,T){n===void 0&&(n=0),T===void 0&&(T=0),_l(e,t,s,a,x,P),e.x+=n,e.y+=T,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)},"LayoutChild");const H$=Phaser.Display.Align.CENTER;var $$=r(function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,s=this.top,a=this.width*this.scaleX,x=this.height*this.scaleY,P,n,T,i,h,m,c,u=0,l=e.length;u<l;u++)P=e[u],n=P.rexSizer,!n.hidden&&(T=n.padding,su.call(this,P),i=t+T.left*this.scaleX,h=s+T.top*this.scaleY,m=a-(T.left+T.right)*this.scaleX,c=x-(T.top+T.bottom)*this.scaleY,be(P,m,c),ru.call(this,P,i,h,m,c,H$,0,0))},"LayoutBackgrounds");const K$=Phaser.Utils.Objects.IsPlainObject;var Z$=r(function(e,t,s){if(K$(e)){var a=e;e=a.sensor,s=a.target,t=a.draggable}else typeof t!="boolean"&&(s=t,t=void 0);var x=typeof e;if(x==="string"){var P=e;if(e=this.getElement(P),!e)return console.error(`Can get element '${P}'`),this}else(e===void 0||x!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(n,T,i){var h=s===void 0?this.getTopmostSizer():s;h.x+=T-e.x,h.y+=i-e.y,h.emit("sizer.drag",n,T,i)},this).on("dragstart",function(n,T,i){var h=s===void 0?this.getTopmostSizer():s;h.emit("sizer.dragstart",n,T,i)},this).on("dragend",function(n,T,i,h){var m=s===void 0?this.getTopmostSizer():s;m.emit("sizer.dragend",n,T,i,h)},this).on("drop",function(n,T){var i=s===void 0?this.getTopmostSizer():s;i.emit("sizer.drop",n,T)}),e.input._rexUIDragSizer=!0),this},"SetDraggable");const Vy={onClick(e,t,s,a){return e?(typeof e=="function"&&(a=s,s=t,t=e,e=this),e._click===void 0&&(e._click=new Ls(e,a)),e._click.on("click",t,s),this):this},offClick(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,s),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},dh=Phaser.Utils.Objects.GetValue,ZT=class ZT extends Nt{constructor(t,s){super(t,s),this._enable=void 0;var a=dh(s,"inputConfig",void 0);a&&t.setInteractive(a),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(dh(t,"enable",!0)),this.setMode(dh(t,"mode",1)),this.setClickInterval(dh(t,"clickInterval",100)),this.setDragThreshold(dh(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var s=this.parent.scene;s.input.off("pointerdown",this.onPress,this),s.input.off("pointerup",this.onRelease,this),s.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=J$[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var s=this.parent,a=s.input?vy:ns;return a(s,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,s,a,x){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,s){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,s),this;this.pointer=void 0;var a=this.lastClickTime;return a!==void 0&&t-a<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,s),this)}cancel(){return this.pointer=void 0,this}};r(ZT,"ClickOutside");let ol=ZT;const J$={press:0,pointerdown:0,release:1,pointerup:1},j$={onClickOutside(e,t,s,a){return e?(typeof e=="function"&&(a=s,s=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new ol(e,a)),e._clickOutside.on("clickoutside",t,s),this):this},offClickOutside(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,s),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}},JT=class JT extends Vi{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,s){this.remainderTime-=s,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>s?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}};r(JT,"Cooldown");let rx=JT;const a0=Phaser.Utils.Objects.GetValue,jT=class jT extends Nt{constructor(t,s){super(t,s),this._enable=void 0,this.cooldown=new rx,this.parent.setInteractive(a0(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(a0(t,"enable",!0)),this.setCooldown(a0(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,s,a){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,s){this.cooldown.update(t,s),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}};r(jT,"InTouching");let lr=jT;const Q$={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?ns(e):!1},onTouching(e,t,s,a){return e?(typeof e=="function"&&(a=s,s=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new lr(e,a)),e._inTouching.on("intouch",t,s),this):this},offTouching(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,s),this)},onTouchingEnd(e,t,s,a){return e?(typeof e=="function"&&(a=s,s=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new lr(e,a)),e._inTouching.on("touchend",t,s),this):this},offTouchingEnd(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,s),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},q$={onOver(e,t,s){return e?(typeof e=="function"&&(s=t,t=e,e=this),e.setInteractive().on("pointerover",t,s),this):this},onOut(e,t,s){return e?(typeof e=="function"&&(s=t,t=e,e=this),e.setInteractive().on("pointerout",t,s),this):this}};var d3=r(function(e,t,s,a){if(e==="parent"){for(var x,P=0,n=t.length;P<n;P++)if(x=t[P],!!qr(x,s,a))return x.pointToChild?x.pointToChild(s,a):u3.call(x,s,a)}else for(var P=0,n=t.length;P<n;P++){var T=t[P];if(qr(T,s,a))return T}return null},"ContainsPoint"),Si=r(function(e,t,s,a,x,P,n,T){var i;if(P===void 0)i=x;else{var h=s[0];if(!h)return;var m=n.camera,c=x+m.scrollX*(h.scrollFactorX-1),u=P+m.scrollY*(h.scrollFactorY-1);i=d3(a,s,c,u)}i&&e.emit(t,i,n,T)},"EmitChildEvent");const _$=Phaser.Utils.Objects.GetValue;var tK=r(function(e){var t=_$(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",eK,this))},"DownChild"),eK=r(function(e,t,s,a){var x=this._childrenInteractive;Si(x.eventEmitter,`${x.eventNamePrefix}down`,x.targetSizers,x.targetMode,e.worldX,e.worldY,e,a)},"OnDown");const iK=Phaser.Utils.Objects.GetValue;var sK=r(function(e){var t=iK(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",rK,this))},"UpChild"),rK=r(function(e,t,s,a){var x=this._childrenInteractive;Si(x.eventEmitter,`${x.eventNamePrefix}up`,x.targetSizers,x.targetMode,e.worldX,e.worldY,e,a)},"OnUp");const nK=Phaser.Utils.Objects.GetValue;var aK=r(function(e){var t=nK(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",WO,this).on("pointerover",WO,this).on("pointerout",oK,this))},"OverChild"),WO=r(function(e,t,s,a){var x=this._childrenInteractive,P=x.targetSizers[0];if(P){var n=e.camera,T=e.worldX+n.scrollX*(P.scrollFactorX-1),i=e.worldY+n.scrollY*(P.scrollFactorY-1),h=d3(x.targetMode,x.targetSizers,T,i),m=x.lastOverChild;h&&m&&h===m||(x.lastOverChild=h,Si(x.eventEmitter,`${x.eventNamePrefix}out`,x.targetSizers,x.targetMode,m,void 0,e,a),Si(x.eventEmitter,`${x.eventNamePrefix}over`,x.targetSizers,x.targetMode,h,void 0,e,a))}},"OnMove$1"),oK=r(function(e,t){var s=this._childrenInteractive,a=s.lastOverChild;s.lastOverChild=null,Si(s.eventEmitter,`${s.eventNamePrefix}out`,s.targetSizers,s.targetMode,a,void 0,e,t)},"OnOut$1");const hK=Phaser.Utils.Objects.GetValue;var lK=r(function(e){var t=hK(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var s=this._childrenInteractive;this._click=new Ls(this,t),this._click.on("click",function(a,x,P,n){Si(s.eventEmitter,`${s.eventNamePrefix}click`,s.targetSizers,s.targetMode,P.worldX,P.worldY,P,n)},this)}},"ClickChild");const o0=Phaser.Utils.Objects.GetValue,QT=class QT extends io{constructor(t,s){var a=Vo(t);a===t&&(t=void 0),super(a,s),this.gameObject=t,t&&t.setInteractive(o0(s,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(o0(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(o0(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=h0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,s){if(this.enable&&this.pointer===void 0){var a=this.bounds?this.bounds.contains(t.x,t.y):!0;a&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=HO,this.gameObject===void 0&&(this.isTouchingAnyObject=s.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;s&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=h0,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,a=this.pointer===t;!a&&s||(a&&!s?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===HO&&this.onDragEnd(),this.pointer=void 0,this.tracerState=h0,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,s){}postUpdate(t,s){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=uK,this}isPointerInGameObject(t,s,a){var x=this.lastPointer;return x?ns(t,x,s,a):!1}};r(QT,"OnePointerTracer");let vo=QT;const h0=0,HO=1,uK="IDLE",Or=Phaser.Utils.Objects.GetValue,dK=Phaser.Math.Distance.Between,qT=class qT extends vo{constructor(t,s){super(t,s);var a=this,x={states:{IDLE:{enter:r(function(){a.stop(),a.tapsCount=0,a.x=0,a.y=0,a.worldX=0,a.worldY=0,a.lastPointer=void 0},"enter"),exit:r(function(){var P=a.lastPointer;a.x=P.x,a.y=P.y,a.worldX=P.worldX,a.worldY=P.worldY},"exit")},BEGIN:{enter:r(function(){a.start(),a.tapsCount=0,a.emit("tappingstart",a,a.gameObject,a.lastPointer)},"enter")},RECOGNIZED:{enter:r(function(){a.start(),a.emit("tap",a,a.gameObject,a.lastPointer),a.emit(`${a.tapsCount}tap`,a,a.gameObject,a.lastPointer)},"enter")}},init:r(function(){this.state=br},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Vi(x))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Or(t,"time",250)),this.setTapInterval(Or(t,"tapInterval",200)),this.setDragThreshold(Or(t,"threshold",9)),this.setTapOffset(Or(t,"tapOffset",10));var s=Or(t,"taps",void 0);return s!==void 0?this.setTaps(s):(this.setMaxTaps(Or(t,"maxTaps",void 0)),this.setMinTaps(Or(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case br:this.state=Yn;break;case Yn:var t=this.lastPointer,s=dK(t.upX,t.upY,t.x,t.y);s>this.tapOffset&&(this.state=Wn,this.state=Yn);break;case Wn:this.state=Yn;break}}onDragEnd(){this.state===Yn&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=Wn))}onDrag(){this.state!==br&&this.pointer.getDistance()>this.dragThreshold&&(this.state=br)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===Yn){var a=this.lastPointer;if(a.isDown){var x=t-a.downTime;x>this.holdTime&&(this.state=br)}else{var P=t-a.upTime;P>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=Wn:this.state=br)}}}postUpdate(t,s){!this.isRunning||!this.enable||this.state===Wn&&(this.state=br)}get isTapping(){return this.state===Wn}get isTapped(){return this.isTapping}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,s){return s===void 0&&(s=t),this.setMinTaps(t).setMaxTaps(s),this}};r(qT,"Tap");let po=qT;const br="IDLE",Yn="BEGIN",Wn="RECOGNIZED",$O=Phaser.Utils.Objects.GetValue,_T=class _T extends vo{constructor(t,s){super(t,s);var a=this,x={states:{IDLE:{enter:r(function(){a.x=0,a.y=0,a.worldX=0,a.worldY=0,a.lastPointer=void 0},"enter"),exit:r(function(){var P=a.lastPointer;a.x=P.x,a.y=P.y,a.worldX=P.worldX,a.worldY=P.worldY},"exit")},BEGIN:{enter:r(function(){a.start()},"enter"),exit:r(function(){a.stop()},"exit")},RECOGNIZED:{enter:r(function(){a.emit("pressstart",a,a.gameObject,a.lastPointer)},"enter"),exit:r(function(){a.emit("pressend",a,a.gameObject,a.lastPointer)},"exit")}},init:r(function(){this.state=ju},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Vi(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold($O(t,"threshold",9)),this.setHoldTime($O(t,"time",251)),this}onDragStart(){this.state=KO,this.holdTime===0&&(this.state=l0)}onDragEnd(){this.state=ju}onDrag(){this.state!==ju&&this.pointer.getDistance()>this.dragThreshold&&(this.state=ju)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===KO){var a=t-this.pointer.downTime;a>=this.holdTime&&(this.state=l0)}}get isPressing(){return this.state===l0}get isPressed(){return this.isPressing}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}};r(_T,"Press");let go=_T;const ju="IDLE",KO="BEGIN",l0="RECOGNIZED",fK=Phaser.Utils.Objects.GetValue,tS=class tS extends vo{constructor(t,s){super(t,s);var a=this,x={states:{IDLE:{},BEGIN:{enter:r(function(){var P=a.pointer;a.startX=P.x,a.startY=P.y,a.startWorldX=P.worldX,a.startWorldY=P.worldY},"enter")},RECOGNIZED:{enter:r(function(){a.emit("panstart",a,a.gameObject,a.lastPointer)},"enter"),exit:r(function(){var P=a.lastPointer;a.endX=P.x,a.endY=P.y;var n=vf(P,a.pointerCamera,!0);a.endWorldX=n.x,a.endWorldY=n.y,a.emit("panend",a,a.gameObject,a.lastPointer)},"exit")}},init:r(function(){this.state=ZO},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Vi(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(fK(t,"threshold",10)),this}onDragStart(){this.state=JO,this.dragThreshold===0&&(this.state=Qu)}onDragEnd(){this.state=ZO}onDrag(){switch(this.state){case JO:if(this.pointer.getDistance()>=this.dragThreshold){this.state=Qu,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var x=this.pointer;this.x=x.x,this.y=x.y,this.worldX=x.worldX,this.worldY=x.worldY}break;case Qu:var t=this.pointerCamera,s=this.pointer.position,a=this.pointer.prevPosition;this.dx=s.x-a.x,this.dy=s.y-a.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var x=this.pointer;this.x=x.x,this.y=x.y;var P=vf(x,t,!0);this.worldX=P.x,this.worldY=P.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanning(){return this.state===Qu}get isPanned(){return this.isPanning}setDragThreshold(t){return this.dragThreshold=t,this}};r(tS,"Pan");let pf=tS;const ZO="IDLE",JO="BEGIN",Qu="RECOGNIZED",cK=Phaser.Math.Distance.Between,vK=Phaser.Math.Angle.Between,pK={getDt:r(function(){var e=gy(this.scene);return e},"getDt"),getVelocity:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=cK(t.x,t.y,e.x,e.y),a=s/(this.getDt()*.001);return a},"getVelocity"),getVelocityX:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(e.x-t.x),a=s/(this.getDt()*.001);return a},"getVelocityX"),getVelocityY:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(e.y-t.y),a=s/(this.getDt()*.001);return a},"getVelocityY"),getVelocityAngle:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=vK(t.x,t.y,e.x,e.y);return s},"getVelocityAngle")},gK={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var mK=r(function(e,t,s){switch(s===void 0?s={}:s===!0&&(s=xK),s.left=!1,s.right=!1,s.up=!1,s.down=!1,e=(e+360)%360,t){case 0:e<180?s.down=!0:s.up=!0;break;case 1:e>90&&e<=270?s.left=!0:s.right=!0;break;case 2:e>45&&e<=135?s.down=!0:e>135&&e<=225?s.left=!0:e>225&&e<=315?s.up=!0:s.right=!0;break;case 3:e>22.5&&e<=67.5?(s.down=!0,s.right=!0):e>67.5&&e<=112.5?s.down=!0:e>112.5&&e<=157.5?(s.down=!0,s.left=!0):e>157.5&&e<=202.5?s.left=!0:e>202.5&&e<=247.5?(s.left=!0,s.up=!0):e>247.5&&e<=292.5?s.up=!0:(e>292.5&&e<=337.5&&(s.up=!0),s.right=!0);break}return s},"AngleToDirections"),xK={};const u0=Phaser.Utils.Objects.GetValue,yK=Phaser.Math.RadToDeg,eS=class eS extends vo{constructor(t,s){super(t,s);var a=this,x={states:{IDLE:{enter:r(function(){a.x=0,a.y=0,a.worldX=0,a.worldY=0},"enter"),exit:r(function(){var P=a.lastPointer;a.x=P.x,a.y=P.y,a.worldX=P.worldX,a.worldY=P.worldY},"exit")},BEGIN:{enter:r(function(){a.validDrag=!1},"enter")},RECOGNIZED:{enter:r(function(){a.start(),a.updateDirectionStates(),a.emit("swipe",a,a.gameObject,a.lastPointer)},"enter"),exit:r(function(){a.stop(),a.clearDirectionStates()},"exit")}},init:r(function(){this.state=d0},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Vi(x)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(u0(t,"threshold",10)),this.setVelocityThreshold(u0(t,"velocityThreshold",1e3)),this.setDirectionMode(u0(t,"dir","8dir")),this}onDragStart(){this.state=jO}onDragEnd(){this.state=d0}onDrag(){this.state===jO&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=f0))}postUpdate(t,s){!this.isRunning||!this.enable||this.state===f0&&(this.state=d0)}get isSwiping(){return this.state===f0}get isSwiped(){return this.isSwiping}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=gK[t]),this.dirMode=t,this}updateDirectionStates(){var t=yK(this.getVelocityAngle());return mK(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}};r(eS,"Swipe");let _r=eS;Object.assign(_r.prototype,pK);const d0="IDLE",jO="BEGIN",f0="RECOGNIZED",qu=Phaser.Utils.Objects.GetValue,CK=Phaser.Utils.Array.SpliceOne,TK=Phaser.Math.Distance.Between,SK=Phaser.Math.Angle.Between,iS=class iS{constructor(t,s){var a=Vo(t);a===t&&(t=void 0);var x=a.input.manager.pointersTotal-1;x<2&&a.input.addPointer(2-x),this.scene=a,this.gameObject=t,t&&t.setInteractive(qu(s,"inputConfig",void 0)),this.setEventEmitter(qu(s,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(qu(t,"enable",!0)),this.bounds=qu(t,"bounds",void 0),this.tracerState=_u,this.pointers.length=0,er(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,er(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var a=this.pointers.indexOf(t);if(a===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case _u:this.tracerState=ch,this.onDrag1Start();break;case ch:this.tracerState=Ki,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var a=this.pointers.indexOf(t);if(a!==-1)switch(delete this.movedState[t.id],CK(this.pointers,a),this.tracerState){case ch:this.tracerState=_u,this.onDrag1End();break;case Ki:this.tracerState=ch,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,a=this.pointers.indexOf(t)!==-1;if(!(!a&&s)){if(a&&!s)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case ch:this.onDrag1();break;case Ki:this.onDrag2();break}}}}dragCancel(){return this.tracerState===Ki&&this.onDrag2End(),this.pointers.length=0,er(this.movedState),this.tracerState=_u,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==Ki)return 0;var t=this.pointers[0],s=this.pointers[1];return TK(t.x,t.y,s.x,s.y)}get angleBetween(){if(this.tracerState!==Ki)return 0;var t=this.pointers[0],s=this.pointers[1];return SK(t.x,t.y,s.x,s.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var s=t.position,a=t.prevPosition;fh.x=s.x-a.x,fh.y=s.y-a.y}else fh.x=0,fh.y=0;return fh}get centerX(){if(this.tracerState!==Ki)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.x+s.x)/2}get centerY(){if(this.tracerState!==Ki)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.y+s.y)/2}get prevCenterX(){if(this.tracerState!==Ki)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+s.x)/2}get prevCenterY(){if(this.tracerState!==Ki)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+s.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=PK,this}isPointer0InGameObject(t,s,a){var x=this.pointers[0];return x?ns(t,x,s,a):!1}isPointer1InGameObject(t,s,a){var x=this.pointers[1];return x?ns(t,x,s,a):!1}};r(iS,"TwoPointersTracer");let hl=iS;Object.assign(hl.prototype,Kl);var fh={};const _u=0,ch=1,Ki=2,PK="IDLE",EK=Phaser.Utils.Objects.GetValue,sS=class sS extends hl{constructor(t,s){super(t,s);var a=this,x={states:{IDLE:{enter:r(function(){a.prevDistance=void 0,a.scaleFactor=1},"enter")},BEGIN:{},RECOGNIZED:{enter:r(function(){a.emit("pinchstart",a)},"enter"),exit:r(function(){a.emit("pinchend",a)},"exit")}},init:r(function(){this.state=QO},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Vi(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(EK(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=qO,this.dragThreshold===0&&(this.state=td)}onDrag2End(){this.state=QO}onDrag2(){switch(this.state){case qO:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=td}break;case td:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinching(){return this.state===td}get isPinched(){return this.isPinching}setDragThreshold(t){return this.dragThreshold=t,this}};r(sS,"Pinch");let gf=sS;const QO="IDLE",qO="BEGIN",td="RECOGNIZED",MK=Phaser.Math.RotateAround;var _O=r(function(e,t,s,a){return MK(e,t,s,a),e.rotation+=a,e},"RotateObjectAround"),wK=r(function(e,t,s,a){return a===void 0?a={}:a===!0&&(a=RK),s.getWorldPoint(e,t,a),a},"ScreenXYToWorldXY"),RK={},OK=r(function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var s=this.movementCenterX,a=this.movementCenterY,x=wK(this.centerX,this.centerY,t,!0),P=x.x,n=x.y,T=this.rotation;if(Array.isArray(e))for(var i=e,h=0,m=i.length;h<m;h++)e=i[h],e.x+=s,e.y+=a,_O(e,P,n,T);else e.x+=s,e.y+=a,_O(e,P,n,T);return this},"SpinObject");const bK=Phaser.Utils.Objects.GetValue,c0=Phaser.Math.Angle.WrapDegrees,tb=Phaser.Math.Angle.ShortestBetween,v0=Phaser.Math.RadToDeg,AK=Phaser.Math.DegToRad,rS=class rS extends hl{constructor(t,s){super(t,s);var a=this,x={states:{IDLE:{enter:r(function(){a.prevAngle=void 0,a.angle=0},"enter")},BEGIN:{},RECOGNIZED:{enter:r(function(){a.emit("rotatestart",a)},"enter"),exit:r(function(){a.emit("rotateend",a)},"exit")}},init:r(function(){this.state=eb},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Vi(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(bK(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=c0(v0(this.angleBetween)),this.state=ib,this.dragThreshold===0&&(this.state=ed)}onDrag2End(){this.state=eb}onDrag2(){switch(this.state){case ib:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=c0(v0(this.angleBetween));this.angle=tb(this.prevAngle,t),this.prevAngle=t,this.state=ed}break;case ed:var t=c0(v0(this.angleBetween));this.angle=tb(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotating(){return this.state===ed}get isRotated(){return this.isRotating}get rotation(){return AK(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}};r(rS,"Rotate");let ll=rS;var LK={spinObject:OK};Object.assign(ll.prototype,LK);const eb="IDLE",ib="BEGIN",ed="RECOGNIZED",FK=Phaser.Utils.Objects.GetValue;var IK=r(function(e){var t=FK(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._tap=new po(this,t),this._tap.on("tap",function(a,x,P){Si(s.eventEmitter,`${s.eventNamePrefix}${a.tapsCount}tap`,s.targetSizers,s.targetMode,a.worldX,a.worldY,P,a),Si(s.eventEmitter,`${s.eventNamePrefix}tap`,s.targetSizers,s.targetMode,a.worldX,a.worldY,P,a)},this)}},"TapChild");const DK=Phaser.Utils.Objects.GetValue;var BK=r(function(e){var t=DK(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._press=new go(this,t),this._press.on("pressstart",function(a,x,P){Si(s.eventEmitter,`${s.eventNamePrefix}pressstart`,s.targetSizers,s.targetMode,a.worldX,a.worldY,P,a)},this).on("pressend",function(a,x,P){Si(s.eventEmitter,`${s.eventNamePrefix}pressend`,s.targetSizers,s.targetMode,a.worldX,a.worldY,P,a)},this)}},"PressChild");const GK=Phaser.Utils.Objects.GetValue;var NK=r(function(e){var t=GK(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var s=this._childrenInteractive;this._swipe=new _r(this,t),this._swipe.on("swipe",function(a,x,P){var n=a.left?"left":a.right?"right":a.up?"up":"down";Si(s.eventEmitter,`${s.eventNamePrefix}swipe${n}`,s.targetSizers,s.targetMode,a.worldX,a.worldY,P,a),Si(s.eventEmitter,`${s.eventNamePrefix}swipe`,s.targetSizers,s.targetMode,a.worldX,a.worldY,P,a)},this)}},"SwipeChild");const vh=Phaser.Utils.Objects.GetValue;var Sc=r(function(e,t){return e.setInteractive(),vh(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:vh(t,"targets",[e]),targetMode:vh(t,"targetMode","parent"),eventEmitter:vh(t,"eventEmitter",e),eventNamePrefix:vh(t,"inputEventPrefix","child.")},tK.call(e,t),sK.call(e,t),aK.call(e,t),lK.call(e,t),IK.call(e,t),BK.call(e,t),NK.call(e,t),e},"SetChildrenInteractive$1"),kK=r(function(e){return Sc(this,e),this},"SetChildrenInteractiveWrap"),VK=r(function(){for(var e=this.getAllChildren([this]),t=0,s=e.length;t<s;t++){var a=e[t];a.emit.apply(a,arguments)}return this},"BroadcastEvent"),f3={getSizerConfig:nH,getChildPrevState:aH,pushIntoBounds:oH,drawBounds:CH,resolveWidth:Ay,hasWidthWrap:Ly,resolveChildrenWidth:BH,runWidthWrap:Fy,resolveHeight:Iy,hasHeightWrap:Dy,resolveChildrenHeight:GH,runHeightWrap:By,getChildWidth:NH,getChildHeight:kH,getExpandedChildWidth:VH,getExpandedChildHeight:zH,getChildrenWidth:UH,getChildrenHeight:XH,addChildrenMap:LO,addElement:LO,removeChildrenMap:AH,getElement:LH,getChildIndex:IH,getAllChildrenSizers:YH,getChildrenSizers:WH,preLayout:iu,layout:$H,runLayout:JH,layoutChildren:qH,layoutBackgrounds:$$,postLayout:_H,setAnchor:e$,isInTouching:U$,pointToChild:u3,setDraggable:Z$,setChildrenInteractive:kK,broadcastEvent:VK};Object.assign(f3,DH,PH,bH,Yo,Ss,sl,yc,g$,x$,n3,Vy,j$,Q$,q$,T$,Tc,HH,k$);const xs=Phaser.Utils.Objects.GetValue;var za;let Cn=(za=class extends Ve{constructor(t,s,a,x,P,n){super(t,s,a,1,1),this.isRexSizer=!0;var T=xs(n,"origin",.5),i=xs(n,"originX",T),h=xs(n,"originY",T);this.setOrigin(i,h),this.setMinSize(x,P),this.setName(xs(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var m=xs(n,"anchor",void 0);m&&this.setAnchor(m),this.setInnerPadding(xs(n,"space",0));var c=xs(n,"draggable",!1);c&&this.setDraggable(c),this.setSizerEventsEnable(xs(n,"sizerEvents",!1)),this.setDirty(!0),xs(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s=this.getAllChildrenSizers([this]),a=0,x=s.length;a<x;a++)s[a].sizerEventsEnable=!1;super.destroy(t),er(this.backgroundChildren),er(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,s){return this.setMinWidth(t).setMinHeight(s),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Ot(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Ot(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Ot(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-bt(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+bt(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+bt(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}},r(za,"Base"),za);Object.assign(Cn.prototype,f3);var zK=r(function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,s,a,x,P=!1;for(var n in t)s=t[n],x=this.getChildWidth(s),x===void 0&&(P=!0),!P&&(a=s.rexSizer.padding,x+=(a.left+a.right)*this.scaleX,e=Math.max(x,e));if(!P)return e+(this.space.left+this.space.right)*this.scaleX},"GetChildrenWidth$4"),UK=r(function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,s,a,x,P=!1;for(var n in t)s=t[n],x=this.getChildHeight(s),x===void 0&&(P=!0),!P&&(a=s.rexSizer.padding,x+=(a.top+a.bottom)*this.scaleY,e=Math.max(x,e));if(!P)return e+(this.space.top+this.space.bottom)*this.scaleY},"GetChildrenHeight$4"),XK=r(function(e,t){t===void 0&&(t=this.width*this.scaleX);var s,a=e.rexSizer;if(a.expandWidth){var x=t-(this.space.left+this.space.right)*this.scaleX,P=a.padding;s=x-(P.left+P.right)*this.scaleX}return s},"GetExpandedChildWidth$3"),YK=r(function(e,t){t===void 0&&(t=this.height);var s,a=e.rexSizer;if(a.expandHeight){var x=t-(this.space.top+this.space.bottom)*this.scaleY,P=a.padding;s=x-(P.top+P.bottom)*this.scaleY}return s},"GetExpandedChildHeight$3"),WK=r(function(e){e===void 0&&(e=[]);var t=this.sizerChildren,s;for(var a in t)s=t[a],s.isRexSizer&&e.push(s);return e},"GetChildrenSizers$4"),zy=r(function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},"CheckSize"),HK=r(function(){var e,t,s,a=this.innerLeft,x=this.innerTop,P=this.innerWidth,n=this.innerHeight,T,i,h,m,c,u,l,o,d,v=this.sizerChildren;for(var f in v)e=v[f],!e.rexSizer.hidden&&(t=e.rexSizer,s=t.padding,su.call(this,e),l=this.getExpandedChildWidth(e),o=this.getExpandedChildHeight(e),t.aspectRatio>0&&(p0.width=t.aspectRatio,p0.height=1,g0.width=l,g0.height=o,d=hy(p0,g0,"FIT",!0),l=d.width,o=d.height),e.isRexSizer?(e.runLayout(this,l,o),zy(e,this)):be(e,l,o),T=a+s.left*this.scaleX,h=P-(s.left+s.right)*this.scaleX,i=x+s.top*this.scaleY,m=n-(s.top+s.bottom)*this.scaleY,l===void 0&&(l=Ot(e)),o===void 0&&(o=bt(e)),c=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,u=(t.alignOffsetY+t.alignOffsetOriginY*o)*this.scaleY,ru.call(this,e,T,i,h,m,t.align,c,u))},"LayoutChildren$5"),p0={},g0={};const sb=Phaser.Utils.Objects.IsPlainObject,_e=Phaser.Utils.Objects.GetValue,rb=Phaser.Display.Align.CENTER,$K=Phaser.Utils.String.UUID;var KK=r(function(e,t,s,a,x,P,n,T,i,h){var m,c;if(tu.call(this,e),sb(t)){var l=t;t=_e(l,"key",void 0),s=_e(l,"align",rb),a=_e(l,"padding",0),x=_e(l,"expand",!0),e.isRexSizer||(P=_e(l,"minWidth",e._minWidth),n=_e(l,"minHeight",e._minHeighted)),T=_e(l,"offsetX",0),i=_e(l,"offsetY",0),m=_e(l,"offsetOriginX",0),c=_e(l,"offsetOriginY",0),h=_e(l,"aspectRatio",0)}var u=t!==void 0;u||(t=$K()),typeof s=="string"&&(s=Xo[s]),s===void 0&&(s=rb),a===void 0&&(a=0),x===void 0&&(x=!0),e.isRexSizer||(P===void 0&&(P=e._minWidth),n===void 0&&(n=e._minHeight)),T===void 0&&(T=0),i===void 0&&(i=0),m===void 0&&(m=0),c===void 0&&(c=0),h===void 0?h=0:h===!0&&(h=Ot(e)/bt(e)),h>0&&(x=!0,P===void 0&&(P=0),n===void 0&&(n=0));var l=this.getSizerConfig(e);return l.align=s,l.padding=mn(a),sb(x)?(l.expandWidth=_e(x,"width",!1),l.expandHeight=_e(x,"height",!1)):(l.expandWidth=x,l.expandHeight=x),e.isRexSizer||(l.expandWidth&&(e.minWidth=P===void 0?Ot(e):P),l.expandHeight&&(e.minHeight=n===void 0?bt(e):n)),l.alignOffsetX=T,l.alignOffsetY=i,l.alignOffsetOriginX=m,l.alignOffsetOriginY=c,l.aspectRatio=h,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,u&&this.addChildrenMap(t,e),this},"Add$7");const ZK={add:KK},JK=Ve.prototype.clear;var Pc=r(function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,s;if(t&&(s=this.getChildren([])),JK.call(this,e),t)for(var a,x=0,P=s.length;x<P;x++)a=s[x],a.emit("sizer.remove",a,this),this.emit("remove",a,this);return this},"ClearChildren");const jK={remove(e,t){var s;if(typeof e=="string"){if(s=e,e=this.sizerChildren[s],!e)return this}else{if(this.getParentSizer(e)!==this)return this;s=this.childToKey(e)}return s&&(delete this.sizerChildren[s],this.childrenMap.hasOwnProperty(s)&&delete this.childrenMap[s]),eu.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Pc.call(this,e),this}};var c3={getChildrenWidth:zK,getChildrenHeight:UK,getExpandedChildWidth:XK,getExpandedChildHeight:YK,getChildrenSizers:WK,layoutChildren:HK};Object.assign(c3,ZK,jK);var Ec=r(function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var s in e)if(e[s]===t)return s;return null},"IndexOf");const nb=Phaser.Utils.Objects.IsPlainObject,Hn=Phaser.Utils.Objects.GetValue,nS=class nS extends Cn{constructor(t,s,a,x,P,n){nb(s)?(n=s,s=Hn(n,"x",0),a=Hn(n,"y",0),x=Hn(n,"width",void 0),P=Hn(n,"height",void 0)):nb(x)&&(n=x,x=Hn(n,"width",void 0),P=Hn(n,"height",void 0)),super(t,s,a,x,P,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var s=t;if(this.sizerChildren.hasOwnPropery(s))return s}else return Ec(this.sizerChildren,t);return null}};r(nS,"OverlapSizer");let Je=nS;Object.assign(Je.prototype,c3);var QK=Phaser.Math.Distance.Between,mf=r(function(e,t,s){var a=e.width/2;return QK(a,a,t,s)<=a},"IsLocalPointInKnob");const qK=Phaser.Math.Angle.Between,_K=Phaser.Math.Angle.Normalize;var ab=r(function(e,t,s){if(this.enable&&e.isDown){var a=this.sizerChildren.knob;if(mf(a,t,s)){var x=a.width/2,P=a.startAngle,n=qK(x,x,t,s),T=a.anticlockwise?P-n:n-P,i=_K(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-i)<.1?this.value=i:this.easeValueTo(i)}}},"OnTouchPad"),tZ=r(function(){var e=this.sizerChildren.knob;e.on("pointerdown",ab,this).on("pointermove",ab,this).setInteractive()},"InstallEvents$1");const ob=Phaser.Math.Angle.Between,eZ=Phaser.Math.Angle.Wrap;var iZ=r(function(e,t,s){if(!(!this.enable||this.panPointer)){var a=this.sizerChildren.knob;mf(a,t,s)&&v3.call(this,e)}},"OnPointerDown"),sZ=r(function(e,t,s){if(this.enable&&e.isDown){var a=this.sizerChildren.knob;switch(this.panState){case Uy:mf(a,t,s)&&v3.call(this,e);break;case g3:mf(a,t,s)?nZ.call(this):p3.call(this);break}}},"OnPointerMove"),rZ=r(function(e,t,s){!this.enable||this.panPointer!==e||p3.call(this)},"OnPointerUp"),v3=r(function(e){this.panPointer=e,this.panState=g3},"OnPanStart"),p3=r(function(){this.panPointer=void 0,this.panState=Uy},"OnPanEnd"),nZ=r(function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,s=this.sizerChildren.knob,a=ob(s.x,s.y,e.x,e.y),x=ob(s.x,s.y,t.x,t.y),P=s.anticlockwise?a-x:x-a,n=eZ(P)/(Math.PI*2);this.stopEaseValue(),this.value+=n},"OnPan");const Uy=0,g3=1;var aZ=r(function(){var e=this.sizerChildren.knob;e.on("pointerdown",iZ,this).on("pointermove",sZ,this).on("pointerup",rZ,this).setInteractive(),this.panPointer=void 0,this.panState=Uy},"InstallEvents"),oZ=r(function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},"SetTextFormatCallback"),m3=r(function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},"GetFormatText"),hZ=r(function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(m3.call(this,e)),t.layout&&t.layout()),this},"UpdateText");const lZ={setTextFormatCallback:oZ,getFormatText:m3,updateText:hZ},Oi=Phaser.Utils.Objects.GetValue,uZ=Phaser.Math.Snap.To,aS=class aS extends fr(Je){constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexKnob",this.bootProgressBase(s);var a=Oi(s,"background",void 0),x=Oi(s,"text",void 0);a&&this.addBackground(a),x&&(s.textColor=void 0,s.textStrokeColor=void 0,this.setTextFormatCallback(Oi(s,"textFormatCallback",void 0),Oi(s,"textFormatCallbackScope",void 0)),s.textFormatCallback=void 0,s.textFormatCallbackScope=void 0);var P=new lo(t,s);P.setDepth(Oi(s,"knobDepth",0)),P._value=-1,t.add.existing(P),this.add(P,"knob"),x&&(this.add(x,"text","center",0,!1),t.children.moveBelow(P,x)),this.addChildrenMap("background",a),this.addChildrenMap("knob",P),this.addChildrenMap("text",x),this.setEnable(Oi(s,"enable",void 0)),this.setGap(Oi(s,"gap",void 0)),this.setValue(Oi(s,"value",0),Oi(s,"min",void 0),Oi(s,"max",void 0));var n=Oi(s,"input",0);switch(typeof n=="string"&&(n=dZ[n]),n){case 0:aZ.call(this);break;case 1:tZ.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=uZ(t,this.gap));var s=this.value;this.sizerChildren.knob.value=t;var a=this.value;s!==a&&(this.updateText(),this.eventEmitter.emit("valuechange",a,s,this.eventEmitter))}};r(aS,"Knob");let ul=aS;const dZ={pan:0,drag:0,click:1,none:-1};Object.assign(ul.prototype,lZ);rt.register("knob",function(e){var t=new ul(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Knob",ul);rt.register("customShapes",function(e,t,s,a,x){var P=new ao(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.CustomShapes",ao);rt.register("customProgress",function(e,t,s,a,x){var P=new Ti(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.CustomProgress",Ti);var fZ=r(function(e){return this.easeValueTask||(this.easeValueTask=new ai(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},"Start"),cZ=r(function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},"Stop$1"),vZ=r(function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},"Pause"),pZ=r(function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},"Resume");const gZ={start:fZ,stop:cZ,pause:vZ,resume:pZ},bi=Phaser.Utils.Objects.GetValue,oS=class oS extends ki{constructor(t,s){var a=bi(s,"x",0),x=bi(s,"y",0),P=bi(s,"width",64),n=bi(s,"height",64);super(t,a,x,P,n),this.resetFromConfig(s,!0),this.buildShapes(s),bi(s,"start",!0)&&this.start()}resetFromConfig(t,s){s===void 0&&(s=!1);var a;return a=s?1e3:this.duration,this.setDuration(bi(t,"duration",a)),a=s?"Linear":this.ease,this.setEase(bi(t,"ease",a)),a=s?0:this.delay,this.setDelay(bi(t,"delay",a)),a=s?0:this.repeatDelay,this.setRepeatDelay(bi(t,"repeatDelay",a)),a=s?16777215:this.color,this.setColor(bi(t,"color",a)),a=s?0:this.value,this.setValue(bi(t,"value",a)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}};r(oS,"Base");let xf=oS;Object.assign(xf.prototype,gZ);const Us=Phaser.Math.DegToRad,mZ=Phaser.Math.Linear,xZ=Phaser.Math.Easing.Expo.In,yZ={right:0,down:1,left:2,up:3};var CZ=r(function(e,t,s,a,x,P,n,T,i,h,m){var c=$n(t,0,a,x,P,n,T,i,h,m);e.startAt(c.x,c.y);var u=$n(s,0,a,x,P,n,T,i,h,m);e.lineTo(u.x,u.y);var l=$n(s,s,a,x,P,n,T,i,h,m);e.lineTo(l.x,l.y);var o=$n(0,s,a,x,P,n,T,i,h,m);e.lineTo(o.x,o.y);var d=$n(0,t,a,x,P,n,T,i,h,m);e.lineTo(d.x,d.y);var v=$n(t,t,a,x,P,n,T,i,h,m);e.lineTo(v.x,v.y),e.close()},"ArrowPolygon"),m0={},$n=r(function(e,t,s,a,x,P,n,T,i,h){var m=e*s,c=t*a;return m0.x=n*m+T*c+x,m0.y=i*m+h*c+P,m0},"Transform");const id={setDirection(e){return typeof e=="string"&&(e=yZ[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new ve)},updateShapes(){var e,t,s,a,x,P;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var n=Us(315);s=Math.cos(n),a=Math.sin(n);var T=Us(45);x=Math.cos(T),P=Math.sin(T);break;case 3:e=this.centerX,t=this.centerY+this.radius;var n=Us(135);s=Math.cos(n),a=Math.sin(n);var T=Us(225);x=Math.cos(T),P=Math.sin(T);break;case 2:e=this.centerX+this.radius,t=this.centerY;var n=Us(225);s=Math.cos(n),a=Math.sin(n);var T=Us(315);x=Math.cos(T),P=Math.sin(T);break;default:e=this.centerX-this.radius,t=this.centerY;var n=Us(45);s=Math.cos(n),a=Math.sin(n);var T=Us(135);x=Math.cos(T),P=Math.sin(T);break}for(var i=this.radius/7,h=this.getShapes(),m=0,c=h.length;m<c;m++){var u=h[m],l=(this.value+(c-m)*.1)%1;l=xZ(Bt(l));var o=mZ(.25,1,l);u.fillStyle(this.color,o);var d=m*3+1,v=d+2;CZ(u,d,v,i,i,e,t,s,a,x,P)}}},TZ=Phaser.Math.Linear,SZ={buildShapes(){for(var e=0;e<4;e++)this.addShape(new rs);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,a=e-s,x=t+s,P=s*2,n=this.getShapes(),T=n.length,i=s*2/T,h=i*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var m=0;m<T;m++){var c=n[m],u=this.prevValue===void 0?Math.random():c.getData("to");c.setData("from",u).setData("to",Math.random())}this.prevValue=this.value;for(var m=0;m<T;m++){var c=n[m],u=c.getData("from"),l=c.getData("to"),o=TZ(u,l,this.value),d=o*P,v=a+i*(m+.5);c.lineStyle(h,this.color,1).setP0(v,x).setP1(v,x-d)}}},PZ=Phaser.Math.Linear,EZ={buildShapes(){for(var e=0;e<3;e++)this.addShape(new Ze)},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,a=s*.1,x=Math.ceil(a*.25),P=1-Bt(this.value),n=PZ(.3,.9,P)*s,T=this.getShapes(),i=0,h=T.length;i<h;i++){var m=T[i],P=(this.value+i/h)%1,c=Math.PI*2*P;m.lineStyle(x,this.color).setRadius(a).setCenterPosition(e+Math.cos(c)*n,t+Math.sin(c)*n)}}},MZ=Phaser.Math.Linear,wZ=Phaser.Math.Easing.Expo.In,RZ={buildShapes(){for(var e=5,t=0;t<e;t++){var s=new rs;this.addShape(s);var a=Bt(t/(e-1))/2;s.setData("offset",a)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,a=e-s,x=s*2,P=this.getShapes(),n=P.length,T=s*2/n,i=T*.7,h=0;h<n;h++){var m=P[h],c=(this.value+m.getData("offset"))%1;c=wZ(Bt(c));var u=MZ(.4,1,c)*x,l=a+T*(h+.5);m.lineStyle(i,this.color,1).setP0(l,t-u/2).setP1(l,t+u/2)}}},OZ={buildShapes(){this.addShape(new ve().setName("border")),this.addShape(new ve().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,a=s*.7,x=e-a,P=t-a,n=a*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(x,P).lineTo(n,0,!0).lineTo(0,n,!0).lineTo(-n,0,!0).lineTo(0,-n,!0).close(),this.value<.5){var T=(.5-this.value)*2,i=n*T;this.getShape("fill").fillStyle(this.color,1).startAt(x,P).lineTo(n,0,!0).lineTo(0,i,!0).lineTo(-n,0,!0).lineTo(0,-i,!0).close()}else{var T=(this.value-.5)*2,h=180*T;this.getShape("border").rotateAround(e,t,h),this.getShape("fill").fillStyle().lineStyle()}}},hb=Phaser.Math.RadToDeg,lb=Phaser.Math.Angle.WrapDegrees,bZ=Phaser.Math.Angle.Wrap,AZ=Phaser.Math.Angle.ShortestBetween,LZ=Phaser.Math.DegToRad,ub=Phaser.Math.DegToRad(270),FZ={buildShapes(){this.addShape(new Ze().setName("border")),this.addShape(new rs().setName("minuteHand")),this.addShape(new rs().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,a=Math.ceil(s/25),x=s-a/2,P=s*.8,n=s*.5,T=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var i=lb(hb(T)),h=lb(hb(this.minuteHandAngle)),m=AZ(i,h);this.hourHandAngle=bZ(this.hourHandAngle+LZ(m)/12),this.getShape("border").lineStyle(a,this.color).setRadius(x).setCenterPosition(e,t);var c=this.minuteHandAngle+ub;this.getShape("minuteHand").lineStyle(a,this.color).setP0(e,t).setP1(e+Math.cos(c)*P,t+Math.sin(c)*P);var c=this.hourHandAngle+ub;this.getShape("hourHand").lineStyle(a,this.color).setP0(e,t).setP1(e+Math.cos(c)*n,t+Math.sin(c)*n)}},db=Phaser.Math.Linear,IZ=Phaser.Math.Easing.Expo.In,x0=2,y0=2,DZ={buildShapes(){for(var e=x0*y0,t=0;t<e;t++){var s=new rs;this.addShape(s)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,a=e-s,x=t-s,P=s*2/y0,n=s*2/x0,T=this.getShapes(),i=T.length,h=0;h<i;h++){var m=h%y0,c=Math.floor(h/x0),u=a+P*(m+.5),l=x+n*(c+.5),o=T[h],d=(this.value+(i-h)*.1)%1;d=IZ(Bt(d));var v=(i-h)/i,f=db(.7,1,d)*n,p=db(.7,1,d)*P;o.lineStyle(p,this.color,v).setP0(u-f/2,l).setP1(u+f/2,l)}}},fb=Phaser.Math.Linear,BZ={buildShapes(){for(var e=3,t=0;t<e;t++){var s=new Ze;this.addShape(s);var a=Bt(t/(e-1))/2;s.setData("offset",a)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,a=e-s,x=this.getShapes(),P=x.length,n=s*2/P,T=n/2,i=0;i<P;i++){var h=x[i],m=(this.value+h.getData("offset"))%1;m=Bt(m);var c=fb(.25,1,m),u=fb(.5,1,m)*T;h.fillStyle(this.color,c).setRadius(u).setCenterPosition(a+n*(i+.5),t)}}},cb=Phaser.Math.Linear,GZ=Phaser.Math.Easing.Expo.In,NZ={buildShapes(){for(var e=0;e<3;e++){var t=new rs;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,a=e-s,x=this.getShapes(),P=x.length,n=s*2/P,T=s*2,i=0;i<P;i++){var h=x[i],m=(this.value+(P-i)*.1)%1;m=GZ(Bt(m));var c=(i+1)/P,u=cb(.7,1,m)*T,l=cb(.7,1,m)*n,o=a+n*(i+.5);h.lineStyle(l,this.color,c).setP0(o,t-u/2).setP1(o,t+u/2)}}},kZ=Phaser.Math.Linear,C0=3,T0=3,VZ={buildShapes(){for(var e=C0*T0,t=0;t<e;t++){var s=new Ze;this.addShape(s),s.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,a=this.isInitialize||this.isSizeChanged,x=e-s,P=t-s,n=s*2/T0,T=s*2/C0,i=Math.min(n,T)/2*.8,h=this.getShapes(),m=0,c=h.length;m<c;m++){var u=m%T0,l=Math.floor(m/C0),o=x+n*(u+.5),d=P+T*(l+.5),v=h[m],f=(this.value+v.getData("offset"))%1;f=Bt(f),v.fillStyle(this.color,kZ(.25,1,f)),a&&v.setRadius(i).setCenterPosition(o,d)}this.isInitialize=!1}},zZ={buildShapes(){for(var e=0;e<2;e++)this.addShape(new ve)},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,a=Math.ceil(s/25),x=s-a,P=x*.6,n=x*.7,T=x*1.2,i=this.getShapes(),h=0,m=i.length;h<m;h++){var c=i[h],u=(this.value+h/m)%1,l=Bt(u),o=e,d=t-15*u,v=x*u,f=P*u,p=n*u,g=T*u;c.lineStyle(a,this.color,l).startAt(o,d).cubicBezierTo(o,d-f,o-v,d-f,o-v,d).cubicBezierTo(o-v,d+f,o,d+p,o,d+g).cubicBezierTo(o,d+p,o+v,d+f,o+v,d).cubicBezierTo(o+v,d-f,o,d-f,o,d).close()}}},UZ=Phaser.Math.Linear,XZ={buildShapes(){for(var e=0;e<12;e++)this.addShape(new rs);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.isInitialize||this.isSizeChanged,a=this.radius,x=a/2,P=Math.ceil(a/20),n=this.getShapes(),T=0,i=n.length;T<i;T++){var h=n[T],m=T/i,c=Math.PI*2*m,u=UZ(.25,1,(1-this.value+m)%1);h.lineStyle(P,this.color,u),s&&h.setP0(e+Math.cos(c)*x,t+Math.sin(c)*x).setP1(e+Math.cos(c)*a,t+Math.sin(c)*a)}this.isInitialize=!1}},YZ={buildShapes(){this.addShape(new Ze().setName("track")),this.addShape(new Ze().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,a=s*.9,x=Math.ceil(a/25),P=s*.1,n=Math.PI*2*this.value;this.getShape("track").lineStyle(x,this.color,.7).setRadius(a).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(P).setCenterPosition(e+Math.cos(n)*a,t+Math.sin(n)*a)}},WZ={buildShapes(){this.addShape(new Ze().setName("track")),this.addShape(new ar().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,a=Math.ceil(s/25),x=s-a/2;this.getShape("track").lineStyle(a,this.color,.5).setRadius(x).setCenterPosition(e,t);var P=this.value*360,n=P+60;this.getShape("arc").lineStyle(a,this.color,1).setRadius(x).setCenterPosition(e,t).setAngle(P,n)}},HZ=Phaser.Math.Linear,$Z={buildShapes(){for(var e=0;e<4;e++){var t=new ar().setPie();this.addShape(t),t.setData("speed",HZ(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,a;this.prevValue!==void 0&&(a=this.value-this.prevValue,this.prevValue>this.value&&(a+=1));for(var x=this.getShapes(),P=0,n=x.length;P<n;P++){var T=x[P],i=(P+1)/n;if(this.prevValue===void 0){var h=P/n*360,m=h+90;T.fillStyle(this.color,i).setRadius(s).setCenterPosition(e,t).setAngle(h,m).setData("angle",h)}else{var h=T.getData("angle")+T.getData("speed")*a;h=h%360;var m=h+90;T.fillStyle(this.color,i).setRadius(s).setCenterPosition(e,t).setAngle(h,m).setData("angle",h)}}this.prevValue=this.value}},KZ={buildShapes(){this.addShape(new Ze)},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,a=s*this.value,x=Math.ceil(s/25),P=Bt(this.value);this.getShapes()[0].lineStyle(x,this.color,P).setRadius(a).setCenterPosition(e,t)}},ZZ=Phaser.Math.Linear,JZ=Phaser.Math.Easing.Expo.In,jZ={buildShapes(){this.addShape(new Ze().setName("center")),this.addShape(new ve().setName("arc0")),this.addShape(new ve().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,a=this.isInitialize||this.isSizeChanged,x=s*2/6,P=e-s+x,n=t+s-x,T=this.getShapes(),i=0,h=T.length;i<h;i++){var m=T[i],c=(this.value+(h-i)*.1)%1;c=JZ(Bt(c));var u=ZZ(.25,1,c);switch(m.name){case"center":m.fillStyle(this.color,u),a&&m.setRadius(x).setCenterPosition(P,n);break;case"arc0":if(m.fillStyle(this.color,u),a){var l=x*2,o=x*3;m.startAt(P,n-l).lineTo(P,n-o).setIterations(8).arc(P,n,o,270,360).lineTo(P+l,n).setIterations(6).arc(P,n,l,360,270,!0).close()}break;case"arc1":if(m.fillStyle(this.color,u),a){var l=x*4,o=x*5;m.startAt(P,n-l).lineTo(P,n-o).setIterations(8).arc(P,n,o,270,360).lineTo(P+l,n).setIterations(6).arc(P,n,l,360,270,!0).close()}break}}this.isInitialize=!1}},QZ={buildShapes(){for(var e=0;e<2;e++)this.addShape(new Ze)},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,a=Math.ceil(s/25),x=s-a,P=this.getShapes(),n=0,T=P.length;n<T;n++){var i=P[n],h=(this.value+n/T)%1,m=Bt(h);i.lineStyle(a,this.color,m).setRadius(h*x).setCenterPosition(e,t)}}},qZ={buildShapes(){this.addShape(new ar().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,a=Math.ceil(s/10),x=s-a,P=this.value*720,n=Bt(this.value)*180,T=P-n;this.getShape("arc").lineStyle(a,this.color,1).setRadius(x).setCenterPosition(e,t).setAngle(T+315,P+315)}};Phaser.Utils.Objects.GetValue;const nx={leftArrow:id,rightArrow:id,upArrow:id,downArrow:id,audio:SZ,ball:EZ,bars:RZ,box:OZ,clock:FZ,cube:DZ,dots:BZ,facebook:NZ,grid:VZ,hearts:zZ,ios:XZ,oribit:YZ,oval:WZ,pie:$Z,puff:KZ,radio:jZ,rings:QZ,spinner:qZ},ax=[];for(var _Z in nx)ax.push(_Z);const vb=Phaser.Utils.Array.GetRandom,tJ={setAnimationMode(e,t){nx.hasOwnProperty(e)||(e=vb(ax)),this.animationMode=e;var s=nx[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":s.setDirection.call(this,"left");break;case"rightArrow":s.setDirection.call(this,"right");break;case"upArrow":s.setDirection.call(this,"up");break;case"downArrow":s.setDirection.call(this,"down");break}return this.clear(),s.buildShapes.call(this),this.updateShapes=s.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=vb(ax);return this.setAnimationMode(t,e),this}},eJ=Phaser.Utils.Objects.GetValue,hS=class hS extends xf{constructor(t,s){super(t,s),this.type="rexSpinnerAIO",this.setAnimationMode(eJ(s,"animationMode"))}};r(hS,"AIO");let dl=hS;Object.assign(dl.prototype,tJ);rt.register("aioSpinner",function(e){var t=new dl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.AIOSpinner",dl);rt.register("transitionImage",function(e,t,s,a,x){var P=new ro(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.TransitionImage",ro);rt.register("transitionImagePack",function(e,t,s,a,x){var P=new Zr(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.TransitionImagePack",Zr);var iJ=r(function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=hy(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},"ScaleImage"),x3={scaleImage:iJ};Object.assign(x3,$L);var sJ=r(function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),be(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this},"ResizeBackground");const pb=Phaser.Utils.Objects.IsPlainObject,ys=Phaser.Utils.Objects.GetValue,lS=class lS extends Ve{constructor(t,s,a,x,P,n){pb(s)?(n=s,s=ys(n,"x",0),a=ys(n,"y",0),x=ys(n,"key",void 0),P=ys(n,"frame",void 0)):pb(P)&&(n=P,P=void 0);var T=ys(n,"image");T?T.setPosition(s,a).setOrigin(.5):(T=t.add.image(s,a,x,P),x===void 0&&T.setVisible(!1)),super(t,s,a,1,1),this.type="rexImageBox";var i=ys(n,"background");i&&this.add(i),this.background=i,this.add(T),this.image=T,this.scaleUp=ys(n,"scaleUp",!1);var h=ys(n,"width",T.width),m=ys(n,"height",T.height);this.resize(h,m)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,s){return super.resize(t,s),sJ.call(this),this.scaleImage(),this}setTexture(t,s){var a=this.image;return a.setTexture(t,s),t!==null?(this.setChildVisible(a,!0),this.scaleImage()):this.setChildVisible(a,!1),this}};r(lS,"ImageBox");let mo=lS;Object.assign(mo.prototype,x3);rt.register("imageBox",function(e,t,s,a,x){var P=new mo(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.ImageBox",mo);rt.register("fullWindowRectangle",function(e,t){var s=new nl(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.FullWindowRectangle",nl);rt.register("fullWindowZone",function(){var e=new py(this.scene);return this.scene.add.existing(e),e});it(window,"RexPlugins.UI.FullWindowZone",py);rt.register("cover",function(e){var t=new al(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Cover",al);rt.register("inputText",function(e){var t=new Ms(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.InputText",Ms);const gb=Phaser.Utils.Objects.GetValue;var rJ=r(function(e,t){var s=document.createElement("input");s.type="file";var a=gb(t,"accept",""),x=gb(t,"multiple",!1);return s.setAttribute("accept",a),x?s.setAttribute("multiple",""):s.removeAttribute("multiple"),s},"CreateFileInput"),y3=r(function(e,t){return e===void 0&&(e=0),new Promise(function(s,a){setTimeout(function(){s(t)},e)})},"Delay"),C3=r(function({game:e,fileInput:t,closeDelay:s}){return cc($r(e).events,"focus").then(function(){return y3(s)}).then(function(){var a={files:t.files};return Promise.resolve(a)})},"ClickPromise");const nJ=Phaser.Utils.Objects.GetValue,aJ=Phaser.DOM.RemoveFromDOM;var T3=r(function(e,t){var s=nJ(t,"closeDelay",200),a=rJ(e,t);return a.click(),C3({game:e,fileInput:a,closeDelay:s}).then(function(x){return aJ(a),a.remove(),Promise.resolve(x)})},"Open$1"),S3=r(function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},"SyncTo"),oJ=r(function(e,t,s){if(s===void 0)switch(t){case"image":case"svg":s="textures";break;case"animation":s="json";break;case"tilemapTiledJSON":case"tilemapCSV":s="tilemap";break;case"glsl":s="shader";break;default:s=t;break}e=$r(e);var a;return s==="textures"?a=e.textures:a=e.cache[s],a},"GetCache"),P3=r(function(e,t,s,a,x,P){if(!(x===null||x===!1))if(zi(x))x();else{var n=oJ(e,s,x);n.exists(a)&&n.remove(a)}var T=e.load;if(P&&T.once(`filecomplete-${s}-${a}`,function(h,m,c){P(c)}),zi(t))t();else{var i=window.URL.createObjectURL(t);T[s](a,i)}T.start()},"FileObjectToCache"),hJ=r(function(e,t,s,a,x){var P=this.scene;return P3(P,e,t,s,a,x),this},"LoadFile"),lJ=r(function(e,t,s,a){var x=this.scene;return new Promise(function(P,n){var T=r(function(i){P(i)},"onComplete");P3(x,e,t,s,a,T)})},"LoadFilePromise");const E3={loadFile:hJ,loadFilePromise:lJ},uJ=Phaser.GameObjects.DOMElement,mb=Phaser.Utils.Objects.IsPlainObject,Zi=Phaser.Utils.Objects.GetValue,uS=class uS extends uJ{constructor(t,s,a,x,P,n){mb(s)?(n=s,s=Zi(n,"x",0),a=Zi(n,"y",0),x=Zi(n,"width",0),P=Zi(n,"height",0)):mb(x)&&(n=x,x=Zi(n,"width",0),P=Zi(n,"height",0));var T=document.createElement("input");T.type="file";var i=T.style;i.display="none";var h=document.createElement("label");h.appendChild(T);var m=Zi(n,"style",void 0);super(t,s,a,h,m),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(x,P);var c=this;T.onchange=function(){c.emit("change",c)},this.setCloseDelay(Zi(n,"closeDelay",200)),T.onclick=function(){C3({game:t,fileInput:T,closeDelay:c.closeDelay}).then(function(){c.emit("select",c)})}}resetFromJSON(t){return this.setAccept(Zi(t,"accept","")),this.setMultiple(Zi(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}};r(uS,"FileChooser");let tn=uS;var dJ={resize:ny,syncTo:S3};Object.assign(tn.prototype,dJ,E3);rt.register("fileChooser",function(e){var t=new tn(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileChooser",tn);const fJ={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},cJ={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var M3={resize:ny,syncTo:S3};Object.assign(M3,fJ,cJ,E3);const vJ={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},pJ=Phaser.GameObjects.DOMElement,xb=Phaser.Utils.Objects.IsPlainObject,Cs=Phaser.Utils.Objects.GetValue,dS=class dS extends pJ{constructor(t,s,a,x,P,n){xb(s)?(n=s,s=Cs(n,"x",0),a=Cs(n,"y",0),x=Cs(n,"width",0),P=Cs(n,"height",0)):xb(x)&&(n=x,x=Cs(n,"width",0),P=Cs(n,"height",0)),n===void 0&&(n={});var T=document.createElement("div"),i=Cs(n,"style",void 0);super(t,s,a,T,i),this.type="rexFileDropZone",this.resize(x,P),this._files=[],this.setDropEnable(Cs(n,"dropEnable",!0));var h=Cs(n,"filters");h&&this.addFilters(h),IL(this,T,vJ,{preventDefault:!0,preTest(m){return m.dropEnable}}),this.on("drop",function(m,c){this._files=c.dataTransfer.files;var u=this._files;if(u&&this.filters)for(var l in this.filters){for(var o=this.filters[l],d=[],v=0,f=u.length;v<f;v++){var p=u[v];o(p,u)&&d.push(p)}d.length>0&&this.emit(`drop.${l}`,d)}},this)}get files(){return this._files}};r(dS,"FileDropZone");let fl=dS;Object.assign(fl.prototype,M3);rt.register("fileDropZone",function(e){var t=new fl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileDropZone",fl);var gJ=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s=this.sizerChildren,a,x,P,n,T,i=!1;if(this.childrenProportion,this.orientation===0)for(var h=!0,m=0,c=s.length;m<c;m++)a=s[m],a.hasOwnProperty("rexSizer")&&(x=a.rexSizer,!x.hidden&&(P=x.proportion,P===0||e?(T=this.getChildWidth(a),x.fitRatio>0&&!x.resolved&&(T=void 0),T===void 0&&(P!==0&&!this.hasProportion0Child?T=0:i=!0)):T=0,!i&&(n=a.rexSizer.padding,T+=(n.left+n.right)*this.scaleX,h?h=!1:T+=this.space.item*this.scaleX,t+=T)));else for(var m=0,c=s.length;m<c;m++)a=s[m],a.hasOwnProperty("rexSizer")&&(x=a.rexSizer,!x.hidden&&(T=this.getChildWidth(a),T===void 0&&(i=!0),!i&&(n=x.padding,T+=(n.left+n.right)*this.scaleX,t=Math.max(T,t))));if(!i)return t+(this.space.left+this.space.right)*this.scaleX},"GetChildrenWidth$3"),mJ=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s=this.sizerChildren,a,x,P,n,T,i=!1;if(this.childrenProportion,this.orientation===0)for(var h=0,m=s.length;h<m;h++)a=s[h],a.hasOwnProperty("rexSizer")&&(x=a.rexSizer,!x.hidden&&(T=this.getChildHeight(a),T===void 0&&(i=!0),!i&&(n=x.padding,T+=(n.top+n.bottom)*this.scaleY,t=Math.max(T,t))));else for(var c=!0,h=0,m=s.length;h<m;h++)a=s[h],a.hasOwnProperty("rexSizer")&&(x=a.rexSizer,!x.hidden&&(P=x.proportion,P===0||e?(T=this.getChildHeight(a),x.fitRatio>0&&!x.resolved&&(T=void 0),T===void 0&&(P!==0&&!this.hasProportion0Child?T=0:i=!0)):T=0,!i&&(n=x.padding,T+=(n.top+n.bottom)*this.scaleY,c?c=!1:T+=this.space.item*this.scaleY,t+=T)));if(!i)return t+(this.space.top+this.space.bottom)*this.scaleY},"GetChildrenHeight$3"),xJ=r(function(e,t){t===void 0&&(t=this.width*this.scaleX);var s,a=e.rexSizer;if(this.orientation===0)a.proportion>0&&this.proportionLength>0&&(s=a.proportion*this.proportionLength);else if(a.expand){var x=this.space,P=t-(x.left+x.right)*this.scaleX,n=a.padding;s=P-(n.left+n.right)*this.scaleX}return s},"GetExpandedChildWidth$2"),yJ=r(function(e,t){t===void 0&&(t=this.height);var s,a=e.rexSizer;if(this.orientation===0){if(a.expand){var x=this.space,P=t-(x.top+x.bottom)*this.scaleY,n=a.padding;s=P-(n.top+n.bottom)*this.scaleY}}else a.proportion>0&&this.proportionLength>0&&(s=a.proportion*this.proportionLength);return s},"GetExpandedChildHeight$2"),CJ=r(function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,a=0,x=t.length;a<x;a++)s=t[a],s.isRexSizer&&e.push(s);return e},"GetChildrenSizers$3"),TJ=r(function(){this.hasRatioFitChild=!1;for(var e,t,s=this.sizerChildren,a=0,x=s.length;a<x;a++)e=s[a],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(be(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,iu.call(this),this},"PreLayout$3");const SJ=Phaser.Math.Wrap;var PJ=r(function(){for(var e=this.sizerChildren,t,s,a,x=this.innerLeft,P=this.innerTop,n=this.innerWidth,T=this.innerHeight,i=x,h=P,m,c,u,l,o,d,v,f,p,g=this.startChildIndex,y=0,C=e.length;y<C;y++)g===0?p=y:p=SJ(y+g,0,C),this.rtl&&(p=C-p-1),t=e[p],!t.rexSizer.hidden&&(s=t.rexSizer,a=s.padding,su.call(this,t),t.isRexSpace?(v=0,f=0):(v=this.getExpandedChildWidth(t),f=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,v,f),zy(t,this)):be(t,v,f),v===void 0&&(v=Ot(t)),f===void 0&&(f=bt(t)),this.orientation===0?(m=i+a.left*this.scaleX,s.proportion===0||this.proportionLength===0?u=v:u=s.proportion*this.proportionLength,c=h+a.top*this.scaleY,l=T-(a.top+a.bottom)*this.scaleY):(m=i+a.left*this.scaleX,u=n-(a.left+a.right)*this.scaleX,c=h+a.top*this.scaleY,s.proportion===0||this.proportionLength===0?l=f:l=s.proportion*this.proportionLength),v===void 0&&(v=Ot(t)),f===void 0&&(f=bt(t)),o=(s.alignOffsetX+s.alignOffsetOriginX*v)*this.scaleX,d=(s.alignOffsetY+s.alignOffsetOriginY*f)*this.scaleY,ru.call(this,t,m,c,u,l,s.align,o,d),this.orientation===0?i+=u+(a.left+a.right)*this.scaleX+this.space.item*this.scaleX:h+=l+(a.top+a.bottom)*this.scaleY+this.space.item*this.scaleY)},"LayoutChildren$4"),EJ=r(function(t){var t=Ay.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var s=t-this.childrenWidth;s>0?(s=t-this.getChildrenWidth(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},"ResolveWidth$1"),MJ=r(function(t){var t=Iy.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var s=t-this.childrenHeight;s>0?(s=t-this.getChildrenHeight(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},"ResolveHeight$1"),wJ=r(function(){return this.hasRatioFitChild&&this.orientation===1?!0:Ly.call(this)},"HasWidthWrap$1"),w3=r(function(e,t){if(this.hasRatioFitChild){var s;this.orientation===0?s=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var a,x,P,n,T=this.sizerChildren,i=0,h=T.length;i<h;i++){var a=T[i],x=a.rexSizer;if(!x.hidden){var m=x.fitRatio;m&&(this.orientation===0?(n=s-(this.getChildOuterPadding(a,"top")+this.getChildOuterPadding(a,"bottom"))*this.scaleY,P=n*m):(P=s-(this.getChildOuterPadding(a,"top")+this.getChildOuterPadding(a,"bottom"))*this.scaleX,n=P/m),be(a,P,n),a.isRexSizer&&a.setMinSize(P,n),x.resolved=!0)}}}},"ExpandFitRatioChildren"),RJ=r(function(e){this.wrapResult||(this.orientation===1&&w3.call(this,e,void 0),Fy.call(this,e))},"RunWidthWrap$2"),OJ=r(function(){return this.hasRatioFitChild&&this.orientation===0?!0:Dy.call(this)},"HasHeightWrap$1"),bJ=r(function(e){this.wrapResult||(this.orientation===0&&w3.call(this,void 0,e),By.call(this,e))},"RunHeightWrap$2");const AJ=Phaser.GameObjects.Zone,fS=class fS extends AJ{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}};r(fS,"Space");let cl=fS;var LJ=r(function(e,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var a=-1,x=1/0,P=0,n=s.length;P<n;P++){var T=s[P],i;this.orientation===0?i=Math.abs(T.left-e):i=Math.abs(T.top-t),x>i&&(x=i,a=P)}var T=s[s.length-1],i;return this.orientation===0?i=Math.abs(T.right-e):i=Math.abs(T.bottom-t),x>i&&(x=i,a=P+1),a},"GetNearestChildIndex$1");const R3=Phaser.Utils.Objects.IsPlainObject,ti=Phaser.Utils.Objects.GetValue,yb=Phaser.Display.Align.CENTER,FJ={min:0,full:-1};var S0=r(function(e,t,s,a,x,P,n,T,i,h){var m,c,u,l;tu.call(this,e);var o=e.isRexSpace,d=typeof t;if(t===null)return this;if(d!=="number"){if(d==="string")t=FJ[t];else if(R3(t)){var v=t;t=ti(v,"proportion",void 0),s=ti(v,"align",yb),a=ti(v,"padding",0),x=ti(v,"expand",!1),P=ti(v,"key",void 0),n=ti(v,"index",void 0),e.isRexSizer||(T=ti(v,"minWidth",void 0),i=ti(v,"minHeight",void 0)),h=ti(v,"fitRatio",0),m=ti(v,"offsetX",0),c=ti(v,"offsetY",0),u=ti(v,"offsetOriginX",0),l=ti(v,"offsetOriginY",0)}}typeof s=="string"&&(s=Xo[s]),t===void 0&&(t=o?1:0),s===void 0&&(s=yb),a===void 0&&(a=0),x===void 0&&(x=!1),T===void 0&&(o?T=0:e.isRexSizer||(T=e._minWidth)),i===void 0&&(o?i=0:e.isRexSizer||(i=e._minHeight)),h===void 0||h===!1?h=0:h===!0&&(h=Ot(e)/bt(e)),m===void 0&&(m=0),c===void 0&&(c=0),u===void 0&&(u=0),l===void 0&&(l=0);var v=this.getSizerConfig(e);return v.proportion=t,v.align=s,v.padding=mn(a),v.expand=x,v.fitRatio=t===0?h:0,v.alignOffsetX=m,v.alignOffsetY=c,v.alignOffsetOriginX=u,v.alignOffsetOriginY=l,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=T===void 0?Ot(e):T:e.minHeight=i===void 0?bt(e):i),x&&(this.orientation===0?e.minHeight=i:e.minWidth=T)),P!==void 0&&this.addChildrenMap(P,e),this},"Add$6");const IJ={add:S0,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),S0.call(this,new cl(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,s,a,x,P,n,T){return R3(s)&&(s.index=e),S0.call(this,t,s,a,x,P,n,e,T),this},insertAtPosition(e,t,s,a,x,P,n,T,i){var h=LJ.call(this,e,t);return h===-1&&(h=void 0),this.insert(h,s,a,x,P,n,T,i),this}},DJ=Phaser.Utils.Array.Remove,BJ={remove(e,t){return this.getParentSizer(e)!==this?this:(DJ(this.sizerChildren,e),eu.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Pc.call(this,e),this}},GJ={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=Xo[t]),this.getSizerConfig(e).align=t,this}},NJ={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},kJ={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var VJ=r(function(e){e===void 0&&(e="left");var t=this.sizerChildren,s=t[0],a=s&&s.isRexSpace;e==="right"||e==="bottom"||e==="center"?a||this.insertSpace(0):a&&this.remove(s,!0);var x=t.length-1,P=t[x],n=P&&P.isRexSpace;return e==="center"?n||this.insertSpace(x+1):n&&this.remove(P,!0),this},"SetChildrenAlignMode");const Xy={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(s,a){var x=s.getData(e),P=a.getData(e);return t?P-x:x-P}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(s,a){var x=s[e],P=a[e];return t?P-x:x-P}),this}};var O3={getChildrenWidth:gJ,getChildrenHeight:mJ,getExpandedChildWidth:xJ,getExpandedChildHeight:yJ,getChildrenSizers:CJ,preLayout:TJ,layoutChildren:PJ,resolveWidth:EJ,resolveHeight:MJ,hasWidthWrap:wJ,runWidthWrap:RJ,hasHeightWrap:OJ,runHeightWrap:bJ,setChildrenAlignMode:VJ};Object.assign(O3,IJ,BJ,GJ,NJ,kJ,Xy);var zJ=r(function(){for(var e=0,t=this.sizerChildren,s,a,x=0,P=t.length;x<P;x++)s=t[x],!s.rexSizer.hidden&&(a=s.rexSizer.proportion,a>0?e+=a:a===0&&(this.hasProportion0Child=!0));return e},"GetChildrenProportion");const P0=Phaser.Utils.Objects.IsPlainObject,ci=Phaser.Utils.Objects.GetValue,cS=class cS extends Cn{constructor(t,s,a,x,P,n,T){P0(s)?(T=s,s=ci(T,"x",0),a=ci(T,"y",0),x=ci(T,"width",void 0),P=ci(T,"height",void 0),n=ci(T,"orientation",0)):P0(x)?(T=x,x=ci(T,"width",void 0),P=ci(T,"height",void 0),n=ci(T,"orientation",0)):P0(n)&&(T=n,n=ci(T,"orientation",0)),n===void 0&&(n=0),super(t,s,a,x,P,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(ci(T,"space.item",0)),this.setStartChildIndex(ci(T,"startChildIndex",0)),this.setRTL(ci(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=yn(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=zJ.call(this)),this._childrenProportion}};r(cS,"Sizer");let yt=cS;Object.assign(yt.prototype,O3);var sd=r(function(e,t,s){if(e){var a=t==null,x=s==null;return a&&x||(a||(e.displayWidth=t),x||(e.displayHeight=s),a&&(e.scaleX=e.scaleY),x&&(e.scaleY=e.scaleX)),e}},"SetDisplaySize"),UJ=r(function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var s=this.childrenMap.icon;if(s){e.icon?this.show(s):this.hide(s);var a=e.iconSize;a&&(this.setChildDisplaySize(s,a,a),this.iconWidth!==void 0&&this.setIconSize(a)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var x=this.childrenMap.action;if(x){e.action?this.show(x):this.hide(x);var P=e.actionSize;P&&(this.setChildDisplaySize(x,P,P),this.actionWidth!==void 0&&this.setActionSize(P)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},"ResetDisplayContent$2"),XJ={appendText:bL,resetDisplayContent:UJ};const vS=class vS extends yt{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var s=this.childrenMap.text;s&&s.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,s){var a=this.childrenMap.icon;return!a||!a.setTexture?this:(a.setTexture(t,s),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(sd(a,this.iconWidth,this.iconHeight),this.resetChildScaleState(a)),this)}setTexture(t,s){return this.setIconTexture(t,s),this}setIconSize(t,s){return s===void 0&&(s=t),this.iconWidth=t,this.iconHeight=s,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,s){var a=this.childrenMap.action;return!a||!a.setTexture?this:(a.setTexture(t,s),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(sd(a,this.actionWidth,this.actionHeight),this.resetChildScaleState(a)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,s){return s===void 0&&(s=t),this.actionWidth=t,this.actionHeight=s,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&sd(t,this.iconWidth,this.iconHeight);var s=this.childrenMap.action;s&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&sd(s,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,s,a){var x=this.childrenMap.iconMask;x&&(x.setPosition(),this.resetChildPositionState(x));var P=this.childrenMap.actionMask;return P&&(P.setPosition(),this.resetChildPositionState(P)),super.postLayout(t,s,a),this}resize(t,s){super.resize(t,s);var a=this.childrenMap.iconMask;a&&a.resize();var x=this.childrenMap.actionMask;return x&&x.resize(),this}};r(vS,"LabelBase");let vl=vS;Object.assign(vl.prototype,XJ);var Xi=r(function(e,t,s,a){var x=new so(t,s,a);if(e&&!e.isRexSizer){var P=x.createGeometryMask();e.setMask(P),this.once("destroy",function(){e.setMask(),P.destroy()})}return this.pin(x),x},"AddChildMask");const YJ=Phaser.GameObjects.Text;var Yy=r(function(e){return e instanceof YJ},"IsTextGameObject");const WJ=Phaser.GameObjects.BitmapText;var b3=r(function(e){return e instanceof WJ},"IsBitmapTextGameObject");const Ae=0,Le=1,ri=2;var vr=r(function(e){var t;return b3(e)?t=ri:Yy(e)?t=Ae:t=Le,t},"GetTextObjectType"),HJ=r(function(e,t){for(var s=[],a=e.split(`
`),x=t.style,P=x.wordWrapWidth,n=x.hasOwnProperty("wrapMode")?x.wrapMode:3,T=t.context,i=0,h=a.length;i<h;i++)KJ(T,a[i],P,n,s);return s},"TextWrapByCharCallback"),$J=r(function(e,t){var s;if(t===2)s=e.split("");else{s=[];for(var a=e.split(" "),x,P=0,n=a.length;P<n;P++)x=a[P],P<n-1?Gh(x)?s.push(x+" "):(s.push(...x.split("")),s.push(" ")):x!==""&&(Gh(x)?s.push(x):s.push(...x.split("")))}return s},"GetTokenArray"),KJ=r(function(e,t,s,a,x){if(t.length<=100){var P=e.measureText(t).width;if(P<=s)return x.push(t),x}for(var n=$J(t,a),T,i,h=[],m=s,c=0,u=n.length;c<u;c++)T=n[c],i=e.measureText(T).width,m-=i,m<0&&(x.push(h.join("")),h.length=0,m=s-i),h.push(T);return h.length>0&&x.push(h.join("")),x},"WrapLine"),ox=r(function(e,t){var s=vr(e);switch(s){case Ae:switch(typeof t=="string"&&(t=Ud[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=HJ;break;case 1:default:e.style.wordWrapCallback=null;break}break;case Le:typeof t=="string"&&(t=Ud[t]||0),e.style.wrapMode=t;break}},"SetWrapMode"),ZJ=r(function(e){var t=r(function(s){var a=e.padding,x=s-(a.left+a.right)*e.scaleX,P=e.style;return Yy(e)?(P.wordWrapWidth=x,P.maxLines=0):(P.wrapMode===0&&(P.wrapMode=1),P.wrapWidth=x,P.maxLines=0),P.fixedWidth=s,P.fixedHeight=0,e.updateText(),e.minHeight=e.height,e},"RunWidthWrap");return t},"TextRunWidthWrap"),JJ=r(function(e){var t=r(function(s){return e.setFixedSize(s,0).runWordWrap(),e.minHeight=e.height,e},"RunWidthWrap");return t},"DynamicTextRunWidthWrap"),jJ=r(function(e){var t=r(function(s){return e.setMaxWidth(s),e.minHeight=e.height,e},"RunWidthWrap");return t},"BitmapTextRunWidthWrap"),QJ=r(function(e){return e instanceof or},"IsDynamicTextGameObject"),yf=r(function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=QJ(e)?JJ(e):b3(e)?jJ(e):ZJ(e),e},"WrapExpandText");const E0=65535;var Cf=r(function(e,t,s){if(t==null)return e;if(t===0)return M0(e,0,s),e;var a=e.text.length;if(a===0)return M0(e,t,s),e;var x=Math.floor(t*1.5/a);s!==void 0&&x>s&&(x=Math.floor(s));for(var P={},n=Tb(e,x,t,s,P),T=0;T<=E0&&n!==0;T++){if(x+=n,x<0){x=0;break}n=Tb(e,x,t,s,P)}return T===E0&&console.warn(`FontSizeFit: Test count exceeds ${E0}`),e.setFontSize(x),M0(e,t,s),e},"FontSizeFit"),Cb=r(function(e,t,s){return s[t]===void 0&&(e.setFontSize(t),s[t]={width:e.width,height:e.height}),s[t]},"GetTextSize"),Tb=r(function(e,t,s,a,x){var P=Cb(e,t,x),n=Cb(e,t+1,x),T;if(a!==void 0)if(P.height<=a&&n.height>a)T=0;else{if(P.height>a)return-1;T=Math.floor(a-P.height)}var i;if(P.width<=s&&n.width>s)return 0;if(P.width>s)return-1;var i=Math.floor(s-P.width);return T===void 0?i:Math.min(i,T)},"TestFontSize"),M0=r(function(e,t,s){var a=e.style;a&&(a.fixedWidth=t,a.parent.width=t,s!==void 0&&(a.fixedHeight=s,a.parent.height=s),a.update(!1))},"SetTextWidth");const w0=Phaser.Utils.Objects.GetValue;var Tf=r(function(e,t){typeof t=="number"&&(t={minWidth:t});var s=w0(t,"minWidth",0),a=w0(t,"minHeight",0),x=w0(t,"fitHeight",!1);return e._minWidth=s,e._minHeight=a,x?(e.runWidthWrap=function(P){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(P,n){return Cf(e,P,n),e}):(e.runWidthWrap=function(P){return e.setFixedSize&&e.setFixedSize(0,0),Cf(e,P,void 0),e},e.resize=function(P,n){return e.width===P&&e.height===n||e.setFixedSize(P,n),e}),e},"FontSizeExpandText");const Mt=Phaser.Utils.Objects.GetValue,pS=class pS extends vl{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexLabel";var a=Mt(s,"background",void 0),x=Mt(s,"icon",void 0),P=Mt(s,"iconMask",void 0),n=Mt(s,"text",void 0),T=Mt(s,"action",void 0),i=Mt(s,"actionMask",void 0),h=Mt(s,"align",void 0);if(a&&this.addBackground(a),x){var m;this.orientation===0?(n||T)&&(m={right:Mt(s,"space.icon",0),top:Mt(s,"space.iconTop",0),bottom:Mt(s,"space.iconBottom",0),left:Mt(s,"space.iconLeft",0)}):(n||T)&&(m={bottom:Mt(s,"space.icon",0),left:Mt(s,"space.iconLeft",0),right:Mt(s,"space.iconRight",0),top:Mt(s,"space.iconTop",0)});var c=Mt(s,"squareFitIcon",!1)?1:0;if(this.add(x,{proportion:0,padding:m,fitRatio:c}),P&&(P=Xi.call(this,x,x,1)),!c){var u=Mt(s,"iconSize",void 0);this.setIconSize(Mt(s,"iconWidth",u),Mt(s,"iconHeight",u))}}if(n){var l=Mt(s,"wrapText",!1),o=Mt(s,"adjustTextFontSize",!1);l?(l===!0&&(l="word"),ox(n,l),s.expandTextWidth=!0,yf(n)):o&&(s.expandTextWidth=!0,s.expandTextHeight=!0,Tf(n,{fitHeight:!0}));var d=Mt(s,"space.text",0),v=Mt(s,"expandTextWidth",!1),f=Mt(s,"expandTextHeight",!1),p,m,g;this.orientation===0?(p=v?1:0,T&&(m={right:d}),g=f):(p=f?1:0,T&&(m={bottom:d}),g=v),this.add(n,{proportion:p,expand:g,padding:m})}if(T){var m;this.orientation===0?m={top:Mt(s,"space.actionTop",0),bottom:Mt(s,"space.actionBottom",0),right:Mt(s,"space.actionRight",0)}:m={left:Mt(s,"space.actionLeft",0),right:Mt(s,"space.actionRight",0),bottom:Mt(s,"space.actionBottom",0)};var c=Mt(s,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:m,fitRatio:c}),i&&(i=Xi.call(this,T,T,1)),!c){var y=Mt(s,"actionSize");this.setActionSize(Mt(s,"actionWidth",y),Mt(s,"actionHeight",y))}}this.setChildrenAlignMode(h),this.addChildrenMap("background",a),this.addChildrenMap("icon",x),this.addChildrenMap("iconMask",P),this.addChildrenMap("text",n),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",i)}};r(pS,"Label");let Yi=pS;const Js=Phaser.Utils.Objects.GetValue;var qJ=r(function(e,t){var s=Js(t,"canvas"),a=Js(s,"width",128),x=Js(s,"height",128),P=new bs(e,0,0,a,x);e.add.existing(P);var n=Js(s,"key"),T=Js(s,"frame"),i=Js(s,"fill");return i!==void 0?P.fill(i):n!==void 0&&P.loadTexture(n,T),P.setTexture=P.loadTexture.bind(P),P},"CreateCanvas"),_J=r(function(e,t){var s=new mo(e,{scaleUp:Js(t,"scaleUpIcon",!1),background:Js(t,"iconBackground"),image:qJ(e,t)});return e.add.existing(s),s},"CreateImageBox");const tj=Phaser.Utils.Objects.GetValue;var A3=r(function(e,t){var s=tj(t,"clickTarget",this);return typeof s=="string"&&(s=e.getElement(s)),s},"GetClickTarget");const ej=Phaser.Utils.Objects.GetValue;var ij=r(function(e,t){var s=A3(e,t);if(s){var a=ej(t,"click"),x=new Ls(s,a);return x.on("click",e.open,e),x}},"CreateClickBehavior");const L3={accept:"image/*",multiple:!1};var F3=r(function(e,t){if(t.length!==0){var s=e.childrenMap.icon,a=s.image,x=t[0];return a.loadFromFilePromise(x).then(function(){return s.scaleImage(),e.emit("select",x,e),Promise.resolve(x)})}},"OnSelectFile"),sj=r(function(e,t){var s=e.scene,a=new tn(s,L3);return s.add.existing(a),e.pin(a),a.on("change",function(){F3(e,a.files)}),a},"CreateFileChooser");const rj={async openPromise(){var e=this;return T3(this.scene.game,L3).then(function(t){return F3(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var nj=r(function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},"GetFileName"),aj=r(function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},"SaveTexture"),I3={getFileName:nj,saveTexture:aj};Object.assign(I3,rj);const oj=Phaser.Utils.Objects.GetValue,gS=class gS extends Yi{constructor(t,s){var a=_J(t,s);s.icon=a,super(t,s),this.type="rexImageFileInputLabel";var x=this.iconWidth,P=this.iconWidth;x!==void 0&&P!==void 0&&a.resize(x,P),this.clickTarget=A3(this,s),this.clickTarget&&(oj(s,"domButton",!0)?this.fileChooser=sj(this):this.clickBehavior=ij(this,s)),this.addChildrenMap("canvas",a.image),this.addChildrenMap("iconBackground",a.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,s,a){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,s,a)}};r(gS,"ImageInputLabel");let pl=gS;Object.assign(pl.prototype,I3);rt.register("imageInputLabel",function(e){var t=new pl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ImageInputLabel",pl);var Ua;let hj=(Ua=class extends Nt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(Rt(t,s))return t[s];var a=t.parent;if(Rt(a,s))return a[s]}set(t,s,a){return Rt(t,s)?t[s]=a:Rt(t.parent,s)&&(t.parent[s]=a),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}},r(Ua,"Style"),Ua);const R0=Phaser.Utils.Objects.GetValue,mS=class mS extends Nt{constructor(t,s){super(t,s),this.style=R0(s,"style",this);var a=R0(s,"propertiesMap");this.activeStyle=O0(s,"active",a),this.hoverStyle=O0(s,"hover",a),this.disableStyle=O0(s,"disable",a),this.onModifyStyle=R0(s,"onModifyStyle")}getStyle(t){return vc(this.style,t)}modifyStyle(t){for(var s in t)this.style[s]=t[s];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var s=this.getStyle(t);if(!Zl(s,t))return this.modifyStyle(t),s}}setActiveState(t){return b0.call(this,"active",t),this}setHoverState(t){return b0.call(this,"hover",t),this}setDisableState(t){return b0.call(this,"disable",t),this}};r(mS,"StyleManager");let hx=mS;var O0=r(function(e,t,s){var a=bd(e,t);if(s)for(var x in a)s.hasOwnProperty(x)&&(a[s[x]]=a[x],delete a[x]);return a},"ExtractStyle"),b0=r(function(e,t){t===void 0&&(t=!0);var s=`${e}State`,a=`${e}Style`,x=`${e}StyleSave`;this[s]!==t&&(this[s]=t,t?this[x]=this.applyStyle(this[a]):(this.applyStyle(this[x]),this[x]=void 0))},"SetStateEnableMethod");const Tn={addStyleManager(e){return this.styleManager=new hx(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},lj=Phaser.GameObjects.Image,ph=Phaser.Utils.Objects.GetValue,xS=class xS extends lj{constructor(t,s){s===void 0&&(s={});var a=ph(s,"x",0),x=ph(s,"y",0),P=ph(s,"key",""),n=ph(s,"frame",void 0);super(t,a,x,P,n),this.type="rexStatesImage";var T=ph(s,"effects",!0);T&&zo(this,T),this.style=new hj(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}};r(xS,"StatesImage");let en=xS;Object.assign(en.prototype,Tn);rt.register("statesImage",function(e){var t=new en(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesImage",en);const yS=class yS extends xn{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexStatesRoundRectangleShape",s.style=this,s.propertiesMap=uj,this.addStyleManager(s),delete s.style,delete s.propertiesMap}};r(yS,"StatesRoundRectangle");let sn=yS;const uj={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(sn.prototype,Tn);rt.register("statesRoundRectangle",function(e){var t=new sn(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesRoundRectangle",sn);var Xa;let dj=(Xa=class extends Nt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(Rt(t,s))return t[s];var a=t.parent;if(Rt(a,s))return a[s]}set(t,s,a){return Rt(t,s)?t[s]=a:Rt(t.parent,s)&&(t.parent[s]=a),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}},r(Xa,"Style"),Xa);const fj=Phaser.GameObjects.NineSlice,Ai=Phaser.Utils.Objects.GetValue,CS=class CS extends fj{constructor(t,s){s===void 0&&(s={});var a=Ai(s,"x",0),x=Ai(s,"y",0),P=Ai(s,"key",null),n=Ai(s,"frame",null),T=Ai(s,"width",0),i=Ai(s,"height",0),h=Ai(s,"leftWidth",0),m=Ai(s,"rightWidth",0),c=Ai(s,"topHeight",0),u=Ai(s,"bottomHeight",0);super(t,a,x,P,n,T,i,h,m,c,u),this.type="rexStatesNineSlice";var l=Ai(s,"effects",!0);l&&zo(this,l),this.style=new dj(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}};r(CS,"StatesNineSlice");let rn=CS;Object.assign(rn.prototype,Tn);rt.register("statesNineSlice",function(e){var t=new rn(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesNineSlice",rn);var Ya;let cj=(Ya=class extends Nt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(Rt(t,s))return t[s];var a=t.parent;if(Rt(a,s))return a[s]}set(t,s,a){return Rt(t,s)?t[s]=a:Rt(t.parent,s)&&(t.parent[s]=a),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}},r(Ya,"Style"),Ya);const vj=Phaser.Utils.Objects.GetValue,TS=class TS extends uc{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexStatesNinePatch";var a=vj(s,"effects",!0);a&&zo(this,a),this.style=new cj(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}};r(TS,"StatesNinePatch");let nn=TS;Object.assign(nn.prototype,Tn);rt.register("statesNinePatch",function(e){var t=new nn(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesNinePatch",nn);const pj=Phaser.GameObjects.Text,A0=Phaser.Utils.Objects.GetValue,SS=class SS extends pj{constructor(t,s){s===void 0&&(s={});var a=A0(s,"x",0),x=A0(s,"y",0),P=A0(s,"text","");super(t,a,x,P,s),this.type="rexStatesText",s.style=this.style,s.onModifyStyle=function(n,T){var i=T.hasOwnProperty("fontStyle")||T.hasOwnProperty("fontSize")||T.hasOwnProperty("fontFamily");n.style.update(i)},this.addStyleManager(s),delete s.style}};r(SS,"StatesText");let xo=SS;Object.assign(xo.prototype,Tn);rt.register("statesText",function(e){var t=new xo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesText",xo);const PS=class PS extends Nt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(Rt(t,s))return t[s];var a=t.parent;if(Rt(a,s))return a[s]}set(t,s,a){return Rt(t,s)?t[s]=a:Rt(t.parent,s)&&(t.parent[s]=a),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}};r(PS,"Style");let lx=PS;const gj=Phaser.GameObjects.BitmapText,Ar=Phaser.Utils.Objects.GetValue,ES=class ES extends gj{constructor(t,s){s===void 0&&(s={});var a=Ar(s,"x",0),x=Ar(s,"y",0),P=Ar(s,"font",""),n=Ar(s,"fontSize",!1),T=Ar(s,"align",0),i=Ar(s,"tint");super(t,a,x,P,"",n,T),this.type="rexStatesBitmapText",i!==void 0&&this.setTint(i);var h=Ar(s,"effects",!0);h&&zo(this,h),this.style=new lx(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}};r(ES,"StatesBitmapText");let yo=ES;Object.assign(yo.prototype,Tn);rt.register("statesBitmapText",function(e){var t=new yo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesBitmapText",yo);const MS=class MS extends pc{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("value")||(s.value=0),s.hasOwnProperty("hover.bar")||(s["hover.bar"]=!0),s.hasOwnProperty("easeDuration")||(s.easeDuration=200),s.hasOwnProperty("ease")||(s.ease="Quad"),it(s,"easeValue.duration",s.easeDuration),it(s,"easeValue.ease",s.ease),super(t,s),this.type="rexStatesBarRectangleShape",this.barState=!1,s.style=this,s.propertiesMap=mj,this.addStyleManager(s),delete s.style,delete s.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}};r(MS,"StatesBarRectangle");let Co=MS;const mj={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(Co.prototype,Tn);rt.register("statesBarRectangle",function(e){var t=new Co(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesBarRectangle",Co);var xj=r(function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,yj(this,e)),this},"SetChart"),yj=r(function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var s=t.options;s.responsive=!1,s.maintainAspectRatio=!1,s.hasOwnProperty("devicePixelRatio")||(s.devicePixelRatio=1);var a=!1;s.animation===void 0?s.animation={}:s.animation===!1&&(a=!0,s.animation={});var x=s.animation;a&&(x.duration=0);var P=x.onProgress;x.onProgress=function(T){P&&P(T),e.needRedraw()};var n=x.onComplete;return x.onComplete=function(T){n&&n(T),e.needRedraw()},t},"FillConfig"),Cj=r(function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,s,a=0,x=t.length;a<x;a++)if(s=t[a],s.label===e)return s}else return this.chart.data.datasets[e]},"GetChartDataset"),Tj=r(function(e,t){var s=this.getChartDataset(e);if(s!==void 0){if(typeof t=="string"){var a=this.chart.data.labels;if(t=a.indexOf(t),t===-1)return}return s.data[t]}},"GetChartData"),Sj=r(function(e,t,s){if(this.chart===void 0)return this;var a=this.getChartDataset(e);if(typeof t=="string"){var x=this.chart.data.labels;if(t=x.indexOf(t),t===-1)return this}return a.data[t]=s,this},"SetChartData"),Pj=r(function(){return this.chart===void 0?this:(this.chart.update(),this)},"UpdateChart"),Wa;let Wy=(Wa=class extends bs{constructor(t,s,a,x,P,n){super(t,s,a,x,P),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,s){if(t===this.width&&s===this.height)return this;if(super.resize(t,s),this.chart){var a=this.chart;a.height=this.canvas.height,a.width=this.canvas.width,a.aspectRatio=a.height?a.width/a.height:null,a.update()}return this}},r(Wa,"Chart"),Wa);var Ej={setChart:xj,getChartDataset:Cj,getChartData:Tj,setChartData:Sj,updateChart:Pj};Object.assign(Wy.prototype,Ej);rt.register("chart",function(e,t,s,a,x){var P=new Wy(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.Chart",Wy);rt.register("container",function(e,t,s,a,x){var P=new Ve(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.Container",Ve);rt.register("sizer",function(e,t,s,a,x,P){var n=new yt(this.scene,e,t,s,a,x,P);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.Sizer",yt);var D3=r(function(){return Array.prototype.reduce.call(arguments,Mj,0)},"Sum"),Mj=r(function(e,t){return e+t},"Add$5"),wj=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s,a=this.sizerChildren,x,P,n,T,i=!1;this.totalColumnProportions;for(var h=0;h<this.columnCount;h++){if(T=this.columnProportions[h],s=0,T===0||e){for(var m=0;m<this.rowCount;m++)x=a[m*this.columnCount+h],x&&(x.rexSizer.hidden||(n=this.getChildWidth(x),n===void 0&&(T!==0&&!this.hasColumnProportion0Child?n=0:i=!0),!i&&(P=x.rexSizer.padding,n+=(P.left+P.right)*this.scaleX,s=Math.max(s,n))));i||(t+=s)}i||e&&(this.columnWidth[h]=s)}if(!i){var c=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),u=D3(this.space.left,c,...this.space.column,this.space.right);return t+u*this.scaleX}},"GetChildrenWidth$2"),Rj=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s,a=this.sizerChildren,x,P,n,T,i=!1;this.totalRowProportions;for(var h=0;h<this.rowCount;h++){if(T=this.rowProportions[h],s=0,T===0||e){for(var m=0;m<this.columnCount;m++)x=a[h*this.columnCount+m],x&&(x.rexSizer.hidden||(n=this.getChildHeight(x),n===void 0&&(T!==0&&!this.hasRowProportion0Child?n=0:i=!0),!i&&(P=x.rexSizer.padding,n+=(P.top+P.bottom)*this.scaleY,s=Math.max(s,n))));i||(t+=s)}i||e&&(this.rowHeight[h]=s)}if(!i){var c=Math.max(this.space.indentTopOdd,this.space.indentTopEven),u=D3(this.space.top,c,...this.space.row,this.space.bottom);return t+u*this.scaleY}},"GetChildrenHeight$2"),Oj=r(function(e,t){var s,a=e.rexSizer;if(a.expandWidth){var x=a.padding;s=t-(x.left+x.right)*this.scaleX}return s},"GetExpandedChildWidth$1"),bj=r(function(e,t){var s,a=e.rexSizer;if(a.expandHeight){var x=a.padding;s=t-(x.top+x.bottom)*this.scaleY}return s},"GetExpandedChildHeight$1"),Aj=r(function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,a=0,x=t.length;a<x;a++)s=t[a],s&&s.isRexSizer&&e.push(s);return e},"GetChildrenSizers$2"),Lj=r(function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,iu.call(this),this},"PreLayout$2"),Fj=r(function(){for(var e,t,s,a=this.innerLeft,x=this.innerTop,P,n=x,T,i,h,m,c,u,l,o,d,v,f,p,g=0;g<this.rowCount;g++){v=this.getRowHeight(g),f=g%2?this.space.indentLeftEven:this.space.indentLeftOdd,P=a+f*this.scaleX;for(var y=0;y<this.columnCount;y++){if(d=this.getColumnWidth(y),e=this.getChildAt(y,g),!e||e.rexSizer.hidden){P+=d+this.space.column[y]*this.scaleX;continue}su.call(this,e),l=this.getExpandedChildWidth(e,d),o=this.getExpandedChildHeight(e,v),e.isRexSizer?(e.runLayout(this,l,o),zy(e,this)):be(e,l,o),t=e.rexSizer,s=t.padding,T=P+s.left*this.scaleX,h=d-(s.left+s.right)*this.scaleX,p=y%2?this.space.indentTopEven:this.space.indentTopOdd,i=n+p*this.scaleY+s.top*this.scaleY,m=v-(s.top+s.bottom)*this.scaleY,l===void 0&&(l=Ot(e)),o===void 0&&(o=bt(e)),c=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,u=(t.alignOffsetY+t.alignOffsetOriginY*o)*this.scaleY,ru.call(this,e,T,i,h,m,t.align,c,u),P+=d+this.space.column[y]*this.scaleX}n+=v+this.space.row[g]*this.scaleY}},"LayoutChildren$3"),Ij=r(function(t){var t=Ay.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var s=this.totalColumnProportions;if(s>0){var a=t-this.getChildrenWidth(!1);a>=0&&(this.proportionWidthLength=a/s)}else this.proportionWidthLength=0}return t},"ResolveWidth"),Dj=r(function(t){var t=Iy.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var s=this.totalRowProportions;if(s>0){var a=t-this.getChildrenHeight(!1);a>=0&&(this.proportionHeightLength=a/s)}else this.proportionHeightLength=0}return t},"ResolveHeight"),Bj=r(function(e){var t,s,a,x;for(var P in this.sizerChildren)t=this.sizerChildren[P],t&&t.isRexSizer&&!t.ignoreLayout&&(x=this.getColumnWidth(parseInt(P)%this.columnCount),s=this.getExpandedChildWidth(t,x),a=t.resolveWidth(s),a===void 0&&(a=s),t.resolveChildrenWidth(a))},"ResolveChildrenWidth"),Gj=r(function(e){var t,s,a,x;for(var P in this.sizerChildren)t=this.sizerChildren[P],t&&t.isRexSizer&&!t.ignoreLayout&&(x=this.getRowHeight(Math.floor(parseInt(P)/this.rowCount)),s=this.getExpandedChildHeight(t,x),a=t.resolveHeight(s),a===void 0&&(a=s),t.resolveChildrenHeight(a))},"ResolveChildrenHeight"),Nj=r(function(e){var t,s,a,x;for(var P in this.sizerChildren)t=this.sizerChildren[P],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(x=this.getColumnWidth(parseInt(P)%this.columnCount),s=this.getExpandedChildWidth(t,x),t.isRexSizer&&(a=t.resolveWidth(s),a===void 0&&(a=s)),t.runWidthWrap(a));return this},"RunWidthWrap$1"),kj=r(function(e){var t,s,a,x;for(var P in this.sizerChildren)t=this.sizerChildren[P],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(x=this.getRowHeight(Math.floor(parseInt(P)/this.rowCount)),s=this.getExpandedChildHeight(t,x),t.isRexSizer&&(a=t.resolveHeight(s),a===void 0&&(a=s)),t.runHeightWrap(a));return this},"RunHeightWrap$1");const Sb=Phaser.Utils.Objects.IsPlainObject,vi=Phaser.Utils.Objects.GetValue,Pb=Phaser.Display.Align.CENTER;var Eb=r(function(e,t,s,a,x){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var P,n=0;n<a;n++)if(P=t*a+n,!s[P])return P}else if(t===void 0){for(var P,n=0;n<x;n++)if(P=n*a+e,!s[P])return P}else{var P=t*a+e;if(!s[P])return P}else if(t===!0){for(var P,n=0;n<a;n++)for(var T=0;T<x;T++)if(P=T*a+n,!s[P])return P}else for(var n=0,i=s.length;n<i;n++)if(!s[n])return n;return null},"GetEmptyCellIndex"),Vj=r(function(e,t,s,a,x,P,n){var T,i,h,m;if(tu.call(this,e),Sb(t)){var u=t;t=vi(u,"column",void 0),s=vi(u,"row",void 0),a=vi(u,"align",Pb),x=vi(u,"padding",0),P=vi(u,"expand",!1),n=vi(u,"key",void 0),T=vi(u,"offsetX",0),i=vi(u,"offsetY",0),h=vi(u,"offsetOriginX",0),m=vi(u,"offsetOriginY",0)}var c=Eb(t,s,this.sizerChildren,this.columnCount,this.rowCount);if(c===null){if(typeof t=="number"&&typeof s=="number")return this;s===!0||typeof s=="number"?this.addEmptyColumn():this.addEmptyRow(),c=Eb(t,s,this.sizerChildren,this.columnCount,this.rowCount)}typeof a=="string"&&(a=Xo[a]),a===void 0&&(a=Pb),x===void 0&&(x=0),P===void 0&&(P=!0),T===void 0&&(T=0),i===void 0&&(i=0),h===void 0&&(h=0),m===void 0&&(m=0);var u=this.getSizerConfig(e);return u.align=a,u.padding=mn(x),Sb(P)?(u.expandWidth=vi(P,"width",!1),u.expandHeight=vi(P,"height",!1)):(u.expandWidth=P,u.expandHeight=P),u.alignOffsetX=T,u.alignOffsetY=i,u.alignOffsetOriginX=h,u.alignOffsetOriginY=m,this.sizerChildren[c]=e,n!==void 0&&this.addChildrenMap(n,e),this},"Add$4");const zj={add:Vj};var oa=r(function(e,t,s,a){s===void 0&&(s=0),a===void 0&&(a=e.length-1);for(var x=s;x<=a;x++)e[x]=t;return e},"Fill");const Uj={remove(e,t){if(this.getParentSizer(e)!==this)return this;var s=this.sizerChildren.indexOf(e);return s!==-1&&(this.sizerChildren[s]=null),eu.call(this,e,t),this},removeAt(e,t,s){var a=this.getChildAt(e,t);return a&&this.remove(a,s),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var s=this.sizerChildren[t];s&&this.remove(s,e)}return this},clear(e){return oa(this.sizerChildren,null),Pc.call(this,e),this}},Xj={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,oa(this.space.column,e);else{this.space.column0=e[0];for(var t=0,s=this.columnCount-1;t<s;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,oa(this.space.row,e);else{this.space.row0=e[t];for(var t=0,s=this.rowCount-1;t<s;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},Mb=Phaser.Utils.Objects.GetValue;var Yj=r(function(e,t,s,a,x){if(e===void 0&&(e=0),t===void 0&&(t=0),s===void 0&&(s=0),a===void 0&&(a=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,oa(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof s=="number")oa(this.columnProportions,s);else for(var P=0;P<e;P++)this.columnProportions[P]=s[P]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof a=="number")oa(this.rowProportions,a);else for(var P=0;P<t;P++)this.rowProportions[P]=a[P]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(Mb(x,"column",0)),this.setRowSpace(Mb(x,"row",0));var n=this.scene,T=this.createCellContainerCallback;if(T)for(var i=0,h=this.rowCount;i<h;i++)for(var m=0,c=this.columnCount;m<c;m++){var u={column:m,row:i},l=T(n,m,i,u);l&&this.add(l,u)}return this},"ResetGrid"),B3=r(function(e,t,s){t===void 0&&(t=this.rowProportions[0]||0),s===void 0&&(s=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var a=[e*this.columnCount,0],x=0;x<this.columnCount;x++)a.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,a),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,s),this},"InsertEmptyRow"),Wj=r(function(e,t){return B3.call(this,this.rowCount,e,t),this},"AddEmptyRow"),G3=r(function(e,t,s){t===void 0&&(t=this.columnProportions[0]||0),s===void 0&&(s=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var a=this.rowCount-1;a>=0;a--){var x=a*this.columnCount+e;this.sizerChildren.splice(x,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,s),this},"InsertEmptyColumn"),Hj=r(function(e,t){return G3.call(this,this.columnCount,e,t),this},"AddEmptyColumn"),N3={getChildrenWidth:wj,getChildrenHeight:Rj,getExpandedChildWidth:Oj,getExpandedChildHeight:bj,getChildrenSizers:Aj,preLayout:Lj,layoutChildren:Fj,resolveWidth:Ij,resolveHeight:Dj,resolveChildrenWidth:Bj,resolveChildrenHeight:Gj,runWidthWrap:Nj,runHeightWrap:kj,resetGrid:Yj,insertEmptyRow:B3,addEmptyRow:Wj,insertEmptyColumn:G3,addEmptyColumn:Hj};Object.assign(N3,zj,Uj,Xj,Xy);var $j=r(function(){for(var e=0,t,s=0;s<this.columnCount;s++)t=this.columnProportions[s],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},"GetTotalColumnProportions"),Kj=r(function(){for(var e=0,t,s=0;s<this.rowCount;s++)t=this.rowProportions[s],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e},"GetTotalRowProportions");const rd=Phaser.Utils.Objects.IsPlainObject,Gt=Phaser.Utils.Objects.GetValue,wS=class wS extends Cn{constructor(t,s,a,x,P,n,T,i,h,m){rd(s)?(m=s,s=Gt(m,"x",0),a=Gt(m,"y",0),x=Gt(m,"width",void 0),P=Gt(m,"height",void 0),n=Gt(m,"column",m.col||0),T=Gt(m,"row",0),i=Gt(m,"columnProportions",0),h=Gt(m,"rowProportions",0)):rd(x)?(m=x,x=Gt(m,"width",void 0),P=Gt(m,"height",void 0),n=Gt(m,"column",m.col||0),T=Gt(m,"row",0),i=Gt(m,"columnProportions",0),h=Gt(m,"rowProportions",0)):rd(n)?(m=n,n=Gt(m,"column",m.col||0),T=Gt(m,"row",0),i=Gt(m,"columnProportions",0),h=Gt(m,"rowProportions",0)):rd(i)&&(m=i,i=Gt(m,"columnProportions",0),h=Gt(m,"rowProportions",0)),super(t,s,a,x,P,m),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Gt(m,"createCellContainerCallback")),this.setIndentLeft(Gt(m,"space.indentLeftOdd",0),Gt(m,"space.indentLeftEven",0)),this.setIndentTop(Gt(m,"space.indentTopOdd",0),Gt(m,"space.indentTopEven",0)),this.resetGrid(n,T,i,h,Gt(m,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,s){return t>=this.columnProportions.length?this:(this.columnProportions[t]=s,this)}setRowProportion(t,s){return t>=this.rowProportions.length?this:(this.rowProportions[t]=s,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=$j.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=Kj.call(this)),this._totalRowProportions}getChildAt(t,s){return this.sizerChildren[s*this.columnCount+t]}childToGridIndex(t,s){if(!t)return null;var a=this.sizerChildren.indexOf(t);return a===-1?null:(s===void 0&&(s={}),s.x=a%this.columnCount,s.y=Math.floor(a/this.columnCount),s)}getColumnWidth(t){var s=this.columnProportions[t],a=s===0?this.columnWidth[t]:s*this.proportionWidthLength;return a}getRowHeight(t){var s=this.rowProportions[t],a=s===0?this.rowHeight[t]:s*this.proportionHeightLength;return a}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}};r(wS,"GridSizer");let oi=wS;Object.assign(oi.prototype,N3);rt.register("gridSizer",function(e,t,s,a,x,P,n,T,i){var h=new oi(this.scene,e,t,s,a,x,P,n,T,i);return this.scene.add.existing(h),h});it(window,"RexPlugins.UI.GridSizer",oi);var Zj=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},"GetChildrenWidth$1"),Jj=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},"GetChildrenHeight$1"),jj=r(function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,a=0,x=t.length;a<x;a++)s=t[a],s!==`
`&&s.isRexSizer&&e.push(s);return e},"GetChildrenSizers$1"),Qj=r(function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,iu.call(this),this},"PreLayout$1"),qj=r(function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,s,a,x,P=0,n,T,i=this.innerLeft,h=this.innerTop,m,c,u,l,o,d,v=this.wrapResult.lines,f,p,g,y=i,C=h,S=0,E=v.length;S<E;S++){switch(f=v[S],p=f.children,this.rtl&&p.reverse(),e?(n=S%2?this.space.indentLeftEven:this.space.indentLeftOdd,y=i+n*this.scaleX):(T=S%2?this.space.indentTopEven:this.space.indentTopOdd,C=h+T*this.scaleY),g=t-(e?f.width:f.height),this.align){case 0:break;case 1:e?y+=g:C+=g;break;case 2:e?y+=g/2:C+=g/2;break;case 3:P=L0(t,g,this.justifyPercentage,p.length);break;case 4:P=L0(t,g,this.justifyPercentage,p.length),P===0&&(e?y+=g:C+=g);break;case 5:P=L0(t,g,this.justifyPercentage,p.length),P===0&&(e?y+=g/2:C+=g/2);break}for(var w=!0,M=0,R=p.length;M<R;M++)s=p[M],!s.rexSizer.hidden&&(a=s.rexSizer,x=a.padding,su.call(this,s),e?m=y+x.left*this.scaleX:c=C+x.top*this.scaleY,w?w=!1:e?m+=this.space.item*this.scaleX:c+=this.space.item*this.scaleY,u=Ot(s),l=bt(s),e?(T=M%2?this.space.indentTopEven:this.space.indentTopOdd,c=C+T*this.scaleY+x.top*this.scaleY,y=m+u+x.right*this.scaleX+P):(n=M%2?this.space.indentLeftEven:this.space.indentLeftOdd,m=y+n*this.scaleX+x.left*this.scaleX,C=c+l+x.top*this.scaleY+P),o=(a.alignOffsetX+a.alignOffsetOriginX*u)*this.scaleX,d=(a.alignOffsetY+a.alignOffsetOriginY*l)*this.scaleY,ru.call(this,s,m,c,u,l,a.align,o,d));e?C+=f.height+this.space.line*this.scaleY:y+=f.width+this.space.line*this.scaleX}},"LayoutChildren$2"),L0=r(function(e,t,s,a){return t/e<=s?t/(a-1):0},"GetJustifySpace"),_j=r(function(){return this.orientation===0?!0:Ly.call(this)},"HasWidthWrap"),k3=r(function(e){var t={lines:[],width:0,height:0},s=this.sizerChildren,a,x,P,n,T=0,i,h,m=t.lines,c=void 0,u;if(this.orientation===0){for(var l=0,o=s.length;l<o;l++){if(a=s[l],a===`
`)a=void 0,P=0,u=!0;else{if(a.rexSizer.hidden)continue;a.isRexSizer&&a.runLayout(this),P=this.getChildWidth(a),x=a.rexSizer.padding,P+=(x.left+x.right)*this.scaleX,u=T<P||c===void 0}u&&(c&&(c.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,c.width),t.height+=c.height+this.space.line*this.scaleY),c={children:[],width:0,height:0},m.push(c),i=m.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,T=e-i*this.scaleX),T-=P+this.space.item*this.scaleX,a&&(c.children.push(a),n=this.getChildHeight(a),x=a.rexSizer.padding,n+=(x.top+x.bottom)*this.scaleY,c.height=Math.max(c.height,n))}c&&(c.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,c.width),t.height+=c.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var d=e,l=0,o=s.length;l<o;l++){if(a=s[l],a===`
`)a=void 0,P=0,u=!0;else{if(a.rexSizer.hidden)continue;a.isRexSizer&&a.layout(),n=this.getChildHeight(a),x=a.rexSizer.padding,n+=(x.top+x.bottom)*this.scaleY,u=T<n||c===void 0}u&&(c&&(c.height=d-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,c.height),t.width+=c.width+this.space.line*this.scaleX),c={children:[],width:0,height:0},m.push(c),h=m.length%2?this.space.indentTopOdd:this.space.indentTopEven,T=d-h*this.scaleY),T-=n+this.space.item*this.scaleY,a&&(c.children.push(a),P=this.getChildWidth(a),x=a.rexSizer.padding,P+=(x.left+x.right)*this.scaleX,c.width=Math.max(c.width,P))}c&&(c.height=d-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,c.height),t.width+=c.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},"RunChildrenWrap"),tQ=r(function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=k3.call(this,t),this.rexSizer.resolved=!0,Fy.call(this,e)}},"RunWidthWrap"),eQ=r(function(){return this.orientation===1?!0:Dy.call(this)},"HasHeightWrap"),iQ=r(function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=k3.call(this,t),this.rexSizer.resolved=!0,By.call(this,e)}},"RunHeightWrap"),sQ=r(function(e,t){},"GetExpandedChildWidth"),rQ=r(function(e,t){},"GetExpandedChildHeight");const wb=Phaser.Math.Distance.Between;var nQ=r(function(e,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var a=-1,x=1/0,P=0,n=s.length;P<n;P++){var T=s[P];if(!(Math.abs(T.centerY-t)>T.height/2)){var h=wb(T.left,T.centerY,e,t);x>h&&(x=h,a=P);var i=s[P+1];if(!(i&&i.y===T.y)){var h=wb(T.right,T.centerY,e,t);x>h&&(x=h,a=P+1)}}}return a},"GetNearestChildIndex");const aQ=Phaser.Utils.Objects.IsPlainObject,Lr=Phaser.Utils.Objects.GetValue,oQ=Phaser.Display.Align.CENTER;var F0=r(function(e,t,s,a){if(e===`
`)return this.addNewLine(),this;var x,P,n,T;if(tu.call(this,e),aQ(t)){var i=t;t=Lr(i,"padding",0),s=Lr(i,"key",void 0),a=Lr(i,"index",void 0),x=Lr(i,"offsetX",0),P=Lr(i,"offsetY",0),n=Lr(i,"offsetOriginX",0),T=Lr(i,"offsetOriginY",0)}t===void 0&&(t=0),x===void 0&&(x=0),P===void 0&&(P=0),n===void 0&&(n=0),T===void 0&&(T=0);var i=this.getSizerConfig(e);return i.align=oQ,i.padding=mn(t),i.alignOffsetX=x,i.alignOffsetY=P,i.alignOffsetOriginX=n,i.alignOffsetOriginY=T,a===void 0||a>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(a,0,e),s!==void 0&&this.addChildrenMap(s,e),this},"Add$3");const hQ={add(e,t,s){if(Ui(e))for(var a=e,x=0,P=a.length;x<P;x++)F0.call(this,a[x],t);else F0.call(this,e,t,s);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,s,a){return F0.call(this,t,s,a,e),this},insertAtPosition(e,t,s,a,x){var P=nQ.call(this,e,t);return P===-1&&(P=void 0),this.insert(P,s,a,x),this}},lQ=Phaser.Utils.Array.Remove,uQ={remove(e,t){return this.getParentSizer(e)!==this?this:(lQ(this.sizerChildren,e),eu.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Pc.call(this,e),this}};var V3={getChildrenWidth:Zj,getChildrenHeight:Jj,getChildrenSizers:jj,preLayout:Qj,layoutChildren:qj,hasWidthWrap:_j,runWidthWrap:tQ,hasHeightWrap:eQ,runHeightWrap:iQ,getExpandedChildWidth:sQ,getExpandedChildHeight:rQ};Object.assign(V3,hQ,uQ,Xy);var dQ=r(function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,s,a,x=!1,P=0,n=e.length;P<n;P++)s=e[P],s!==`
`&&(a=this.getChildWidth(s),a===void 0&&(x=!0),!x&&(t=Math.max(a,t)));if(!x)return t},"GetMaxChildWidth"),fQ=r(function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,s,a,x=!1,P=0,n=e.length;P<n;P++)s=e[P],s!==`
`&&(a=this.getChildHeight(s),a===void 0&&(x=!0),!x&&(t=Math.max(a,t)));if(!x)return t},"GetMaxChildHeight");const Rb=Phaser.Utils.Objects.IsPlainObject,Re=Phaser.Utils.Objects.GetValue,RS=class RS extends Cn{constructor(t,s,a,x,P,n){Rb(s)?(n=s,s=Re(n,"x",0),a=Re(n,"y",0),x=Re(n,"width",void 0),P=Re(n,"height",void 0)):Rb(x)&&(n=x,x=Re(n,"width",void 0),P=Re(n,"height",void 0)),super(t,s,a,x,P,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(Re(n,"orientation",0)),this.setItemSpacing(Re(n,"space.item",0)),this.setLineSpacing(Re(n,"space.line",0)),this.setIntentLeft(Re(n,"space.indentLeftOdd",0),Re(n,"space.indentLeftEven",0)),this.setIntentTop(Re(n,"space.indentTopOdd",0),Re(n,"space.indentTopEven",0)),this.setAlign(Re(n,"align",0)),this.setJustifyPercentage(Re(n,"justifyPercentage",.25)),this.setRTL(Re(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=yn(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,s){return this.space.indentLeftOdd=t,this.space.indentLeftEven=s,this}setIntentTop(t,s){return this.space.indentTopOdd=t,this.space.indentTopEven=s,this}setAlign(t){return typeof t=="string"&&(t=cQ[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=dQ.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=fQ.call(this)),this._maxChildHeight}};r(RS,"FixWidthSizer");let as=RS;const cQ={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(as.prototype,V3);rt.register("fixWidthSizer",function(e,t,s,a,x){var P=new as(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.FixWidthSizer",as);rt.register("overlapSizer",function(e,t,s,a,x){var P=new Je(this.scene,e,t,s,a,x);return this.scene.add.existing(P),P});it(window,"RexPlugins.UI.OverlapSizer",Je);rt.register("space",function(){var e=new cl(this.scene);return e});it(window,"RexPlugins.UI.Space",cl);rt.register("label",function(e){var t=new Yi(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Label",Yi);const Ob=["alpha","tint","flipX","flipY"];var Hy=r(function(e,t){if(!t)return e;for(var s=0,a=Ob.length;s<a;s++){var x=Ob[s];x in t&&x in e&&(e[x]=t[x])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var P,n;"originX"in t&&"originX"in e&&(P=t.originX),"originY"in t&&"originY"in e&&(n=t.originY),P!==void 0&&n!==void 0&&e.setOrigin(P,n)}return e},"DecorateGameObject"),ce=r(function(e,t){var s;t&&(t.hasOwnProperty("$type")?s=t.$type:t.hasOwnProperty("barColor")?s="bar":t.hasOwnProperty("leftWidth")?s="nineSlice":t.hasOwnProperty("key")&&(s="image"));var a;switch(s){case"bar":a=new Co(e,t);break;case"image":a=new en(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?a=new nn(e,t):a=new rn(e,t);break;default:a=new sn(e,t);break}return Hy(a,t),e.add.existing(a),a},"CreateBackground$2"),vQ=r(function(){switch(this.scrollMode){case 0:case 1:I0.call(this),this.updateController(),D0.call(this),B0.call(this);break;default:I0.call(this,"y"),I0.call(this,"x"),this.updateController(),D0.call(this,"y"),D0.call(this,"x"),B0.call(this,"y"),B0.call(this,"x");break}return this},"ResizeController"),I0=r(function(e){var t,s,a,x;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,s=this.bottomChildOY,a=this.childrenMap.scroller,x=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,s=this.bottomChildOY):(t=this.leftChildOX,s=this.rightChildOX),a=this.childrenMap[`scroller${e}`],x=this.childrenMap[`slider${e}`]}var P=e==="Y"?this.scaleY:this.scaleX;s*=P,a&&a.setBounds(t,s),x&&(x.setEnable(t!==s),x.tickLength&&x.setTick(x.tickLength,t,s))},"SetControllerBounds"),D0=r(function(e){switch(this.scrollMode){case 0:case 1:var s=this.childrenMap.slider;s&&this.hideUnscrollableSlider&&this.setChildVisible(s,this.isOverflow);var x=this.childrenMap.scroller;x&&this.disableUnscrollableDrag&&x.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],s=this.childrenMap[`slider${e}`],a=this[`hideUnscrollableSlider${e}`];s&&a&&this.setChildVisible(s,t);var x=this.childrenMap.scroller,P=this[`disableUnscrollableDrag${e}`];x&&P&&x.setEnable(t);break}},"HideUnscrollableSlider"),B0=r(function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var P=this.childrenMap.slider;if(!P)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=P.childrenMap.track,T=P.childrenMap.thumb,i=this.minThumbSize;if(this.scrollMode===0){var s=n.displayHeight*t;i!==void 0&&s<i&&(s=i),be(T,void 0,s)}else{var a=n.displayWidth*t;i!==void 0&&a<i&&(a=i),be(T,a,void 0)}bb(P);break;default:e=e.toUpperCase();var x=this[`adaptThumb${e}SizeMode`];if(!x)return;var P=this.childrenMap[`slider${e}`];if(!P)return;var n=P.childrenMap.track,T=P.childrenMap.thumb,i=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),s=n.displayHeight*t;i!==void 0&&s<i&&(s=i),be(T,void 0,s)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),a=n.displayWidth*t;i!==void 0&&a<i&&(a=i),be(T,a,void 0)}bb(P);break}},"AdaptThumbSize"),bb=r(function(e){var t=e.minWidth,s=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=s},"LayoutSlider"),pQ=r(function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var s=this.childrenMap.scrollerY,a=this.childrenMap.sliderY,x=this.childrenMap.scrollerX,P=this.childrenMap.sliderX;s&&s.setValue(this.childOY),a&&a.setValue(this.t),x&&x.setValue(this.childOX),P&&P.setValue(this.s);break}},"UpdateController");const nd=Phaser.Math.Clamp,gQ={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=nd(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=nd(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=nd(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=nd(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var z3={resizeController:vQ,updateController:pQ};Object.assign(z3,gQ);const U3={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var $y=r(function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=mQ(e));var s=e[t];return typeof s=="string"&&(s=U3[s]),s},"GetScrollMode"),mQ=r(function(e){var t=!!e.sliderY||!!e.scrollerY,s=!!e.sliderX||!!e.scrollerX,a;return t&&s?a=2:t?a=0:s?a=1:a=0,a},"GetDefaultScrollMode");const pe=Phaser.Utils.Objects.GetValue;var xQ=r(function(e,t,s){var a=pe(s,"child"),x=pe(a,"gameObject",void 0);if(x){var P=pe(s,"space.child",0);e.childMargin={};var n=e.childMargin,T={};if(typeof P=="number")switch(e.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=P,n.bottom=P,n.left=P,n.right=P;break}else switch(e.scrollMode){case 0:n.top=pe(P,"top",0),n.bottom=pe(P,"bottom",0),T.left=pe(P,"left",0),T.right=pe(P,"right",0);break;case 1:n.top=pe(P,"left",0),n.bottom=pe(P,"right",0),T.top=pe(P,"top",0),T.bottom=pe(P,"bottom",0);break;default:n.top=pe(P,"top",0),n.bottom=pe(P,"bottom",0),n.left=pe(P,"left",0),n.right=pe(P,"right",0);break}t.add(x,{column:1,row:1,align:pe(a,"align","center"),padding:T,expand:{width:pe(a,"expandWidth",!0),height:pe(a,"expandHeight",!0)}})}e.addChildrenMap("child",x)},"AddChild");const Ab=Phaser.Math.Percent;var yQ=r(function(e,t,s){var a;return e.y===t.y?a=Ab(s.x,e.x,t.x):e.x===t.x&&(a=Ab(s.y,e.y,t.y)),a},"PositionToPercent"),X3=r(function(e,t){G0.x=e,G0.y=t;var s,a;this.reverseAxis?(s=this.getEndPoint(),a=this.getStartPoint()):(s=this.getStartPoint(),a=this.getEndPoint());var x=yQ(s,a,G0);return x},"GetValueByPosition"),G0={},CQ=r(function(e,t,s){!this.enable||!this.inputActive||(this.value=X3.call(this,t,s))},"OnDragThumb"),N0=r(function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=X3.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}},"OnTouchTrack");const TQ=Phaser.Utils.Objects.GetValue;var SQ=r(function(e){this.inputActive=!1;var t=TQ(e,"input",0);typeof t=="string"&&(t=PQ[t]);var s=this.childrenMap.thumb;switch(t){case 0:s&&(s.setInteractive(),this.scene.input.setDraggable(s),s.on("dragstart",function(x){this.inputActive=!0,this.eventEmitter.emit("inputstart",x)},this).on("dragend",function(x){this.inputActive=!1,this.eventEmitter.emit("inputend",x)},this).on("drag",CQ,this));break;case 1:this.setInteractive().on("pointerdown",function(x){this.inputActive=!0,this.eventEmitter.emit("inputstart",x)},this).on("pointerdown",N0,this);var a=r(function(x){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",x))},"OnReleaseTrack");this.scene.input.on("pointerup",a,this).on("pointermove",N0,this),this.once("destroy",function(){this.scene.input.on("pointerup",a,this).off("pointermove",N0,this)},this);break}},"RegisterInputEvents");const PQ={pan:0,drag:0,click:1,none:-1};var Y3=r(function(e,t){t===void 0&&(t=EQ);var s=this.childrenMap.thumb,a=s.x,x=s.y;return _l(s,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=s.x,t.y=s.y,s.x=a,s.y=x,t},"GetThumbAlignPoint"),EQ={};const MQ=Phaser.Display.Align.LEFT_CENTER,wQ=Phaser.Display.Align.TOP_CENTER;var RQ=r(function(e){if(e===void 0&&(e=OQ),this.childrenMap.thumb){var t=this.orientation===0?MQ:wQ;Y3.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},"GetStartPoint"),OQ={};const bQ=Phaser.Display.Align.RIGHT_CENTER,AQ=Phaser.Display.Align.BOTTOM_CENTER;var LQ=r(function(e){if(e===void 0&&(e=FQ),this.childrenMap.thumb){var t=this.orientation===0?bQ:AQ;Y3.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},"GetEndoint"),FQ={};const Lb=Phaser.Math.Linear;var IQ=r(function(e,t,s,a){return a===void 0&&(a=DQ),a.x=Lb(t.x,s.x,e),a.y=Lb(t.y,s.y,e),a},"PercentToPosition"),DQ={},BQ=r(function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var s,a;return this.reverseAxis?(s=this.getEndPoint(),a=this.getStartPoint()):(s=this.getStartPoint(),a=this.getEndPoint()),IQ(e,s,a,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this},"UpdateThumb");const GQ=Phaser.Display.Align.LEFT_CENTER,NQ=Phaser.Display.Align.TOP_CENTER,kQ=Phaser.Display.Align.RIGHT_CENTER,VQ=Phaser.Display.Align.BOTTOM_CENTER;var zQ=r(function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var s=this.reverseAxis,a,x,P=this.childrenMap.thumb;if(P)if(this.orientation===0){var n=Ot(P);if(s){var T=P.x-n*P.originX;a=this.right-T}else{var T=P.x-n*P.originX,i=T+n;a=i-this.left}}else{var h=bt(P);if(s){var m=P.y-h*P.originY;x=this.bottom-m}else{var m=P.y-h*P.originY,c=m+h;x=c-this.top}}else this.orientation===0?a=this.width*e:x=this.height*e;be(t,a,x);var u;s?u=this.orientation===0?kQ:VQ:u=this.orientation===0?GQ:NQ,QF(t,this,u),this.resetChildPositionState(t)},"UpdateIndicator");const ei=Phaser.Utils.Objects.GetValue,ad=Phaser.Utils.Objects.IsPlainObject,UQ=Phaser.Math.Clamp,XQ=Phaser.Math.Snap.To,OS=class OS extends fr(yt){constructor(t,s){super(t,s),this.type="rexSlider",this.bootProgressBase(s),this.reverseAxis=ei(s,"reverseAxis",!1);var a=ei(s,"background",void 0),x=ei(s,"track",void 0),P=ei(s,"indicator",void 0),n=ei(s,"thumb",void 0);if(a&&(ad(a)&&(a=ce(t,a)),this.addBackground(a)),x&&(ad(x)&&(x=ce(t,x)),this.add(x,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),P&&(ad(P)&&(P=ce(t,P)),this.pin(P)),n){ad(n)&&(n=ce(t,n)),this.pin(n);var T=ei(s,"thumbOffsetX",0),i=ei(s,"thumbOffsetY",0);this.setThumbOffset(T,i)}this.addChildrenMap("background",a),this.addChildrenMap("track",x),this.addChildrenMap("indicator",P),this.addChildrenMap("thumb",n),this.setEnable(ei(s,"enable",void 0));var h=ei(s,"tick",void 0);h===void 0&&(h=ei(s,"gap",void 0)),this.setGap(h),SQ.call(this,s),this.setValue(ei(s,"value",0),ei(s,"min",void 0),ei(s,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,s,a){return t&&s!==void 0&&(t=t/(a-s)),this.gap=t,this}setTick(t,s,a){return this.setGap(t,s,a),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,s){return this.thumbOffsetX=t,this.thumbOffsetY=s,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=XQ(t,this.gap));var s=this._value;this._value=UQ(t,0,1),s!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,s,this.eventEmitter))}postLayout(t,s,a){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,s,a),this}};r(OS,"Slider");let ur=OS;var YQ={getStartPoint:RQ,getEndPoint:LQ,updateThumb:BQ,updateIndicator:zQ};Object.assign(ur.prototype,YQ);const He=Phaser.Utils.Objects.GetValue,bS=class bS extends yt{constructor(t,s){super(t,s),this.type="rexScrollBar";var a=He(s,"background",void 0),x=He(s,"buttons",void 0),P=He(x,"top",He(x,"left",void 0)),n=He(x,"bottom",He(x,"right",void 0)),T,i=He(s,"slider",void 0);if(a&&this.addBackground(a),P){this.add(P);var h=new lr(P);h.on("intouch",function(){if(this.enable){var v=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(i){i.orientation=this.orientation,i.eventEmitter=this,i.value=null;var m;if(this.orientation===0){var c=He(i,"width",void 0);m=c===void 0?1:0}else{var u=He(i,"height",void 0);m=u===void 0?1:0}T=new ur(t,i),t.add.existing(T),this.add(T,{proportion:m})}if(n){this.add(n);var h=new lr(n);h.on("intouch",function(){if(this.enable){var f=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=f}},this)}var l=[P,n];this.addChildrenMap("background",a),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",l);var o=He(s,"valuechangeCallback",null);if(o!==null){var d=He(s,"valuechangeCallbackScope",void 0);this.on("valuechange",o,d)}this.setEnable(He(s,"enable",void 0)),this.setValue(He(s,"value",0)),this.setScrollStep(He(x,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,s,a){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,a),this}addValue(t,s,a){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,a),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,a){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,a),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,s,a){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,s,a),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,s,a){return this.setGap(t,s,a),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}};r(bS,"ScrollBar");let gl=bS;var WQ=r(function(e,t){t===void 0&&(t={});var s=Ni(t);t={slider:s},t.orientation=s.orientation,delete s.orientation,t.background=s.background,delete s.background,t.buttons=s.buttons,delete s.buttons,t.value=null;var a=new gl(e,t);e.add.existing(a);var x=a.childrenMap.slider;return a.addChildrenMap("track",x.childrenMap.track),a.addChildrenMap("indicator",x.childrenMap.indicator),a.addChildrenMap("thumb",x.childrenMap.thumb),a},"CreateScrollbar");const HQ=Phaser.Math.Snap.To;Phaser.Math.Clamp;var $Q=r(function(){this.emit("dragstart")},"OnDragStart"),KQ=r(function(){this.emit("dragend")},"OnDragEnd"),ZQ=r(function(){this.value+=this.dragDelta},"Dragging"),JQ=r(function(){var e=this.value,t=this.dragSpeed,s=this.snapStep,a=!!s;if(a){var P=e,n=t===0?0:t*t/(2*this.slidingDeceleration);if(P+=t>0?n:-n,P=HQ(P,s,this.minValue),n=Math.abs(P-e),n>0){var x;t===0?(x=this.backDeceleration,t=Math.sqrt(2*x*n)):(x=t*t/(2*n),x*=.99),this._slowDown.init(e,void 0,t,x,P)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var x=this.slidingDeceleration;this._slowDown.init(e,t>0,t,x)}},"OnSliding"),jQ=r(function(e,t){t*=.001;var s=this._slowDown.update(t).value;this.overMax(s)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(s)?(this.value=this.minValue,this._slowDown.stop()):this.value=s},"Sliding"),QQ=r(function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,s=Math.abs(t-e),a=this.backDeceleration,x=Math.sqrt(2*a*s);this._slowDown.init(e,void 0,x,a,t)},"OnBack"),qQ=r(function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},"Back"),Fb=r(function(){this._slowDown.stop()},"Stop");const AS=class AS extends Vi{constructor(t,s){super(s),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,s=this.parent,a=s.dragState;return a.isDown&&(t=s.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,s){this.next()}next_DRAGBEGIN(){var t,s=this.parent,a=s.dragState;return a.isDown?t=a.pointer.getDistance()>=s.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,s){this.next()}next_DRAG(){var t,s=this.parent,a=s.dragState;return a.isUp&&(s.outOfBounds?t="BACK":s.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,s){var a=this.parent,x=a.dragState;x.justMoved&&ZQ.call(a),this.next()}enter_DRAG(){$Q.call(this.parent)}exit_DRAG(){KQ.call(this.parent)}next_SLIDE(){var t,s=this.parent,a=s.dragState;return a.isDown?t="DRAG":s.isSliding||(t="IDLE"),t}enter_SLIDE(){JQ.call(this.parent)}exit_SLIDE(){Fb.call(this.parent)}update_SLIDE(t,s){jQ.call(this.parent,t,s),this.next()}next_BACK(){var t,s=this.parent,a=s.dragState;return a.isDown?t="DRAG":s.isPullBack||(t="IDLE"),t}enter_BACK(){QQ.call(this.parent)}exit_BACK(){Fb.call(this.parent)}update_BACK(t,s){qQ.call(this.parent,t,s),this.next()}};r(AS,"State");let ux=AS;const gh=Phaser.Utils.Objects.GetValue,_Q=Phaser.Math.Distance.Between,LS=class LS extends Nt{constructor(t,s){super(t,s),this._enable=void 0,this.rectBoundsInteractive=gh(s,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(gh(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(gh(t,"enable",!0)),this.holdThreshold=gh(t,"holdThreshold",50),this.pointerOutReleaseEnable=gh(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,s=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(s.on("pointerdown",this.onPointIn,this),s.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&s.on("pointerout",this.onPointOut,this),s.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var s=this.scene;this.parent,this.rectBoundsInteractive&&(s.input.off("pointerdown",this.onPointIn,this),s.input.off("pointerup",this.onPointOut,this),s.input.off("pointermove",this.onPointerMove,this)),s.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=gy(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=_Q(this.preX,this.preY,this.x,this.y),s=t/(this.dt*.001);return s}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,s,a){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!ns(this.parent,t)||(this.pointer=t,this.localX=s,this.localY=a)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,s,a){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!ns(this.parent,t)){this.onPointOut(t);return}this.localX=s,this.localY=a}}preupdate(t,s){if(this.enable){var a=this.pointer;this.justMoved=!1,a&&!this.isInTouched?(this.x=a.worldX,this.y=a.worldY,this.preX=a.worldX,this.preY=a.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",a,this.localX,this.localY)):a&&this.isInTouched?this.x===a.x&&this.y===a.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=a.worldX,this.y=a.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",a,this.localX,this.localY)):!a&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",a))}}};r(LS,"DragSpeed");let dx=LS;const k0=Phaser.Utils.Objects.GetValue,FS=class FS{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(k0(t,"value",0)),this.setSpeed(k0(t,"speed",0)),this.setAcceleration(k0(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}};r(FS,"Movement");let fx=FS;const IS=class IS{constructor(){this.value,this.dir,this.movement=new fx}init(t,s,a,x,P){return this.value=t,this.end=P,P!==void 0?this.dir=t<P:this.dir=s,a=Math.abs(a),this.movement.setSpeed(a).setAcceleration(-x),this}stop(){this.movement.reset()}update(t){var s=this.movement.getDeltaValue(t);return this.dir||(s=-s),this.end===void 0?this.value+=s:s===0?this.value=this.end:(this.value+=s,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}};r(IS,"SlowDown");let cx=IS;const qt=Phaser.Utils.Objects.GetValue,tq=Phaser.Math.Clamp,DS=class DS extends Nt{constructor(t,s){super(t,s);var a=qt(s,"enable",!0);this._state=new ux(this,{enable:a,eventEmitter:!1});var x={rectBoundsInteractive:qt(s,"rectBoundsInteractive",!1),inputConfig:qt(s,"inputConfig",void 0),enable:a,pointerOutRelease:qt(s,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new dx(t,x),this._enable=void 0,this._value=void 0,this._slowDown=new cx,this.setSnapStep(qt(s,"snapStep",void 0));var P=qt(s,"valuechangeCallback",null);if(P!==null){var n=qt(s,"valuechangeCallbackScope",void 0);this.on("valuechange",P,n)}if(P=qt(s,"overmaxCallback",null),P!==null){var n=qt(s,"overmaxCallbackScope",void 0);this.on("overmax",P,n)}if(P=qt(s,"overminCallback",null),P!==null){var n=qt(s,"overminCallbackScope",void 0);this.on("overmin",P,n)}this.resetFromJSON(s),this.boot()}resetFromJSON(t){this.setOrientationMode(qt(t,"orientation",0)),this.setDragThreshold(qt(t,"threshold",10)),this.setSlidingDeceleration(qt(t,"slidingDeceleration",5e3)),this.setBackDeceleration(qt(t,"backDeceleration",2e3));var s=qt(t,"dragRate",1);s=s*(qt(t,"dragReverse",!1)?-1:1),this.setDragRate(s);var a=qt(t,"bounds",void 0);return a?this.setBounds(a):this.setBounds(qt(t,"max",0),qt(t,"min",0)),this.setValue(qt(t,"value",this.maxValue||0)),this.setEnable(qt(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=eq[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,s){if(Array.isArray(t)){var a=t;t=a[0],s=a[1]}return t<s?(this.minValue=t,this.maxValue=s):(this.minValue=s,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var s=this._value,a=this.overMax(t),x=this.overMin(t);a&&this.emit("overmax",t,s),x&&this.emit("overmin",t,s),this.backEnable||(a&&(t=this.maxValue),x&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,s)}}setValue(t,s){return s===void 0&&(s=!1),s&&(t=tq(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,s){return this.setValue(this.value+t,s),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}};r(DS,"Scroller");let vx=DS;const eq={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},od=Phaser.Utils.Objects.GetValue,BS=class BS extends Nt{constructor(t,s){switch(super(t,s),this.parent!==this.scene?this.focusMode=od(s,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(od(s,"speed",.1)),this.setEnable(od(s,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(od(s,"inputConfig",void 0)).on("wheel",function(a,x,P,n,T){this.tryScroll(P)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,s,a,x,P,n){this.focusMode===2&&!ns(this.parent,t)||this.tryScroll(x)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}};r(BS,"MouseWheelScroller");let px=BS;const Ht=Phaser.Utils.Objects.GetValue,iq=Phaser.Math.Snap.To;var hd=r(function(e,t,s,a){s=s.toUpperCase();var x=s==="Y",P=e.scrollMode===2,n=e.childrenMap.child,T,i=`snapStep${s}`;if(P)T=Ht(a,i,void 0);else{var T=Ht(a,"snapStep",void 0);T===void 0&&(T=Ht(a,i,void 0))}e[i]=T;var h,m,c=`slider${s}`;if(P||a.hasOwnProperty(c)?h=Ht(a,c,void 0):h=Ht(a,"slider",void 0),h){h===!0&&(h={}),h.orientation=x?1:0,m=WQ(e.scene,h);var u,l,o,d=Ht(h,"position",0);typeof d=="string"&&(d=sq[d]);var v=Ht(a,`space.slider${s}`,void 0),f;v===void 0&&(v=Ht(a,"space.slider",void 0),v===void 0&&(P?v=0:f=Ht(a,"space.child",0)));var p;f===void 0?p=typeof v=="number":p=typeof f=="number",x?d===0?(u=2,l=1,f===void 0?o=p?{left:v}:v:o={left:Ht(f,"right",f)}):(u=0,l=1,f===void 0?o=p?{right:v}:v:o={right:Ht(f,"left",f)}):d===0?(u=1,l=2,f===void 0?o=p?{top:v}:v:o={top:Ht(f,"bottom",f)}):(u=1,l=0,f===void 0?o=p?{bottom:v}:v:o={bottom:Ht(f,"top",f)}),t.add(m,{column:u,row:l,align:"center",padding:o,expand:!0}),e[`hideUnscrollableSlider${s}`]=Ht(h,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${s}`]=Ht(h,"disableUnscrollableDrag",!1),e[`adaptThumb${s}SizeMode`]=Ht(h,"adaptThumbSize",!1),e[`minThumb${s}Size`]=Ht(h,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${s}`]=!1,e[`disableUnscrollableDrag${s}`]=!1,e[`adaptThumb${s}SizeMode`]=!1,e[`minThumb${s}Size`]=void 0;var g=Ht(a,"scrollDetectionMode");typeof g=="string"&&(g=rq[g]);var y,C,S=`scroller${s}`;P||a.hasOwnProperty(S)?y=Ht(a,S,!0):y=Ht(a,"scroller",!0),y&&n&&(y===!0&&(y={}),y.orientation=x?0:1,g!==void 0&&(y.rectBoundsInteractive=g===1),y.snapStep=T,C=new vx(n,y),n.isRexContainerLite&&n.sendChildToBack(n));var E=Ht(a,P?`mouseWheelScroller${s}`:"mouseWheelScroller",!1),w;if(E&&n&&(g!==void 0&&(E.focus=g===1?2:0),w=new px(n,E)),e.addChildrenMap(`slider${s}`,m),e.addChildrenMap(`scroller${s}`,C),e.addChildrenMap(`mouseWheelScroller${s}`,w),(!P||x)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${s}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${s}`],e.adaptThumbSizeMode=e[`adaptThumb${s}SizeMode`],e.minThumbSize=e[`minThumb${s}Size`],e.addChildrenMap("slider",m),e.addChildrenMap("scroller",C),e.addChildrenMap("mouseWheelScroller",w)),m){var M,R;P?(M=x?"t":"s",R=`scroll${s}`):(M="t",R="scroll"),m.on("valuechange",function(A){e[M]=A,e.emit(R,e)}).on("inputend",function(){var A=e[`snapStep${s}`];if(A){var I=e[x?"topChildOY":"leftChildOX"],L=e[x?"bottomChildOY":"rightChildOX"],F=e[`childO${s}`],D=iq(F,A,I),B=500*(Math.abs(D-F)/A);m.setEaseValueDuration(B).easeValueTo(D,I,L)}})}if(C){var O,R;P?(O=`childO${s}`,R=`scroll${s}`):(O="childOY",R="scroll"),C.on("valuechange",function(I){e[O]=I,e.emit(R,e)})}if(w){var b;P?b=`addChildO${s}`:b="addChildOY",w.on("scroll",function(A){var I=e[i];I&&(A=I),e[b](-A,!0)})}},"AddSlider");const sq={right:0,left:1,bottom:0,top:1},rq={gameObject:0,rectBounds:1},ld=Phaser.Utils.Objects.GetValue;var nq=r(function(e,t){var s=e.scene,a=[0,1,0],x=[0,1,0],P=ld(t,"width"),n=ld(t,"height");if(!P){var T=ld(t,"child.expandWidth",!0);T||(a[1]=0)}if(!n){var i=ld(t,"child.expandHeight",!0);i||(x[1]=0)}var h=new oi(s,{column:3,row:3,columnProportions:a,rowProportions:x});switch(xQ(e,h,t),e.scrollMode){case 0:hd(e,h,"y",t);break;case 1:hd(e,h,"x",t);break;default:hd(e,h,"y",t),hd(e,h,"x",t);break}return h},"CreateScrollableSizer");const Ji=Phaser.Utils.Objects.GetValue;var Ha;let nu=(Ha=class extends yt{constructor(t,s){s===void 0&&(s={});var a=$y(s),x=a===1;s.orientation=x?0:1,super(t,s),this.type=Ji(s,"type","rexScrollable"),this.scrollMode=a;var P=Ji(s,"background",void 0);P&&this.addBackground(P);var n=Ji(s,"header",void 0);if(n){var T=Ji(s,"align.header","center"),i=Ji(s,"space.header",0),h;x?h={right:i}:h={bottom:i},this.add(n,{proportion:0,align:T,padding:h,expand:Ji(s,"expand.header",!0)})}var m=nq(this,s);m&&this.add(m,{proportion:1,align:"center",padding:0,expand:!0});var c=Ji(s,"footer",void 0);if(c){var T=Ji(s,"align.footer","center"),u=Ji(s,"space.footer",0),h;x?h={left:u}:h={top:u},this.add(c,{proportion:0,align:T,padding:h,expand:Ji(s,"expand.footer",!0)})}this.addChildrenMap("background",P),this.addChildrenMap("header",n),this.addChildrenMap("footer",c),this.runLayoutFlag=!1}postLayout(t,s,a){var x=0,P=0;return this.runLayoutFlag?(P=this.t,this.scrollMode===2&&(x=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(P),this.scrollMode===2&&this.setS(x),super.postLayout(t,s,a),this}set t(t){var s=this.childMargin;if(s.top!==0||s.bottom!==0){var a=this.childrenMap.child,x=a.topChildOY-a.bottomChildOY,P=x+s.top+s.bottom,n=P*t-s.top;t=x!==0?n/x:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,s=this.childMargin;if(s.top!==0||s.bottom!==0){var a=this.childrenMap.child,x=a.topChildOY-a.bottomChildOY,P=x+s.top+s.bottom,n=x*t+s.top;t=P!==0?n/P:0}return t}set s(t){var s=this.childMargin;if(s.left!==0||s.right!==0){var a=this.childrenMap.child,x=a.leftChildOX-a.rightChildOX,P=x+s.left+s.right,n=P*t-s.left;t=x!==0?n/x:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,s=this.childMargin;if(s.left!==0||s.right!==0){var a=this.childrenMap.child,x=a.leftChildOX-a.rightChildOX,P=x+s.left+s.right,n=x*t+s.left;t=P!==0?n/P:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var s=this.childrenMap.slider;s&&s.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var s=this.childrenMap.sliderX;s&&s.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var s=this.childrenMap.scroller;s&&s.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;s&&s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;s&&s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var s=this.childrenMap.mouseWheelScroller;s&&s.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var s=this.childrenMap.mouseWheelScrollerX;s&&s.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setInteractive(),s.input.dropZone=t,this}},r(Ha,"Scrollable"),Ha);Object.assign(nu.prototype,z3);var Ky=r(function(e,t,s){var a=vr(e);switch(a){case Ae:s=e.getWrappedText(t);break;case Le:s=e.getPenManager(t,s);break;case ri:e.maxWidth>0?s=e.setText(t).getTextBounds().wrappedText.split(`
`):s=t.split(`
`);break}return s},"TextToLines"),aq=r(function(e){return e!==void 0&&(this.text=e),this.lines=Ky(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},"SetText"),W3=r(function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},"TextHeightToLinesCount$1"),H3=r(function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},"LinesCountToTextHeight"),oq=r(function(e){var t=e+this.visibleLinesCount+1,s;switch(this.textObjectType){case Ae:s=this.lines.slice(e,t).join(`
`);break;case Le:var a=this.lines.getLineStartIndex(e),x=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(a,x,!0);break;case ri:s=this.lines.slice(e,t).join(`
`);break}return s},"GetLines$1"),Mc=r(function(e,t){var s=vr(e);switch(s){case Ae:var P=e.style,a=P.wordWrapWidth,x=P.wordWrapCallback;P.wordWrapWidth=0,P.wordWrapCallback=void 0,e.setText(t),P.wordWrapWidth=a,P.wordWrapCallback=x;break;case Le:var P=e.style,n=P.wrapMode;P.wrapMode=0,e.setText(t),P.wrapMode=n;break;case ri:var T=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=T;break}},"SetNoWrapText"),$3=r(function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&hq.call(this)},"ResetTextObjectPosition"),hq=r(function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,s;e<=0?(t=-e,s=this.height):(t=0,s=this.height-e),this.textObject.setCrop(0,t,this.width,s)}},"CropTextObject"),lq=r(function(){var e=Math.max(Math.floor(W3.call(this,-this.textOY)),0),t=H3.call(this,e)+this.textOY,s=oq.call(this,e);return Mc(this.textObject,s),this.textObject.rexSizer.offsetY=t,$3.call(this),this},"UpdateTextObject"),uq=r(function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,iu.call(this),this},"PreLayout"),dq=r(function(e,t,s){if(s+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===s)){switch(this.textObjectWidth=t,this._textObjectRealHeight=s,this.textObjectType){case Ae:case Le:e.setFixedSize(t,s);var a=e.style,x=Math.max(t,0);this.textObjectType===Ae?a.wordWrapWidth=x:(a.wrapMode===0&&(a.wrapMode=1),a.wrapWidth=x);break;case ri:e.setMaxWidth(t);break}this.setText()}},"ResizeText"),fq=r(function(){var e,t,s,a=this.left,x=this.top,P,n,T,i;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,s=t.padding,P=a+s.left*this.scaleX,n=x+s.top*this.scaleY,T=this.width*this.scaleX-(s.left+s.right)*this.scaleX,i=this.height*this.scaleY-(s.top+s.bottom)*this.scaleY,dq.call(this,e,T,i),_l(e,P,n,T,i,t.align),t.preOffsetY=0,$3.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))},"LayoutChildren$1");const cq={setText:aq,updateTextObject:lq,preLayout:uq,layoutChildren:fq},Ib=Phaser.Utils.Objects.IsPlainObject,ii=Phaser.Utils.Objects.GetValue,vq=Phaser.Display.Align.TOP_LEFT,GS=class GS extends Cn{constructor(t,s,a,x,P,n){Ib(s)?(n=s,s=ii(n,"x",0),a=ii(n,"y",0),x=ii(n,"width",void 0),P=ii(n,"height",void 0)):Ib(x)&&(n=x,x=ii(n,"width",void 0),P=ii(n,"height",void 0)),super(t,s,a,x,P,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=ii(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(ii(n,"clampTextOY",!0)),this.alwaysScrollable=ii(n,"alwaysScrollable",!1);var T=ii(n,"background",void 0),i=ii(n,"text",void 0);i===void 0&&(i=pq(t)),this.textCropEnable=ii(n,"textCrop",!!i.setCrop);var h=ii(n,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(i),this.sizerChildren=[i];var m=this.getSizerConfig(i);m.align=vq,m.padding=mn(0),m.expand=!0,this.textObject=i,this.textObjectType=vr(i),m.preOffsetY=0,m.offsetY=0,h&&(this.textMask=Xi.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",i)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Ae:this.lines.length=0;break;case Le:this.lines.destroy();break;case ri:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Ae:case Le:var s=this.textObject.style;t=s.metrics.fontSize+s.strokeThickness;break;case ri:var a=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*a;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Ae:case Le:t=this.textObject.lineSpacing;break;case ri:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(W3.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=H3.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var s=this.topTextOY,a=this.bottomTextOY,x=this.textOYExceedTop(t),P=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:x?t=s:P&&(t=a)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),x&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=x,P&&(this.execeedBottomState||this.emit("execeedbottom",this,t,a)),this.execeedBottomState=P}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}};r(GS,"TextBlock");let Sf=GS;var pq=r(function(e){return e.add.text(0,0,"")},"CreateDefaultTextObject");Object.assign(Sf.prototype,cq);var gq=r(function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:r(function(){return e.textOY},"get"),set:r(function(t){e.textOY=t},"set")}),Object.defineProperty(e,"topChildOY",{get:r(function(){return e.topTextOY},"get")}),Object.defineProperty(e,"bottomChildOY",{get:r(function(){return e.bottomTextOY},"get")}),Object.defineProperty(e,"childVisibleHeight",{get:r(function(){return e.textObjectHeight},"get")}),Object.defineProperty(e,"childHeight",{get:r(function(){return e.textHeight},"get")})},"InjectProperties$2");const mq={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},xq={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},ji=Phaser.Utils.Objects.GetValue,NS=class NS extends nu{constructor(t,s){s===void 0&&(s={});var a=ji(s,"text",void 0),x=ji(s,"textWidth",void 0),P=ji(s,"textHeight",void 0),n=ji(s,"textCrop",!!a.setCrop),T=ji(s,"textMask",!n),i=ji(s,"content",""),h=new Sf(t,{width:x,height:P,text:a,textMask:T,textCrop:n&&!T,content:i,clampTextOY:ji(s,"clampChildOY",!1),alwaysScrollable:ji(s,"alwaysScrollable",!1)});t.add.existing(h),gq(h),s.scrollMode=0,s.type="rexTextArea",s.child={gameObject:h,expandWidth:x===void 0,expandHeight:P===void 0};var m=ji(s,"space",void 0);m&&(m.child=ji(m,"text",0)),super(t,s),this.addChildrenMap("text",a)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}};r(NS,"TextArea");let an=NS;Object.assign(an.prototype,mq,xq);const ud=Phaser.Utils.Objects.GetValue;var K3=r(function(e,t,s){t=t?Ce(t):{};var a=ud(s,"background",ce),x=ud(s,"text",Zy),P=ud(s,"track",ce),n=ud(s,"thumb",ce);a?t.background=a(e,t.background):delete t.background,x?t.text=x(e,t.text):delete t.text;var T=t.slider;T!==!1&&T!==null&&(T===void 0&&(T={}),P?T.track=P(e,T.track):delete T.track,n?T.thumb=n(e,T.thumb):delete T.thumb,t.slider=T);var i=new an(e,t);return e.add.existing(i),i},"CreateTextArea"),Zy=r(function(e,t){var s;t&&(t.hasOwnProperty("$type")?s=t.$type:t.hasOwnProperty("key")&&(s="bitmaptext",t.font=t.key));var a;switch(s){case"bitmaptext":case"bitmap":a=new yo(e,t);break;case"bbcodetext":case"bbcode":a=new nr(e,0,0,"",t);break;case"label":a=new on(e,t);break;case"textarea":a=K3(e,t);break;default:a=new xo(e,t);break}return Hy(a,t),e.add.existing(a),a},"CreateText"),Db=r(function(e,t){var s;t&&(t.hasOwnProperty("$type")?s=t.$type:t.hasOwnProperty("leftWidth")?s="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(s="roundRectangle"));var a;switch(s){case"nineSlice":t.hasOwnProperty("stretchMode")?a=new nn(e,t):a=new rn(e,t);break;case"roundRectangle":a=new sn(e,t);break;default:a=new en(e,t);break}return Hy(a,t),e.add.existing(a),a},"CreateImage");const dd=Phaser.Utils.Objects.GetValue;var wc=r(function(e,t,s){t=t?Ce(t):{};var a=dd(s,"background",ce),x=dd(s,"text",Zy),P=dd(s,"icon",Db),n=dd(s,"action",Db);return t.background!==null&&a?t.background=a(e,t.background):delete t.background,t.text!==null&&x?t.text=x(e,t.text):delete t.text,t.icon!==null&&P?t.icon=P(e,t.icon):delete t.icon,t.action!==null&&n?t.action=n(e,t.action):delete t.action,t},"BuildLabelConfig");const kS=class kS extends Yi{constructor(t,s,a){s=wc(t,s,a),super(t,s),this.type="rexSimpleLabel"}setActiveState(t){return V0(this.getChildren(),"setActiveState",t),this}setHoverState(t){return V0(this.getChildren(),"setHoverState",t),this}setDisableState(t){return V0(this.getChildren(),"setDisableState",t),this}};r(kS,"SimpleLabel");let on=kS;var V0=r(function(e,t,s){for(var a=0,x=e.length;a<x;a++){var P=e[a];P&&P[t]&&P[t](s)}},"RunMethod$1");rt.register("simpleLabel",function(e,t){var s=new on(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.SimpleLabel",on);const vt=Phaser.Utils.Objects.GetValue;var yq=r(function(e){var t=this.scene,s=vt(e,"orientation",0);this.setOrientation(s);var a=vt(e,"icon",void 0),x=vt(e,"iconMask",void 0),P=vt(e,"innerBackground",void 0),n=vt(e,"title",void 0),T=vt(e,"separator",void 0),i=vt(e,"text",void 0),h=vt(e,"action",void 0),m=vt(e,"actionMask",void 0);if(a){var c=vt(e,"align.icon","center"),S;this.orientation===0?S={right:vt(e,"space.icon",0),top:vt(e,"space.iconTop",0),bottom:vt(e,"space.iconBottom",0),left:vt(e,"space.iconLeft",0)}:S={bottom:vt(e,"space.icon",0),left:vt(e,"space.iconLeft",0),right:vt(e,"space.iconRight",0),top:vt(e,"space.iconTop",0)};var u=vt(e,"squareFitIcon",!1)?1:0;if(this.add(a,{proportion:0,align:c,padding:S,fitRatio:u}),x&&(x=Xi.call(this,a,a,1)),!u){var l=vt(e,"iconSize",void 0);this.setIconSize(vt(e,"iconWidth",l),vt(e,"iconHeight",l))}}var o=new yt(t,{orientation:1});P&&o.addBackground(P);var d=vt(e,"space.separator",0);if(n){var c=vt(e,"align.title","left"),v=vt(e,"expandTitleWidth",!1),f=vt(e,"expandTitleHeight",!1),p,S,g;p=f?1:0,g=v,S={bottom:!T&&i?vt(e,"space.title",d):0,left:vt(e,"space.titleLeft",0),right:vt(e,"space.titleRight",0)},o.add(n,{proportion:p,expand:g,align:c,padding:S})}if(T){var S={top:n?d:0,bottom:i?d:0,left:vt(e,"space.separatorLeft",0),right:vt(e,"space.separatorRight",0)};o.add(T,{expand:!0,padding:S})}if(i){var c=vt(e,"align.text","left"),y=vt(e,"expandTextWidth",!1),C=vt(e,"expandTextHeight",!1),p,S,g;p=C?1:0,g=y,S={left:vt(e,"space.textLeft",0),right:vt(e,"space.textRight",0)},o.add(i,{proportion:p,expand:g,align:c,padding:S})}var S=void 0;if(h&&(S={right:vt(e,"space.text",0)}),this.add(o,{proportion:1,padding:S}),h){var c=vt(e,"align.action","center"),S;this.orientation===0?S={top:vt(e,"space.actionTop",0),bottom:vt(e,"space.actionBottom",0),right:vt(e,"space.actionRight",0)}:S={left:vt(e,"space.actionLeft",0),right:vt(e,"space.actionRight",0),bottom:vt(e,"space.actionBottom",0)};var u=vt(e,"squareFitAction",!1)?1:0;if(this.add(h,{proportion:0,align:c,padding:S,fitRatio:u}),m&&(m=Xi.call(this,h,h,1)),!u){var E=vt(e,"actionSize");this.setActionSize(vt(e,"actionWidth",E),vt(e,"actionHeight",E))}}this.addChildrenMap("icon",a),this.addChildrenMap("iconMask",x),this.addChildrenMap("innerSizer",o),this.addChildrenMap("innerBackground",P),this.addChildrenMap("title",n),this.addChildrenMap("separator",T),this.addChildrenMap("text",i),this.addChildrenMap("action",h),this.addChildrenMap("actionMask",m)},"LayoutMode0$2");const ft=Phaser.Utils.Objects.GetValue;var Cq=r(function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,s=ft(e,"title",void 0),a=ft(e,"separator",void 0),x=ft(e,"innerBackground",void 0),P=ft(e,"icon",void 0),n=ft(e,"iconMask",void 0),T=ft(e,"text",void 0),i=ft(e,"action",void 0),h=ft(e,"actionMask",void 0);if(s){var m=ft(e,"align.title","left"),c=ft(e,"expandTitleWidth",!1),u=ft(e,"expandTitleHeight",!1),l,o,d;l=u?1:0,d=c,o={bottom:ft(e,"space.title",0),left:ft(e,"space.titleLeft",0),right:ft(e,"space.titleRight",0)},this.add(s,{proportion:l,expand:d,align:m,padding:o})}if(a){var v=ft(e,"space.separator",0),o={top:s?v:0,bottom:T?v:0,left:ft(e,"space.separatorLeft",0),right:ft(e,"space.separatorRight",0)};this.add(a,{proportion:0,expand:!0,padding:o})}var f=ft(e,"orientation",0),p=new yt(t,{orientation:f,rtl:ft(e,"rtl",!1),space:{left:ft(e,"space.innerLeft",0),right:ft(e,"space.innerRight",0),top:ft(e,"space.innerTop",0),bottom:ft(e,"space.innerBottom",0)}});if(x&&p.addBackground(x),this.add(p,{proportion:1,expand:!0}),P){var m=ft(e,"align.icon","center"),o;p.orientation===0?o={right:ft(e,"space.icon",0),top:ft(e,"space.iconTop",0),bottom:ft(e,"space.iconBottom",0),left:ft(e,"space.iconLeft",0)}:o={bottom:ft(e,"space.icon",0),left:ft(e,"space.iconLeft",0),right:ft(e,"space.iconRight",0),top:ft(e,"space.iconTop",0)};var g=ft(e,"squareFitIcon",!1)?1:0;if(p.add(P,{proportion:0,align:m,padding:o,fitRatio:g}),n&&(n=Xi.call(this,P,P,1)),!g){var y=ft(e,"iconSize",void 0);this.setIconSize(ft(e,"iconWidth",y),ft(e,"iconHeight",y))}}if(T){var m=ft(e,"align.text","left"),C=ft(e,"space.text",0),S=ft(e,"expandTextWidth",!1),E=ft(e,"expandTextHeight",!1),l,o,d;p.orientation===0?(l=S?1:0,i&&(o={right:C}),d=E):(l=E?1:0,i&&(o={bottom:C}),d=S),p.add(T,{proportion:l,expand:d,align:m,padding:o})}if(i){var m=ft(e,"align.action","center"),o;p.orientation===0?o={top:ft(e,"space.actionTop",0),bottom:ft(e,"space.actionBottom",0),right:ft(e,"space.actionRight",0)}:o={left:ft(e,"space.actionLeft",0),right:ft(e,"space.actionRight",0),bottom:ft(e,"space.actionBottom",0)};var g=ft(e,"squareFitAction",!1)?1:0;if(p.add(i,{proportion:0,align:m,padding:o,fitRatio:g}),h&&(h=Xi.call(this,i,i,1)),!g){var w=ft(e,"actionSize");this.setActionSize(ft(e,"actionWidth",w),ft(e,"actionHeight",w))}}this.addChildrenMap("title",s),this.addChildrenMap("separator",a),this.addChildrenMap("innerSizer",p),this.addChildrenMap("innerBackground",x),this.addChildrenMap("icon",P),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",T),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",h)},"LayoutMode1$1");const Xs=Phaser.Utils.Objects.GetValue,Bb=[yq,Cq],VS=class VS extends vl{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTitleLabel";var a=Xs(s,"background",void 0);a&&this.addBackground(a);var x=Xs(s,"title",void 0),P=Xs(s,"text",void 0);if(x){var n=Xs(s,"wrapTitle",!1),T=Xs(s,"adjustTitleFontSize",!1);n?(n===!0&&(n="word"),ox(x,n),s.expandTitleWidth=!0,yf(x)):T&&(s.expandTextWidth=!0,s.expandTextHeight=!0,Tf(x,{fitHeight:!0}))}if(P){var i=Xs(s,"wrapText",!1),h=Xs(s,"adjustTextFontSize",!1);i?(i===!0&&(i="word"),ox(P,i),s.expandTextWidth=!0,yf(P)):h&&(s.expandTextWidth=!0,s.expandTextHeight=!0,Tf(P,{fitHeight:!0}))}var m=Xs(s,"layoutMode",0),c=Bb[m]||Bb[0];c.call(this,s),this.addChildrenMap("background",s.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var s=this.childrenMap.title;s&&s.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var s=this.childrenMap.title;return s&&(t.title===void 0||(t.title?(this.show(s),this.setTitle(t.title)):this.hide(s))),this}};r(VS,"TitleLabel");let To=VS;rt.register("titleLabel",function(e){var t=new To(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TitleLabel",To);const z0=Phaser.Utils.Objects.GetValue;var Z3=r(function(e,t,s){var a=z0(s,"innerBackground",ce),x=z0(s,"separator",ce),P=z0(s,"title",Zy),n,T;t.innerBackground!==null&&a&&(n=a(e,t.innerBackground)),t.separator!==null&&x&&(T=x(e,t.separator)),t=wc(e,t,s),n?t.innerBackground=n:delete t.innerBackground,T?t.separator=T:delete t.separator,t.title!==null&&P?t.title=P(e,t.title):delete t.title;var i=t.background;return i&&(n?e.children.moveBelow(i,n):T&&e.children.moveBelow(i,T)),t},"BuildTitleLabelConfig");const zS=class zS extends To{constructor(t,s,a){s=Z3(t,s,a),super(t,s),this.type="rexSimpleTitleLabel"}setActiveState(t){return U0(this.getChildren(),"setActiveState",t),this}setHoverState(t){return U0(this.getChildren(),"setHoverState",t),this}setDisableState(t){return U0(this.getChildren(),"setDisableState",t),this}};r(zS,"SimpleTitleLabel");let Pf=zS;var U0=r(function(e,t,s){for(var a=0,x=e.length;a<x;a++){var P=e[a];P&&P[t]&&P[t](s)}},"RunMethod");rt.register("simpleTitleLabel",function(e,t){var s=new Pf(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.SimpleTitleLabel",Pf);const wt=Phaser.Utils.Objects.GetValue,Tq=Phaser.Utils.Objects.IsPlainObject;var Sq=r(function(e,t){var s=wt(t,"background",void 0),a=wt(t,"icon",void 0),x=wt(t,"iconMask",void 0),P=wt(t,"nameText",void 0),n=wt(t,"valueText",void 0),T=wt(t,"bar",void 0),i=wt(t,"action",void 0),h=wt(t,"actionMask",void 0),m=wt(t,"barShape","line")==="line";if(Tq(T)){var c=m?el:lo;T=new c(e,T),e.add.existing(T),P&&e.children.moveBelow(T,P),n&&e.children.moveBelow(T,n)}var u=P||n||T;if(s&&this.addBackground(s),a){var l=void 0;this.orientation===0?(u||i)&&(l={right:wt(t,"space.icon",0),top:wt(t,"space.iconTop",0),bottom:wt(t,"space.iconBottom",0)}):(u||i)&&(l={bottom:wt(t,"space.icon",0),left:wt(t,"space.iconLeft",0),right:wt(t,"space.iconRight",0)}),this.add(a,{proportion:0,padding:l}),x&&(x=Xi.call(this,a,a,1))}if(u){var o=new yt(e,{orientation:1}),d;if(P||n){if(d=new yt(e,{orientation:0}),P){P.text===""&&P.setText(" "),P.setOrigin(0,P.originY);var l={left:wt(t,"space.name",0)};d.add(P,{padding:l})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),d.addSpace();var l={right:wt(t,"space.value",0)};d.add(n,{padding:l}),this.setValueTextFormatCallback(wt(t,"valueTextFormatCallback",Pq),wt(t,"valueTextFormatCallbackScope",void 0))}o.add(d,{expand:!0})}if(T)if(m){var v=d?wt(t,"space.bar"):0;v===void 0&&(v=wt(t,"space.barTop",0));var l={top:v,bottom:wt(t,"space.barBottom",0),left:wt(t,"space.barLeft",0),right:wt(t,"space.barRight",0)};o.add(T,{expand:!0,padding:l})}else{var l={top:wt(t,"space.barTop",0),bottom:wt(t,"space.barBottom",0),left:wt(t,"space.barLeft",0),right:wt(t,"space.barRight",0)};this.addBackground(T,l)}var l=void 0;i&&(l={right:wt(t,"space.text",0)});var f=wt(t,"align.text","bottom");this.add(o,{proportion:1,align:f,padding:l})}if(i){var l;this.orientation===0?l={top:wt(t,"space.actionTop",0),bottom:wt(t,"space.actionBottom",0)}:l={left:wt(t,"space.actionLeft",0),right:wt(t,"space.actionRight",0)},this.add(i,{proportion:0,padding:l}),h&&(h=Xi.call(this,i,i,1))}this.addChildrenMap("background",s),this.addChildrenMap("icon",a),this.addChildrenMap("iconMask",x),this.addChildrenMap("name",P),this.addChildrenMap("value",n),this.addChildrenMap("bar",T),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",h)},"Build$1"),Pq=r(function(e,t,s){return e.toString()},"DefaultValueTextFormatCallback");const Eq=Phaser.Math.Clamp,Mq={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,s){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),s===void 0&&(s=this.maxValue);var a;return this.valueTextFormatCallbackScope?a=this.valueTextFormatCallback(e,t,s):a=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,s),a},updateValueText(e,t,s){var a=this.childrenMap.value;return a&&this.valueTextFormatCallback&&(a.setText(this.getFormatValueText(e,t,s)),a.layout&&a.layout()),this},setValue(e,t,s){return t===void 0?t=this.minValue:this.minValue=t,s===void 0?s=this.maxValue:this.maxValue=s,e=Eq(e,t,s),this.value=e,this.updateValueText(e,t,s),this.setBarValue(e,t,s),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,s){return t===void 0?t=this.minValue:this.minValue=t,s===void 0?s=this.maxValue:this.maxValue=s,this.easeValueTask===void 0&&(this.easeValueTask=new ai(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}},US=class US extends yt{constructor(t,s){super(t,s),this.type="rexNameValueLabel",Sq.call(this,t,s),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var s=this.childrenMap.name;s!==void 0&&s.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var s=this.childrenMap.value;s!==void 0&&s.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var s=this.childrenMap.bar;s!==void 0&&s.setValue(t)}setBarValue(t,s,a){var x=this.childrenMap.bar;return x===void 0?this:(x.setValue(t,s,a),this)}easeBarValueTo(t,s,a){var x=this.childrenMap.bar;return x===void 0?this:(x.easeValueTo(t,s,a),this)}setTexture(t,s){var a=this.childrenMap.icon;if(a!==void 0)return a.setTexture(t,s),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,s,a){var x=this.childrenMap.iconMask;x&&(x.setPosition(),this.resetChildPositionState(x));var P=this.childrenMap.actionMask;return P&&(P.setPosition(),this.resetChildPositionState(P)),super.postLayout(t,s,a),this}resize(t,s){super.resize(t,s);var a=this.childrenMap.iconMask;a&&a.resize();var x=this.childrenMap.actionMask;return x&&x.resize(),this}};r(US,"NameValueLabel");let So=US;Object.assign(So.prototype,Mq);rt.register("nameValueLabel",function(e){var t=new So(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.NameValueLabel",So);const XS=class XS extends sf{constructor(t){super(),this.setTable(At(t,"table")),this.setMaxLevel(At(t,"maxLevel"));var s=At(t,"exp",0),a=At(t,"level",void 0);a!==void 0&&!this.checkLevel(a,s)&&(console.error(`Level ${a} and Exp ${s} are mismatch`),a=void 0),this.resetExp(s,a)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=zi(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var s;return t!==-1?s=this.getExp(t):s=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=s,this}resetExp(t,s){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),s===void 0&&(s=this.getLevel(t)),this._exp=t,this._level=s,this._requiredExp=this.getRequiredExpToNextLevel(s,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var s=this.getLevel(t,this._level),a=this._level,x=this._exp,P;;){var n=this.getExp(a),T=this.getExp(a+1);if(P=Math.min(T,t),this.emit("levelup",a,x,P,n,T),a===s&&P===t)break;a++,x=T}this.resetExp(t,s)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,s){if(t===void 0)return this._level;for(s===void 0&&(s=0);;){var a=this.getExp(s+1);if(a>t||(s++,this.hasMaxLevel&&a===this.maxExp))break}return s}getRequiredExpToNextLevel(t,s){return t===void 0&&(t=this.level),s===void 0&&(s=this.exp),this.getExp(t+1)-s}checkLevel(t,s){return s>=this.getExp(t)&&s<this.getExp(t+1)}gainExp(t,s,a){return s&&this.on("levelup",s,a),this.exp+=t,s&&this.off("levelup",s,a),this}setExp(t,s,a){return s&&this.on("levelup",s,a),this.exp=t,s&&this.off("levelup",s,a),this}setLevel(t,s,a){return s&&this.on("levelup",s,a),this.level=t,s&&this.off("levelup",s,a),this}};r(XS,"LevelCounter");let gx=XS;var mx=r(function(e,t,s){var a=At(s,"reverse",!1),x;if(Ui(e[0]))if(a)for(var n=e.length,P=n-1;P>=0;P--)x=mx(e[P],t,s);else for(var P=0,n=e.length;P<n;P++)x=mx(e[P],t,s);else x=wq(e,t,s);return x},"RunCommands"),wq=r(function(e,t,s){var a=At(s,"argsConvert",void 0),x=At(s,"argsConvertScope",void 0),P=e[0];if(Ys=Hd(Ys,e,1),a){a===!0&&(a=cy,x=void 0);for(var n=0,T=Ys.length;n<T;n++)x?Ys[n]=a.call(x,Ys[n],e):Ys[n]=a(Ys[n],e)}var i;typeof P=="string"?(i=t[P],i==null&&(i=At(t,P,null))):i=P;var h=i.apply(t,Ys);return h},"RunCommand"),Ys=[];const Li=Phaser.Utils.Objects.GetValue,YS=class YS extends Nt{constructor(t,s){super(t,s);var a=Li(s,"clock",void 0);a||(a=new tf(t)),this.clock=a,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(s)}resetFromJSON(t){return this.clock.resetFromJSON(Li(t,"clock",void 0)),this.state=Li(t,"state",0),this.commands=Li(t,"commands",[]),this.scope=Li(t,"scope",void 0),this.setTimeUnit(Li(t,"timeUnit",0)),this.setDtMode(Li(t,"dtMode",0)),this.index=Li(t,"index",0),this.nextTime=Li(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,s,a){this.stop();var x=Li(a,"timeUnit",void 0);x!==void 0&&this.setTimeUnit(x);var P=Li(a,"dtMode",void 0);return P!==void 0&&this.setDtMode(P),t=t.filter(function(n){var T=n[0];return!isNaN(T)}).map(function(n){var T=n[0];return typeof T=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,T){var i=n[0],h=T[0];return i>h?1:i<h?-1:0}),Hd(this.commands,t),this.scope=s,this}clear(){return this.commands.length=0,this}append(t,s,...a){var x;return Array.isArray(s)?x=s:x=[s,...a],this.commands.push([t,x]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var s=this.commands;;){var a=s[this.index],x=a[1];if(Ui(x)||(x=Hd(Rq,a,1)),mx(x,this.scope),this.emit("runcommand",x,this.scope),this.index>=s.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var s=this.commands[this.index][0];return this.timeUnit===1&&(s=s*1e3),this.dtMode===1&&(s+=t),s}setDtMode(t){return typeof t=="string"&&(t=bq[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=Oq[t]),this.timeUnit=t,this}};r(YS,"Player");let Ef=YS;var Rq=[];const Oq={ms:0,s:1,sec:1},bq={abs:0,absolute:0,inc:1,increment:1};var Aq=r(function(e,t,s,a,x){var P=(s-t)/(x-a)*this.totalEaseDuration,n=s===x?e+1:e;this.player.append(0,this.setEaseValueDuration,P).append(0,this.easeValueTo,s,a,x).append(0,this.emit,"levelup.start",e,t,s,this).append(P,fe).append(0,this.emit,"levelup.end",n,t,s,this),this.player.isPlaying||this.player.start()},"OnLevelUp");const Lq={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},Gb=Phaser.Utils.Objects.GetValue,WS=class WS extends So{constructor(t,s){super(t,s),this.type="rexExpBar",this.setTotalEaseDuration(Gb(s,"easeDuration",1e3)),this.levelCounter=new gx(Gb(s,"levelCounter")),this.player=new Ef(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",Aq,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}};r(WS,"ExpBar");let ml=WS;Object.assign(ml.prototype,Lq);rt.register("expBar",function(e){var t=new ml(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ExpBar",ml);const fd=yt.prototype.add,Nb=yt.prototype.addSpace;var X0=r(function(e){var t=!e.isRexSpace,s=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var a=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");a&&Nb.call(this),fd.call(this,e,{proportion:s,expand:!0});var x=!this.buttonsExpand&&this.buttonsAlign==="center";x&&Nb.call(this),this.hasTailSpace=x}else fd.call(this,e,{proportion:s,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var P=this.sizerChildren.length-1;fd.call(this,e,{index:P,proportion:s,expand:!0})}else fd.call(this,e,{proportion:s,expand:!0});return t&&this.buttonGroup.add(e),this},"Add$2");const Fq={addButton(e){if(Ui(e))for(var t=e,s=0,a=t.length;s<a;s++)X0.call(this,t[s]);else X0.call(this,e);return this},addButtons(e){for(var t=0,s=e.length;t<s;t++)X0.call(this,e[t]);return this}},Iq=yt.prototype.remove,Dq=yt.prototype.clear;var Y0=r(function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),Iq.call(this,e,t),this)},"Remove$3");const Bq={remove(e,t){if(Ui(e))for(var s=e,a=0,x=s.length;a<x;a++)Y0.call(this,s[a],t);else Y0.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Dq.call(this,e),this},removeButton(s,t){var s=this.getButton(s);return s?(this.remove(s,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)Y0.call(this,t[s],e);return this}};var Gq=r(function(e,t,s){if(e){var a=this.setValueCallback,x=this.setValueCallbackScope;a&&(x?a.call(x,e,t,s):a(e,t,s)),this.fireEvent("button.statechange",e,t,s)}},"OnButtonStateChange"),Nq=r(function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:r(function(){return e._selected},"get"),set:r(function(s){if(e._selected!==s){var a=e._selected;e._selected=s,Gq.call(t,e,s,a)}},"set"),enumerable:!0,configurable:!0}),e.selected=!1},"InjectSelectedProperty");const kq={add(e){return this.buttons.push(e),e._click||(e._click=new Ls(e,this.clickConfig),e._click.on("click",function(t,s,a,x){this.fireEvent("button.click",s,a,x)},this).on("enable",function(t,s){this.fireEvent("button.enable",s)},this).on("disable",function(t,s){this.fireEvent("button.disable",s)},this).on("over",function(t,s,a,x){this.fireEvent("button.over",s,a,x)},this).on("out",function(t,s,a,x){this.fireEvent("button.out",s,a,x)},this).on("down",function(t,s,a,x){this.fireEvent("button.down",s,a,x)},this).on("up",function(t,s,a,x){this.fireEvent("button.up",s,a,x)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),Nq.call(this,e)),this},addMultiple(e){for(var t=0,s=e.length;t<s;t++)this.add(e[t]);return this}},Vq=Phaser.Utils.Array.Remove,zq={remove(e){return this.buttonsType&&delete e.selected,Vq(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,s=e.length;t<s;t++)delete e[t].selected;return this.buttons.length=0,this}};var Uq=r(function(e,t,...s){if(this.buttons){var a;if(typeof t=="number"){if(a=t,t=this.buttons[a],!t)return}else if(a=this.buttons.indexOf(t),a===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,a,...s),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,a,...s):this.eventEmitter.emit(e,t,a,...s)}},"FireEvent");const mh=Phaser.Utils.Objects.GetValue,Xq={setButtonsType(e){e===void 0&&(e={});var t=mh(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var s,a;switch(s=mh(e,"setValueCallback",void 0),a=mh(e,"setValueCallbackScope",void 0),s===void 0&&(s=mh(e,"setButtonStateCallback",void 0),a=mh(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=s,this.setValueCallbackScope=a,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var s=void 0;return Object.defineProperty(e,"value",{get:r(function(){return e._value},"get"),set:r(function(a){if(e._value!==a){e._value=a;for(var x=0,P=t.length;x<P;x++){var n=t[x];n.rexSizer.hidden||(s===void 0?n.name===a?n.selected=!0:n.selected=!1:s===x?n.selected=!0:n.selected=!1)}}},"set"),enumerable:!0,configurable:!0}),e.on("button.click",function(a){s=this.buttons.indexOf(a),e.value=a.name,s=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,s=e.length;t<s;t++){var a=e[t];a.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,s=0,a=t.length;s<a;s++){var x=t[s];x.rexSizer.hidden||(e[x.name]=x.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var s=this.buttons,a=0,x=s.length;a<x;a++){var P=s[a];if(!P.rexSizer.hidden&&P.name===e){P.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,s=0,a=t.length;s<a;s++){var x=t[s];if(!x.rexSizer.hidden&&x.name===e)return x.selected}}};var Yq=r(function(e,t){if(e)if(Ui(e)){for(var s,a=0,x=e.length;a<x;a++)if(s=kb(e[a],t),s)return s}else{var s;for(var P in e)if(s=kb(e[P],t),s)return s}else return null},"GetGameObjectByName"),kb=r(function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null},"TestName");const Rc={getButton(e){var t=this.buttons,s,a=typeof e;switch(a){case"number":s=t[e];break;case"string":s=Yq(t,e);break;default:s=e,t.indexOf(s)===-1&&(s=void 0);break}return s},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var s=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var a=0,x=s.length;a<x;a++)s[a]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var s=0,a=t.length;s<a;s++)t[s]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,s=this.buttons,a=0,x=s.length;a<x;a++){var P=s[a];P._click.isOver&&(P._click.isOver=!1,t.fireEvent("button.out",P))}var P=this.getButton(e);return P&&(P._click.isOver=!0,t.fireEvent("button.over",P)),this},showButton(e){return qs(this.getButton(e)),this},hideButton(e){return _s(this.getButton(e)),this},isButtonShown(e){return Ny(this.getButton(e)),this},forEachButtton(e,t){for(var s=this.buttons,a=0,x=s.length;a<x;a++)t?e.call(t,s[a],a,s):e(s[a],a,s);return this}},HS=class HS{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}};r(HS,"ButtonGroup");let Po=HS;var Wq={fireEvent:Uq};Object.assign(Po.prototype,kq,zq,Xq,Rc,Wq);const Jy={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},Fr=Phaser.Utils.Objects.GetValue;var $a;let xe=($a=class extends yt{constructor(t,s){s===void 0&&(s={});var a=s.space;typeof a=="number"&&(s.space={item:a}),super(t,s),this.type="rexButtons",this.buttonGroup=new Po({parent:this,eventEmitter:Fr(s,"eventEmitter",this),groupName:Fr(s,"groupName",void 0),clickConfig:Fr(s,"click",void 0)}).setButtonsType(s);var x=Fr(s,"background",void 0),P=Fr(s,"buttons",void 0);this.buttonsExpand=Fr(s,"expand",!1),this.buttonsAlign=Fr(s,"align",void 0),x&&this.addBackground(x),P&&this.addButtons(P),this.addChildrenMap("background",x),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}},r($a,"Buttons"),$a);Object.assign(xe.prototype,Fq,Bq,Rc,Jy);rt.register("buttons",function(e){var t=new xe(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Buttons",xe);const Hq=oi.prototype.add,$q={addButton(e,t,s){return Hq.call(this,e,t,s,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var s=0,a=e;s<a;s++)this.addButton(e[s],void 0,t);return this}},Kq=oi.prototype.remove,Zq=oi.prototype.clear;var W0=r(function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),Kq.call(this,s,t),this):this},"Remove$2");const Jq={remove(e,t){if(Ui(e))for(var s=e,a=0,x=s.length;a<x;a++)W0.call(this,s[a],t);else W0.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Zq.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)W0.call(this,t[s],e);return this}},Qi=Phaser.Utils.Objects.GetValue,$S=class $S extends oi{constructor(t,s){s===void 0&&(s={});var a=Qi(s,"row",0),x=Qi(s,"column",s.col||0),P=Qi(s,"createCellContainerCallback"),n=Qi(s,"buttons",void 0),T=Qi(s,"expand",!0),i=T?1:0;if(P&&(s.createCellContainerCallback=void 0),n!==void 0){a=Math.max(a,n.length);for(var h=0,m=n.length;h<m;h++)x=Math.max(x,n[h].length)}s.row=a,s.column=x,s.columnProportions=i,s.rowProportions=i,super(t,s),this.type="rexGridButtons",this.buttonGroup=new Po({parent:this,eventEmitter:Qi(s,"eventEmitter",this),groupName:Qi(s,"groupName",void 0),clickConfig:Qi(s,"click",void 0)}).setButtonsType(s);var c=Qi(s,"background",void 0);if(this.buttonsExpand=T,Qi(s,"space",void 0),c&&this.addBackground(c),n)for(var u,l,o=0,d=n.length;o<d;o++){u=n[o];for(var v=0,f=u.length;v<f;v++)l=u[v],l&&this.addButton(l,v,o)}else if(P)for(var p=0;p<a;p++)for(var g=0;g<x;g++){var l=P(t,g,p);l&&this.addButton(l,g,p)}this.addChildrenMap("background",c),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};r($S,"GridButtons");let Eo=$S;Object.assign(Eo.prototype,$q,Jq,Rc,Jy);rt.register("gridButtons",function(e){var t=new Eo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.GridButtons",Eo);const J3=as.prototype.add;var cd=r(function(e){return J3.call(this,e),this.buttonGroup.add(e),this},"Add$1");const jq={addButton(e){if(Ui(e))for(var t=e,s=0,a=t.length;s<a;s++)cd.call(this,t[s]);else cd.call(this,e);return this},addButtons(e){if(Ui(e[0]))for(var t=e,s,a=0,x=t.length-1;a<=x;a++){s=t[a];for(var P=0,n=s.length;P<n;P++)cd.call(this,s[P]);a>x&&J3.addNewLine(this)}else for(var P=0,n=e.length;P<n;P++)cd.call(this,e[P]);return this}},Qq=as.prototype.remove,qq=as.prototype.clear;var H0=r(function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),Qq.call(this,s,t),this):this},"Remove$1");const _q={remove(e,t){if(Ui(e))for(var s=e,a=0,x=s.length;a<x;a++)H0.call(this,s[a],t);else H0.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,qq.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)H0.call(this,t[s],e);return this}},Kn=Phaser.Utils.Objects.GetValue,KS=class KS extends as{constructor(t,s){s===void 0&&(s={});var a=s.space;typeof a=="number"&&(s.space={item:a,line:a}),super(t,s),this.type="rexFixWidthButtons",this.buttonGroup=new Po({parent:this,eventEmitter:Kn(s,"eventEmitter",this),groupName:Kn(s,"groupName",void 0),clickConfig:Kn(s,"click",void 0)}).setButtonsType(s);var x=Kn(s,"background",void 0),P=Kn(s,"buttons",void 0);this.buttonsAlign=Kn(s,"align",void 0),x&&this.addBackground(x),P&&this.addButtons(P),this.addChildrenMap("background",x),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};r(KS,"Buttons");let os=KS;Object.assign(os.prototype,jq,_q,Rc,Jy);rt.register("fixWidthButtons",function(e){var t=new os(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FixWidthButtons",os);const t_={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,s,a,x){return this.childrenMap.fileChooser.loadFile(e,t,s,a,x),this},loadFilePromise(e,t,s,a){return this.childrenMap.fileChooser.loadFilePromise(e,t,s,a)}},Vb=Phaser.Utils.Objects.GetValue,ZS=class ZS extends Yi{constructor(t,s){super(t,s),this.type="rexFileSelectorButton";var a=new tn(t);t.add.existing(a),this.addBackground(a),this.addChildrenMap("fileChooser",a),this.setAccept(Vb(s,"accept","")),this.setMultiple(Vb(s,"multiple",!1)),a.on("change",function(x){var P=x.files;P.length!==0&&(P=Array.from(P),this.emit("select",P,this))},this)}get files(){return this.childrenMap.fileChooser.files}};r(ZS,"FileSelectorButton");let xl=ZS;Object.assign(xl.prototype,t_);rt.register("fileSelectorButton",function(e){var t=new xl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileSelectorButton",xl);const e_={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var s=this.childrenMap.choicesSizer;return s&&s.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var s=this.childrenMap.choicesSizer;return s&&s.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},i_={onCreateModalBehavior(e){e.on("button.click",function(t,s,a,x,P){var n=!1;switch(s){case"actions":n=!0;break;case"choices":e.hasAnyAction()||(n=!0);break}if(n){var T={index:a,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":T.value=e.getChoicesSelectedButtonName();break;case"checkboxes":T.value=e.getChoicesButtonStates();break;default:T.value=void 0}e.modalClose(T)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,Tc.modal.call(this,e,t),this}};var j3={};Object.assign(j3,e_,i_);const ut=Phaser.Utils.Objects.GetValue,JS=class JS extends yt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexDialog",this.eventEmitter=ut(s,"eventEmitter",this);var a=ut(s,"background",void 0),x=ut(s,"title",void 0),P=ut(s,"toolbar",void 0),n=ut(s,"toolbarBackground",void 0),T=ut(s,"leftToolbar",void 0),i=ut(s,"leftToolbarBackground",void 0),h=ut(s,"content",void 0),m=ut(s,"description",void 0),c,u=ut(s,"choices",void 0),l=ut(s,"choicesBackground",void 0),o,d=ut(s,"actions",void 0),v=ut(s,"actionsBackground",void 0),f=ut(s,"click",void 0);a&&this.addBackground(a);var p;P&&(p=new xe(t,{groupName:"toolbar",background:n,buttons:P,orientation:0,space:{item:ut(s,"space.toolbarItem",0)},click:f,eventEmitter:this.eventEmitter}),t.add.existing(p));var g;if(T&&(g=new xe(t,{groupName:"leftToolbar",background:i,buttons:T,orientation:0,space:{item:ut(s,"space.leftToolbarItem",0)},click:f,eventEmitter:this.eventEmitter}),t.add.existing(g)),x||P||T){var y=!!x&&ut(s,"expand.title",!0),C=ut(s,"align.title","center"),S=x&&!y&&C==="center"||!x&&(P||T),E=!S,w;E?w=new yt(t,{orientation:0}):w=new Je(t),t.add.existing(w);var M=E?!0:{height:!0};if(g&&w.add(g,{align:"left",expand:M}),x){E&&!y&&C==="right"&&w.addSpace();var R={left:ut(s,"space.titleLeft",0),right:ut(s,"space.titleRight",0)},O=y?1:0;w.add(x,{align:C,proportion:O,expand:M,padding:R}),E&&!y&&C==="left"&&w.addSpace()}p&&(E&&!x&&w.addSpace(),w.add(p,{align:"right",expand:M}));var R;(h||m||u||d)&&(R={bottom:ut(s,"space.title",0),top:ut(s,"space.titleTop",0)});var O=ut(s,"proportion.title",0);this.add(w,{padding:R,proportion:O,expand:!0})}if(h){var b=ut(s,"align.content","center"),A=ut(s,"space.content",0),R={left:ut(s,"space.contentLeft",0),right:ut(s,"space.contentRight",0),bottom:m||u||d?A:0},O=ut(s,"proportion.content",0),I=ut(s,"expand.content",!0);this.add(h,{align:b,padding:R,proportion:O,expand:I})}if(m){var b=ut(s,"align.description","center"),L=ut(s,"space.description",0),R={left:ut(s,"space.descriptionLeft",0),right:ut(s,"space.descriptionRight",0),bottom:u||d?L:0},O=ut(s,"proportion.description",0),I=ut(s,"expand.description",!0);this.add(m,{align:b,padding:R,proportion:O,expand:I})}if(u){var F=ut(s,"choicesType","").split("-"),D=xh(F,"wrap")?os:xh(F,"grid")?Eo:xe,B=xh(F,"radio")?"radio":xh(F,"checkboxes")?"checkboxes":void 0,V={left:ut(s,"space.choicesBackgroundLeft",0),right:ut(s,"space.choicesBackgroundRight",0),top:ut(s,"space.choicesBackgroundTop",0),bottom:ut(s,"space.choicesBackgroundBottom",0)},U=ut(s,"space.choice",0);D===xe?V.item=U:D===os?(V.item=U,V.line=ut(s,"space.choiceLine",U)):(V.column=ut(s,"space.choiceColumn",U),V.row=ut(s,"space.choiceRow",U));var W={width:ut(s,"choicesWidth",void 0),height:ut(s,"choicesHeight",void 0),groupName:"choices",buttonsType:B,background:l,buttons:u,space:V,click:f,eventEmitter:this.eventEmitter,setValueCallback:ut(s,"choicesSetValueCallback",void 0),setValueCallbackScope:ut(s,"choicesSetValueCallbackScope",void 0)};D===xe&&(W.orientation=xh(F,"x")?0:1),c=new D(t,W),t.add.existing(c);var Y=ut(s,"space.choices",0),R={left:ut(s,"space.choicesLeft",0),right:ut(s,"space.choicesRight",0),bottom:d?Y:0},b=ut(s,"align.choices","center"),O=ut(s,"proportion.choices",0),I=ut(s,"expand.choices",!0);this.add(c,{align:b,padding:R,proportion:O,expand:I}),this.buttonsType=B}if(d){o=new xe(t,{groupName:"actions",background:v,buttons:d,orientation:0,space:{item:ut(s,"space.action",0)},expand:ut(s,"expand.actions",!1),align:ut(s,"align.actions","center"),click:f,eventEmitter:this.eventEmitter}),t.add.existing(o);var R={left:ut(s,"space.actionsLeft",0),right:ut(s,"space.actionsRight",0),bottom:ut(s,"space.actionsBottom",0)},O=ut(s,"proportion.action",0);this.add(o,{align:"center",padding:R,proportion:O,expand:!0})}yh(this,"click"),yh(this,"over"),yh(this,"out"),yh(this,"enable"),yh(this,"disable"),this.addChildrenMap("background",a),this.addChildrenMap("title",x),this.addChildrenMap("toolbar",P),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",h),this.addChildrenMap("description",m),this.addChildrenMap("choices",c?c.buttons:void 0),this.addChildrenMap("actions",o?o.buttons:void 0),this.addChildrenMap("choicesSizer",c),this.addChildrenMap("actionsSizer",o),this.addChildrenMap("toolbarSizer",p),this.addChildrenMap("leftToolbarSizer",g)}};r(JS,"Dialog");let hn=JS;var xh=r(function(e,t){return e.indexOf(t)!==-1},"Contains"),zb={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},yh=r(function(e,t){e.on(`button.${t}`,function(s,a,x,P,n){zb.hasOwnProperty(a)&&e.emit(`${zb[a]}.${t}`,s,x,P,n)})},"EmitButtonEvent");Object.assign(hn.prototype,j3);rt.register("dialog",function(e){var t=new hn(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Dialog",hn);var ye=r(function(e,t,s){var a=new on(e,t,s);return e.add.existing(a),a},"CreateLabel"),s_=r(function(e){return e===void 0&&(e={}),r_.call(this,e),n_.call(this,e),a_.call(this,e),o_.call(this,e),this},"ResetDisplayContent$1"),r_=r(function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},"ResetTitle$1"),n_=r(function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var s=e||"";t.setText(s)}},"ResetContent$1"),a_=r(function(e){var t=this.childrenMap.actions;if(t){var s=e.buttons;if(s){for(var P=this.scene,n=this.defaultActionConfig,T=this.defaultActionButtonCreator,i=0,h=s.length;i<h;i++){var m=s[i],c=t[i];c||(c=ye(P,n,T),this.addAction(c)),c.show().resetDisplayContent(m)}this.buttonMode=s.length;for(var i=s.length,h=t.length;i<h;i++)t[i].hide()}else{var a=t[0];a&&(e.buttonA===null?a.hide():(a.show(),a.resetDisplayContent(e.buttonA)));var x=t[1];x&&(e.buttonB===null?x.hide():(x.show(),x.resetDisplayContent(e.buttonB)))}}},"ResetActions$1"),o_=r(function(e){var t=this.childrenMap.choices;if(t){var s=e.choices;s||(s=[]);for(var a=this.scene,x=this.defaultChoiceConfig,P=this.defaultActionButtonCreator,n=0,T=s.length;n<T;n++){var i=s[n];typeof i=="string"&&(i={text:i});var h=t[n];h||(h=ye(a,x,P),this.addChoice(h)),h.show().resetDisplayContent(i);var m;i.hasOwnProperty("value")?m=i.value:m=i.text,h.setName(m)}for(var n=s.length,T=t.length;n<T;n++)t[n].hide()}},"ResetChoices");const h_=Phaser.Utils.Objects.Merge;var l_=r(function(e,t){zi(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=h_(e,this.modalStyle);var s;this.buttonMode===0?this.hasAnyChoice()?s=!1:s=!0:s=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=s),e.hasOwnProperty("manualClose")||(e.manualClose=!s);var a=this,x=r(function(P){var n=P.index;n===a.confirmButtonIndex?a.emit("confirm",P):n===a.cancelButtonIndex&&a.emit("cancel",P),t&&t(P)},"onCloseWrap");return Tc.modal.call(this,e,x),this},"Modal$1");const u_={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var Q3={resetDisplayContent:s_,modal:l_};Object.assign(Q3,u_);var d_=r(function(e){e.setHoverState&&e.setHoverState(!0)},"OnPointerOverCallback"),f_=r(function(e){e.setHoverState&&e.setHoverState(!1)},"OnPointerOutCallback"),c_=r(function(e,t,s,a){e.setActiveState&&e.setActiveState(a)},"OnChoiceButtonStateChange"),v_=r(function(e){e.setDisableState&&e.setDisableState(!1)},"OnButtonEnable"),p_=r(function(e){e.setDisableState&&e.setDisableState(!0)},"OnButtonDisable"),q3=r(function(){this.on("button.over",d_).on("button.out",f_).on("button.enable",v_).on("button.disable",p_).on("button.statechange",c_)},"RegisterEvents");const g_=Phaser.Utils.Objects.GetValue;var m_=r(function(e,t,s){var a=g_(t,"$type");a===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(a="textarea");var x;switch(a){case"textarea":x=new K3(e,t,s);break;default:x=new ye(e,t,s);break}return e.add.existing(x),x},"CreateContent$1");const $0=Phaser.Utils.Objects.GetValue,jS=class jS extends hn{constructor(t,s,a){s=s?Ce(s):{},a===void 0&&(a={});var x=$0(a,"background",ce);s.background=x(t,s.background),s.title=ye(t,s.title,a.title),s.content=m_(t,s.content,a.content),s.content instanceof an&&Ts(s,"height")&&!Ts(s,"proportion.content")&&it(s,"proportion.content",1);var P=s.button,n=s.buttonA||P,T=s.buttonB||P,i=s.buttonMode;i===void 0&&(i=n&&T?2:n?1:0);var h=a.button,m=a.buttonA||h,c=a.buttonB||h;switch(i){case 2:s.actions=[ye(t,n,m),ye(t,T,c)];break;case 1:s.actions=[ye(t,n,m)];break;case 0:break;default:s.actions=[];break}var u=s.choice;u&&(s.choices=[]),super(t,s),this.type="rexConfirmDialog",this.buttonMode=i,this.defaultActionConfig=P,this.defaultActionButtonCreator=h,this.defaultChoiceConfig=u,this.defaultChoiceCreator=a.choice;var l=this.childrenMap.actions;this.addChildrenMap("buttonA",l?l[0]:null),this.addChildrenMap("buttonB",l?l[1]:null),q3.call(this),this.setConfirmButtonIndex($0(s,"confirmButtonIndex",0)),this.setCancelButtonIndex($0(s,"cancelButtonIndex",1)),this.modalStyle=s.modal||{}}};r(jS,"ConfirmDialog");let Mo=jS;Object.assign(Mo.prototype,Q3);rt.register("confirmDialog",function(e,t){var s=new Mo(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.ConfirmDialog",Mo);const Ub=Phaser.Utils.Objects.GetValue;var _3=r(function(e,t){var s=t.dialog,a=!s;if(a){var x=t.style;x.buttonMode=2,s=new Mo(e,x,t.creators),e.add.existing(s)}s.setConfirmButtonIndex(Ub(t,"confirmButtonIndex",0)).setCancelButtonIndex(Ub(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),a&&t.onCreateDialog&&t.onCreateDialog(s);var P=t.modal;P&&!P.hasOwnProperty("destroy")&&(P.destroy=a);var n=t.confirm,T=t.cancel,i=t.confirmScope,h=t.cancelScope;n&&s.once("confirm",n,i),T&&s.once("cancel",T,h);var m=r(function(c){s.off("confirm",n,i),s.off("cancel",T,h)},"onClose");return s.modal(P,m),s},"ConfirmAction");const QS=class QS extends Yi{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Ni(s.confirmDialog||{}),s.confirm&&this.setConfirmCallback(s.confirm,s.confirmScope),s.cancel&&this.setCancelCallback(s.cancel,s.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=_3(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,s){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=s,this}setCancelCallback(t,s){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=s,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,s=this.confirmActionConfig.confirmScope;return t&&t.call(s),this}};r(QS,"ConfirmActionButton");let Mf=QS;rt.register("confirmActionButton",function(e){var t=new Mf(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ConfirmActionButton",Mf);var x_=r(function(e){return e===void 0&&(e={}),y_.call(this,e),C_.call(this,e),T_.call(this,e),this},"ResetDisplayContent"),y_=r(function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},"ResetTitle"),C_=r(function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var s=e.firstNameTitle||"";t.resetDisplayContent(s)}var a=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(a);else{this.show(a);var x=e.firstName||"";a.setText(x)}var P=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(P);else{this.show(P);var n=e.lastNameTitle||"";P.resetDisplayContent(n)}var T=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(T);else{this.show(T);var i=e.lastName||"";T.setText(i)}},"ResetContent"),T_=r(function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))},"ResetActions");const S_=Phaser.Utils.Objects.Merge;var P_=r(function(e,t){zi(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=S_(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var s=this,a=r(function(x){x.firstName=s.firstName,x.lastName=s.lastName,s.emit("confirm",x),t&&t(x)},"onCloseWrap");return Tc.modal.call(this,e,a),this},"Modal"),E_={resetDisplayContent:x_,modal:P_},dr=r(function(e,t,s){s===void 0&&(s=!0),s?t=t?Ce(t):{}:t||(t={});var a=new Jr(e,t);return e.add.existing(a),a},"CreateInputText$1");const pi=Phaser.Utils.Objects.GetValue;var M_=r(function(e,t,s){var a=yn(pi(t,"layoutMode",0)),x=a===0,P=new yt(e,{orientation:a,space:{item:pi(t,"space.firstName",0)}});e.add.existing(P);var n=new yt(e,{orientation:"x"});e.add.existing(n);var T=pi(t,"firstNameTitle",t.nameTitle),i=ye(e,T,s.firstNameTitle||s.nameTitle);n.add(i,{expand:!0,proportion:pi(t,"proportion.firstNameTitle",0),padding:{right:pi(t,"space.firstNameTitle",0)}});var h=t.nameInput||{},m=pi(t,"firstNameInput",h),c=dr(e,m,s.firstNameInput||s.nameInput),u=!m.hasOwnProperty("width");n.add(c,{expand:!0,proportion:u?1:0});var l=new yt(e,{orientation:"x"});e.add.existing(l);var o=pi(t,"lastNameTitle",t.nameTitle),d=ye(e,o,s.lastNameTitle||s.nameTitle);l.add(d,{expand:!0,proportion:pi(t,"proportion.lastNameTitle",0),padding:{right:pi(t,"space.lastNameTitle",0)}});var v=pi(t,"firstNameInput",h),f=dr(e,v,s.lastNameInput||s.nameInput),p=!v.hasOwnProperty("width");if(l.add(f,{expand:!0,proportion:p?1:0}),x){var g=u?1:0,y=pi(t,"proportion.firstName",g);P.add(n,{expand:!0,proportion:y});var C=p?1:0,S=pi(t,"proportion.lastName",C);P.add(l,{expand:!0,proportion:S})}else P.add(n,{expand:u,proportion:0}),P.add(l,{expand:p,proportion:0});return P.addChildrenMap("firstNameTitle",i),P.addChildrenMap("firstNameInput",c),P.addChildrenMap("lastNameTitle",d),P.addChildrenMap("lastNameInput",f),P},"CreateContent");const w_=Phaser.Utils.Objects.GetValue,qS=class qS extends hn{constructor(t,s,a){s===void 0&&(s={}),a===void 0&&(a={}),s.orientation="y";var x=s.space;x&&(x.hasOwnProperty("names")&&(x.content=x.names),x.hasOwnProperty("namesLeft")&&(x.contentLeft=x.namesLeft),x.hasOwnProperty("namesRight")&&(x.contentRight=x.namesRight));var P=w_(a,"background",ce);s.background=P(t,s.background),s.title=ye(t,s.title,a.title),s.content=M_(t,s,a),s.actions=[ye(t,s.button,a.button)],super(t,s),this.type="rexNameInputDialog";var n=s.content.childrenMap;this.addChildrenMap("firstNameTitle",n.firstNameTitle),this.addChildrenMap("firstNameInput",n.firstNameInput),this.addChildrenMap("lastNameTitle",n.lastNameTitle),this.addChildrenMap("lastNameInput",n.lastNameInput),this.addChildrenMap("button",s.actions[0]),q3.call(this),this.modalStyle=s.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}};r(qS,"NameInputDialog");let yl=qS;Object.assign(yl.prototype,E_);rt.register("nameInputDialog",function(e,t){var s=new yl(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.NameInputDialog",yl);var Vr=r(function(e,t){if(e){var s=ni(e);s&&s.remove(e,t)}},"RemoveFromParent");const vd=Phaser.Utils.Objects.GetValue;var au=r(function(e,t,s){var a=vd(e,`proportion.${t}`,s.proportion),x=vd(e,`align.${t}`,"center"),P=vd(e,`space.${t}`,void 0);if(typeof P=="number"&&s.paddingKey){var n=P;P={},P[s.paddingKey]=n}var T=vd(e,`expand.${t}`,!0);return{proportion:a,align:x,padding:P,expand:T}},"GetAddChildConfig"),Oc=r(function(e){return au(e,"header",{proportion:0,paddingKey:"bottom"})},"GetAddHeaderConfig"),bc=r(function(e){return au(e,"leftSide",{proportion:0,paddingKey:"right"})},"GetAddLeftSideConfig"),Ac=r(function(e){return au(e,"content",{proportion:1})},"GetAddContentConfig"),Lc=r(function(e){return au(e,"rightSide",{proportion:0,paddingKey:"left"})},"GetAddRightSideConfig"),Fc=r(function(e){return au(e,"footer",{proportion:0,paddingKey:"top"})},"GetAddFooterConfig"),Ps=r(function(e){return{proportion:1,align:"center",padding:0,expand:!0}},"GetAddContainerConfig"),Es=r(function(e,t){var s=new yt(e,{orientation:t});return e.add.existing(s),s},"CreatExpandContainer"),R_=r(function(e){var t=this.scene,s=e.header;s&&this.add(s,Oc(e));var a=Es(t,0);this.add(a,Ps());var x=e.leftSide;x&&a.add(x,bc(e));var P=e.content;P&&a.add(P,Ac(e));var n=e.rightSide;n&&a.add(n,Lc(e));var T=e.footer;T&&this.add(T,Fc(e))},"LayoutMode0$1"),O_=r(function(e){var t=this.scene,s=e.header;s&&this.add(s,Oc(e));var a=Es(t,0);this.add(a,Ps());var x=e.leftSide;x&&a.add(x,bc(e));var P=Es(t,1);a.add(P,Ps());var n=Es(t,0);P.add(n,Ps());var T=e.content;T&&n.add(T,Ac(e));var i=e.rightSide;i&&n.add(i,Lc(e));var h=e.footer;h&&P.add(h,Fc(e))},"LayoutMode1"),b_=r(function(e){var t=this.scene,s=e.header;s&&this.add(s,Oc(e));var a=Es(t,0);this.add(a,Ps());var x=Es(t,1);a.add(x,Ps());var P=Es(t,0);x.add(P,Ps());var n=e.leftSide;n&&P.add(n,bc(e));var T=e.content;T&&P.add(T,Ac(e));var i=e.footer;i&&x.add(i,Fc(e));var h=e.rightSide;h&&a.add(h,Lc(e))},"LayoutMode2"),A_=r(function(e){var t=this.scene,s=e.header;s&&this.add(s,Oc(e));var a=Es(t,0);this.add(a,Ps());var x=e.leftSide;x&&a.add(x,bc(e));var P=Es(t,1);a.add(P,Ps());var n=e.content;n&&P.add(n,Ac(e));var T=e.footer;T&&P.add(T,Fc(e));var i=e.rightSide;i&&a.add(i,Lc(e))},"LayoutMode0");const L_=Phaser.Utils.Objects.GetValue,Xb=[R_,O_,b_,A_];var F_=r(function(e){e===void 0&&(e={});var t=e.background,s=e.header,a=e.leftSide,x=e.content,P=e.rightSide,n=e.footer;Vr(t),Vr(s),Vr(a),Vr(x),Vr(P),Vr(n),this.clear(!0),t&&this.addBackground(t);var T=L_(e,"layoutMode",0);typeof T=="string"&&(T=I_[T.toUpperCase()]);var i=Xb[T]||Xb[0];return i.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",s),this.addChildrenMap("leftSide",a),this.addChildrenMap("content",x),this.addChildrenMap("rightSide",P),this.addChildrenMap("footer",n),this},"Build");const I_={FFF:0,LFF:1,FFR:2,LFR:3},_S=class _S extends yt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexHolyGrail",this.build(s)}};r(_S,"HolyGrail");let Cl=_S;var D_={build:F_};Object.assign(Cl.prototype,D_);rt.register("holyGrail",function(e){var t=new Cl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.HolyGrail",Cl);const B_={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var s=this.getButtonsSizer(e);return s?s.getButton(t):void 0},setButtonEnable(e,t,s){return this.getButtonsSizer(e).setButtonEnable(t,s),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var s=this.getButtonsSizer(e);return s?(s.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return qs(this.getButton(e,t)),this},showLeftButton(e){return qs(this.getLeftButton(e)),this},showRightButton(e){return qs(this.getRightButton(e)),this},showTopButton(e){return qs(this.getTopButton(e)),this},showBottomButton(e){return qs(this.getBottomButton(e)),this},hideButton(e,t){return _s(this.getButton(e,t)),this},hideLeftButton(e){return _s(this.getLeftButton(e)),this},hideRightButton(e){return _s(this.getRightButton(e)),this},hideTopButton(e){return _s(this.getTopButton(e)),this},hideBottomButton(e){return _s(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,s){return this.getButtonsSizer(e).removeButton(t,s),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,s){return this.getButtonsSizer(e).forEachButtton(t,s),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Lt=Phaser.Utils.Objects.GetValue,t1=class t1 extends oi{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,s.columnProportions=[0,0,0],s.rowProportions=[0,0,0];var a=Lt(s,"expand.panel",!1);a&&(s.columnProportions[1]=1,s.rowProportions[1]=1),super(t,s),this.type="rexTabs",this.eventEmitter=Lt(s,"eventEmitter",this);var x=Lt(s,"background",void 0),P=Lt(s,"panel",void 0),n=Lt(s,"leftButtons",void 0),T=Lt(s,"leftButtonsBackground",void 0),i,h=Lt(s,"rightButtons",void 0),m=Lt(s,"rightButtonsBackground",void 0),c,u=Lt(s,"topButtons",void 0),l=Lt(s,"topButtonsBackground",void 0),o,d=Lt(s,"bottomButtons",void 0),v=Lt(s,"bottomButtonsBackground",void 0),f,p=Lt(s,"click",void 0);if(x&&this.addBackground(x),P&&this.add(P,{column:1,row:1,expand:a}),n){var g=Lt(s,"space.leftButtonsOffset",0),y=Lt(s,"space.leftButton",0),C=Lt(s,"expand.leftButtons",!1),S=Lt(s,"align.leftButtons","top");i=new xe(t,{groupName:"left",background:T,buttons:n,orientation:"y",space:{item:y},expand:C,click:p,eventEmitter:this.eventEmitter}),this.add(i,{column:0,row:1,align:S,padding:{top:g},expand:C})}if(h){var E=Lt(s,"space.rightButtonsOffset",0),w=Lt(s,"space.rightButton",0),M=Lt(s,"expand.rightButtons",!1),R=Lt(s,"align.rightButtons","top");c=new xe(t,{groupName:"right",background:m,buttons:h,orientation:"y",space:{item:w},expand:M,click:p,eventEmitter:this.eventEmitter}),this.add(c,{column:2,row:1,align:R,padding:{top:E},expand:M})}if(u){var O=Lt(s,"space.topButtonsOffset",0),b=Lt(s,"space.topButton",0),A=Lt(s,"expand.topButtons",!1),I=Lt(s,"align.topButtons","left");o=new xe(t,{groupName:"top",background:l,buttons:u,orientation:"x",space:{item:b},expand:A,align:Lt(s,"align.topButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(o,{column:1,row:0,align:I,padding:{left:O},expand:A})}if(d){var L=Lt(s,"space.bottomButtonsOffset",0),F=Lt(s,"space.bottomButton",0),D=Lt(s,"expand.bottomButtons",!1),B=Lt(s,"align.bottomButtons","left");f=new xe(t,{groupName:"bottom",background:v,buttons:d,orientation:"x",space:{item:F},expand:D,align:Lt(s,"align.bottomButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(f,{column:1,row:2,align:B,padding:{left:L},expand:D})}this.addChildrenMap("background",x),this.addChildrenMap("panel",P),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",h),this.addChildrenMap("topButtons",u),this.addChildrenMap("bottomButtons",d),this.addChildrenMap("leftButtonsSizer",i),this.addChildrenMap("rightButtonsSizer",c),this.addChildrenMap("topButtonsSizer",o),this.addChildrenMap("bottomButtonsSizer",f)}};r(t1,"Tabs");let Tl=t1;Object.assign(Tl.prototype,B_);rt.register("tabs",function(e){var t=new Tl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Tabs",Tl);rt.register("slider",function(e){var t=new ur(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Slider",ur);const e1=class e1{constructor(t,s){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,s){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,s),this}setCellContainerAlign(t){return typeof t=="string"&&(t=Xo[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var s=this.parent;this._deltaHeight===0&&t!==0?s.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&s.nonZeroDeltaHeightCount--;var a=this._deltaHeight!==t;if(this._deltaHeight=t,a){s.resetTotalRowsHeight();var x=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(x,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}};r(e1,"Cell");let wf=e1;Object.assign(wf.prototype,hc);const Yb=Phaser.Utils.Objects.GetValue,G_=Phaser.Utils.Array.SpliceOne,i1=class i1{constructor(t,s){this.parent=t,this.cells=[],this.cellPool=new Ci,this.resetFromJSON(s)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var s=t.cellHeight;s===void 0&&(s=60);var a=t.cellWidth;return a===void 0&&(a=60),this.setDefaultCellHeight(s),this.setDefaultCellWidth(a),this.initCells(Yb(t,"cellsCount",0)),this.setColumnCount(Yb(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var s=this.cells;s.length=t;for(var a=0;a<t;a++)s[a]=null;return this}insertNewCells(t,s){var a=this.cells;if(t===a.length){var x=t+s;a.legth=x;for(var P=t;P<x;P++)a[P]=null}else{var n=[];n.length=s;for(var P=0;P<s;P++)n[P]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,s){for(var a=t+s,x=t;x<a;x++)this.freeCell(x);return a===this.cells.length?this.cells.length=t:(s===1?G_(this.cells,t):this.cells.splice(t,s),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var s=this.parent;if(s.expandCellSize){var a=s.scrollMode===0?s.width:s.height,x=a/t;this.setDefaultCellWidth(x)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,s){if(s===void 0&&(s=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(s){case 1:T=Math.ceil(T);break;default:T=Math.floor(T);break}return T}for(var a=this.rowCount,x=t,P,n,T=0;;)if(n=this.getRowHeight(T),x-=n,P=T>=0&&T<a,x>0&&P)T+=1;else{if(x===0)return s===2&&(T+=1),T;if(s===1){var i=T;T+=1,P=T>=0&&T<a,P||(T=i)}return T}}widthToColIndex(t,s){if(t===0)return 0;var a=t/this.defaultCellWidth;return s?a=Math.ceil(a):a=Math.floor(a),a}colRowToCellIndex(t,s){return t>=this.colCount?null:s*this.colCount+t}rowIndexToHeight(t,s){if(this.defaultCellHeightMode)return(s-t+1)*this.defaultCellHeight;for(var a,x=0,P=t;P<=s;P++)a=this.getRowHeight(P),x+=a;return x}colIndexToWidth(t,s){return(s-t+1)*this.defaultCellWidth}getRowHeight(t){var s=this.colCount;if(s<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var a=0,x,P=0;P<s;P++)x=this.getCellHeight(this.colRowToCellIndex(P,t)),a<x&&(a=x);return a}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var s;if(this.defaultCellHeightMode)s=this.defaultCellHeight;else{var a=this.getCell(t,!1),x=a?a.deltaHeight:0;s=this.defaultCellHeight+x}return s}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,s){if(!this.isValidCellIdx(t))return null;if(s===void 0&&(s=!0),this.cells[t]===null&&s){var a=this.newCell(t);this.cells[t]=a}return this.cells[t]}newCell(t){var s=this.cellPool.pop();return s===null?s=new wf(this):s.setParent(this),s.index=t,s}buildCellIndex(t){t===void 0&&(t=0);for(var s=this.cells,a,x=t,P=s.length;x<P;x++)a=s[x],a&&(a.index=x);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}};r(i1,"Table");let xx=i1;var N_=r(function(e){var t=this.table,s=this.topTableOY,a=this.bottomTableOY,x=e>s,P=e<a;if(this.clampTableOXY){var n=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);n<T?e=0:x?e=s:P&&(e=a)}return this._tableOY!==e&&(this._tableOY=e),x&&(this.execeedTopState||this.emit("execeedtop",this,e,s)),this.execeedTopState=x,P&&(this.execeedBottomState||this.emit("execeedbottom",this,e,a)),this.execeedBottomState=P,this},"SetTableOY"),k_=r(function(e){var t=this.table,s=this.leftTableOX,a=this.rightTableOX,x=e>this.leftTableOX,P=e<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,T=t.widthToColIndex(this.instWidth,!0);n<T?e=0:x?e=s:P&&(e=a)}return this._tableOX!==e&&(this._tableOX=e),x&&(this.execeedLeftState||this.emit("execeedleft",this,e,s)),this.execeedLeftState=x,P&&(this.execeedRightState||this.emit("execeedright",this,e,a)),this.execeedRightState=P,this},"SetTableOX"),jy=r(function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask},"MaskToGameObject");const V_=Phaser.Geom.Intersects.RectangleToRectangle,z_=Phaser.Geom.Rectangle.Overlaps;var U_=r(function({parent:e,mask:t,children:s,onVisible:a,onInvisible:x,scope:P}){if(t){s===void 0&&(s=e.getAllChildren());for(var n=!!a||!!x,T=e.getBounds(),i=jy(t),h,m,c,u,l=0,o=s.length;l<o;l++)if(h=s[l],h!==i&&X_(h)){if(u=h.visible,h.getBounds)switch(m=h.getBounds(m),c=Y_(T,m),c){case 4:W_(e,h);break;case 0:V_(T,m)||z_(T,m)?K0(e,h,t):H_(e,h);break;default:K0(e,h,t);break}else K0(e,h,t);if(n&&h.visible!==u){var d=h.visible?a:x;d&&(P?d.call(P,h,e):d(h,e))}}}},"MaskChildren"),X_=r(function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var s=t.parent;if(s){e=s;continue}else return!0}else return!1;else return e.visible}},"IsVisible"),Y_=r(function(e,t){var s=t.top,a=t.bottom,x=t.left,P=t.right,n=0;return n+=e.contains(x,s)?1:0,n+=e.contains(x,a)?1:0,n+=e.contains(P,s)?1:0,n+=e.contains(P,a)?1:0,n},"ContainsPoints"),W_=r(function(e,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},"ShowAll"),K0=r(function(e,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(s),e.setChildMaskVisible(t,!0))},"ShowSome"),H_=r(function(e,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))},"ShowNone");const Zn=Phaser.Utils.Objects.GetValue,$_={update:0,everyTick:1},tI={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(Zn(e,"updateMode",0)),this.enableChildrenMask(Zn(e,"padding",0)),this.setMaskLayer(Zn(e,"layer",void 0)),this.onMaskGameObjectVisible=Zn(e,"onVisible"),this.onMaskGameObjectInvisible=Zn(e,"onInvisible"),this.maskGameObjectCallbackScope=Zn(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=$_[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=Xi.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):U_({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=jy(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var K_=r(function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,s=e===1&&t===1;s||this.setScale(1);var a=this.table,x=this.tableOYOffset,P=this.tableOY+x,n=this.tableOX;this.startRowIndex=Math.max(a.heightToRowIndex(-P,2),0);for(var T=this.startRowIndex,i=Math.max(a.widthToColIndex(-n),0),h=i,m=a.colRowToCellIndex(h,T),c=this.bottomBound,u=this.rightBound,l=a.cellsCount-1,o=a.colCount-1,d=this.getCellTLX(h),v=d,f=this.getCellTLY(T)+x,p=f;p<c&&m<=l;){if(this.table.isValidCellIdx(m)){var g=a.getCell(m,!0);this.visibleCells.set(g),this.preVisibleCells.contains(g)||this.showCell(g);var y,C;if(this.scrollMode===0?(y=v,C=p):(y=p,C=v),g.cellContainerAlign==null)g.setXY(y,C);else{var S=g.getContainer();_l(S,y,C,g.width,g.height,g.cellContainerAlign),g.setXY(S.x,S.y)}}v<u&&h<o?(v+=a.getColWidth(h),h+=1):(v=d,p+=a.getRowHeight(T),h=i,T+=1),m=a.colRowToCellIndex(h,T)}s||this.setScale(e,t)}},"ShowCells"),eI=r(function(e){var t=null,s=e.getContainer();if(s?(t=s,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var s=e.getContainer();s?t===null?this.cellContainersPool.add(s):t!==s&&(this.cellContainersPool.add(s),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},"ShowCell"),Z_=r(function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,s=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return s},"GetCellTLX"),J_=r(function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,s=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return s},"GetCellTLY"),j_=r(function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(s){t.contains(s)||this.hideCell(s)},this)},"HideCells"),iI=r(function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},"HideCell"),Q_=r(function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(Wb.call(this),this.hideCells()),Wb.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},"UpdateTable"),Wb=r(function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},"ClearVisibleCellIndexes"),q_=r(function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},"IsCellVisible"),sI=r(function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var s=this.tableOY-(this.scrollMode===0?t:e),a=this.tableOX-(this.scrollMode===0?e:t),x=this.table,P=x.heightToRowIndex(-s,0),n=x.widthToColIndex(-a),T=x.colRowToCellIndex(n,P);return T===null||!this.isCellVisible(T)?null:T},"PointToCellIndex"),__=r(function(e,t){var s=sI.call(this,e,t);if(s!==null)return this.getCellContainer(s)},"PointToCellContainer"),ttt=r(function(e,t){return this.visibleCells.each(e,t),this},"EachVisibleCell"),ett=r(function(e,t){return this.visibleCells.iterate(e,t),this},"IterateVisibleCell"),itt=r(function(e,t){return this.table.cells.slice().forEach(e,t),this},"EachCell"),stt=r(function(e,t){return this.table.cells.forEach(e,t),this},"IterateCell"),rtt=r(function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)},"SetCellsCount");const ntt=Phaser.Math.Clamp;var att=r(function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=ntt(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},"InsertNewCells"),ott=r(function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var s,a=e,x=e+t;a<x;a++)s=this.getCell(a,!1),s&&(this.visibleCells.contains(s)&&(iI.call(this,s),this.visibleCells.delete(s)),this.preVisibleCells.delete(s));return this.table.removeCells(e,t),this},"RemoveCells"),htt=r(function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},"SetColumnCount"),ltt=r(function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},"SetGridSize"),utt=r(function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(eI.call(this,t),this)},"UpdateVisibleCell"),rI={setTableOY:N_,setTableOX:k_,showCells:K_,showCell:eI,getCellTLX:Z_,getCellTLY:J_,hideCells:j_,hideCell:iI,updateTable:Q_,isCellVisible:q_,pointToCellIndex:sI,pointToCellContainer:__,eachVisibleCell:ttt,iterateVisibleCell:ett,eachCell:itt,iterateCell:stt,setCellsCount:rtt,insertNewCells:att,removeCells:ott,setColumnCount:htt,setGridSize:ltt,updateVisibleCell:utt};Object.assign(rI,tI);const dtt=Phaser.GameObjects.Group,Hb=Phaser.Structs.Set,gi=Phaser.Utils.Objects.GetValue;var Ka;let nI=(Ka=class extends Ve{constructor(t,s,a,x,P,n){n===void 0&&(n={}),super(t,s,a,x,P),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new Hb,this.preVisibleCells=new Hb,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=gi(n,"reuseCellContainer",!1);T&&(this.cellContainersPool=new dtt(t));var i=gi(n,"cellVisibleCallback",null);if(i!==null){var h=gi(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",i,h)}if(i=gi(n,"cellInvisibleCallback",null),i!==null){var h=gi(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",i,h)}gi(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(gi(n,"mask",void 0)),this.setScrollMode(gi(n,"scrollMode",0)),this.setClampMode(gi(n,"clampTableOXY",!0)),this.setStartFromBottomEnable(gi(n,"startFromBottom",!1));var m,c,u,l=this.scrollMode===0;if(l?(m=n.cellWidth,c=n.cellHeight,u=n.columns):(m=n.cellHeight,c=n.cellWidth,u=gi(n,"rows",n.columns)),this.fixedCellSize=gi(n,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&m===void 0,u||(u=1),this.fixedCellSize)u=Math.max(Math.floor(this.instWidth/m),1);else if(this.expandCellSize){var x=l?this.width:this.height;m=x/u}n.cellWidth=m,n.cellHeight=c,n.columns=u,this.table=new xx(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=ftt[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,s){return this.setTableOY(s).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,s){return this.addTableOY(s).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var s=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-s).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var s=this.table.getCell(t,!1),a;return s&&(a=s.getContainer()),a}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,s){var a;return typeof t=="number"?a=this.table.getCell(t,!0):a=t,a.height=s,this}setCellWidth(t,s){var a;return typeof t=="number"?a=this.table.getCell(t,!0):a=t,a.width=s,this}resetAllCellsSize(t,s){if(this.scrollMode===1){var a=t;t=s,s=a}this.table.setDefaultCellHeight(s).setDefaultCellWidth(t);for(var x=this.table.cells,P=0,n=x.length;P<n;P++){var T=x[P];T&&(T.deltaHeight=0)}if(this.fixedCellSize){var i=Math.floor(this.instWidth/t);this.table.setColumnCount(i)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,s){if(this.width===t&&this.height===s)return this;if(super.resize(t,s),this.fixedCellSize){var a=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(a)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}},r(Ka,"GridTable"),Ka);Object.assign(nI.prototype,rI);const ftt={v:0,vertical:0,h:1,horizontal:1};var ctt=r(function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:r(function(){return e.tableOY},"get"),set:r(function(t){e.tableOY=t},"set")}),Object.defineProperty(e,"childOX",{configurable:!0,get:r(function(){return e.tableOX},"get"),set:r(function(t){e.tableOX=t},"set")}),Object.defineProperty(e,"topChildOY",{get:r(function(){return e.topTableOY},"get")}),Object.defineProperty(e,"bottomChildOY",{get:r(function(){return e.bottomTableOY},"get")}),Object.defineProperty(e,"leftChildOX",{get:r(function(){return e.leftTableOX},"get")}),Object.defineProperty(e,"rightChildOX",{get:r(function(){return e.rightTableOX},"get")}),Object.defineProperty(e,"childVisibleHeight",{get:r(function(){return e.instHeight},"get")}),Object.defineProperty(e,"childHeight",{get:r(function(){return e.tableHeight},"get")}),Object.defineProperty(e,"childVisibleWidth",{get:r(function(){return e.instWidth},"get")}),Object.defineProperty(e,"childWidth",{get:r(function(){return e.tableWidth},"get")})},"InjectProperties$1"),vtt=r(function(e){e.on("cellvisible",function(t,n,a){var x=this.createCellContainerCallback,P=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;P?n=x.call(P,t,n,a):n=x(t,n,a),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},"TableOnCellVisible"),hs=r(function(e,t,s,a,x,P,n){var T;if(x===void 0)T=a;else{var i=P.camera,h=a+i.scrollX*(s.scrollFactorX-1),m=x+i.scrollY*(s.scrollFactorY-1);T=s.pointToCellIndex(h,m)}if(T!=null){var c=s.getCellContainer(T);c&&e.emit(t,c,T,P,n)}},"EmitCellEvent"),ptt=r(function(e,t){e.on("pointerdown",function(s,a,x,P){hs(this.eventEmitter,"cell.down",e,s.worldX,s.worldY,s,P)},this).on("pointerup",function(s,a,x,P){hs(this.eventEmitter,"cell.up",e,s.worldX,s.worldY,s,P)},this)},"PointerUpDownCell"),gtt=r(function(e,t){e.on("pointermove",$b,this).on("pointerover",$b,this).on("pointerout",mtt,this)},"OverCell"),$b=r(function(e,t,s,a){var x=this.childrenMap.child,P=e.camera,n=e.worldX+P.scrollX*(x.scrollFactorX-1),T=e.worldY+P.scrollY*(x.scrollFactorY-1),i=x.pointToCellIndex(n,T);if(i!==x.input.lastOverCellIndex){var h=x.input.lastOverCellIndex;x.input.lastOverCellIndex=i,hs(this.eventEmitter,"cell.out",x,h,void 0,e,a),hs(this.eventEmitter,"cell.over",x,i,void 0,e,a)}},"OnMove"),mtt=r(function(e,t){var s=this.childrenMap.child,a=s.input.lastOverCellIndex;s.input.lastOverCellIndex=void 0,hs(this.eventEmitter,"cell.out",s,a,void 0,e,t)},"OnOut");const xtt=Phaser.Utils.Objects.GetValue;var ytt=r(function(e,t){var s=xtt(t,"click",void 0);s!==!1&&(s===void 0&&(s={}),s.threshold=10,e._click=new Ls(e,s),e._click.on("click",function(a,x,P,n){hs(this.eventEmitter,"cell.click",x,P.worldX,P.worldY,P,n)},this))},"ClickCell");const Ctt=Phaser.Utils.Objects.GetValue;var Ttt=r(function(e,t){var s=Ctt(t,"tap",void 0);s!==!1&&(e._tap=new po(e,s),e._tap.on("tap",function(a,x,P){var n=`cell.${a.tapsCount}tap`;hs(this.eventEmitter,n,a.gameObject,a.worldX,a.worldY,P)},this))},"TapCell");const Stt=Phaser.Utils.Objects.GetValue;var Ptt=r(function(e,t){var s=Stt(t,"press",void 0);s!==!1&&(e._press=new go(e,s),e._press.on("pressstart",function(a,x,P){hs(this.eventEmitter,"cell.pressstart",e,a.worldX,a.worldY,P)},this).on("pressend",function(a,x,P){hs(this.eventEmitter,"cell.pressend",e,a.worldX,a.worldY,P)},this))},"PressCell");const Ett=Phaser.Utils.Objects.GetValue;var Mtt=r(function(e,t){var s=Ett(t,"swipe",void 0);s!==!1&&(s===void 0&&(s={}),s.dir="4dir",e._swipe=new _r(e,s),e._swipe.on("swipe",function(a,x,P){var n=a.left?"left":a.right?"right":a.up?"up":"down";hs(this.eventEmitter,`cell.swipe${n}`,e,a.worldX,a.worldY,P)},this))},"SwipeCell"),wtt=r(function(e,t){e.setInteractive(),ptt.call(this,e,t),gtt.call(this,e,t),ytt.call(this,e,t),Ttt.call(this,e,t),Ptt.call(this,e,t),Mtt.call(this,e,t)},"TableSetInteractive"),Rtt=r(function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setCellsCount(this.items.length),t&&(s.updateTable(!0),this.resizeController()),this},"SetItems");const Ott={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},Fi=Phaser.Utils.Objects.GetValue,s1=class s1 extends nu{constructor(t,s){s===void 0&&(s={});var a=$y(s),x=Fi(s,"table",void 0);x===void 0&&(x={}),x.scrollMode=a===2?0:a,x.clampTableOXY=Fi(s,"clampChildOY",!1);var P=Fi(x,"width",void 0),n=Fi(x,"height",void 0),T=new nI(t,0,0,P,n,x);t.add.existing(T);var i,h;x.scrollMode===0?(i=P===void 0,h=n===void 0):(i=n===void 0,h=P===void 0),ctt(T),T._minWidth=P===void 0?0:void 0,T._minHeight=n===void 0?0:void 0,s.type="rexGridTable",s.child={gameObject:T,expandWidth:i,expandHeight:h};var m=Fi(s,"space",void 0);m&&(m.child=Fi(m,"table",0)),super(t,s),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=Fi(s,"eventEmitter",this);var c=Fi(s,"createCellContainerCallback",fe),u=Fi(s,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(c,u),vtt.call(this,T),this.resizeControllerFlag=!1;var l=a===0?"cellheightchange":"cellwidthchange";T.on(l,function(){this.resizeControllerFlag=!0},this),Fi(x,"interactive",!0)&&wtt.call(this,T,x),this.setItems(Fi(s,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,s){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=s,this}refresh(){return this.setItems(this.items),this}getCell(t){var s=this.childrenMap.child;return s.getCell(t)}getCellContainer(t){var s=this.childrenMap.child;return s.getCellContainer(t)}updateVisibleCell(t){var s=this.childrenMap.child;return s.updateVisibleCell(t)}resetAllCellsSize(t,s){var a=this.childrenMap.child;return a.resetAllCellsSize(t,s),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}};r(s1,"GridTable");let Sl=s1;var btt={setItems:Rtt};Object.assign(Sl.prototype,Ott,btt);rt.register("gridTable",function(e){var t=new Sl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.GridTable",Sl);var Qy=r(function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},"GetEaseConfig"),Att=r(function(e,t){e.popUp(Qy(e.root.easeIn,e))},"PopUp"),Ltt=r(function(e,t){e.scaleDown(Qy(e.root.easeOut,e))},"ScaleDown$1");const Ftt={setTransitInCallback(e){return e===void 0&&(e=Att),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=Ltt),this.transitOutCallback=e,this}};var Itt=r(function(e,t,s,a,x){var P=Vo(e),n=P.time.delayedCall(t,function(){P.sys.events.once("postupdate",function(){s.call(a,x)})});return n},"PostUpdateDelayCall");const Dtt={delayCall(e,t,s){return this.timer=Itt(this,e,t,s),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var Btt=r(function(e,t){var a=this.childrenMap.subMenu;if(a&&a.parentButton===e)return this;this.collapseSubMenu();var s;this.root.toggleOrientation?s=this.orientation===0?1:0:s=this.orientation;var a=new this.constructor(this.scene,{items:t,orientation:s,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(a),this.childrenMap.subMenu=a,this.root.emit("expand",a,e,this),this},"ExpandSubMenu"),Gtt=r(function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},"Collapse"),Ntt=r(function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},"CollapseSubMenu"),aI={expandSubMenu:Btt,collapse:Gtt,collapseSubMenu:Ntt};Object.assign(aI,Ftt,Dtt);var ktt=r(function(e,t,s,a){var x;return s&&(t.scene=e,a?x=s.call(a,t):x=s(t),t.scene=void 0),x},"CreateBackground$1"),Vtt=r(function(e,t,s,a){var x,P=[],n;if(t&&s)for(var T=0,i=t.length;T<i;T++)x=t[T],x.scene=e,a?n=s.call(a,x,T,t):n=s(x,T,t),x.scene=void 0,P.push(n);return P},"CreateButtons$4"),ztt=r(function(e){e.on(e.root.expandEventName,function(t,s){if(!this._isPassedEvent){var a=this.root.childrenKey,x=this.items[s][a];x&&this.expandSubMenu(t,x)}},e).on("button.click",function(t,s,a,x){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,s,a,x),this.root._isPassedEvent=!1)},e).on("button.over",function(t,s,a,x){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,s,a,x),this.root._isPassedEvent=!1)},e).on("button.out",function(t,s,a,x){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,s,a,x),this.root._isPassedEvent=!1)},e)},"MenuSetInteractive"),Kb=r(function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=yn(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},"ParseEaseConfig"),Utt=r(function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)},"Expand");const Ne=Phaser.Utils.Objects.GetValue,r1=class r1 extends xe{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1);var a=s._rootMenu,x=s._parentMenu,P=s._parentButton,n=Ne(s,"popup",!0),T=Ne(s,"items",void 0),i=Ne(s,"createBackgroundCallback",void 0),h=Ne(s,"createBackgroundCallbackScope",void 0);s.background=ktt(t,T,i,h);var m=Ne(s,"createButtonCallback",void 0),c=Ne(s,"createButtonCallbackScope",void 0);if(s.buttons=Vtt(t,T,m,c),super(t,s),this.type="rexMenu",this.items=T,this.root=a===void 0?this:a,this.isRoot=this.root===this,this.parentMenu=x,this.parentButton=P,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var u=s.bounds;u===void 0&&(u=Uo(t)),this.bounds=u,this.subMenuSide=[this.y<u.centerY?Cx:Ld,this.x<u.centerX?yx:Ad];var l=Ne(s,"subMenuSide",void 0);l!==void 0&&(typeof l=="string"&&(l=Xtt[l]),this.subMenuSide[this.orientation]=l),this.toggleOrientation=Ne(s,"toggleOrientation",!1),this.expandEventName=Ne(s,"expandEvent","button.click"),this.easeIn=Kb(this,Ne(s,"easeIn",0)),this.easeOut=Kb(this,Ne(s,"easeOut",0)),this.setTransitInCallback(Ne(s,"transitIn")),this.setTransitOutCallback(Ne(s,"transitOut")),this.createBackgroundCallback=i,this.createBackgroundCallbackScope=h,this.createButtonCallback=m,this.createButtonCallbackScope=c,this.childrenKey=Ne(s,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Ne(s,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var o=0,d=0;if(!this.root.easeIn.sameOrientation){var v=Qy(this.root.easeIn,this).orientation,f=x?x.orientation:this.orientation,l=this.root.subMenuSide[f];v===0&&l===Ad&&(o=1),v===1&&l===Ld&&(d=1)}if(n&&this.setOrigin(o,d).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var l=this.root.subMenuSide[x.orientation];switch(l){case Ad:this.alignTop(P.top).alignRight(P.left);break;case yx:this.alignTop(P.top).alignLeft(P.right);break;case Ld:this.alignLeft(P.left).alignBottom(P.top);break;case Cx:this.alignLeft(P.left).alignTop(P.bottom);break}}ztt(this),n&&(this.pushIntoBounds(this.root.bounds),Utt.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}};r(r1,"Menu");let Pl=r1;const Ad=2,yx=0,Ld=3,Cx=1,Xtt={up:Ld,down:Cx,left:Ad,right:yx};Object.assign(Pl.prototype,aI);rt.register("menu",function(e){var t=new Pl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Menu",Pl);var Ytt={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=Wtt[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const Wtt={down:0,up:1};var Htt=r(function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,s=t.rexSizer,a=!1;if(s.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(a=!0);break;case 1:e=0;break;default:e=0;break}if(!a)return e},"GetChildrenWidth"),$tt=r(function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,s=t.rexSizer,a=!1;if(s.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(a=!0);break;default:e=0;break}if(!a)return e},"GetChildrenHeight"),Ktt=r(function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},"GetChildrenSizers"),Ztt=r(function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},"ResetChildPosition"),Jtt=r(function(){var e=this.child,t,s;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:s=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,s):be(e,t,s),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},"LayoutChildren"),jtt=r(function(e,t){t||e.clearMask&&e.clearMask(!1)},"RemoveChildCallback"),oI={getChildrenWidth:Htt,getChildrenHeight:$tt,getChildrenSizers:Ktt,resetChildPosition:Ztt,layoutChildren:Jtt,removeChildCallback:jtt};Object.assign(oI,tI);const Zb=Phaser.Utils.Objects.IsPlainObject,mi=Phaser.Utils.Objects.GetValue,Qtt=Phaser.Display.Align.TOP_LEFT,n1=class n1 extends Cn{constructor(t,s,a,x,P,n){Zb(s)?(n=s,s=mi(n,"x",0),a=mi(n,"y",0),x=mi(n,"width",void 0),P=mi(n,"height",void 0)):Zb(x)&&(n=x,x=mi(n,"width",void 0),P=mi(n,"height",void 0)),super(t,s,a,x,P,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(mi(n,"scrollMode",0));var T=mi(n,"clampChildOY",!0),i=mi(n,"clampChildOX",T);this.setClampMode(T,i);var h=mi(n,"child",void 0),m=mi(n,"expand",!0);h.setOrigin&&h.setOrigin(0),this.add(h),this.sizerChildren=[h];var c=this.getSizerConfig(h);c.align=Qtt,c.expand=m,this.child=h;var u=mi(n,"mask");this.setupChildrenMask(u),this.childrenMask&&(this.maskGameObject=jy(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=U3[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,s){return this.clampChildOY=t,this.clampChildOX=s,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?bt(this.child):Ot(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?Ot(this.child):bt(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var s=this.topChildOY,a=this.bottomChildOY,x=this.childOYExceedTop(t),P=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:x?t=s:P&&(t=a)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),x&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=x,P&&(this.execeedBottomState||this.emit("execeedbottom",this,t,a)),this.execeedBottomState=P}get childOX(){return this._childOX}set childOX(t){var s=this.leftChildOX,a=this.rightChildOX,x=this.childOXExceedLeft(t),P=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:x?t=s:P&&(t=a)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),x&&(this.execeedLeftState||this.emit("execeedleft",this,t,s)),this.execeedLeftState=x,P&&(this.execeedRightState||this.emit("execeedright",this,t,a)),this.execeedRightState=P}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}};r(n1,"ScrollableBlock");let Rf=n1;Object.assign(Rf.prototype,oI);var qtt=r(function(e,t,s,a){if(!this.hasChild(e))return this;var x,P;switch(this.scrollMode){case 0:x=this.childOY+pd.call(this,e,"y",t);break;case 1:x=this.childOY+pd.call(this,e,"x",t);break;default:x=this.childOY+pd.call(this,e,"y",t),P=this.childOX+pd.call(this,e,"x",t);break}return s===void 0||s<=0?(this.childOY=x,this.scrollMode===2&&(this.childOX=P)):(this._easeScrollChildOY===void 0&&(this._easeScrollChildOY=new ai(this)),this._easeScrollChildOY.restart({key:"childOY",to:x,duration:s,ease:a}),this.scrollMode===2&&(this._easeScrollChildOX===void 0&&(this._easeScrollChildOX=new ai(this)),this._easeScrollChildOX.restart({key:"childOX",to:P,duration:s,ease:a}))),this},"ScrollToChild");const Jb=["top","bottom","centerY","center"],jb=["left","right","centerX","center"];var pd=r(function(e,t,s){t=t.toUpperCase();var a=t==="Y",x=this.childrenMap.child,P;if(a){if(s)for(var n=0,T=Jb.length;n<T;n++){var i=Jb[n];if(s.indexOf(i)!==-1){s=i;break}}switch(s){case"top":P=x.top-Ur(e).y;break;case"bottom":P=x.bottom-Uh(e).y;break;case"centerY":case"center":P=x.centerY-oR(e).y;break;default:var h=x.top-Ur(e).y,m=x.bottom-Uh(e).y;h<=0&&m>=0?P=0:P=Math.abs(h)<=Math.abs(m)?h:m;break}}else{if(s)for(var n=0,T=jb.length;n<T;n++){var i=jb[n];if(s.indexOf(i)!==-1){s=i;break}}switch(s){case"left":P=x.left-Ur(e).x;break;case"right":P=x.right-zh(e).x;break;case"centerX":case"center":P=x.centerX-oR(e).x;break;default:var c=x.left-Ur(e).x,u=x.right-zh(e).x;c<=0&&u>=0?P=0:P=Math.abs(c)<=Math.abs(u)?c:u;break}}return P},"AlignChild");const Ws=Phaser.Utils.Objects.GetValue,a1=class a1 extends nu{constructor(t,s){s===void 0&&(s={});var a=$y(s),x=Ws(s,"panel",void 0);x===void 0&&(x={}),x.scrollMode=a,x.clampChildOY=Ws(s,"clampChildOY",!1),x.clampChildOX=Ws(s,"clampChildOX",!1);var P=new Rf(t,x);t.add.existing(P);var n,T;switch(a){case 0:n=Ws(s,"expand.panel",!0),T=!0;break;case 1:n=!0,T=Ws(s,"expand.panel",!0);break;default:n=!0,T=!0}s.type="rexScrollablePanel",s.child={gameObject:P,expandWidth:n,expandHeight:T,align:Ws(s,"align.panel","center")};var i=Ws(s,"space",void 0);i&&(i.child=Ws(i,"panel",0)),super(t,s),this.addChildrenMap("panel",P.child),this.addChildrenMap("panelLayer",P.maskLayer),this.addChildrenMap("mask",P.maskGameObject),this.addChildrenMap("scrollableBlock",P)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),Sc(this.childrenMap.child,t),this}};r(a1,"ScrollablePanel");let ln=a1;var _tt={scrollToChild:qtt};Object.assign(ln.prototype,_tt);const tet=Phaser.Utils.Objects.GetValue;var eet=r(function(){var e=this.scene,t,s=this.listCreateBackgroundCallback;s&&(t=s.call(this,e),e.add.existing(t));var c=[],a=this.listCreateButtonCallback;if(a)for(var x=this.options,P=0,n=x.length;P<n;P++){var T=a.call(this,e,x[P],P,x);T&&(e.add.existing(T),c.push(T))}var i=this.listWidth;i===void 0&&(this.listAlignMode==="text"?i=this.getElement("text").width:i=this.width);var h=this.listHeight,m={width:i,buttons:c,space:this.listSpace},c,u,l;if(this.listCreateSliderThumbCallback?l=h>0||this.listMaxHeight>0:l=!1,!l)m.height=h,c=Qb(e,m,this.listWrapEnable),u=c;else{var c=Qb(e,m,this.listWrapEnable);if(this.listMaxHeight>0&&(c.layout(),c.height<=this.listMaxHeight&&(u=c)),!u){h===0&&(h=this.listMaxHeight);var o=qb(e,this.listCreateSliderTrackCallback),d=qb(e,this.listCreateSliderThumbCallback);u=new ln(e,{height:h,scrollMode:0,panel:{child:c,mask:{padding:1}},slider:{track:o,thumb:d,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:tet(this.listSpace,"panel",0)}}),e.add.existing(u)}}return t&&u.addBackground(t,"background"),this.listDraggable&&u.setDraggable(!0),u!==c&&c.on("button.over",function(v,f,p,g){u.emit("button.over",v,f,p,g)}).on("button.out",function(v,f,p,g){u.emit("button.out",v,f,p,g)}).on("button.click",function(v,f,p,g){u.emit("button.click",v,f,p,g)}),u},"CreateListPanel"),Qb=r(function(e,t,s){var a;return s?(t.orientation="x",a=new os(e,t)):(t.orientation="y",a=new xe(e,t)),e.add.existing(a),a},"CreateButtons$3"),qb=r(function(e,t,s){var a;return t&&(a=t.call(s,e),e.add.existing(a)),a},"CreateGameObject"),iet=r(function(e,t,s,a,x){var P={};switch(P.mode=0,s){case 0:case"x":P.end={x:0};break;case 1:case"y":P.end={y:0};break;default:P.end=0;break}return P.duration=t,P.ease=a,x===void 0?x=new Qr(e,P):x.resetFromJSON(P),x.restart(),x},"ScaleDown"),set=r(function(e,t,s,a,x){return Ts(e,t)?At(e,t):Ts(e,s)?At(e,s):x},"GetValueFromAliasKeys");const Jn=Phaser.Utils.Objects.GetValue;var ret=r(function(e,t){var s=Jn(t,"expandDirection",void 0);typeof s=="string"&&(s=net[s]);var a=set(t,"alignTarget","alignTargetX"),x=Jn(t,"alignTargetY",a),P=Jn(t,"alignOffsetX",0),n=Jn(t,"alignOffsetY",0),T=Jn(t,"alignSide",""),i=T.includes("right"),h=Jn(t,"bounds"),m=s===0,c=s===1,u=!m&&!c,l=i?1:0,o=m||u?0:1;e.setOrigin(l,o);var d,v;i?d=a.getTopRight().x:d=a.getTopLeft().x,v=x.getBottomLeft().y,e.setPosition(d+P,v+n);var f=h;f||(f=Uo(e.scene)),u&&e.getBottomLeft().y>f.bottom&&(v=x.getTopLeft().y,e.setOrigin(0,1).setPosition(d+P,v+n))},"SetPosition");const net={down:0,up:1},_b=Phaser.Utils.Objects.GetValue,o1=class o1 extends fo{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=function(P,n){Gy(P,n,"y","Cubic")}),s.transitOut==null&&(s.transitOut=function(P,n){iet(P,n,"y","Linear")}),s.manualClose=!0,s.clickOutsideClose=!0,s.destroy=!0,super(t,s),ret(t,s),t.isRexSizer&&t.layout();var a=_b(s,"touchOutsideClose",!1),x=_b(s,"anyTouchClose",!1);x&&(a=!1),x?this.once("open",this.anyTouchClose,this):a&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Cc(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}};r(o1,"DropDown");let Of=o1;var aet=r(function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=eet.call(this);e.on("button.over",function(a,x,P,n){this.currentOverIndex=x,this.listOnButtonOver&&this.listOnButtonOver.call(this,a,x,P,n),this.emit("button.over",this,e,a,x,P,n)},this).on("button.out",function(a,x,P,n){this.currentOverIndex===x&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,a,x,P,n),this.emit("button.out",this,e,a,x,P,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var s=new Of(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(a,x,P,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,a,x,P,n),this.emit("button.click",this,e,a,x,P,n),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){s.requestClose()}),this.listPanel=e,this.dropDownBehavior=s,this.pin(e),this},"OpenListPanel"),oet=r(function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},"CloseListPanel"),het=r(function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},"ToggleListPanel"),uet=r(function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,s=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,s,e),this.emit("button.click",this,t,s,e),this},"EmitListButtonClick"),det=r(function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this},"EmitButtonOver");const fet={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var s=this.listPanel.getButtons().length;t=(e+1)%s}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var s=this.listPanel.getButtons().length;t=(e-1+s)%s}return this.emitButtonOver(t),this}};var hI={openListPanel:aet,closeListPanel:oet,toggleListPanel:het,emitButtonClick:uet,emitButtonOver:det};Object.assign(hI,Ytt,fet);const Dt=Phaser.Utils.Objects.GetValue,h1=class h1 extends Yi{constructor(t,s){super(t,s),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Dt(s,"options"));var a=Dt(s,"list");this.setWrapEnable(Dt(a,"wrap",!1)),this.setCreateButtonCallback(Dt(a,"createButtonCallback")),this.setCreateListBackgroundCallback(Dt(a,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(Dt(a,"createTrackCallback")),this.setCreateListSliderThumbCallback(Dt(a,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(Dt(a,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(Dt(a,"scroller")),this.setListMouseWheelScrollerConfig(Dt(a,"mouseWheelScroller")),this.setButtonClickCallback(Dt(a,"onButtonClick")),this.setButtonOverCallback(Dt(a,"onButtonOver")),this.setButtonOutCallback(Dt(a,"onButtonOut")),this.setListExpandDirection(Dt(a,"expandDirection")),this.setListEaseInDuration(Dt(a,"easeIn",500)),this.setListEaseOutDuration(Dt(a,"easeOut",100)),this.setListTransitInCallback(Dt(a,"transitIn")),this.settListTransitOutCallback(Dt(a,"transitOut")),this.setListMaxHeight(Dt(a,"maxHeight",0)),this.setListSize(Dt(a,"width"),Dt(a,"height",0)),this.setListAlignmentMode(Dt(a,"alignParent","text")),this.setListAlignmentSide(Dt(a,"alignSide","")),this.setListBounds(Dt(a,"bounds")),this.setListSpace(Dt(a,"space")),this.setListDraggable(Dt(a,"draggable",!1)),this.setValueChangeCallback(Dt(s,"setValueCallback"),Dt(s,"setValueCallbackScope")),this.setValue(Dt(s,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,s){return this.valueChangeCallback=t,this.valueChangeCallbackScope=s,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t;var a=this.valueChangeCallback,x=this.valueChangeCallbackScope;a&&(x?a.call(x,this,t,s):a(this,t,s)),this.emit("valuechange",this,t,s)}}};r(h1,"DropDownList");let un=h1;Object.assign(un.prototype,hI);rt.register("dropDownList",function(e){var t=new un(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.DropDownList",un);var lI=r(function(e,t,s){t=t?Ce(t):{},s===void 0&&(s={});var a=t.label||t.button,x=t.button||t.label;delete t.label,delete t.button;var P=s.label||s.button||s,n=s.button||s.label||s,T=wc(e,a,P);T.list=t.list||{},T.list.createButtonCallback=function(m,c){var u=ye(m,x,n).resetDisplayContent(c);return c.hasOwnProperty("value")&&(u.value=c.value),u};var i=t.track;i&&(T.list.createTrackCallback=function(m){return ce(m,i)},delete t.track);var h=t.thumb;return h&&(T.list.createThumbCallback=function(m){return ce(m,h)},delete t.thumb),T.list.onButtonOver=function(m,c,u,l){m.setHoverState&&m.setHoverState(!0)},T.list.onButtonOut=function(m,c,u,l){m.setHoverState&&m.setHoverState(!1)},T},"BuildListConfig");const l1=class l1 extends un{constructor(t,s,a){s=lI(t,s,a),super(t,s),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var s=0,a=t.length;s<a;s++){var x=t[s];typeof x=="string"&&(t[s]={text:x,value:x})}return super.setOptions(t),this}};r(l1,"SimpleDropDownList");let bf=l1;rt.register("simpleDropDownList",function(e,t){var s=new bf(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.SimpleDropDownList",bf);var cet=r(function(e){var t=vr(e),s,a,x;switch(t){case Ae:case Le:s=e.height-e.padding.top-e.padding.bottom,a=e.lineSpacing,x=e.style.metrics.fontSize+e.style.strokeThickness;break;case ri:s=e.height,a=0;var P=e.fontSize/e.fontData.size;x=e.fontData.lineHeight*P;break}return(s-a)/(x+a)},"TextHeightToLinesCount"),vet=r(function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var s=this.pageLinesCount;s>0?t=e+s:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var a;switch(this.textObjectType){case Ae:case ri:a=this.lines.slice(e,t).join(`
`);break;case Le:var x=this.lines.getLineStartIndex(e),P=this.lines.getLineEndIndex(t-1);a=this.lines.getSliceTagText(x,P,!0);var n=(a.match(/\n/g)||[]).length;n>t-e-1&&(a=a.substring(0,a.length-1));break}return a},"GetLines");const pet={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(s){var t=this.totalLinesCount;this.sections.push(na(s));var s=this.sections.join(`
`);this.lines=Ky(this.parent,s,this.lines);var a=this.totalLinesCount-t,x=this.pageLinesCount,P;x>0?P=Math.ceil(a/this.pageLinesCount):P=1;for(var n=0;n<P;n++)this.pageStartIndexes.push(t+n*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var s=na(e).split(this.pageBreak),a=0,x=s.length;a<x;a++)this.appendPage(s[a]);return this},appendText(e){var t=this.content+na(e);return this.setText(t,!1),this}},tA=Phaser.Math.Clamp,get={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=tA(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=tA(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},met={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){Mc(this.parent,e)}};var uI={getLines:vet};Object.assign(uI,pet,get,met);const jn=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;const u1=class u1 extends Nt{constructor(t,s){super(t,{eventEmitter:!1}),this.textObjectType=vr(this.parent),this.pageStartIndexes=[],this.lines=Ky(this.parent,""),this.sections=[],this.resetFromJSON(s)}resetFromJSON(t){this.setMaxLines(jn(t,"maxLines",void 0)),this.setPageBreak(jn(t,"pageBreak",`\f
`)),this.setText(jn(t,"text","")),this.startLineIndex=jn(t,"start",-1),this.endLineIndex=jn(t,"end",void 0);var s=jn(t,"page");return s===void 0?this.resetIndex():this.setPageIndex(s),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Ae:this.lines.length=0;break;case Le:this.lines.destroy();break;case ri:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Ae:case Le:var s=this.parent.style.maxLines;s>0?t=s:t=Math.floor(cet(this.parent));break;case ri:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}};r(u1,"TextPage");let wo=u1;Object.assign(wo.prototype,uI);const xet={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?Mc(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(na(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var yet=r(function(e,t,s,a){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),s===void 0&&(s=0),this.typingIndex=s+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(a)),this},"StartTyping"),dI=r(function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},"GetPlainText"),Cet=r(function(e,t,s,a,x){var P;if(t>0){a===void 0&&(a=0);var n=dI(this.parent,e);P=Tet(n,t)+a}return this.start(e,s,P,x)},"StartTypingFromLine"),Tet=r(function(e,t){for(var s=void 0,a=0;a<t&&(s=e.indexOf(`
`,s+1),s!==-1);a++);return s},"GetNewLineIndex"),Ch=r(function(e,t,s,a){var x;return e.getSubString?x=e.getSubString(t,s,a):x=t.slice(s,a),x},"GetSubString"),fI=r(function(e,t,s,a){var x=this.parent,P;if(a===0){var n=0,T=t;this.insertIndex=T,P=Ch(x,e,n,T)}else if(a===1){var T=s,n=T-t;this.insertIndex=0,P=Ch(x,e,n,T)}else if(a===2){var i=s/2,n=Math.floor(i-t/2),T=n+t;this.insertIndex=t%2?t:0,P=Ch(x,e,n,T)}else if(a===3){var h=Math.floor(t/2),m;if(h>0){var T=s,n=T-h;m=Ch(x,e,n,T)}else m="";var c=t-h,u;if(c>0){var n=0,T=n+c;this.insertIndex=T,u=Ch(x,e,n,T)}else u="",this.insertIndex=0;P=u+m}return this.insertChar=P.charAt(this.insertIndex-1),P},"GetTypingString"),Pet=r(function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)fI.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},"StopTyping"),Eet=r(function(){var e=this.getTimer();return e&&(e.paused=!0),this},"PauseTyping"),Met=r(function(){var e=this.getTimer();return e&&(e.paused=!1),this},"ResumeTyping"),cI={start:yet,startFromLine:Cet,stop:Pet,pause:Eet,resumeTyping:Met};Object.assign(cI,xet);var wet=r(function(e,t){var s=vr(e);switch(s){case Ae:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case Le:t=e.getText(t,void 0,void 0,!0);break;case ri:t=e.setText(t).getTextBounds().wrappedText;break}return t},"GetWrapText");const Th=Phaser.Utils.Objects.GetFastValue,Z0=Phaser.Utils.Objects.GetValue,d1=class d1 extends Nt{constructor(t,s){super(t,s),this.timer=null,this.resetFromJSON(s)}resetFromJSON(t){this.setTextWrapEnable(Z0(t,"wrap",!1)),this.setTypeMode(Z0(t,"typeMode",0)),this.setTypingSpeed(Z0(t,"speed",333)),this.setTextCallback=Th(t,"setTextCallback",null),this.setTextCallbackScope=Th(t,"setTextCallbackScope",null),this.setTypingContent(Th(t,"text","")),this.typingIndex=Th(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var s=Th(t,"elapsed",null);return s!==null&&this.start(void 0,void 0,this.typingIndex,s),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=Ret[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var s=na(t);this.textWrapEnable&&(s=wet(this.parent,s)),this._text=s}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=dI(this.parent,this.text).length,this}onTyping(){var t=fI.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var s;return t===void 0?s=0:(this.speed,s=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:s,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?Mc(this.parent,t):this.parent.setText(t)}};r(d1,"TextTyping");let Ro=d1;const Ret={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(Ro.prototype,cI);const Sh=Phaser.Utils.Objects.GetValue;var Oet=r(function(e,t){t===void 0&&(t="rexTextBox");const a=class a extends e{constructor(P,n){super(P,n),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var T=this.childrenMap.text,i=Sh(n,"expandTextWidth",!1),h=Sh(n,"expandTextHeight",!1);if(i||h){var m=vr(T);switch(m){case Ae:case Le:if(T.resize=function(u,l){var o=i?u:0,d=h?l:0;T.setFixedSize(o,d),o>0&&T.setWordWrapWidth(o)},m===Le){var c=T.style;c.wrapMode===0&&(c.wrapMode=1)}break}i&&(T._minWidth=0),h&&(T._minHeight=0)}this.setTypingMode(Sh(n,"typingMode","page")),this.page=new wo(T,Sh(n,"page",void 0)),this.typing=new Ro(T,Sh(n,"typing",n.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=T.width,this.textHeightSave=T.height}setTypingMode(P){return typeof P=="string"&&(P=bet[P]),this.typingMode=P,this}start(P,n){return n!==void 0&&this.setTypingSpeed(n),this.isRunning=!0,this.page.setText(P),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(P,n){if(n!==void 0&&this.setTypingSpeed(n),this.isRunning)this.page.appendText(P),this.typing.appendText(P);else{if(this.isRunning=!0,this.page.appendText(P),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var T=this.page.getPage(),i=this.typing.textLength;this.typing.start(T,void 0,i)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var P=this.page.getNextPage();this.typing.start(P)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var P=this.page.getPageOfNextLine(),n;this.isFirstLine?n=0:n=this.page.pageLinesCount-1,this.typing.startFromLine(P,n)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(P){return this.isRunning?(this.typing.stop(P),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(P){return this.typing.setTypingSpeed(P),this}setTypingSpeed(P){return this.typing.setTypingSpeed(P),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var P=this.childrenMap.text;(this.textWidthSave!==P.width||this.textHeightSave!==P.height)&&(this.textWidthSave=P.width,this.textHeightSave=P.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(P){this.emit("typechar",P)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var P=this.isLastPage;this.isRunning=!P,this.emit("pageend"),P&&this.emit("complete")}else this.typeNextLine()}};r(a,"TextBox");let s=a;return s},"TextBoxBase");const bet={page:0,line:1},f1=class f1 extends Oet(To){constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("layoutMode")||(s.layoutMode=1),super(t,s)}};r(f1,"TextBox");let El=f1;rt.register("textBox",function(e){var t=new El(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextBox",El);const c1=class c1 extends El{constructor(t,s,a){s=Z3(t,s,a),super(t,s)}};r(c1,"SimpleTextBox");let Af=c1;rt.register("simpleTextBox",function(e){var t=new Af(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.SimpleTextBox",Af);const si=Phaser.Utils.Objects.GetValue,v1=class v1 extends yt{constructor(t,s){super(t,s),this.type="rexNumberBar";var a=si(s,"background",void 0),x=si(s,"icon",void 0),P=si(s,"iconMask",void 0),n=si(s,"slider",void 0),T=si(s,"text",void 0),i=si(s,"space.icon",0),h=si(s,"space.slider",0);if(a&&this.addBackground(a),x){var m;this.orientation===0?(n||T)&&(m={right:i}):(n||T)&&(m={bottom:i}),this.add(x,{proportion:0,align:"center",padding:m}),P&&(P=Xi.call(this,x,x,1))}var c;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),c=new ur(t,n),t.add.existing(c);var m;this.orientation===0?T&&(m={right:h}):T&&(m={bottom:h});var u;if(this.orientation===0){var l=si(n,"width",void 0);u=l===void 0?1:0}else{var o=si(n,"height",void 0);u=o===void 0?1:0}this.add(c,{proportion:u,align:"center",padding:m})}T&&this.add(T),this.addChildrenMap("background",a),this.addChildrenMap("icon",x),this.addChildrenMap("iconMask",P),this.addChildrenMap("slider",c),this.addChildrenMap("text",T);var d=si(s,"valuechangeCallback",null);if(d!==null){var v=si(s,"valuechangeCallbackScope",void 0);this.on("valuechange",d,v)}this.setEnable(si(s,"enable",void 0)),this.setValue(si(s,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,s,a){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,a),this}addValue(t,s,a){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,a),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,a){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,a),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var s;return t.text?s=t.text:s=t.getData("text"),s}set text(t){var s=this.childrenMap.text;s!==void 0&&(s.setText?s.setText(t):s.setData("text",t))}setText(t){return this.text=t,this}};r(v1,"NumberBar");let Lf=v1;rt.register("numberBar",function(e){var t=new Lf(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.NumberBar",Lf);rt.register("scrollBar",function(e){var t=new gl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ScrollBar",gl);const J0=Phaser.Utils.Objects.GetValue,eA={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"},p1=class p1 extends Je{constructor(t,s){super(t,s),this.type="rexBadge";var a=J0(s,"background",void 0);a&&this.addBackground(a),this.addChildrenMap("background",a);var x=J0(s,"main",void 0);x&&this.add(x,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",x);for(var P in eA){var n=J0(s,P,void 0);n&&(this.add(n,{key:P,align:eA[P],expand:!1}),this.addChildrenMap(P,n))}}};r(p1,"Badge");let Ff=p1;rt.register("badgeLabel",function(e){var t=new Ff(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.BadgeLabel",Ff);const Aet=Je.prototype.add;var iA=r(function(e,t,s,a,x,P,n,T,i){return e.setVisible(!1),Aet.call(this,e,t,s,a,x,P,n,T,i),this},"Add");const Let={add:iA,addPage:iA};var Fet=r(function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null},"GetPage$1");const sA=Ve.prototype.setChildVisible;var Iet=r(function(e,t){this._previousKey=this._currentKey;var s=this.previousPage;s&&(this.swapMode===0?(sA.call(this,s,!1),this.emit("pageinvisible",s,this._previousKey,this)):s.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var a=this.currentPage;return a&&(sA.call(this,a,!0),this.emit("pagevisible",a,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&a.setAlpha(0).fadeIn(t,1)),this},"SwapPage$1"),Det=r(function(e){return this.sizerChildren.hasOwnProperty(e)},"HasPage"),vI={getPage:Fet,swapPage:Iet,hasPage:Det};Object.assign(vI,Let);const rA=Phaser.Utils.Objects.GetValue,g1=class g1 extends Je{constructor(t,s){super(t,s),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(rA(s,"swapMode",0)),this.setFadeInDuration(rA(s,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=Bet[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}};r(g1,"Pages");let Oo=g1;Object.assign(Oo.prototype,vI);const Bet={invisible:0,destroy:1};rt.register("pages",function(e){var t=new Oo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Pages",Oo);const Get=Phaser.GameObjects.Mesh,m1=class m1 extends Get{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}};r(m1,"MeshBase");let If=m1;const pI=Phaser.Math.Vector3,Net=Phaser.Math.Matrix4;var nA=new pI,aA=new pI,oA=new Net,ket=r(function(e,t,s,a,x,P,n){t===void 0&&(t=0),s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=0),P===void 0&&(P=0),n===void 0&&(n=0),nA.set(t,s,a),aA.set(x,P,n),oA.fromRotationXYTranslation(aA,nA,!0);for(var T=0,i=e.vertices.length;T<i;T++)e.vertices[T].transformMat4(oA)},"TransformVerts");const Vet=Phaser.Utils.Objects.IsPlainObject,Ir=Phaser.Utils.Objects.GetValue,zet=Phaser.Geom.Mesh.GenerateGridVerts,j0=Phaser.Math.RadToDeg,Fd=Phaser.Math.DegToRad,gI=45,Uet=1+1/Math.sin(Fd(gI));var Za;let mI=(Za=class extends If{constructor(t,s,a,x,P,n){Vet(s)&&(n=s,s=Ir(n,"x",0),a=Ir(n,"y",0),x=Ir(n,"key",null),P=Ir(n,"frame",null)),super(t,s,a,x,P),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(Uet),this.hideCCW=Ir(n,"hideCCW",!0);var T=Ir(n,"gridWidth",0),i=Ir(n,"gridHeight",T);this.resetVerts(T,i),this.prevFrame=this.frame}preUpdate(t,s){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,s)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,gI),this}resetVerts(P,n){if(P!==void 0&&(this.gridWidth=P),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var a=this.frame.cutWidth,x=this.frame.cutHeight,P,n;this.gridWidth===0?P=Math.max(a/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(x/8,32):n=this.gridHeight,zet({mesh:this,width:a/this.height,height:x/this.height,widthSegments:Math.ceil(a/P),heightSegments:Math.ceil(x/n)});var T=this.transformInfo;return T&&this.transformVerts(T.x,T.y,T.z,T.rotateX,T.rotateY,T.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return j0(this.rotationX)}set angleX(t){this.rotationX=Fd(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return j0(this.rotationY)}set angleY(t){this.rotationY=Fd(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return j0(this.rotationZ)}set angleZ(t){this.rotationZ=Fd(t)}transformVerts(t,s,a,x,P,n){return t===void 0&&(t=0),s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=0),P===void 0&&(P=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=s,this.transformInfo.rotateX=x,this.transformInfo.rotateY=P,this.transformInfo.rotateZ=n,ket(this,t,s,a,x,P,n),this}},r(Za,"Image"),Za);const Xet=Phaser.Textures.DynamicTexture;var xI=r(function(e,t,s){t===void 0&&(t=2),s===void 0&&(s=2);var a=new Xet(e.sys.textures,null,t,s);return a},"CreateDynamicTexture");const Yet=Phaser.Utils.Objects.IsPlainObject,gd=Phaser.Utils.Objects.GetValue,x1=class x1 extends mI{constructor(t,s,a,x,P,n){Yet(s)&&(n=s,s=gd(n,"x",0),a=gd(n,"y",0),x=gd(n,"width",32),P=gd(n,"height",32));var T=xI(t,x,P);super(t,s,a,T,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,s){return s===void 0&&(s={}),s.gameObjects=t,s.renderTexture=this.rt,oy(s),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}};r(x1,"RenderTexture");let Df=x1;Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Gi=r(function(e,t,s,a){if(Array.isArray(e))for(var x=!1,P=0,n=e.length;P<n;P++){var T=e[P];if(!(a&&!T)&&(s?x=t.call(s,T,P,e):x=t(T,P,e),x))return}else{var x=!1;for(var i in e){var T=e[i];if(!(a&&!T)&&(s?x=t.call(s,T,i,e):x=t(T,i,e),x))return}}},"ForEachFace");const Qn=Phaser.Math.RadToDeg,qn=Phaser.Math.DegToRad,y1=class y1 extends Ve{constructor(t,s,a,x,P,n){super(t,s,a,x,P),this.faces=n,Gi(n,function(T){T.setPosition(s,a),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Qn(this.rotationX)}set angleX(t){this.rotationX=qn(t)}get rotateX(){return Qn(this.rotationX)}set rotateX(t){this.rotationX=qn(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Qn(this.rotationY)}set angleY(t){this.rotationY=qn(t)}get rotateY(){return Qn(this.rotationY)}set rotateY(t){this.rotationY=qn(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Qn(this.rotationZ)}set angleZ(t){this.rotationZ=qn(t)}get rotateZ(){return Qn(this.rotationZ)}set rotateZ(t){this.rotationZ=qn(t)}setDebug(t,s){return Gi(this.faces,function(a){a.setDebug(t,s)},null,!0),this}panX(t){return Gi(this.faces,function(s){s.panX(t)},null,!0),this}panY(t){return Gi(this.faces,function(s){s.panY(t)},null,!0),this}panZ(t){return Gi(this.faces,function(s){s.panZ(t)},null,!0),this}transformVerts(t,s,a,x,P,n){return Gi(this.faces,function(T){T.transformVerts(t,s,a,x,P,n)},null,!0),this}forEachFace(t,s,a){return Gi(this.faces,t,s,a),this}};r(y1,"FaceContainer");let Tx=y1;const Wet=Phaser.Utils.Objects.IsPlainObject,Het={key:"__WHITE"},$et={image:mI,rendertexture:Df};var hA=r(function(e,t){t===void 0&&(t=Het);var s;return Wet(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),s=new $et[t.type](e,t),e.add.existing(s)):s=t,s},"CreatePerspectiveObject"),Ket=r(function(e,t,s){var a;if(s===void 0){a=[];for(var x,P,n=0,T=t.length;n<T;n++)P=t[n],P?x=hA(e,P):x=null,a.push(x)}else{a={};for(var x,i,n=0,T=s.length;n<T;n++)i=s[n],t.hasOwnProperty(i)?x=hA(e,t[i]):x=null,a[i]=x}return a},"CreateFaces");const Zet=Phaser.Math.DegToRad,lA=Zet(180);var Jet=r(function(e,t){var s=t.back;s&&(e.orientation===0?s.transformVerts(0,0,0,0,lA,0):s.transformVerts(0,0,0,lA,0,0))},"LayoutFaces");const Q0=Phaser.Utils.Objects.GetValue,jet=Phaser.Math.Linear;var Ja;let Qet=(Ja=class extends ws{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(Q0(t,"ease","Cubic")),this.setFrontToBackDirection(Q0(t,"frontToBack",0)),this.setBackToFrontDirection(Q0(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=uA[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=uA[t]),this.endAngleBF=t===0?-180:180,this}start(t,s){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var a=s+1,x=this.parent;return x.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*a):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*a),super.start(),this}flip(t,s){return this.isRunning?this:(t===void 0&&(t=this.duration),s===void 0&&(s=0),this.start(t,s),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+s+1)%2,this)}flipRight(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,s),this}flipLeft(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,s),this}updateTarget(t,s){var a=this.easeFn(s.t),x=jet(this.startAngle,this.endAngle,a);t.orientation===0?t.angleY=x:t.angleX=x}},r(Ja,"Flip"),Ja);const uA={right:0,"left-to-right":0,left:1,"right-to-left":1},qet=Phaser.Utils.Objects.IsPlainObject,Dr=Phaser.Utils.Objects.GetValue,_et=["back","front"],C1=class C1 extends Tx{constructor(t,s,a,x){qet(s)&&(x=s,s=Dr(x,"x",0),a=Dr(x,"y",0));var P=Ket(t,x,_et),n=P.back,T=P.front,i=Dr(x,"width"),h=Dr(x,"height");if(i===void 0||h===void 0){if(i===void 0){var m=T?T.width:0,c=n?n.width:0;i=Math.max(m,c)}if(h===void 0){var u=T?T.height:0,l=n?n.height:0;h=Math.max(u,l)}}super(t,s,a,i,h,P),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,Gi(P,function(d,v){this[`${v}Face`]=d},this);var o=Dr(x,"flip",void 0);o!==!1&&(this.flip=new Qet(this,o)),this.setOrientation(Dr(x,"orientation",0)),Jet(this,P),this.setFace(Dr(x,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,Gi(this.faces,function(s){s.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,Gi(this.faces,function(s){s.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,Gi(this.faces,function(s){s.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=tit[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=eit[t]),this.currentFaceIndex=t;var s=t===1,a=s?180:0;this.orientation===0?this.angleY=a:this.angleX=a}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}};r(C1,"Card");let Sx=C1;const tit={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},eit={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const iit=Phaser.Utils.Objects.GetValue;var sit=r(function(e,t,s){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=iit(s,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},"Init"),yI=r(function(e,t){if(!e)return!1;for(var s=t.visibleSibling,a=0,x=s.length;a<x;a++)e.setChildVisible(s[a],!0);return s.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},"Exit"),rit=r(function(e,t){if(!e)return!1;yI(e,t);var s=t.useParentBounds;oy({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:s?e.displayWidth:void 0,height:s?e.displayHeighth:void 0,originX:s?e.originX:void 0,originY:s?e.originY:void 0}),e.setChildVisible(t,!0);for(var a=t.visibleSibling,x=e.children,P=0,n=x.length;P<n;P++){var T=x[P];T.visible&&T!==t&&(e.setChildVisible(T,!1),a.push(T))}return t.isRunning=!0,!0},"Enter"),CI=r(function(e){var t;return t=class extends e{constructor(a,x){var P=a.scene;super(P,0,0,1,1,x),P.add.existing(this),sit(a,this,x)}destroy(a){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(a))}enter(){var a=rit(this.rexContainer.parent,this);return a&&this.syncSize(),this}exit(){return yI(this.rexContainer.parent,this),this}},r(t,"Base"),t},"MeshRenderTextureBase");const T1=class T1 extends CI(Df){get perspectiveState(){return this.isRunning}};r(T1,"ContainerPerspective");let Bf=T1;const nit=Phaser.Utils.Objects.GetValue;var ait=r(function(e){var t=this.scene;this.setSnapshotPadding(nit(e,"snapshotPadding",0)),e=Ni(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var s=new Sx(t,e);t.add.existing(s);var a=s.flip;if(a){var x=this;a.on("start",function(){x.enterPerspectiveMode()}).on("complete",function(){x.exitPerspectiveMode()})}return s},"CreatePerspectiveCardMesh");const oit=["front","back"],hit={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=oit[e]);var t=this.perspectiveCard.faces[e],s=this.childrenMap[e];t.rt.clear();var a=s.visible;s.visible=!0;var x=s.isRexContainerLite?s.getAllVisibleChildren():s;return t.snapshot(x,{padding:this.snapshotPadding}),s.visible=a,this}},dA=Phaser.Utils.Objects.GetValue,S1=class S1 extends Je{constructor(t,s){super(t,s),this.type="rexPerspectiveCard";var a=s.back,x=dA(s,"expand.back",!0);this.add(a,{key:"back",expand:x});var P=s.front,n=dA(s,"expand.front",!0);this.add(P,{key:"front",expand:n}),this.perspectiveCard=ait.call(this,s),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var s=t===0,a=this.childrenMap.front,x=this.childrenMap.back;this.setChildVisible(a,s),this.setChildVisible(x,!s)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,s,a,x,P,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,s,a,x,P,n),this}forEachFace(t,s,a){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,s,a),this}};r(S1,"PerspectiveCard");let Ml=S1;Object.assign(Ml.prototype,hit);rt.register("perspectiveCard",function(e){var t=new Ml(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.PerspectiveCard",Ml);var lit=r(function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},"GetPageKeyByIndex"),uit=r(function(e){for(var t=this.getElement("tabs.buttons"),s=0,a=t.length;s<a;s++)if(t[s].name===e)return s},"GetPageIndexByKey");const dit=Phaser.Utils.Objects.IsPlainObject,q0=Phaser.Utils.Objects.GetValue,fit=Phaser.Utils.String.UUID;var cit=r(function(e,t,s){if(dit(e)){var a=e;e=q0(a,"key"),t=q0(a,"tab"),s=q0(a,"page")}return e||(e=fit()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(s,{key:e}),this},"AddPage"),vit=r(function(e,t){var s;if(typeof e=="number"?s=e:s=this.getPageIndex(e),s!=null){var a;t!==void 0&&(a=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(s),a!==void 0&&(this.childrenMap.pages.fadeInDuration=a)}return this},"SwapPage"),pit=r(function(e){return this.swapPage(0,e),this},"SwapFirstPage"),git=r(function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this},"SwapLastPage");const mit={swapPage:vit,swapFirstPage:pit,swapLastPage:git},xit={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var s=this.childrenMap.tabs,a=s.getByName(e),x=this.childrenMap.pages,P=x.getElement(e);return!a||!P?this:(x.removeChildrenMap(e),s.removeButton(a,t),x.remove(P,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),s=t.length-1;s>=0;s--)this.removePage(t[s].name,e);return this}};var yit=r(function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},"GetPage"),Cit=r(function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},"GetTab"),Tit={top:1,left:3,right:5,bottom:7},fA={top:"bottom",left:"right",right:"left",bottom:"top"},Sit=r(function(e){var t=Tit[e];if(t===void 0)return this;var s=this.childrenMap.tabs,a=this.sizerChildren.indexOf(s);if(a===t)return this;this.sizerChildren[a]=null,this.sizerChildren[t]=s;var x=this.getSizerConfig(s).padding,P=fA[this.tabsPosition],n=fA[e];return x[n]=x[P],x[P]=0,this.tabsPosition=e,this},"SetTabPosition");const Pit={setTabsPadding(e,t){var s=this.childrenMap.tabs;return s.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var TI={getPageKey:lit,getPageIndex:uit,addPage:cit,getPage:yit,getTab:Cit,setTabPosition:Sit};Object.assign(TI,mit,xit,Pit);const Ii=Phaser.Utils.Objects.GetValue,cA=oi.prototype.add;var ja;let Ic=(ja=class extends oi{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,s.columnProportions=[0,0,0],s.rowProportions=[0,0,0];var a=Ii(s,"expand.pages",!0);a&&(s.columnProportions[1]=1,s.rowProportions[1]=1),super(t,s),this.type="rexTabPages";var x=Ii(s,"background",void 0);x&&this.addBackground(x);var P=Ii(s,"pages"),n=new Oo(t,P);t.add.existing(n);var T=Ii(s,"tabsPosition",void 0);T===void 0&&(T=Ii(s,"tabPosition","top"));var i=Ii(s,"wrapTabs",!1),h=i?os:xe,m=Ii(s,"tabs",void 0);m===void 0&&(m={}),m.orientation=T==="top"||T==="bottom"?"x":"y",m.buttonsType="radio",!i&&!m.hasOwnProperty("expand")&&(m.expand=Ii(s,"expand.tabs",!1));var c=new h(t,m);t.add.existing(c),cA.call(this,n,{column:1,row:1,expand:a});var u,l,o=Ii(s,"space.item",0);switch(T){case"top":u=1,l=0,o={bottom:o};break;case"bottom":u=1,l=2,o={top:o};break;case"left":u=0,l=1,o={right:o};break;case"right":u=2,l=1,o={left:o};break}cA.call(this,c,{column:u,row:l,padding:o,expand:i?!0:Ii(s,"expand.tabs",!1),align:Ii(s,"align.tabs","left")}),this.addChildrenMap("background",x),this.addChildrenMap("tabs",c),this.addChildrenMap("pages",n),this.tabsPosition=T,c.on("button.click",function(d){var v=d.name;n.hasPage(v)&&n.swapPage(v)}),c.on("button.statechange",function(d,v,f,p){var g=f?"tab.focus":"tab.blur";this.emit(g,d,d.name)},this),n.on("pagevisible",function(d,v,f){this.emit("page.focus",d,v)}),n.on("pageinvisible",function(d,v,f){this.emit("page.blur",d,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}},r(ja,"TabPages"),ja);Object.assign(Ic.prototype,TI);rt.register("tabPages",function(e){var t=new Ic(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TabPages",Ic);const P1=class P1 extends fo{constructor(t,s){s===void 0&&(s={}),s.destroy=!1,super(t,s)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}};r(P1,"Transition");let Px=P1;const Eit={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,s=this.childrenMap.child;if(this.show(s),this.reLayoutEnable){var a=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();a.layout()}return t.emit("folder.expand",e,this),s.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,s=this.childrenMap.child;return t.emit("folder.collapse",e,this),s.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(s,1,1).hide(s),this.reLayoutEnable){var a=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();a.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var Mit=r(function(e,t){Ss.popUp.call(e,t,this.expandDirection)},"DefaultExpandCallback"),wit=r(function(e,t){Ss.scaleDown.call(e,t,this.expandDirection)},"DefaultCollapseCallback");const Rit={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=Mit.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=wit.bind(this)),this.childTransition.setTransitOutCallback(e),this}},se=Phaser.Utils.Objects.GetValue;var Qa;let ou=(Qa=class extends yt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var a=s.background,x=s.title,P=s.child;a&&this.addBackground(a);var n=se(s,"space"),T=this.orientation===1?"left":"top",u=se(s,"align.title",T),l=se(s,"expand.title",!0);this.add(x,{proportion:0,align:u,expand:l,padding:{left:se(n,"titleLeft",0),right:se(n,"titleRight",0),top:se(n,"titleTop",0),bottom:se(n,"titleBottom",0)}});var i=se(s,"toggleByTarget",void 0),h=se(s,"toggleClickConfig");i===void 0&&(i=x),i&&Vy.onClick.call(i,function(){this.toggle()},this,h),this.childTransition=new Px(P);var m=se(s,"customChildOrigin",!1);if(!m){var c=this.rtl?1:0;P.setOrigin(c)}var u=se(s,"align.child","left"),l=se(s,"expand.child",!0),o=l?1:0;this.add(P,{proportion:o,align:u,expand:l,padding:{left:se(n,"childLeft",0),right:se(n,"childRight",0),top:se(n,"childTop",0),bottom:se(n,"childBottom",0)}}),this.addChildrenMap("title",x),this.addChildrenMap("child",P),this.addChildrenMap("background",a);var d=s.transition;this.setTransitionDuration(se(d,"duration",200)),this.setExpandCallback(se(d,"expandCallback",void 0)),this.setCollapseCallback(se(d,"collapseCallback",void 0)),this.reLayoutTarget=se(s,"reLayoutTarget",void 0);var v=s.onExpandStart;v&&this.on("expand.start",v);var f=s.onExpandComplete;f&&this.on("expand.complete",f);var p=s.onCollapseStart;p&&this.on("collapse.start",p);var g=s.onCollapseComplete;g&&this.on("collapse.complete",g);var y=se(s,"expanded",void 0);y!==void 0&&this.setExpandedState(y)}},r(Qa,"Folder"),Qa);Object.assign(ou.prototype,Eit,Rit);rt.register("folder",function(e){var t=new ou(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Folder",ou);var Oit=r(function(e,t,s,a){for(var x in this.treesMap){var P=this.treesMap[x];if(qr(P.nodeBody,e,t,s,a))return P;var n=P.pointToChild(e,t,s,a);if(n)return n}return null},"PointToChild$1"),bit=r(function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],Sc(this,e),this},"SetChildrenInteractive"),SI=r(function(e){var t;return t=class extends e{get isTree(){return!1}get isNode(){return!1}setText(a){return this.text=a,this}get text(){var a=this.nodeBody;return a.text}set text(a){var x=this.nodeBody;x.setText&&x.setText(a)}setTexture(a,x){var P=this.nodeBody;return P.setTexture&&P.setTexture(a,x),this}get texture(){var a=this.nodeBody;if(a)return a.texture}get frame(){var a=this.nodeBody;if(a)return a.frame}},r(t,"Base"),t},"ExtendNodeClass"),Ait=r(function(e,t,s,a){for(var x in this.nodesMap){var P=this.nodesMap[x];if(this.isTreeObject(P)){var n=P;if(qr(n.nodeBody,e,t,s,a))return n;var T=n.pointToChild(e,t,s,a);if(T)return T}else if(qr(P,e,t,s,a))return P}return null},"PointToChild");const Lit={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var wl=r(function(e,t,s,a,x=!1){var P;if(Ke(t))P=t,delete t[key];else if(zi(t)){var n=t;P=n(e,s),P&&e.add.existing(P)}else(x||t)&&a&&(P=a(e,t,s));return P},"CreateGameObjectFromConfig"),qy=r(function(e,t,s){var a=ce(e,t);return a},"DefaultCreateBackgroundCallback"),Fit=r(function(e,t,s){var a=new on(e,t);return e.add.existing(a),a.resetDisplayContent(""),a},"DefaultCreateNodeBodyCallback");const _n=Phaser.Utils.Objects.GetValue,E1=class E1 extends SI(yt){constructor(t,s,a){var x=s.space;super(t,{orientation:"x",space:{left:_n(x,"nodeLeft",0),right:_n(x,"nodeRight",0),top:_n(x,"nodeTop",0),bottom:_n(x,"nodeBottom",0)}}),this.type="rexTreeNode";var P=wl(t,_n(s,"nodeBackground"),a,qy,!1),n=wl(t,_n(s,"nodeBody"),a,Fit,!0);P&&this.addBackground(P),this.add(n,{proportion:1}),this.nodeBody=n,this.addChildrenMap("background",P),this.addChildrenMap("nodeBody",n)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}};r(E1,"Node");let Gf=E1;var PI=r(function(e,t){var s=e.parentContainer;if(s){t.isRexContainerLite?t.addToContainer(s):s.add(t);return}var a=e.displayList;if(Rh(a)){t.isRexContainerLite?t.addToLayer(a):a.add(t);return}e.scene.add.existing(t)},"SyncDisplayList");const vA=Phaser.Utils.String.UUID,Iit={addTree(e,t){if(Ke(e)){var s=e;e={nodeBody:s,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var s;typeof t=="string"?(s=t,t=void 0):t&&(s=t.nodeKey,delete t.nodeKey),s===void 0&&(s=vA());var a=this.createTree(t);return PI(this,a),this.insertNode(e,a,{expand:!0}),a._postAddCallback(),a},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,s){var a;Ke(t)||(s=t,t=new Gf(this.scene,this.configSave,{isLeaf:!0})),typeof s=="string"?(a=s,s=void 0):s&&(a=s.nodeKey,delete s.nodeKey),a===void 0&&(a=vA()),s===void 0&&(s={}),s.hasOwnProperty("expand")||(s.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(a)&&(console.error(`[Trees] Duplicate nodeKey '${a}'`),this.removeNode(this.nodesMap[a],!0)),t.nodeKey=a,this.nodesMap[a]=t;var x=this.childrenMap.child;return x.insert(e,t,s),t}},Dit={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var s=this.getTreePatent(e);if(!s)return this;delete s.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var a=s.childrenMap.child;return a.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var s in t)this.removeNode(t[s],e);return this}},Bit={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),s=this.nodesMap[t];return e.length===0?s:s&&this.isTreeObject(s)?s.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var s in t)e.push(t[s]);return e},getAllNodes(e){}};var EI={pointToChild:Ait};Object.assign(EI,Lit,Iit,Dit,Bit);var Git=r(function(e,t,s){var a=new jr(e,t);return e.add.existing(a),a.on("expand.start",function(x){x.setDirection("down")}).on("collapse.complete",function(x){x.setDirection("right")}),a},"DefaultCreateToggleButtonCallback");const pA=Phaser.Utils.Objects.GetValue;var Nit=r(function(e,t){var s=new Gf(e,t,{isLeaf:!1});e.add.existing(s);var a=wl(e,pA(t,"toggleButton"),{isLeaf:!1},Git,!0);return s.insert(0,a,{padding:{right:pA(t,"space.toggleButton",0)},fitRatio:1}),s.addChildrenMap("toggleButton",a),s},"CreateTitleSizer");const gA=Phaser.Utils.Objects.GetValue;var kit=r(function(e,t){var s=new yt(e,{orientation:gA(t,"childrenOrientation","y")});e.add.existing(s);var a=wl(e,gA(t,"childrenBackground"),{isLeaf:!1},qy,!1);return a&&s.addBackground(a),s},"CreateChildrenSizer");const Vit=Phaser.Utils.Objects.Clone;var zit=r(function(e,t){var s=e?Vit(e):{};if(!t)return s;for(var a in t)s[a]=t[a];return s},"Merge$2");const Hs=Phaser.Utils.Objects.GetValue,Ih=class Ih extends SI(ou){constructor(t,s){s===void 0&&(s={});var a=wl(t,Hs(s,"background"),{isLeaf:!1},qy,!1),x=kit(t,s),P=x.childrenMap.items,n=Nit(t,s),T=n.childrenMap.toggleButton,i=n.childrenMap.nodeBody,h=yn(Hs(s,"orientation","y")),m=s.space;if(m){var c=Hs(m,"indent",0);m.childLeft=Hs(m,"indentLeft",h===1?c:0),m.childRight=Hs(m,"indentRight",0),m.childTop=Hs(m,"indentTop",h===0?c:0),m.childBottom=Hs(m,"indentBottom",0)}var u={background:a,title:n,child:x,toggleByTarget:T,transition:s.transition,orientation:h,space:m,align:s.align,expand:s.expand};super(t,u),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=s,this.nodeBody=i,this.addChildrenMap("toggleButton",T),this.addChildrenMap("nodeBody",i),this.addChildrenMap("childrenNodes",P),this.on("expand.start",function(){T.emit("expand.start",T),md(this,"expand.start")},this).on("expand.complete",function(){T.emit("expand.complete",T),md(this,"expand.complete")}).on("collapse.start",function(){T.emit("collapse.start",T),md(this,"collapse.start")}).on("collapse.complete",function(){T.emit("collapse.complete",T),md(this,"collapse.complete")});var l=this;l._postAddCallback=function(){var o=Hs(s,"expanded",!0);o!==void 0&&l.setExpandedState(o),delete l._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return Ih.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof Ih}};r(Ih,"Tree");let bo=Ih;bo.CreateTree=function(e,t,s){return new bo(e,zit(t,s))};var md=r(function(e,t){var s=e.getTreesSizer();s&&s.emit(t,e)},"FireTreesSizerEvent");Object.assign(bo.prototype,EI);const Uit=Phaser.Utils.String.UUID,Xit={addTree(e){if(Ke(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var s;typeof t=="string"?(s=t,t=void 0):t&&(s=t.nodeKey,delete t.nodeKey),s===void 0&&(s=Uit());var a=bo.CreateTree(this.scene,this.treeConfig,t);return PI(this,a),a.nodeKey=s,this.treesMap[s]=a,this.insert(e,a,{expand:!0}),a._postAddCallback(),a}},Yit={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var s in t)this.removeTree(t[s],e);return this}},Wit={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var s=this.getTree(e.substring(0,t));if(s)return s.getNode(e.substring(t+1))}};var MI={pointToChild:Oit,setChildrenInteractive:bit};Object.assign(MI,Xit,Yit,Wit);const Hit=Phaser.Utils.Objects.GetValue,M1=class M1 extends yt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation="y"),super(t,s),this.type="rexTrees",this.treesMap={},this.treeConfig=Hit(s,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}};r(M1,"Trees");let Rl=M1;Object.assign(Rl.prototype,MI);rt.register("trees",function(e){var t=new Rl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Trees",Rl);rt.register("textArea",function(e){var t=new an(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextArea",an);var $it=r(function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:r(function(){return e.textOY},"get"),set:r(function(t){e.textOY=t},"set")}),Object.defineProperty(e,"topChildOY",{get:r(function(){return e.topTextOY},"get")}),Object.defineProperty(e,"bottomChildOY",{get:r(function(){return e.bottomTextOY},"get")}),Object.defineProperty(e,"childVisibleHeight",{get:r(function(){return e.textVisibleHeight},"get")}),Object.defineProperty(e,"childHeight",{get:r(function(){return e.contentHeight},"get")})},"InjectProperties");const Kit={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},Zit={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},xd=Phaser.Utils.Objects.GetValue,w1=class w1 extends nu{constructor(t,s){s===void 0&&(s={});var a=xd(s,"text"),x;Ke(a)?x=a:(a===void 0&&(a={}),a.textArea=!0,x=new Jr(t,a),t.add.existing(x)),$it(x);var P=a.width===void 0,n=a.height===void 0;P&&(x.minWidth=0),n&&(x.minHeight=0),s.scrollMode=0,s.type="rexTextAreaInput",s.child={gameObject:x,expandWidth:P,expandHeight:n};var T=xd(s,"space",void 0);T&&(T.child=xd(T,"text",0)),s.scroller=!1,super(t,s),this.addChildrenMap("text",x);var i,h;x.on("cursorin",function(){var c=x.textOY,u=x.contentHeight,l=i!==c,o=h!==u;i=c,h=u,o&&this.resizeController(),(l||o)&&(this.t=x.t)},this),x.on("textchange",function(c){this.emit("textchange",c,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var m=xd(s,"content",void 0);m&&this.setText(m)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var s=this.childrenMap.child;s.readOnly=t}setReadOnly(t){var s=this.childrenMap.child;return s.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}};r(w1,"TextAreaInput");let Ao=w1;Object.assign(Ao.prototype,Kit,Zit);rt.register("textAreaInput",function(e){var t=new Ao(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextAreaInput",Ao);rt.register("scrollablePanel",function(e){var t=new ln(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ScrollablePanel",ln);const yd={popUp:r(function(e,t){e.popUp(t)},"popUp"),scaleDown:r(function(e,t){e.scaleDown(t)},"scaleDown"),fadeIn:r(function(e,t){e.fadeIn(t)},"fadeIn"),fadeOut:r(function(e,t){e.fadeOut(t)},"fadeOut")},js={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},Jit={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=js[e]),e){case js.popUp:e=yd.popUp;break;case js.fadeIn:e=yd.fadeIn;break}return e||(e=fe),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=js[e]),e){case js.scaleDown:e=yd.scaleDown;break;case js.fadeOut:e=yd.fadeOut;break}return e||(e=fe),this.transitOutCallback=e,this}},jit={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[fe]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[fe]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},Ph=Phaser.Utils.Objects.GetValue,R1=class R1 extends Yi{constructor(t,s){s===void 0&&(s={text:createDefaultTextObject(t)}),super(t,s),this.type="rexToast",this.setTransitInTime(Ph(s,"duration.in",200)),this.setDisplayTime(Ph(s,"duration.hold",1200)),this.setTransitOutTime(Ph(s,"duration.out",200)),this.setTransitInCallback(Ph(s,"transitIn",js.popUp)),this.setTransitOutCallback(Ph(s,"transitOut",js.scaleDown)),this.player=new Ef(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,s){return s===void 0&&(s=t),this.scaleX0=t,this.scaleY0=s,super.setScale(t,s),this}get isShowingMessage(){return this.player.isPlaying}};r(R1,"Toast");let Ol=R1;Object.assign(Ol.prototype,Jit,jit);rt.register("toast",function(e){var t=new Ol(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Toast",Ol);var Qit={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const qit={setQueueDirection(e){return typeof e=="string"&&(e=Qit[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=fe),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=fe),this.transitOutCallback=e,this}},_it=Vy.onClick,wI=n3.delayCall,tst=yc.moveTo;var est=r(function(e,t,s){var a=t(e.scene,s,e);if(_it.call(a,function(){e.removeMessage(a)}),e.displayTime){var x=e.transitInTime+e.displayTime+10;wI.call(a,x,function(){e.removeMessage(a)})}return a},"CreateChild"),RI=r(function(e){for(var t=e.childrenMap.items,s,a=[],x=0,P=t.length;x<P;x++)s=t[x],a.push({x:s.x,y:s.y});return a},"GetChildrenPosition"),ist=r(function(e){for(var t=e.childrenMap.items,s,a=[],x=0,P=t.length;x<P;x++)s=t[x],a.push({x:s.scaleX,y:s.scaleY}),s.setScale(1);e.layout();for(var n=RI(e),x=0,P=t.length;x<P;x++){var T=a[x];t[x].setScale(T.x,T.y)}return n},"RunLayout"),sst=r(function(e,t,s,a){for(var x=e.childrenMap.items,P=Math.min(t.length,s.length,x.length),n,T,i,h=e.queueDirection,m=0;m<P;m++){switch(n=x[m],T=t[m],i=s[m],n.setPosition(T.x,T.y),h){case 0:if(T.y<=i.y)continue;break;case 1:if(T.y>=i.y)continue;break;case 2:if(T.x<=i.x)continue;break;case 3:if(T.x>=i.x)continue;break}tst.call(n,a,i.x,i.y)}},"EaseChildren"),rst=r(function(e,t,s){var a=RI(e);e.add(t);var x=ist(e);sst(e,a,x,s),e.transitInCallback(t,s,e)},"PushChild");const nst={showMessage(e){var t=est(this,this.createMessageLabelCallback,e);return rst(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),wI.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,s=e.length;t<s;t++)this.removeMessage(e[t]);return this}};var OI={};Object.assign(OI,qit,nst);const mA={transitIn(e,t,s){switch(s.queueDirection){case 0:e.setOrigin(.5,1),Ss.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),Ss.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),Ss.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),Ss.popUp.call(e,t,"x");break}sl.fadeIn.call(e,t)},transitOut(e,t,s){sl.fadeOut.call(e,t)}},Br=Phaser.Utils.Objects.GetValue,O1=class O1 extends yt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexToastQueue",this.setCreateMessageLabelCallback(Br(s,"createMessageLabelCallback")),this.setQueueDirection(Br(s,"queueDirection",1)),this.setTransitInTime(Br(s,"duration.in",200)),this.setDisplayTime(Br(s,"duration.hold",2e3)),this.setTransitOutTime(Br(s,"duration.out",200)),this.setTransitInCallback(Br(s,"transitIn",mA.transitIn)),this.setTransitOutCallback(Br(s,"transitOut",mA.transitOut))}};r(O1,"ToastQueue");let bl=O1;Object.assign(bl.prototype,OI);rt.register("toastQueue",function(e){var t=new bl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ToastQueue",bl);var ast=r(function(e,t){if(t===!1)return null;if(Ke(t))return t;var s=new xn(e,t);return e.add.existing(s),s},"CreateSwatch");const ost=Phaser.Utils.String.Pad;var xA=r(function(e,t){t===void 0&&(t="0x");var s=e.toString(16).toUpperCase();return s=ost(s,6,0,1),s=t+s,s},"GetHexColorString"),hst=r(function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))},"SetSwatchColor");const xi=Phaser.Utils.Objects.GetValue,lst=Phaser.Utils.Objects.IsPlainObject,ust=Phaser.Math.Clamp;var qa;let _y=(qa=class extends yt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorInputLite";var a=xi(s,"background",void 0),x=xi(s,"swatch"),P;lst(x)&&(P=xi(x,"size"));var n=ast(t,xi(s,"swatch")),T=xi(s,"inputText",{}),i;if(T&&(i=dr(t,T)),a&&this.addBackground(a),n){P=xi(s,"swatchSize",P);var h;P!==void 0?(be(n,P,P),h=!1):h=xi(s,"squareExpandSwatch",!0);var m=h?1:0;this.add(n,{proportion:0,expand:!0,fitRatio:m})}if(i){var c=xi(T,"width")===void 0?1:0,u=xi(T,"height")===void 0;this.add(i,{proportion:c,expand:u})}this.addChildrenMap("background",a),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",i),i&&i.on("close",function(){this.setValue(i.value)},this);var l=xi(s,"valuechangeCallback",null);if(l!==null){var o=xi(s,"valuechangeCallbackScope",void 0);this.on("valuechange",l,o)}this.setValue(xi(s,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=_m(t),t==null){var a=this.childrenMap.inputText;a&&a.setText(xA(this._value));return}}else t=ust(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var s=this.childrenMap.swatch;s&&hst(s,t);var a=this.childrenMap.inputText;a&&a.setText(xA(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}},r(qa,"ColorInput"),qa);var dst={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=fst[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const fst={down:0,up:1},bI=Phaser.Display.Color,Nf=Phaser.Math.Percent;var cst=r(function(e,t,s){s===void 0&&(s=!1);var a=e.width,x=e.height,P=new bI;if(s)for(var n=0;n<x;n++){var T=Nf(n,0,x);P.setFromHSV(T,1,1),t.fillStyle=P.rgba,t.fillRect(0,n,a,1)}else for(var i=0;i<a;i++){var T=Nf(i,0,a);P.setFromHSV(T,1,1),t.fillStyle=P.rgba,t.fillRect(i,0,1,x)}},"DrawHPalette"),vst=r(function(e,t,s){for(var a=e.width,x=e.height,P=t.getImageData(0,0,a,x),n=P.data,T=new bI,i=0;i<x;i++)for(var h=0;h<a;h++){var m=Nf(h,0,a),c=1-Nf(i,0,x);T.setFromHSV(s,m,c);var u=(i*a+h)*4;n[u]=T.red,n[u+1]=T.green,n[u+2]=T.blue,n[u+3]=255}t.putImageData(P,0,0)},"DrawSVPalette");const pst=Phaser.Display.Color,yA=Phaser.Math.Percent,gst=Phaser.Display.Color.ColorToRGBA,mst=Phaser.Display.Color.HSVToRGB,b1=class b1 extends bs{constructor(t,s,a,x,P,n){s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=2),P===void 0&&(P=2),super(t,s,a,x,P),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new pst,this.setOrientation(n),this.setSize(x,P)}setOrientation(t){return this.orientation=yn(t),this}updateTexture(){return cst(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,s){return t===void 0?this.hue:(this.orientation===0?this.hue=yA(t,0,this.width):this.hue=yA(s,0,this.height),this.hue)}getColor(t,s){if(t===void 0)return this.color;var a=this.getHue(t,s);return this.colorObject.setFromRGB(mst(a,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(_0===void 0&&(_0={}),s=_0),this.colorObject.setFromRGB(gst(t)),this.orientation===0?(s.x=this.width*this.colorObject.h,s.y=this.height/2):(s.x=this.width/2,s.y=this.height*this.colorObject.h),s}};r(b1,"HPaletteCanvas");let Ex=b1;var _0=void 0,xst=Phaser.Math.RotateAround,AI=r(function(e,t,s,a){a===void 0?a={}:a===!0&&(tm===void 0&&(tm={}),a=tm),t-=e.width*e.originX,s-=e.height*e.originY;var x={x:t*e.scaleX,y:s*e.scaleY};return xst(x,0,0,-e.rotation),a.x=e.x+t,a.y=e.y+s,a},"LocalToWorld"),tm;const A1=class A1 extends Je{constructor(t,s){s===void 0&&(s={}),super(t,s);var a=s.width!=null?1:0,x=new Ex(t).setOrientation(a);t.add.existing(x),this.type="rexColorPicker.HPalette",x.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var P=new xn(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(P),this.add(x,{key:"paletteCanvas",expand:!0}).add(P,{key:"marker",expand:!1})}resize(t,s){if(this.width===t&&this.height===s)return this;super.resize(t,s);var a=Math.min(t,s);return this.childrenMap.marker.setSize(a,a),this}onPaletteCanvasPointerDown(t,s,a,x){if(t.isDown){var P=this.childrenMap.paletteCanvas,n=P.getColor(s,a);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,a=this.childrenMap.marker,x=s.colorToLocalPosition(t,!0);return AI(s,x.x,x.y,a),this.resetChildPositionState(a),this}getHue(t,s){var a=this.childrenMap.paletteCanvas;return a.getHue(t,s)}};r(A1,"HPalette");let Mx=A1;const yst=Phaser.Display.Color,CA=Phaser.Math.Percent,TA=Phaser.Display.Color.ColorToRGBA,Cst=Phaser.Display.Color.HSVToRGB,L1=class L1 extends bs{constructor(t,s,a,x,P,n){s===void 0&&(s=0),a===void 0&&(a=0),x===void 0&&(x=2),P===void 0&&(P=2),super(t,s,a,x,P),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new yst,this.setHue(n),this.setSize(x,P)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return vst(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,s){if(t===void 0)return this.colorObject.color;var a=CA(t,0,this.width),x=1-CA(s,0,this.height);return this.colorObject.setFromRGB(Cst(this.hue,a,x)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(TA(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(em===void 0&&(em={}),s=em),this.colorObject.setFromRGB(TA(t)),s.x=this.width*this.colorObject.s,s.y=this.height*(1-this.colorObject.v),s}};r(L1,"SVPaletteCanvas");let wx=L1;var em=void 0;const F1=class F1 extends Je{constructor(t,s){super(t,s);var a=new wx(t);t.add.existing(a),this.type="rexColorPicker.SVPalette",a.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var x=new xn(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(x),this.add(a,{key:"paletteCanvas",expand:!0}).add(x,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,s,a,x){if(t.isDown){var P=this.childrenMap.paletteCanvas,n=P.getColor(s,a);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var s=this.childrenMap.paletteCanvas;return s.setHue(t),this}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,a=this.childrenMap.marker,x=s.colorToLocalPosition(t,!0);return AI(s,x.x,x.y,a),this.resetChildPositionState(a),this}};r(F1,"SVPalette");let Rx=F1;const Di=Phaser.Utils.Objects.GetValue,I1=class I1 extends yt{constructor(t,s){super(t,s),this.type="rexColorPicker",this.freezePalettes=!1;var a=Di(s,"hPalette.position",0);typeof a=="string"&&(a=Tst[a]);var x=a===0||a===2?1:0;this.setOrientation(x);var P=Di(s,"background",void 0),n,T;if(this.orientation===0){var n=Di(s,"hPalette.width",void 0);n===void 0&&(n=Di(s,"hPalette.size",10))}else T=Di(s,"hPalette.height",void 0),T===void 0&&(T=Di(s,"hPalette.size",10));var i=new Mx(t,{width:n,height:T});t.add.existing(i);var h=Di(s,"svPalette.width",void 0),m=Di(s,"svPalette.height",void 0),c=new Rx(t,{width:h,height:m});t.add.existing(c),P&&this.addBackground(P);var u={proportion:0,expand:!0},l,o;this.orientation===0?(l=h===void 0?1:0,o=m===void 0):(l=m===void 0?1:0,o=h===void 0);var d={proportion:l,expand:o};a===0||a===3?this.add(c,d).add(i,u):this.add(i,u).add(c,d),i.on("input",function(){c.setHue(i.getHue()),this.setValue(c.color,!0)},this),c.on("input",function(){this.setValue(c.color,!0)},this),this.addChildrenMap("background",P),this.addChildrenMap("hPalette",i),this.addChildrenMap("svPalette",c);var v=Di(s,"valuechangeCallback",null);if(v!==null){var f=Di(s,"valuechangeCallbackScope",void 0);this.on("valuechange",v,f)}this.setValue(Di(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,s,this)}}setValue(t,s){return this.freezePalettes=!!s,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,s,a){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,s,a),this}};r(I1,"ColorPicker");let Al=I1;var Tst={bottom:0,left:1,top:2,right:3};const qi=Phaser.Utils.Objects.GetValue,Sst=Phaser.Display.Color,Pst=Phaser.Display.Color.ColorToRGBA,Est=Phaser.Display.Color.HSVToRGB,Gr=Phaser.Math.Clamp,D1=class D1 extends yt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorComponents",this.colorObject=new Sst;var a=qi(s,"background",void 0),x=qi(s,"formatLabel",void 0);Ke(x)||(x=ye(t,x).resetDisplayContent());var P=[];if(s.inputText0&&s.inputText1&&s.inputText2)P.push(s.inputText0),P.push(s.inputText1),P.push(s.inputText2);else for(var n=qi(s,"inputText"),T=0;T<3;T++){var i=dr(t,n).setMaxLength(3).setNumberInput();P.push(i)}a&&this.addBackground(a);var m=qi(s,"proportion.formatLabel",0),h=!!x.isRexContainerLite,c=qi(s,"expand.formatLabel",h);this.add(x,{proportion:m,expand:c});for(var m=qi(n,"width")===void 0?1:0,c=qi(n,"height")===void 0,T=0,u=P.length;T<u;T++)this.add(P[T],{proportion:m,expand:c});this.addChildrenMap("background",a),this.addChildrenMap("formatLabel",x),this.addChildrenMap("components",P),this.onClick(x,this.toggleColorFormat,this);for(var T=0,u=P.length;T<u;T++)P[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var l=qi(s,"valuechangeCallback",null);if(l!==null){var o=qi(s,"valuechangeCallbackScope",void 0);this.on("valuechange",l,o)}x.setText("RGB"),this.setValue(qi(s,"value",16777215))}get value(){return this._value}set value(t){t=Gr(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(Pst(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,s,a,x;return this.colorFormat==="RGB"?(s=this.colorObject.red,a=this.colorObject.green,x=this.colorObject.blue):(s=Math.floor(this.colorObject.h*360),a=Math.floor(this.colorObject.s*100),x=Math.floor(this.colorObject.v*100)),t[0].setValue(s),t[1].setValue(a),t[2].setValue(x),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var s=Gr(t[0].value,0,255),a=Gr(t[1].value,0,255),x=Gr(t[2].value,0,255);this.colorObject.setTo(s,a,x)}else{var P=Gr(t[0].value,0,359)/360,n=Gr(t[1].value,0,100)/100,T=Gr(t[2].value,0,100)/100;this.colorObject.setFromRGB(Est(P,n,T))}return this}};r(D1,"ColorComponents");let Ll=D1;const im=Phaser.Utils.Objects.GetValue,B1=class B1 extends yt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexColorInput.ColorPickerPanel";var a=im(s,"background",void 0),x=new Al(t,{hPalette:s.hPalette||{},svPalette:s.svPalette||{},space:{item:im(s,"space.hPalette",8)}});t.add.existing(x);var P;s.colorComponents&&(P=new Ll(t,s.colorComponents),t.add.existing(P)),a&&(this.addBackground(a),new co(a,{stopAllLevels:!1})),this.add(x,{proportion:1,expand:!0}),P&&this.add(P,{proportion:0,expand:!0}),this.addChildrenMap("background",a),this.addChildrenMap("colorPicker",x),this.addChildrenMap("colorComponents",P),x.on("valuechange",function(n){this.setValue(n)},this),P&&P.on("valuechange",function(n){this.setValue(n)},this),this.setValue(im(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var s=this.childrenMap.colorPicker;s.setValue(t);var a=this.childrenMap.colorComponents;a&&a.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}};r(B1,"ColorPickerPanel");let Ox=B1;Phaser.Utils.Objects.GetValue;var Mst=r(function(t){var t=this.scene,s,a=this.colorPickerCreateBackgroundCallback;a&&(s=a.call(this,t),t.add.existing(s));var x=this.colorPickerWidth;x===void 0&&(x=this.width);var P=this.colorPickerHeight;P===void 0&&(P=x);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var T=new Ox(t,{width:x,height:P,background:s,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(T),T},"CreateColorPicker"),wst=r(function(){if(!this.colorPicker){var e=Mst.call(this).layout(),t=new Of(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(s){this.setValue(s)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},"OpenColorPicker"),LI={openColorPicker:wst};Object.assign(LI,dst);const Se=Phaser.Utils.Objects.GetValue,G1=class G1 extends _y{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexColorInput",s.hasOwnProperty("colorPicker")||(s.colorPicker={background:{color:0}});var a=s.colorPicker,x=a!==!1&&a!==null;if(x){this.setColorPickerSize(Se(a,"width",160),Se(a,"height",170));var P,n=Se(a,"background");n?P=r(function(l){return ce(l,n)},"createBackgroundCallback"):P=Se(a,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(P),this.setColorPickerHPalettePosition(Se(a,"hPalettePosition",0)),this.setColorPickerExpandDirection(Se(a,"expandDirection")),this.setColorPickerEaseInDuration(Se(a,"easeIn",200)),this.setColorPickerEaseOutDuration(Se(a,"easeOut",200)),this.setColorPickerTransitInCallback(Se(a,"transitIn")),this.setColorPickerTransitOutCallback(Se(a,"transitOut")),this.setColorPickerBounds(Se(a,"bounds"));var T=Se(a,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var i=s.colorComponents,h=i!==!1&&i!==null;if(x&&h){this.setColorComponentsHeight(Se(i,"height",30)),this.setColorComponentsFormatLabelConfig(Se(i,"formatLabel"));var m=Se(i,"inputText");m||(m=Se(s,"inputText")),this.setColorComponentsInputTextConfig(m);var c=Se(i,"space");c===void 0&&(c={item:8}),this.setColorComponentsSpace(c)}var u=this.childrenMap.swatch;u&&x&&this.onClick(u,this.openColorPicker,this)}};r(G1,"ColorInput");let Lo=G1;Object.assign(Lo.prototype,LI);rt.register("colorInput",function(e){var t=new Lo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorInput",Lo);rt.register("colorInputLite",function(e){var t=new _y(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorInputBase",_y);rt.register("colorPicker",function(e){var t=new Al(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorPicker",Al);rt.register("colorComponents",function(e){var t=new Ll(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorComponents",Ll);var FI=r(function(e){for(var t=e.scene.input,s=t.manager,a=s.pointersTotal,x=s.pointers,P,n=0;n<a;n++)if(P=x[n],!(!P.primaryDown||t.getDragState(P)!==0||!vy(e,P)))return t.setDragState(P,1),t._drag[P.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(P,3),t.processDragStartList(P)):t.setDragState(P,2),!0;return!1},"RequestDrag");const Cd=Phaser.Utils.Objects.GetValue,SA=Phaser.Math.Distance.Between,PA=Phaser.Math.RotateAroundDistance,N1=class N1 extends Nt{constructor(t,s){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Cd(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Cd(t,"enable",!0)),this.setAxisMode(Cd(t,"axis",0)),this.setAxisRotation(Cd(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=Rst[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return FI(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,s,a){this.isDragging||(this.pointer=t)}onDrag(t,s,a){if(this.pointer===t){var x=this.parent;if(this.axisMode===0)x.x=s,x.y=a;else if(this.axisRotation===0)this.axisMode===1?x.x=s:this.axisMode===2&&(x.y=a);else{var P,n={x:s,y:a};P=SA(n.x,n.y,x.x,x.y),n=PA(n,x.x,x.y,-this.axisRotation,P),this.axisMode===1?n.y=x.y:this.axisMode===2&&(n.x=x.x),P=SA(n.x,n.y,x.x,x.y),n=PA(n,x.x,x.y,this.axisRotation,P),x.x=n.x,x.y=n.y}}}onDragEnd(t,s,a,x){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}};r(N1,"Drag");let Fl=N1;const Rst={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var Ost=r(function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],s=this.sizerChildren[2],a=this.getSizerConfig(e).padding,x=this.getSizerConfig(t).padding,P=this.getSizerConfig(s).padding;if(this.orientation===0){var n=this.innerLeft+a.left,T=this.innerRight-P.right,i=Ot(t),h=t.x+i*(0-t.originX),m=t.x+i*(1-t.originX),c=h-x.left-this.space.item-a.right,u=m+x.right+this.space.item+P.left,l=c-n,o=T-u,d=l+o;this.minFirstChildSize>0&&l<this.minFirstChildSize&&(l=this.minFirstChildSize,o=d-l),this.minSecondChildSize>0&&o<this.minSecondChildSize&&(o=this.minSecondChildSize,l=d-o),this.setSplitRatio(l/d)}else{var v=this.innerTop+a.top,f=this.innerBottom-P.bottom,p=bt(t),g=t.y+p*(0-t.originY),y=t.y+p*(1-t.originY),C=g-x.top-this.space.item-a.bottom,S=y+x.bottom+this.space.item+P.top,E=C-v,w=f-S,M=E+w;this.minFirstChildSize>0&&E<this.minFirstChildSize&&(E=this.minFirstChildSize,w=M-E),this.minSecondChildSize>0&&w<this.minSecondChildSize&&(w=this.minSecondChildSize,E=M-w),this.setSplitRatio(E/M)}var R=this.minWidth,O=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(R,O)},"OnDragSplitter");const ae=Phaser.Utils.Objects.GetValue,bst=Phaser.Math.Clamp,k1=class k1 extends yt{constructor(t,s){s.hasOwnProperty("orientation")||(s.orientation=s.hasOwnProperty("leftPanel")?0:1),super(t,s),this.type="rexSplit";var a=ae(s,"background",void 0),x,P,n,T;this.orientation===0?(x="leftPanel",P="rightPanel",n="minLeftPanelWidth",T="minRightPanelWidth"):(x="topPanel",P="bottomPanel",n="minTopPanelHeight",T="minBottomPanelHeight");var i=ae(s,x,void 0),h=ae(s,"splitter",void 0),m=ae(s,P,void 0);a&&this.addBackground(a);var c=ae(s,"space",void 0);this.add(i,{proportion:1,expand:!0,padding:{left:ae(c,`${x}Left`,0),right:ae(c,`${x}Right`,0),top:ae(c,`${x}Top`,0),bottom:ae(c,`${x}Bottom`,0)}}),this.add(h,{proportion:0,expand:!0,padding:{left:ae(c,"splitterLeft",0),right:ae(c,"splitterRight",0),top:ae(c,"splitterTop",0),bottom:ae(c,"splitterBottom",0)}}),this.add(m,{proportion:1,expand:!0,padding:{left:ae(c,`${P}Left`,0),right:ae(c,`${P}Right`,0),top:ae(c,`${P}Top`,0),bottom:ae(c,`${P}Bottom`,0)}}),this.addChildrenMap("background",a),this.addChildrenMap(x,i),this.addChildrenMap("splitter",h),this.addChildrenMap(P,m),this.minFirstChildSize=ae(s,n,0),this.minSecondChildSize=ae(s,T,0),this.setSplitRatio(ae(s,"splitRatio",.5)),this.splitterDragBehavior=new Fl(h,{axis:this.orientation===0?1:2}),h.on("dragstart",function(){this.emit("splitter.dragstart",h,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",h,this.splitRatio)},this).on("drag",function(){Ost.call(this),this.emit("splitter.drag",h,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",h,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",h,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=bst(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}};r(k1,"SplitPanels");let kf=k1;rt.register("splitPanels",function(e){var t=new kf(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.SplitPanels",kf);var Ast=r(function(){return function(e,t,s,a){t!=="panel"&&s.setChildVisible(e,!0)}},"GetShowCallback$1"),Lst=r(function(){return function(e,t,s,a){t!=="panel"&&s.setChildVisible(e,!1)}},"GetHideCallback$1");const Fst={show:Ast,hide:Lst};var Ist=r(function(e,t){return t===void 0&&(t=1),function(s,a,x,P){a!=="panel"&&x.fadeChild(s,P?0:e,t)}},"GetShowCallback"),Dst=r(function(e,t){return t===void 0&&(t=0),function(s,a,x,P){a!=="panel"&&x.fadeChild(s,P?0:e,t)}},"GetHideCallback");const Bst={show:Ist,hide:Dst};var EA=r(function(e,t){return function(s,a,x,P){a!=="panel"&&x.moveChild(s,P?0:e,t)}},"GetCallback$1");const Gst={show:EA,hide:EA};var MA=r(function(e,t){return function(s,a,x,P){a==="panel"&&x.moveChild(s,P?0:e,t)}},"GetCallback");const Nst={show:MA,hide:MA},sm={visible:Fst,fade:Bst,move:Gst,"move-panel":Nst};var kst=r(function(e){var t,s;[t,...s]=typeof e=="string"?[e]:e;var a,x;return sm.hasOwnProperty(t)?(a=sm[t].show.apply(null,s),x=sm[t].hide.apply(null,s)):(a=fe,x=fe),{show:a,hide:x}},"GetDefaultCallbacks");const Vst={showChild(e,t){var s=this.sizerChildren[e];return s&&(this.emit("showchild",s,e,this,t),this.resetChildState(s)),this},hideChild(e,t){var s=this.sizerChildren[e];return s&&(this.emit("hidechild",s,e,this,t),this.resetChildState(s)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},zst=Ve.prototype.setChildVisible,Ust={setChildVisible(e,t){var s;if(typeof e=="string"){var s=e;e=this.sizerChildren[s]}else s=Ec(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===s),zst.call(this,e,t),this}},Xst={fadeChild(e,t,s){var a;return typeof e=="string"?(a=e,e=this.sizerChildren[a]):a=Ec(this.sizerChildren,e),t===void 0&&(t=500),s===void 0&&(s=this.currentChildKey===a?1:0),e.fadeIn(t,{start:e.alpha,end:s}),this},fadeChildPromise(e,t,s){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,s),e._fade?Pe(e._fade):Promise.resolve()}},Yst={moveChild(e,t,s,a){var x;typeof e=="string"?(x=e,e=this.sizerChildren[x]):x=Ec(this.sizerChildren,e),t===void 0&&(t=500);var P=this.currentChildKey===x;if(a===void 0)switch(x){case"leftSide":case"rightSide":a=Ot(e);break;case"topSide":case"bottomSide":a=bt(e);break;default:if(P)switch(this.previousChildKey){case"leftSide":case"rightSide":a=Ot(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":a=bt(this.sizerChildren[this.previousChildKey]);break;default:a=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":a=Ot(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":a=bt(this.sizerChildren[this.currentChildKey]);break;default:a=0;break}break}var n,T,i,h;if(P)switch(x){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":i=!0;break;case"bottomSide":h=!0;break}break;case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":h=!0;break;case"bottomSide":i=!0;break}else switch(x){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":h=!0;break;case"bottomSide":i=!0;break}break;case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":i=!0;break;case"bottomSide":h=!0;break}return n?e.moveTo(t,`-=${a}`,void 0,s):T?e.moveTo(t,`+=${a}`,void 0,s):i?e.moveTo(t,void 0,`-=${a}`,s):h?e.moveTo(t,void 0,`+=${a}`,s):e.moveTo(0),this},moveChildPromise(e,t,s,a){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,s,a),e._easeMove?Pe(e._easeMove):Promise.resolve()}};var II={};Object.assign(II,Ust,Xst,Yst);const $e=Phaser.Utils.Objects.GetValue,V1=class V1 extends Je{constructor(t,s){super(t,s),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var a=$e(s,"showChildCallback",void 0);if(a)if(zi(a)){var x=$e(s,"showChildCallbackScope",void 0);this.on("showchild",a,x);var P=$e(s,"hideChildCallback",void 0),n=$e(s,"hideChildCallbackScope",void 0);this.on("hidechild",P,n)}else{var T=kst(a);this.on("showchild",T.show),this.on("hidechild",T.hide)}var i=$e(s,"background",void 0),h=$e(s,"panel",void 0),m=$e(s,"leftSide",void 0),c=$e(s,"rightSide",void 0),u=$e(s,"topSide",void 0),l=$e(s,"bottomSide",void 0);if(i&&this.addBackground(i),h&&this.add(h,"panel","center",0,!0),m){var o=$e(s,"expand.left",!0);this.add(m,"leftSide","left-top",0,{height:o})}if(c){var o=$e(s,"expand.right",!0);this.add(c,"rightSide","right-top",0,{height:o})}if(u){var o=$e(s,"expand.top",!0);this.add(u,"topSide","left-top",0,{width:o})}if(l){var o=$e(s,"expand.bottom",!0);this.add(l,"bottomSide","left-bottom",0,{width:o})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}};r(V1,"Sides");let Il=V1;Object.assign(Il.prototype,Vst,II);rt.register("sides",function(e){var t=new Il(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Sides",Il);var Wst=r(function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this},"RegisterInputHandler");const Hst=Phaser.Utils.Array.GetFirst,$st=Phaser.Utils.Array.Remove;var Kst=r(function(e){var t=Hst(this.inputHandlers,"name",e);return t&&$st(this.inputHandlers,t),this},"RemoveInputHandler");const z1=class z1 extends Yi{constructor(t,s){s=wc(t,s),super(t,s),this.type="rexTweaker.Title"}setTitle(t){return t=t?Ce(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}};r(z1,"Title");let dn=z1;const U1=class U1 extends dn{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTweaker.FolderTitle";var a=new jr(t,s.expandedIcon);t.add.existing(a),this.addSpace().add(a,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",a)}setExpandedState(t){t===void 0&&(t=!0);var s=t?"down":"right",a=this.childrenMap.expandedIcon;return a.setDirection(s),this}};r(U1,"FolderTitle");let bx=U1;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DI=r(function(e,t){var s=Ni(e);for(var a in t)s.hasOwnProperty(a)||(s[a]=t[a]);return s},"Merge$1"),Ah=r(function(e,t,s){return ce(e,DI(t,s))},"CreateBackground");const Zst={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},Jst={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}},X1=class X1 extends ou{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexTweaker.Folder"}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}};r(X1,"Folder");let Vf=X1;Object.assign(Vf.prototype,Zst,Jst);const ta=Phaser.Utils.Objects.GetValue;var jst=r(function(e,t,s){var a=e.scene,x=ta(s,"title")||{},P=new bx(a,x);a.add.existing(P),P.on("folder.expand",function(){P.setExpandedState(!0)}).on("folder.collapse",function(){P.setExpandedState(!1)});var n={root:ta(s,"root"),styles:ta(s,"tweaker"),space:ta(s,"space")||{}},T=e.createTweaker(n),i=ta(s,"background"),h=Ah(a,t,i),m=new Vf(a,{title:P,child:T,background:h,transition:{duration:ta(s,"transition.duration",200)}});return a.add.existing(m),m},"CreateFolder");const wA=Phaser.Utils.Objects.GetValue;var Qst=r(function(e){e===void 0&&(e={});var t=wA(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var s=jst(this,e,t);delete t.tweaker,delete t.root,this.add(s,{expand:!0}),s.setTitle(e);var a=wA(e,"expanded",!0);a!==void 0&&s.setExpandedState(a);var x=s.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,x),x},"AddFolder");const qst={setBindingTarget(e){for(var t=this.childrenMap.pages.children,s=0,a=t.length;s<a;s++)t[s].setBindingTarget(e);return this}},_st={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,s=0,a=t.length;s<a;s++)e=Math.max(e,t[s].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,s=0,a=t.length;s<a;s++)t[s].setInputRowTitleWidth(e);return this}},Y1=class Y1 extends Ic{constructor(t,s){super(t,s),this.type="rexTweaker.TabPages"}};r(Y1,"TabPages");let zf=Y1;Object.assign(zf.prototype,qst,_st);const Td=Phaser.Utils.Objects.GetValue;var trt=r(function(e,t,s){var a=e.scene,x=new zf(a,s);a.add.existing(x);for(var P=Td(s,"tab"),n={root:Td(s,"root"),styles:Td(s,"tweaker")},T=Td(t,"pages")||[],i=0,h=T.length;i<h;i++){var m=T[i];x.addPage({key:m.title,tab:ye(a,P).setActiveState(!1).resetDisplayContent({text:m.title}),page:e.createTweaker(n)})}return x.on("tab.focus",function(c,u){c.setActiveState(!0)}).on("tab.blur",function(c,u){c.setActiveState(!1)}),x},"CreateTab");const RA=Phaser.Utils.Objects.GetValue;var ert=r(function(e){e===void 0&&(e={});var t=RA(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var s=trt(this,e,t);delete t.tweaker,delete t.root,this.add(s,{expand:!0});for(var a=RA(e,"pages")||[],x=[],P=0,n=0,T=a.length;n<T;n++){var i=s.getPage(n),h=a[n].show;h&&(P=n);var m=a[n].key;m&&this.root.addChildrenMap(m,i),x.push(i)}return s.swapPage(P,0),x},"AddTab");const irt={setBindingTarget(e){for(var t=this.childrenMap.columns,s=0,a=t.length;s<a;s++)t[s].setBindingTarget(e);return this}},srt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,s=0,a=t.length;s<a;s++)e=Math.max(e,t[s].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,s=0,a=t.length;s<a;s++)t[s].setInputRowTitleWidth(e);return this}},ea=Phaser.Utils.Objects.GetValue,W1=class W1 extends yt{constructor(t,s){s===void 0&&(s={}),s.orientation="y",super(t,s),this.type="rexTweaker.Columns";var a=ea(s,"background",void 0),x=ea(s,"title",void 0);a&&this.addBackground(a),x&&this.add(x,{expand:!0,space:{bottom:ea(s,"space.title",0)}});var P=new yt(t,{orientation:"x",space:{item:ea(s,"space.column",0)}});t.add.existing(P);for(var n=ea(s,"columns",void 0),T,i,h=0,m=n.length;h<m;h++)T=n[h],i=T.child,P.add(T.child,{proportion:i.minWidth===0?1:0,expand:ea(T,"expand",!0)});this.add(P,{expand:!0}),this.addChildrenMap("title",x),this.addChildrenMap("columnsSizer",P),this.addChildrenMap("columns",P.childrenMap.items)}setTitle(t){var s=this.childrenMap.title;return t.title||t.icon?s.show().setTitle(t):s.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}};r(W1,"Columns");let Uf=W1;Object.assign(Uf.prototype,irt,srt);const Nr=Phaser.Utils.Objects.GetValue;var rrt=r(function(e,t,s){var a=e.scene,x=Nr(s,"title")||{},P=new dn(a,x);a.add.existing(P);var n={root:Nr(s,"root"),styles:Nr(s,"tweaker")},T=Nr(s,"background");T&&!Array.isArray(T)&&(T=[T]);var i=Nr(t,"columns",2);if(typeof i=="number"){var h=i;i=[];for(var m=0,c=h;m<c;m++)i.push({})}for(var m=0,c=i.length;m<c;m++){var u=i[m];T&&(n.background=T[m%T.length]),n.width=Nr(u,"width",0);var l=e.createTweaker(n);u.child=l}var o=new Uf(a,{title:P,columns:i,space:Nr(s,"space")});return a.add.existing(o),o},"CreateColumns");const OA=Phaser.Utils.Objects.GetValue;var nrt=r(function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=OA(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var s=rrt(this,e,t);delete t.tweaker,delete t.root,this.add(s,{expand:!0}),s.setTitle(e);var a=OA(e,"columns",void 0);if(a&&Array.isArray(a))for(var x=0,P=a.length;x<P;x++){var n=a[x].key;n&&this.root.addChildrenMap(n,s.getColumn(x))}return s.getColumns()},"AddColumns");const art={setBindingTarget(e){for(var t=this.childrenMap.child,s=0,a=t.length;s<a;s++)t[s].setBindingTarget(e);return this}},ort={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},Sd=Phaser.Utils.Objects.GetValue,H1=class H1 extends yt{constructor(t,s){s===void 0&&(s={}),s.orientation="y",super(t,s),this.type="rexTweaker.Wrap";var a=Sd(s,"background",void 0),x=Sd(s,"title",void 0);a&&this.addBackground(a),x&&this.add(x,{expand:!0,space:{bottom:Sd(s,"space.title",0)}});var P=Sd(s,"child",void 0);this.add(P,{expand:!0}),this.addChildrenMap("title",x),this.addChildrenMap("child",P)}setTitle(t){var s=this.childrenMap.title;return t.title||t.icon?s.show().setTitle(t):s.hide(),this}};r(H1,"Wrap");let Xf=H1;Object.assign(Xf.prototype,art,ort);const _i=Phaser.Utils.Objects.GetValue;var hrt=r(function(e,t,s){var a=e.scene,x=_i(s,"title")||{},P=new dn(a,x);a.add.existing(P);var n=_i(s,"itemWidth",0),T=_i(s,"itemHeight",0),i={root:_i(s,"root"),styles:_i(s,"tweaker"),space:_i(s,"space"),align:_i(s,"align",5),wrap:!0,itemWidth:_i(t,"itemWidth",n),itemHeight:_i(t,"itemHeight",T)};_i(s,"background");var h=e.createTweaker(i),m=new Xf(a,{title:P,child:h});return a.add.existing(m),m},"CreateWrap");const lrt=Phaser.Utils.Objects.GetValue;var urt=r(function(e){e===void 0&&(e={});var t=lrt(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var s=hrt(this,e,t);delete t.tweaker,delete t.root,this.add(s,{expand:!0}),s.setTitle(e);var a=s.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,a),a},"AddWrap");const drt={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},frt={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}},$1=class $1 extends ln{constructor(t,s){super(t,s),this.type="rexTweaker.Scrollable"}setTitle(t){var s=this.childrenMap.header;return t.title||t.icon?s.show().setTitle(t):s.hide(),this}};r($1,"Scrollable");let Yf=$1;Object.assign(Yf.prototype,drt,frt);const $s=Phaser.Utils.Objects.GetValue;var crt=r(function(e,t,s){var a=e.scene,x=$s(s,"title")||{},P=new dn(a,x);a.add.existing(P);var n={root:$s(s,"root"),styles:$s(s,"tweaker"),space:$s(s,"space")||{}},T=e.createTweaker(n),i=$s(s,"slider");if(i){i=Ce(i);var h=i.track;h&&(i.track=Ah(a,t,h));var m=i.thumb;m&&(i.thumb=Ah(a,t,m))}var c=$s(s,"background"),u=Ah(a,t,c),l=new Yf(a,{scrollMode:0,header:P,panel:{child:T,mask:{padding:1}},slider:i,background:u,height:$s(t,"height",0),space:$s(s,"space",void 0)});return a.add.existing(l),l},"CreateScrollable");const vrt=Phaser.Utils.Objects.GetValue;var prt=r(function(e){e===void 0&&(e={});var t=vrt(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var s=crt(this,e,t);delete t.tweaker,delete t.root,this.add(s,{proportion:s.minWidth===0?1:0,expand:!0}),s.setTitle(e);var a=s.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,a),a},"AddScrollable");const bA=Phaser.Utils.Objects.GetValue,grt={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var s=this.childrenMap.inputField;return s.onBindTarget&&s.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=bA(e,"onGetValue"),this.onSetValue=bA(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},mrt={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},xrt={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,s=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return s+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var s=t.rexSizer.padding;return e-=(s.left+s.right)*t.scaleX,t.minWidth=e,this}},rm=Phaser.Utils.Objects.GetValue,K1=class K1 extends yt{constructor(t,s){super(t,s),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var a=s.inputTitle,x=s.inputField,P=s.background,h=rm(s,"proportion.title",0),n=rm(s,"space.title",0),T;this.orientation===0?T={right:n}:T={bottom:n},this.add(a,{proportion:h,expand:!0,padding:T});var i=x.defaultProportion;i===void 0&&(i=s.defaultExpandWidth?1:0);var h=rm(s,"proportion.inputField",i);this.add(x,{proportion:h,expand:!0}),P&&this.addBackground(P),this.addChildrenMap("title",a),this.addChildrenMap("inputField",x),this.addChildrenMap("background",P),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}};r(K1,"InputRow");let Dl=K1;Object.assign(Dl.prototype,grt,mrt,xrt);var BI=r(function(e,t,s){var a=new dn(e,s);return e.add.existing(a),a},"CreateTitleLabel"),yrt=r(function(e){e===void 0&&(e=yt);const s=class s extends e{get bindingTarget(){var x=this.getParentSizer();return x.bindingTarget}get bindingKey(){var x=this.getParentSizer();return x.bindTargetKey}get value(){return this._value}get root(){var x=this.getParentSizer(),P=x.getParentSizer();return P.root}onBindTarget(x,P){this.onBindTargetCallback&&this.onBindTargetCallback(this,x,P)}validate(x){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(x,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(x){return this.textFormatCallback?x=this.textFormatCallback(x):x=x.toString(),x}set value(x){if(this._value!==x&&(this.validate(x)||(x=this._value),this.filterValueCallback&&(x=this.filterValueCallback(this,x)),this.displayValueCallback&&this.displayValueCallback(this,x),this._value!==x)){var P=this._value;if(this._value=x,!this.syncValueFlag){var n=this.bindingTarget,T=this.bindingKey;this.emit("valuechange",x,P,n,T),this.root.emit("valuechange",x,P,n,T)}}}getValue(){return this.value}setValue(x){return this.value=x,this}syncValue(x){return this.syncValueFlag=!0,this.value=x,this.syncValueFlag=!1,this}setup(x,P){return P===void 0&&(P=!1),(P||x.hasOwnProperty("format"))&&this.setTextFormatCallback(x.format),(P||x.hasOwnProperty("onValidate"))&&this.setValidateCallback(x.onValidate),this.setupCallback&&this.setupCallback(this,x,P),this}setSetupCallback(x){return this.setupCallback=x,this}setFilterValueCallback(x){return this.filterValueCallback=x,this}setDisplayValueCallback(x){return this.displayValueCallback=x,this}setOnBindTargetCallback(x){return this.onBindTargetCallback=x,this}setTextFormatCallback(x){return this.textFormatCallback=x,this}setValidateCallback(x){return this.validateCallback=x,this}};r(s,"InputFiled");let t=s;return t},"GenerateInputFieldClass"),Crt=r(function(e,t,s){for(var a,x=this.inputHandlers,P=0,n=x.length;P<n;P++){var T=x[P];if(T.accept(t)){var i=yrt(T.baseClass);a=new i(e),e.add.existing(a),a.setSetupCallback(T.setup).setFilterValueCallback(T.filterValue).setDisplayValueCallback(T.displayValue).setOnBindTargetCallback(T.onBindTarget),T.build(a,s);break}}return a&&a.setup(t,!0),a},"CreateInputField");const AA=Phaser.Utils.Objects.GetValue;var Trt=r(function(e,t,s){var a=Crt.call(this,e,t,s);if(!a)return null;var x=AA(s,"title")||{},P=BI(e,t,x),n=AA(s,"background")||{},T=ce(e,n),i=new Dl(e,{...s,...t,inputTitle:P,inputField:a,background:T});return e.add.existing(i),i.setTitle(t),i.setValueCallbacks(t),i},"CreateInputRow"),Srt=r(function(e,t,s){arguments.length===1?(s=e,e=s.bindingTarget,t=s.bindingKey):(s===void 0&&(s={}),s.bindingTarget=e,s.bindingKey=t),s.title||(s.title=t),s.bindingTarget&&s.bindingKey?s.value=s.bindingTarget[s.bindingKey]:s.value=void 0;var a=this.styles.inputRow||{};this.isWrapMode?a.defaultExpandWidth=!0:a.defaultExpandWidth=this.styles.orientation===1;var x=Trt.call(this,this.scene,s,a);if(!x)return console.error(`[Tweaker] Can't add Input
    title: ${s.title}
    view: ${s.view}
`),this;if(this.isWrapMode)x.setMinWidth(this.itemWidth),x.setMinHeight(this.itemHeight),this.add(x);else{var P;this.orientation===1?P=0:(P=this.itemWidth>0?0:1,x.minWidth===0&&x.setMinWidth(this.itemWidth)),x.minHeight===0&&x.setMinHeight(this.itemHeight),this.add(x,{proportion:P,expand:!0})}if(s.onValueChange){var n=x.childrenMap.inputField;n.on("valuechange",s.onValueChange)}return x.setAutoUpdateEnable(s.autoUpdate),x.setBindingTarget(e,t),s.monitor&&x.startMonitorTarget(),s.key&&this.root.addChildrenMap(s.key,x),this},"AddInput"),Prt=r(function(e,t){var s=new xn(e,t);return e.add.existing(s),s},"CreateRoundRectangle");const Ert=Phaser.Utils.Objects.GetValue;var Mrt=r(function(e,t){var s=Ert(t,"wrap",!1),a=s?os:xe,x=new a(e,t);return e.add.existing(x),x},"CreateButtons$2");const Pd=Phaser.Utils.Objects.GetValue;var wrt=r(function(e,t,s){for(var a=Pd(s,"title")||{},x=BI(e,t,a),P=t.buttons,n=Pd(s,"button")||{},T=[],i=0,h=P.length;i<h;i++){var m=ye(e,n);T.push(m);var c=P[i];m.resetDisplayContent(c.label),m.callback=c.callback}var u=Mrt(e,{buttons:T,expand:!0,wrap:Pd(t,"wrap",!1)});u.defaultProportion=1;var l=Pd(s,"background")||{},o=Prt(e,l),d=new Dl(e,{...s,inputTitle:x,inputField:u,background:o});return e.add.existing(d),d.setTitle(t),u.on("button.click",function(v){v.callback(d.bindingTarget)}),d},"CreateButtons$1");const Rrt=Phaser.Utils.Objects.GetValue;var Ort=r(function(e){e===void 0&&(e={});var t=this.scene,s=e.bindingTarget;delete e.bindingTarget;var a=Rrt(this.styles,"inputRow")||{},x=wrt(t,e,a);return this.add(x,{expand:!0}),s&&x.setBindingTarget(s),e.key&&this.root.addChildrenMap(e.key,x),this},"AddButtons"),brt=r(function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},"AddButton"),Art=r(function(e,t,s){return ce(e,DI(t,s))},"CreateSeparator");const Lrt=Phaser.Utils.Objects.GetValue;var Frt=r(function(e){e===void 0&&(e={});var t=this.scene,s=Lrt(this.styles,"separator"),a=Art(t,e,s);return this.add(a,{expand:!0}),this},"AddSeparator"),Irt=r(function(e,t,s){return typeof t=="boolean"&&(s=t,t=void 0),s===void 0&&(s=!0),Mh(this,Ce(e),t,s),this},"AddRows"),Mh=r(function(e,t,s,a){if(t)for(var x=0,P=t.length;x<P;x++){var n=t[x];n.hasOwnProperty("$target")&&(s=n.$target,delete n.$target);var T=n.$type;switch(delete n.$type,T){case"folder":var i=e.addFolder(n);Mh(i,n.$properties,s,a);break;case"tab":for(var h=e.addTab(n),m=0,c=h.length;m<c;m++)Mh(h[m],n.pages[m].$properties,s,a);break;case"columns":for(var u=e.addColumns(n),m=0,c=u.length;m<c;m++)Mh(u[m],n.columns[m].$properties,s,a);break;case"scrollable":var l=e.addScrollable(n);Mh(l,n.$properties,s,a);break;case"separator":e.addSeparator();break;case"button":n.bindingTarget=s,e.addButton(n);break;case"buttons":n.bindingTarget=s,e.addButtons(n);break;default:var o=n.$key;if(delete n.$key,o.indexOf(".")===-1)n.bindingTarget=s,n.bindingKey=o;else{var d=o.split(".");n.bindingKey=d.pop();for(var v=s,f=0,p=d.length;f<p;f++)if(v=v[d[f]],!s){console.warn(`[Monitor] Key path '${o}' is invalid`);continue}n.bindingTarget=v}n.hasOwnProperty("monitor")||(n.monitor=a),e.addInput(n);break}}},"AddProperties"),Drt=r(function(e){for(var t=this.sizerChildren,s=0,a=t.length;s<a;s++){var x=t[s];x.setBindingTarget&&x.setBindingTarget(e)}return this},"SetBindingTarget"),Brt=r(function(){for(var e=0,t=this.sizerChildren,s=0,a=t.length;s<a;s++){var x=t[s];x.rexSizer.hidden||(x.getMinTitleWidth?e=Math.max(e,x.getMinTitleWidth()):x.getMaxInputRowTitleWidth&&(e=Math.max(e,x.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},"GetMaxInputRowTitleWidth"),Grt=r(function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,s=0,a=t.length;s<a;s++){var x=t[s];x.rexSizer.hidden||(x.setMinTitleWidth?x.setMinTitleWidth(e):x.setInputRowTitleWidth&&x.setInputRowTitleWidth(e))}return this},"SetInputRowTitleWidth"),Nrt={registerInputHandler:Wst,removeInputHandler:Kst,addFolder:Qst,addTab:ert,addColumns:nrt,addWrap:urt,addScrollable:prt,addInput:Srt,addButtons:Ort,addButton:brt,addSeparator:Frt,addRows:Irt,setBindingTarget:Drt,getMaxInputRowTitleWidth:Brt,setInputRowTitleWidth:Grt};const Ks=Phaser.Utils.Objects.GetValue;var GI=r(function(e){var t=Ks(e,"wrap",!1),s=t?as:yt;const x=class x extends s{constructor(n,T){T===void 0&&(T={}),T.orientation===void 0&&(T.orientation=t?0:1),super(n,T),this.type="rexTweakerShell",this.isWrapMode=t,T.root?(this.root=T.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=Ks(T,"styles")||{},this.styles.orientation=this.orientation;var i=Ks(T,"itemWidth");i===void 0&&(i=Ks(this.styles,"itemWidth",0)),this.itemWidth=i;var h=Ks(T,"itemHeight");if(h===void 0&&(h=Ks(this.styles,"itemHeight",0)),this.itemHeight=h,t||this.root===this&&this.orientation===1){var m=Ks(T,"inputRow.alignTitle");if(m===void 0){var c=Ks(this.styles,"inputRow.proportion.title");m=!c}else m&&it(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=m}else this.alignInputRowTitleStartFlag=!1;var u=Ah(n,void 0,T.background);u&&this.addBackground(u)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(n,T){T===void 0&&(T=!0);var i=GI(n),h=new i(this.scene,n);return T&&this.scene.add.existing(h),h}};r(x,"TweakerShell");let a=x;return Object.assign(a.prototype,Nrt),a},"GenerateTweakerShellClass"),krt=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly$4");const Vrt={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var s=e.scene;e.type="rexTweaker.TextInput";var a=t.inputText,x=dr(s,a);e.add(x,{proportion:1,expand:!0,key:"inputText"}),x.on("close",function(){e.setValue(x.value)})},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&krt(e,!!t.inputTextReadOnly)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText(e.getFotmatText(t))}};var zrt=r(function(e,t,s){s===void 0&&(s=!0),s?t=t?Ce(t):{}:t||(t={});var a=new Ao(e,t);return e.add.existing(a),a},"CreateInputTextArea"),Urt=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly$3");const Xrt={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var s=e.scene;this.type="rexTweaker.TextAreaInput";var a=t.inputTextArea;a===void 0&&(a={}),a.hasOwnProperty("text")||(a.text=t.inputText),a.hasOwnProperty("slider")||(a.slider=t.slider);var x=zrt(s,a);e.add(x,{proportion:1,expand:!0,key:"inputText"}),x.on("close",function(){e.setValue(x.value)})},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&Urt(e,!!t.inputTextReadOnly)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var Yrt=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly$2");const Wrt={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var s=e.scene;e.type="rexTweaker.NumberInput";var a=t.inputNumber||t.inputText,x=dr(s,a).setNumberInput();e.add(x,{proportion:1,expand:!0,key:"inputText"}),x.on("close",function(){e.setValue(x.value)})},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&Yrt(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText(e.getFotmatText(t))}};var Hrt=r(function(e,t){var s=new ur(e,t);return e.add.existing(s),s},"CreateSlider");const nm=Phaser.Utils.Objects.GetValue,$rt=Phaser.Math.Linear,Krt=Phaser.Math.Snap.Floor;var Zrt=r(function(e,t,s,a){e.minValue=t,e.maxValue=s,e.step=a;var x=e.childrenMap.slider;x.setGap(a,t,s)},"SetRange"),Jrt=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly$1");const jrt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var s=e.scene;e.type="rexTweaker.RangeInput";var a=t.slider,x=e.orientation===0?"track.height":"track.width",P=nm(a,x),n=Hrt(s,a),m=t.defaultExpandWidth?2:0,c=nm(t,"proportion.range.slider",m),T=P===void 0;e.add(n,{proportion:c,expand:T,key:"slider"});var i=t.inputNumber||t.inputText,h=dr(s,i).setNumberInput(),m=t.defaultExpandWidth?1:0,c=nm(t,"proportion.range.inputText",m);e.add(h,{proportion:c,expand:!0,key:"inputText"}),h.on("close",function(){e.setValue(h.value)}),n.on("valuechange",function(){var u=$rt(e.minValue,e.maxValue,n.value);e.step&&(u=Krt(u,e.step,e.minValue)),e.setValue(u)})},setup(e,t,s){(s||t.hasOwnProperty("max"))&&Zrt(e,t.min,t.max,t.step),(s||t.hasOwnProperty("inputTextReadOnly"))&&Jrt(e,!!t.inputTextReadOnly)},displayValue(e,t){var s=e.childrenMap.slider;s.setValue(t,e.minValue,e.maxValue);var a=e.childrenMap.inputText;a.setText("").setText(e.getFotmatText(t))}};var NI=r(function(e,t){var s=new xe(e,t);return e.add.existing(s),s},"CreateButtons");const Qrt=Phaser.Utils.Objects.GetValue;var qrt=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly");const _rt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var s=e.scene;e.type="rexTweaker.IncDecInput";var a=Qrt(t,"incDec")||{},x={text:null,action:null},P=NI(s,{expand:!1}),n=t.defaultExpandWidth?1:0;e.add(P,{proportion:n,expand:!0});var T=t.inputNumber||t.inputText,i=dr(s,T).setNumberInput();i.on("close",function(){e.setValue(i.value)});var h=Object.assign(Ce(x),a.incButton||{}),m=ye(s,h),c=Object.assign(Ce(x),a.decButton||{}),u=ye(s,c);P.addButton(m),P.addButton(u);var l=a.inputTextIndex||0;P.insert(l,i,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,P.on("button.click",function(o,d,v,f){var p=e.value;d===0?p+=e.step:p-=e.step,e.maxValue!==void 0&&p>e.maxValue&&(p=e.maxValue),e.minValue!==void 0&&p<e.minValue&&(p=e.minValue),e.setValue(p)}),e.addChildrenMap("incButton",m),e.addChildrenMap("decButton",u),e.addChildrenMap("inputText",i)},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&qrt(e,!!t.inputTextReadOnly),(s||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(s||t.hasOwnProperty("min"))&&(e.minValue=t.min),(s||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText("").setText(e.getFotmatText(t))}};var tnt=r(function(e,t,s){s===void 0&&(s=!0),s?t=t?Ce(t):{}:t||(t={});var a=new Lo(e,t);return e.add.existing(a),a},"CreateColorInput");const ent={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var s=e.scene;e.type="rexTweaker.ColorInput";var a=t.colorInput;a===void 0&&(a={}),a.hasOwnProperty("inputText")||(a.inputText=t.inputText);var x=tnt(s,a);e.add(x,{proportion:1,expand:!0,key:"colorInput"}),x.on("valuechange",function(P){e.setValue(P)})},displayValue(e,t){var s=e.childrenMap.colorInput;s.setValue(t)}};var int=r(function(e,t){var s=new qh(e,t);return e.add.existing(s),s},"CreateCheckbox");const snt={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var s=e.scene;e.type="rexTweaker.CheckboxInput";var a=t.checkbox,x=int(s,a),P=a.size;P!==void 0&&x.setSize(P,P);var n=P!==void 0?0:1;e.add(x,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),x.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var s=e.childrenMap.checkbox;s.setValue(t)}};var rnt=r(function(e,t){var s=new _h(e,t);return e.add.existing(s),s},"CreateToggleSwitch");const nnt={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var s=e.scene;e.type="rexTweaker.ToggleSwitchInput";var a=t.toggleSwitch,x=rnt(s,a),P=a.size;P!==void 0&&x.setSize(P,P);var n=P!==void 0?0:1;e.addSpace().add(x,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),x.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var s=e.childrenMap.toggleSwitch;s.setValue(t)}};var ant=r(function(e,t){t=lI(e,t);var s=new un(e,t);return e.add.existing(s),s},"CreateDropDownList"),kI=r(function(e,t){for(var s=0,a=e.length;s<a;s++){var x=e[s];if(x.value===t)return s}},"GetOptionIndex"),ont=r(function(e,t){var s=kI(e,t);if(s!=null)return e[s]},"GetOption"),hnt=r(function(e,t){var s=e.childrenMap.list;s.setOptions(t)},"SetOptions$1");const lnt={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var s=e.scene;e.type="rexTweaker.ListInput";var a=ant(s,t.list);e.add(a,{proportion:1,expand:!0,key:"list"}),a.on("button.click",function(x,P,n,T,i,h){e.setValue(n.value)})},setup(e,t,s){(s||t.hasOwnProperty("options"))&&hnt(e,t.options)},displayValue(e,t){var s=e.childrenMap.list,a=ont(s.options,t);s.resetDisplayContent(a).setMinSize(s.width,s.height).layout().setMinSize(0,0)}};var unt=r(function(e,t){for(var s=0,a=e.length;s<a;s++){var x=e[s];x&&x.setActiveState(s===t)}},"SetButtonsActiveStateByIndex");const dnt=Phaser.Utils.Objects.GetValue;var fnt=r(function(e,t){var s=e.childrenMap.list;s.options=t;var a=e.scene,x=s.buttonConfig;s.clearButtons(!0);for(var P=0,n=t.length;P<n;P++){var T=t[P],i=ye(a,x).setActiveState(!1).resetDisplayContent({text:T.text});s.addButton(i)}},"SetOptions");const cnt={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var s=e.scene;e.type="rexTweaker.ButtonsInput";var a=t.button?Ce(t.button):{},x=dnt(a,"expand",!0);x&&(a.align="center"),delete a.expand;var P=NI(s,{expand:x});P.buttonConfig=a,e.add(P,{proportion:1,expand:!0,key:"list"}),P.on("button.click",function(n,T,i,h){var m=P.options[T];m&&(e._selectedIndex=T,e.setValue(m.value),e._selectedIndex=void 0)})},setup(e,t,s){(s||t.hasOwnProperty("options"))&&fnt(e,t.options)},displayValue(e,t){var s=e.childrenMap.list,a=e._selectedIndex;a===void 0&&(a=kI(s.options,t)),unt(s.childrenMap.buttons,a)}};var vnt=r(function(){this.registerInputHandler(Vrt).registerInputHandler(Xrt).registerInputHandler(Wrt).registerInputHandler(jrt).registerInputHandler(_rt).registerInputHandler(ent).registerInputHandler(snt).registerInputHandler(nnt).registerInputHandler(lnt).registerInputHandler(cnt)},"RegisterDefaultInputHandlers");const Z1=class Z1 extends GI(){constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("style")&&(s.styles=s.style),s.styles===void 0&&(s.styles={}),s.background=s.styles.background||{},s.space=s.styles.space||{},super(t,s),this.type="rexTweaker",vnt.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}};r(Z1,"Tweaker");let Wf=Z1;rt.register("tweaker",function(e){var t=new Wf(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Tweaker",Wf);rt.register("click",function(e,t){return new Ls(e,t)});it(window,"RexPlugins.UI.Click",Ls);rt.register("clickOutside",function(e,t){return new ol(e,t)});it(window,"RexPlugins.UI.ClickOutside",ol);rt.register("inTouching",function(e,t){return new lr(e,t)});it(window,"RexPlugins.UI.InTouching",lr);rt.register("tap",function(e,t){return Ke(e)||(t=e,e=this.scene),new po(e,t)});it(window,"RexPlugins.UI.Tap",po);rt.register("press",function(e,t){return Ke(e)||(t=e,e=this.scene),new go(e,t)});it(window,"RexPlugins.UI.Press",go);rt.register("swipe",function(e,t){return Ke(e)||(t=e,e=this.scene),new _r(e,t)});it(window,"RexPlugins.UI.Swipe",_r);rt.register("pan",function(e,t){return Ke(e)||(t=e,e=this.scene),new pf(e,t)});it(window,"RexPlugins.UI.Pan",pf);rt.register("drag",function(e,t){return new Fl(e,t)});it(window,"RexPlugins.UI.Drag",Fl);rt.register("pinch",function(e){return new gf(this.scene,e)});it(window,"RexPlugins.UI.Pinch",gf);rt.register("rotate",function(e){return new ll(this.scene,e)});it(window,"RexPlugins.UI.Rotate",ll);const pnt=Phaser.Utils.Objects.IsPlainObject,LA=Phaser.Utils.Objects.GetValue;var FA=r(function(e,t,s){var a;if(e===void 0)e=s.texture.key,t=s.frame.name;else if(pnt(e)){var x=e;e=LA(x,"key",s.texture.key),t=LA(x,"frame",s.frame.name)}else typeof e=="string"||(a=e);return a===void 0&&(a=r(function(P){P.setTexture(e,t)},"callback")),a},"GetFrameUpdatingCallback");const Eh=Phaser.Utils.Objects.GetValue,gnt=Phaser.Utils.Objects.GetAdvancedValue,mnt=Phaser.Math.Linear,J1=class J1 extends ws{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(gnt(t,"duration",500)),this.setEase(Eh(t,"ease","Sine")),this.setOrientation(Eh(t,"orientation",0)),this.setFrontFace(Eh(t,"front",void 0)),this.setBackFace(Eh(t,"back",void 0)),this.setFace(Eh(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=xnt[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=ynt[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,s){return this.frontFaceCallback=FA(t,s,this.parent),this}setBackFace(t,s){return this.backFaceCallback=FA(t,s,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,s){s.justRestart&&this.toggleFace();var a=s.t;s.isOddIteration&&(a=1-a),a=this.easeFn(a);var x=mnt(this.scale0,0,a);this.orientation===0?t.scaleX=x:t.scaleY=x}};r(J1,"Flip");let Hf=J1;const xnt={x:0,horizontal:0,y:1,vertical:1},ynt={front:0,back:1};rt.register("flip",function(e,t){return new Hf(e,t)});it(window,"RexPlugins.UI.Flip",Hf);rt.register("shake",function(e,t){return new rl(e,t)});it(window,"RexPlugins.UI.Shake",rl);rt.register("touchEventStop",function(e,t){return new co(e,t)});it(window,"RexPlugins.UI.TouchEventStop",co);rt.register("perspective",function(e,t){return new Bf(e,t)});it(window,"RexPlugins.UI.Perspective",Bf);const VI=Phaser.Math.RotateAround;var am=r(function(e,t,s){var a=e.width/2,x=e.height/2;return Oe.x=t-a,Oe.y=s-x,VI(Oe,0,0,e.rotation),Oe.x*=e.scaleX,Oe.y*=e.scaleY,Oe.x+=e.x,Oe.y+=e.y,Oe},"LocalXYToWorldXY"),Cnt=r(function(e,t,s){var a=e.width/2,x=e.height/2;return Oe.x=t-e.x,Oe.y=s-e.y,Oe.x/=e.scaleX,Oe.y/=e.scaleY,VI(Oe,0,0,-e.rotation),Oe.x+=a,Oe.y+=x,Oe},"WorldXYToLocalXY"),Oe={x:0,y:0};const j1=class j1{constructor(t,s){this.parent=t,this.vertex=s,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,s){var a=this.parent,x=a.height,P=a.frame.cutWidth/x/2,n=a.frame.cutHeight/x/2,T=t/x-P,i=s/x-n,h=this.vertex;return h.x=T,h.y=-i,a.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,s){return this._localXOrigin=t,this._localYOrigin=s,this._localX=t,this._localY=s,this}setLocalXY(t,s,a){return this._localX===t&&this._localY===s?this:(this._localX=t,this._localY=s,a||this.updateVertexPosition(t,s),this)}setWorldXY(t,s){if(this._worldX===t&&this._worldY===s)return this;var a=Cnt(this.parent,t,s);return this.setLocalXY(a.x,a.y),this}setPosition(t,s){return this.setWorldXY(t,s),this}getWorldXY(){return am(this.parent,this._localX,this._localY)}get x(){var t=am(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=am(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}};r(j1,"ControlPoint");let Ax=j1;const Tnt=Phaser.Geom.Mesh.Vertex,Snt=Phaser.Geom.Mesh.Face;var Pnt=r(function(e){for(var t=e.isNinePointMode,s=t?9:4,a=e.vertices,x=e.faces,P=e.controlPoints,n=0;n<s;n++){var T=new Tnt;a.push(T),P.push(new Ax(e,T))}var i;t?i=wnt:e.fourPointsModeRTL?i=Mnt:i=Ent;for(var n=0,h=i.length;n<h;n+=3){var m=a[i[n+0]],c=a[i[n+1]],u=a[i[n+2]];x.push(new Snt(m,c,u))}t?(e.topLeft=P[0],e.topCenter=P[1],e.topRight=P[2],e.centerLeft=P[3],e.center=P[4],e.centerRight=P[5],e.bottomLeft=P[6],e.bottomCenter=P[7],e.bottomRight=P[8]):(e.topLeft=P[0],e.topRight=P[1],e.bottomLeft=P[2],e.bottomRight=P[3])},"InitFaces");const Ent=[0,2,3,0,3,1],Mnt=[1,3,2,1,2,0],wnt=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var Rnt=r(function(e){var t,s=0,a=e.height,x=0,P=e.width;if(e.isNinePointMode){var n=(x+P)/2,T=(s+a)/2;t=[x,s,n,s,P,s,x,T,n,T,P,T,x,a,n,a,P,a]}else t=[x,s,P,s,x,a,P,a];return t},"GetPointPosition");const Ont=Phaser.Utils.Objects.IsPlainObject,ia=Phaser.Utils.Objects.GetValue;var _a;let bnt=(_a=class extends If{constructor(t,s,a,x,P,n){Ont(s)&&(n=s,s=ia(n,"x",0),a=ia(n,"y",0),x=ia(n,"key",null),P=ia(n,"frame",null)),super(t,s,a,x,P),this.type="rexQuadImage",this.isNinePointMode=ia(n,"ninePointMode",!1),this.fourPointsModeRTL=ia(n,"rtl",!1),this.controlPoints=[],Pnt(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var s=0,a=this.controlPoints.length;s<a;s++)this.controlPoints[s].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=Rnt(this),s=this.width,a=this.height,x=this.frame.cutWidth/a/2,P=this.frame.cutHeight/a/2,n=this.frame.u0,T=this.frame.u1,i=this.frame.v0,h=this.frame.v1,m=T-n,c=h-i,u=this.controlPoints,l=0,o=t.length;l<o;l+=2){var d=t[l+0],v=t[l+1],f=l/2,p=d/a-x,g=v/a-P,y=n+m*(d/s),C=i+c*(v/a);this.vertices[f].set(p,-g,0).setUVs(y,C),u[f].resetLocalXY(d,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}},r(_a,"Image"),_a);Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var IA=r(function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=0);for(var a=e.width,x=e.height,P=a*.5,n=x*.5,T=Math.tan(t)*n,i=Math.tan(s)*P,h=e.controlPoints,m=0,c=h.length;m<c;m++){var u=h[m],l=u.localXOrigin,o=u.localYOrigin;u.localX=l+(o>n?T:-T),u.localY=o+(l>P?i:-i)}},"Skew");const Ant=Phaser.Utils.Objects.IsPlainObject,Ed=Phaser.Utils.Objects.GetValue,DA=Phaser.Math.DegToRad,BA=Phaser.Math.RadToDeg,Q1=class Q1 extends bnt{constructor(t,s,a,x,P){if(Ant(s)){var n=s;s=Ed(n,"x",0),a=Ed(n,"y",0),x=Ed(n,"key",null),P=Ed(n,"frame",null)}super(t,s,a,x,P),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,IA(this,this._skewX,this._skewY)}get skewXDeg(){return BA(this._skewX)}set skewXDeg(t){this.skewX=DA(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,IA(this,this._skewX,this._skewY)}get skewYDeg(){return BA(this._skewY)}set skewYDeg(t){this.skewY=DA(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,s){return s===void 0&&(s=t),this.skewX=t,this.skewY=s,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,s){return s===void 0&&(s=t),this.skewXDeg=t,this.skewYDeg=s,this}};r(Q1,"SkewImage");let Lx=Q1;const Lnt=Phaser.Utils.Objects.IsPlainObject,Md=Phaser.Utils.Objects.GetValue,q1=class q1 extends Lx{constructor(t,s,a,x,P){if(Lnt(s)){var n=s;s=Md(n,"x",0),a=Md(n,"y",0),x=Md(n,"width",32),P=Md(n,"height",32)}var T=xI(t,x,P);super(t,s,a,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}};r(q1,"SkewRenderTexture");let Fx=q1;const _1=class _1 extends CI(Fx){get skewState(){return this.isRunning}};r(_1,"ContainerSkew");let $f=_1;rt.register("skew",function(e,t){return new $f(e,t)});it(window,"RexPlugins.UI.Skew",$f);rt.register("anchor",function(e,t){return new il(e,t)});it(window,"RexPlugins.UI.Anchor",il);rt.register("textTyping",function(e,t){return new Ro(e,t)});it(window,"RexPlugins.UI.TextTyping",Ro);rt.register("textPage",function(e,t){return new wo(e,t)});it(window,"RexPlugins.UI.TextPage",wo);var ra=void 0,Fnt=r(function(e){e!==ra&&(ra!==void 0&&ra.close(),ra=e)},"SetLastOpenedEditor"),Int=r(function(e){e===ra&&(ra=void 0)},"CloseLastOpenEditor");const ts=Phaser.Utils.Objects.GetValue,Dnt=Phaser.Utils.Objects.Clone;var Bnt=r(function(e,t){t===void 0&&(t={}),t=Dnt(t);var s=e.scene,a=e.style,x=ts(t,"backgroundColor",a.backgroundColor);x===null&&(x="transparent"),t.text=ts(t,"text",e.text),t.fontFamily=ts(t,"fontFamily",a.fontFamily),t.fontSize=ts(t,"fontSize",a.fontSize),t.color=ts(t,"color",a.color),t.backgroundColor=x,t.direction=ts(t,"rtl",a.rtl)?"rtl":"ltr",t.align=ts(t,"align",Gnt(a)),t.direction==="rtl"&&Yy(e)&&(t.align="right");var P=e.padding;P.left>0&&(t.paddingLeft=`${P.left}px`),P.right>0&&(t.paddingRight=`${P.right}px`),a.backgroundCornerRadius&&(t.borderRadius=ts(t,"borderRadius",`${a.backgroundCornerRadius}px`));var n=new Ms(s,e.x,e.y,ts(t,"width",e.width),ts(t,"height",e.height),t);n.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var T=e.parentContainer;return T?T.add(n):s.add.existing(n),n},"CreateInputText"),Gnt=r(function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},"GetHAlign"),Nnt=r(function(e,t,s){return e.time.delayedCall(0,t,[],s)},"NextTick");const kr=Phaser.Utils.Objects.GetValue,knt=Phaser.Utils.Objects.Merge;var Vnt=r(function(e,t){e===void 0&&(e={}),e=knt(e,this.openConfig),Fnt(this),zi(e)&&(t=e,e=void 0);var s=kr(e,"inputType",void 0);s===void 0&&(s=kr(e,"type","text")),t===void 0&&(t=kr(e,"onClose",void 0));var a=kr(e,"onCreate",void 0),x=kr(e,"onOpen",void 0),P=kr(e,"onTextChanged",void 0);return this.inputText=Bnt(this.parent,e),a&&a(this.parent,this.inputText),this.inputText.on("textchange",function(n){var T=n.text;P?P(this.parent,T):this.parent.text=T},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,kr(e,"enterClose",s!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=Nnt(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),x&&x(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},"Open"),znt=r(function(){return Int(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},"Close"),Unt={open:Vnt,close:znt};const Xnt=Phaser.Utils.Objects.GetValue,tP=class tP extends Nt{constructor(t,s){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(s);var a=Xnt(s,"clickEnable",!0);a&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}};r(tP,"TextEdit");let Fo=tP;Object.assign(Fo.prototype,Unt);var Ynt=r(function(e,t,s){return e._edit||(e._edit=new Fo(e,{clickEnable:!1})),e._edit.open(t,s),e._edit},"Edit");rt.register("textEdit",function(e,t){return new Fo(e,t)});it(window,"RexPlugins.UI.TextEdit",Fo);rt.register("layerManager",function(e){return new oo(this.scene,e)});it(window,"RexPlugins.UI.LayerManager",oo);const eP=class eP extends Phaser.Plugins.ScenePlugin{constructor(t,s){super(t,s),this.add=new rt(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,s,a,x){return t.visible?ns(t,s,a,x):!1}get viewport(){return Uo(this.scene,this.scene.cameras.main,!0)}};r(eP,"UIPlugin");let Kf=eP;var Wnt={getParentSizer:ni,getTopmostSizer:BL,removeFromParent:Vr,hide:_s,show:qs,isShown:Ny,confirmAction:_3,edit:Ynt,wrapExpandText:yf,fontSizeExpandText:Tf,fontSizeResize:Cf,setFontSizeToFitWidth:Cf,waitEvent:cc,waitComplete:Pe,delayPromise:y3,setChildrenInteractive:Sc,fadeIn:mc,fadeOutDestroy:xc,easeMoveTo:i3,easeMoveFrom:s3,modal:ky,modalPromise:G$,modalClose:l3,requestDrag:FI,openFileChooser:T3};Object.assign(Kf.prototype,Wnt);window.onerror=(e,t,s,a,x)=>(console.error(x),!0);window.addEventListener("unhandledrejection",e=>{console.error(e.reason)});function Wo(e,t,s){const a=e.width*(-.5+(.5-e.originX)),x=e.height*(-.5+(.5-e.originY));return this.setPosition(e.x+a+t,e.y+x+s)}r(Wo,"setPositionRelative");is.GameObjects.Container.prototype.setPositionRelative=Wo;is.GameObjects.Sprite.prototype.setPositionRelative=Wo;is.GameObjects.Image.prototype.setPositionRelative=Wo;is.GameObjects.NineSlice.prototype.setPositionRelative=Wo;is.GameObjects.Text.prototype.setPositionRelative=Wo;is.GameObjects.Rectangle.prototype.setPositionRelative=Wo;document.fonts.load("16px emerald").then(()=>document.fonts.load("10px pkmnems"));let om,Ix;const Hnt=r(async()=>{await b5();const e=(await hm(async()=>{const{LoadingScene:s}=await import("./loading-scene-PK3x7eAp.js").then(a=>a.fZ);return{LoadingScene:s}},[],import.meta.url)).LoadingScene,t=(await hm(async()=>{const{BattleScene:s}=await import("./battle-scene-DUnmb_l8.js");return{BattleScene:s}},__vite__mapDeps([0,1]),import.meta.url)).BattleScene;om=new is.Game({type:is.WEBGL,parent:"app",scale:{width:1920,height:1080,mode:is.Scale.FIT},plugins:{global:[{key:"rexInputTextPlugin",plugin:Mm,start:!0},{key:"rexBBCodeTextPlugin",plugin:Em,start:!0},{key:"rexTransitionImagePackPlugin",plugin:Lm,start:!0}],scene:[{key:"rexUI",plugin:Kf,mapping:"rexUI"}]},input:{mouse:{target:"app"},touch:{target:"app"},gamepad:!0},dom:{createContainer:!0},antialias:!1,pipeline:[lm],scene:[e,t],version:dL}),om.sound.pauseOnBlur=!1,Ix&&(om.manifest=Ix)},"startGame");fetch("/manifest.json").then(e=>e.json()).then(e=>{Ix=e.manifest}).catch(e=>{}).finally(()=>{Hnt()});let zI;function sat(e){zI=e}r(sat,"initGlobalScene");var Dx=(e=>(e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e[e.SUBMIT=4]="SUBMIT",e[e.ACTION=5]="ACTION",e[e.CANCEL=6]="CANCEL",e[e.MENU=7]="MENU",e[e.STATS=8]="STATS",e[e.CYCLE_SHINY=9]="CYCLE_SHINY",e[e.CYCLE_FORM=10]="CYCLE_FORM",e[e.CYCLE_GENDER=11]="CYCLE_GENDER",e[e.CYCLE_ABILITY=12]="CYCLE_ABILITY",e[e.CYCLE_NATURE=13]="CYCLE_NATURE",e[e.CYCLE_TERA=14]="CYCLE_TERA",e[e.SPEED_UP=15]="SPEED_UP",e[e.SLOW_DOWN=16]="SLOW_DOWN",e))(Dx||{});const $nt=250,iP=class iP{events;buttonLock=[];inputInterval=[];disabled=!1;finishedLastTouch=!1;constructor(){this.events=zI.game.events,this.init()}disable(){this.disabled=!0,this.finishedLastTouch=!1}enable(){this.disabled=!1,this.finishedLastTouch=!1}init(){this.preventElementZoom(document.querySelector("#dpad")),document.querySelectorAll(".apad-button").forEach(t=>this.preventElementZoom(t));for(const t of document.querySelectorAll("[data-key]"))this.bindKey(t,t.dataset.key)}bindKey(t,s){t.addEventListener("touchstart",a=>{this.touchButtonDown(t,s),a.preventDefault(),a.currentTarget instanceof HTMLElement&&(a.currentTarget.dataset.skipPointerEvent=void 0)}),t.addEventListener("pointerdown",a=>{const x=a.currentTarget;x instanceof HTMLElement&&"skipPointerDown"in x.dataset||(a.preventDefault(),this.touchButtonDown(t,s))}),t.addEventListener("touchcancel",a=>{a.currentTarget instanceof HTMLElement&&"skipPointerDown"in a.currentTarget.dataset&&delete a.currentTarget.dataset.skipPointerEvent}),t.addEventListener("touchend",a=>{a.preventDefault(),this.touchButtonUp(t,s,a.target?.id),a.currentTarget instanceof HTMLElement&&"skipPointerDown"in a.currentTarget.dataset&&(delete a.currentTarget.dataset.skipPointerEvent,a.currentTarget.dataset.skipPointerUp=void 0)}),t.addEventListener("pointerup",a=>{if(a.currentTarget instanceof HTMLElement&&"skipPointerUp"in a.currentTarget.dataset){delete a.currentTarget.dataset.skipPointerUp;return}a.preventDefault(),this.touchButtonUp(t,s,a.target?.id)})}touchButtonDown(t,s){this.buttonLock.includes(s)||this.simulateKeyboardEvent("keydown",s)&&(clearInterval(this.inputInterval[s]),this.inputInterval[s]=setInterval(()=>{this.simulateKeyboardEvent("keydown",s)||clearInterval(this.inputInterval[s])},$nt),this.buttonLock.push(s),t.classList.add("active"))}touchButtonUp(t,s,a){if(!this.buttonLock.includes(s)||this.disabled&&this.finishedLastTouch)return;this.finishedLastTouch=!0,this.simulateKeyboardEvent("keyup",s),t.classList.remove("active"),document.getElementById(a)?.classList.remove("active");const x=this.buttonLock.indexOf(s);this.buttonLock.splice(x,1),clearInterval(this.inputInterval[s])}simulateKeyboardEvent(t,s){if(!Dx.hasOwnProperty(s)||this.disabled)return!1;const a=Dx[s];switch(t){case"keydown":this.events.emit("input_down",{controller_type:"keyboard",button:a,isTouch:!0});break;case"keyup":this.events.emit("input_up",{controller_type:"keyboard",button:a,isTouch:!0});break}return!0}preventElementZoom(t){t&&t.addEventListener("touchstart",s=>{if(!(s.currentTarget instanceof HTMLElement))return;const a=s.timeStamp,x=Number(s.currentTarget.dataset.lastTouchTimeStamp)||a,P=a-x,n=s.touches.length;s.currentTarget.dataset.lastTouchTimeStamp=String(a),!(!P||P>500||n>1)&&(s.preventDefault(),s.target instanceof HTMLElement&&s.target.click())})}deactivatePressedKey(){for(const t of Object.keys(this.inputInterval))clearInterval(this.inputInterval[t]);for(const t of document.querySelectorAll("[data-key]"))t.classList.remove("active");this.buttonLock=[]}};r(iP,"TouchControl");let GA=iP;function rat(){return window.matchMedia("(hover: none), (pointer: coarse)").matches}r(rat,"hasTouchscreen");function nat(){let e=!1;return(t=>{(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0)})(navigator.userAgent||navigator.vendor||window.opera),e}r(nat,"isMobile");export{Dx as B,ho as F,lm as I,is as P,xn as R,GA as T,nr as a,Qnt as b,jnt as c,_nt as d,rP as e,Bx as f,zI as g,sat as h,$t as i,ew as j,qnt as k,tat as l,iat as m,b5 as n,rat as o,Znt as p,Jnt as q,fc as r,nat as s,eat as t,dL as v};
